{"version":3,"file":"js/chunk-vendors.97ea00c8.js","mappings":"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","sources":["webpack://@libresign/pdf-elements/./node_modules/core-js/internals/is-object.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/get-iterator.js","webpack://@libresign/pdf-elements/./node_modules/core-js/modules/es.iterator.find.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/make-built-in.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/function-name.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/html.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/hidden-keys.js","webpack://@libresign/pdf-elements/./node_modules/core-js/modules/es.iterator.flat-map.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/function-bind-native.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/an-instance.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/iterator-helper-throws-on-invalid-iterator.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/math-trunc.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/is-symbol.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/get-iterator-method.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/object-keys.js","webpack://@libresign/pdf-elements/./node_modules/pdfjs-dist/build/pdf.mjs","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/internal-state.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/to-integer-or-infinity.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/iterator-close-all.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/structured-clone-proper-transfer.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/object-is-prototype-of.js","webpack://@libresign/pdf-elements/./node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js","webpack://@libresign/pdf-elements/./node_modules/core-js/modules/es.iterator.map.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/get-iterator-direct.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/object-keys-internal.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/define-built-in-accessor.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/to-string-tag-support.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/classof-raw.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/correct-prototype-getter.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/object-create.js","webpack://@libresign/pdf-elements/./node_modules/core-js/modules/es.iterator.filter.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/create-iter-result-object.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/iterate.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/to-primitive.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/object-get-prototype-of.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/is-forced.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/environment-user-agent.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/array-buffer-is-detached.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/uid.js","webpack://@libresign/pdf-elements/./node_modules/core-js/modules/es.iterator.some.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/inspect-source.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/object-get-own-property-symbols.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/descriptors.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/document-create-element.js","webpack://@libresign/pdf-elements/./node_modules/core-js/modules/es.array.push.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/is-null-or-undefined.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/is-array-iterator-method.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/environment.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/ordinary-to-primitive.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/is-array.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/detach-transferable.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/symbol-constructor-detection.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/array-set-length.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/iterator-helper-without-closing-on-early-error.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/global-this.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/create-property.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/is-callable.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/object-define-property.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/own-keys.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/array-buffer-not-detached.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/to-indexed-object.js","webpack://@libresign/pdf-elements/./node_modules/vue/dist/vue.runtime.esm.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/to-absolute-index.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/array-buffer-transfer.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/shared.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/ie8-dom-define.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/get-method.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/function-bind-context.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/shared-key.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/environment-is-node.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/length-of-array-like.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/iterators.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/define-built-ins.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/call-with-safe-iteration-closing.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/is-pure.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/export.js","webpack://@libresign/pdf-elements/./node_modules/core-js/modules/es.array-buffer.detached.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/create-non-enumerable-property.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/function-uncurry-this-accessor.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/object-define-properties.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/try-to-string.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/does-not-exceed-safe-integer.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/define-built-in.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/classof.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/to-property-key.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/create-property-descriptor.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/use-symbol-as-uid.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/indexed-object.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/object-get-own-property-descriptor.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/array-buffer-byte-length.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/function-uncurry-this-clause.js","webpack://@libresign/pdf-elements/./node_modules/core-js/modules/es.iterator.for-each.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/shared-store.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/iterators-core.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/to-index.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/copy-constructor-properties.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/require-object-coercible.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/get-built-in.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/array-buffer-basic-detection.js","webpack://@libresign/pdf-elements/./node_modules/core-js/modules/es.array-buffer.transfer-to-fixed-length.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/to-length.js","webpack://@libresign/pdf-elements/./node_modules/core-js/modules/es.array-buffer.transfer.js","webpack://@libresign/pdf-elements/./node_modules/core-js/modules/es.iterator.constructor.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/well-known-symbol.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/object-get-own-property-names.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/an-object.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/weak-map-basic-detection.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/get-iterator-flattenable.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/v8-prototype-define-bug.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/enum-bug-keys.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/object-property-is-enumerable.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/to-object.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/fails.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/has-own-property.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/a-callable.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/get-built-in-node-module.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/define-global-property.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/iterator-create-proxy.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/function-uncurry-this.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/environment-v8-version.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/iterator-close.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/function-call.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/array-includes.js"],"sourcesContent":["'use strict';\nvar isCallable = require('../internals/is-callable');\n\nmodule.exports = function (it) {\n  return typeof it == 'object' ? it !== null : isCallable(it);\n};\n","'use strict';\nvar call = require('../internals/function-call');\nvar aCallable = require('../internals/a-callable');\nvar anObject = require('../internals/an-object');\nvar tryToString = require('../internals/try-to-string');\nvar getIteratorMethod = require('../internals/get-iterator-method');\n\nvar $TypeError = TypeError;\n\nmodule.exports = function (argument, usingIterator) {\n  var iteratorMethod = arguments.length < 2 ? getIteratorMethod(argument) : usingIterator;\n  if (aCallable(iteratorMethod)) return anObject(call(iteratorMethod, argument));\n  throw new $TypeError(tryToString(argument) + ' is not iterable');\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar call = require('../internals/function-call');\nvar iterate = require('../internals/iterate');\nvar aCallable = require('../internals/a-callable');\nvar anObject = require('../internals/an-object');\nvar getIteratorDirect = require('../internals/get-iterator-direct');\nvar iteratorClose = require('../internals/iterator-close');\nvar iteratorHelperWithoutClosingOnEarlyError = require('../internals/iterator-helper-without-closing-on-early-error');\n\nvar findWithoutClosingOnEarlyError = iteratorHelperWithoutClosingOnEarlyError('find', TypeError);\n\n// `Iterator.prototype.find` method\n// https://tc39.es/ecma262/#sec-iterator.prototype.find\n$({ target: 'Iterator', proto: true, real: true, forced: findWithoutClosingOnEarlyError }, {\n  find: function find(predicate) {\n    anObject(this);\n    try {\n      aCallable(predicate);\n    } catch (error) {\n      iteratorClose(this, 'throw', error);\n    }\n\n    if (findWithoutClosingOnEarlyError) return call(findWithoutClosingOnEarlyError, this, predicate);\n\n    var record = getIteratorDirect(this);\n    var counter = 0;\n    return iterate(record, function (value, stop) {\n      if (predicate(value, counter++)) return stop(value);\n    }, { IS_RECORD: true, INTERRUPTED: true }).result;\n  }\n});\n","'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar fails = require('../internals/fails');\nvar isCallable = require('../internals/is-callable');\nvar hasOwn = require('../internals/has-own-property');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar CONFIGURABLE_FUNCTION_NAME = require('../internals/function-name').CONFIGURABLE;\nvar inspectSource = require('../internals/inspect-source');\nvar InternalStateModule = require('../internals/internal-state');\n\nvar enforceInternalState = InternalStateModule.enforce;\nvar getInternalState = InternalStateModule.get;\nvar $String = String;\n// eslint-disable-next-line es/no-object-defineproperty -- safe\nvar defineProperty = Object.defineProperty;\nvar stringSlice = uncurryThis(''.slice);\nvar replace = uncurryThis(''.replace);\nvar join = uncurryThis([].join);\n\nvar CONFIGURABLE_LENGTH = DESCRIPTORS && !fails(function () {\n  return defineProperty(function () { /* empty */ }, 'length', { value: 8 }).length !== 8;\n});\n\nvar TEMPLATE = String(String).split('String');\n\nvar makeBuiltIn = module.exports = function (value, name, options) {\n  if (stringSlice($String(name), 0, 7) === 'Symbol(') {\n    name = '[' + replace($String(name), /^Symbol\\(([^)]*)\\).*$/, '$1') + ']';\n  }\n  if (options && options.getter) name = 'get ' + name;\n  if (options && options.setter) name = 'set ' + name;\n  if (!hasOwn(value, 'name') || (CONFIGURABLE_FUNCTION_NAME && value.name !== name)) {\n    if (DESCRIPTORS) defineProperty(value, 'name', { value: name, configurable: true });\n    else value.name = name;\n  }\n  if (CONFIGURABLE_LENGTH && options && hasOwn(options, 'arity') && value.length !== options.arity) {\n    defineProperty(value, 'length', { value: options.arity });\n  }\n  try {\n    if (options && hasOwn(options, 'constructor') && options.constructor) {\n      if (DESCRIPTORS) defineProperty(value, 'prototype', { writable: false });\n    // in V8 ~ Chrome 53, prototypes of some methods, like `Array.prototype.values`, are non-writable\n    } else if (value.prototype) value.prototype = undefined;\n  } catch (error) { /* empty */ }\n  var state = enforceInternalState(value);\n  if (!hasOwn(state, 'source')) {\n    state.source = join(TEMPLATE, typeof name == 'string' ? name : '');\n  } return value;\n};\n\n// add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative\n// eslint-disable-next-line no-extend-native -- required\nFunction.prototype.toString = makeBuiltIn(function toString() {\n  return isCallable(this) && getInternalState(this).source || inspectSource(this);\n}, 'toString');\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar hasOwn = require('../internals/has-own-property');\n\nvar FunctionPrototype = Function.prototype;\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar getDescriptor = DESCRIPTORS && Object.getOwnPropertyDescriptor;\n\nvar EXISTS = hasOwn(FunctionPrototype, 'name');\n// additional protection from minified / mangled / dropped function names\nvar PROPER = EXISTS && (function something() { /* empty */ }).name === 'something';\nvar CONFIGURABLE = EXISTS && (!DESCRIPTORS || (DESCRIPTORS && getDescriptor(FunctionPrototype, 'name').configurable));\n\nmodule.exports = {\n  EXISTS: EXISTS,\n  PROPER: PROPER,\n  CONFIGURABLE: CONFIGURABLE\n};\n","'use strict';\nvar getBuiltIn = require('../internals/get-built-in');\n\nmodule.exports = getBuiltIn('document', 'documentElement');\n","'use strict';\nmodule.exports = {};\n","'use strict';\nvar $ = require('../internals/export');\nvar call = require('../internals/function-call');\nvar aCallable = require('../internals/a-callable');\nvar anObject = require('../internals/an-object');\nvar getIteratorDirect = require('../internals/get-iterator-direct');\nvar getIteratorFlattenable = require('../internals/get-iterator-flattenable');\nvar createIteratorProxy = require('../internals/iterator-create-proxy');\nvar iteratorClose = require('../internals/iterator-close');\nvar IS_PURE = require('../internals/is-pure');\nvar iteratorHelperThrowsOnInvalidIterator = require('../internals/iterator-helper-throws-on-invalid-iterator');\nvar iteratorHelperWithoutClosingOnEarlyError = require('../internals/iterator-helper-without-closing-on-early-error');\n\nvar FLAT_MAP_WITHOUT_THROWING_ON_INVALID_ITERATOR = !IS_PURE\n  && !iteratorHelperThrowsOnInvalidIterator('flatMap', function () { /* empty */ });\nvar flatMapWithoutClosingOnEarlyError = !IS_PURE && !FLAT_MAP_WITHOUT_THROWING_ON_INVALID_ITERATOR\n  && iteratorHelperWithoutClosingOnEarlyError('flatMap', TypeError);\n\nvar FORCED = IS_PURE || FLAT_MAP_WITHOUT_THROWING_ON_INVALID_ITERATOR || flatMapWithoutClosingOnEarlyError;\n\nvar IteratorProxy = createIteratorProxy(function () {\n  var iterator = this.iterator;\n  var mapper = this.mapper;\n  var result, inner;\n\n  while (true) {\n    if (inner = this.inner) try {\n      result = anObject(call(inner.next, inner.iterator));\n      if (!result.done) return result.value;\n      this.inner = null;\n    } catch (error) { iteratorClose(iterator, 'throw', error); }\n\n    result = anObject(call(this.next, iterator));\n\n    if (this.done = !!result.done) return;\n\n    try {\n      this.inner = getIteratorFlattenable(mapper(result.value, this.counter++), false);\n    } catch (error) { iteratorClose(iterator, 'throw', error); }\n  }\n});\n\n// `Iterator.prototype.flatMap` method\n// https://tc39.es/ecma262/#sec-iterator.prototype.flatmap\n$({ target: 'Iterator', proto: true, real: true, forced: FORCED }, {\n  flatMap: function flatMap(mapper) {\n    anObject(this);\n    try {\n      aCallable(mapper);\n    } catch (error) {\n      iteratorClose(this, 'throw', error);\n    }\n\n    if (flatMapWithoutClosingOnEarlyError) return call(flatMapWithoutClosingOnEarlyError, this, mapper);\n\n    return new IteratorProxy(getIteratorDirect(this), {\n      mapper: mapper,\n      inner: null\n    });\n  }\n});\n","'use strict';\nvar fails = require('../internals/fails');\n\nmodule.exports = !fails(function () {\n  // eslint-disable-next-line es/no-function-prototype-bind -- safe\n  var test = (function () { /* empty */ }).bind();\n  // eslint-disable-next-line no-prototype-builtins -- safe\n  return typeof test != 'function' || test.hasOwnProperty('prototype');\n});\n","'use strict';\nvar isPrototypeOf = require('../internals/object-is-prototype-of');\n\nvar $TypeError = TypeError;\n\nmodule.exports = function (it, Prototype) {\n  if (isPrototypeOf(Prototype, it)) return it;\n  throw new $TypeError('Incorrect invocation');\n};\n","'use strict';\n// Should throw an error on invalid iterator\n// https://issues.chromium.org/issues/336839115\nmodule.exports = function (methodName, argument) {\n  // eslint-disable-next-line es/no-iterator -- required for testing\n  var method = typeof Iterator == 'function' && Iterator.prototype[methodName];\n  if (method) try {\n    method.call({ next: null }, argument).next();\n  } catch (error) {\n    return true;\n  }\n};\n","'use strict';\nvar ceil = Math.ceil;\nvar floor = Math.floor;\n\n// `Math.trunc` method\n// https://tc39.es/ecma262/#sec-math.trunc\n// eslint-disable-next-line es/no-math-trunc -- safe\nmodule.exports = Math.trunc || function trunc(x) {\n  var n = +x;\n  return (n > 0 ? floor : ceil)(n);\n};\n","'use strict';\nvar getBuiltIn = require('../internals/get-built-in');\nvar isCallable = require('../internals/is-callable');\nvar isPrototypeOf = require('../internals/object-is-prototype-of');\nvar USE_SYMBOL_AS_UID = require('../internals/use-symbol-as-uid');\n\nvar $Object = Object;\n\nmodule.exports = USE_SYMBOL_AS_UID ? function (it) {\n  return typeof it == 'symbol';\n} : function (it) {\n  var $Symbol = getBuiltIn('Symbol');\n  return isCallable($Symbol) && isPrototypeOf($Symbol.prototype, $Object(it));\n};\n","'use strict';\nvar classof = require('../internals/classof');\nvar getMethod = require('../internals/get-method');\nvar isNullOrUndefined = require('../internals/is-null-or-undefined');\nvar Iterators = require('../internals/iterators');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar ITERATOR = wellKnownSymbol('iterator');\n\nmodule.exports = function (it) {\n  if (!isNullOrUndefined(it)) return getMethod(it, ITERATOR)\n    || getMethod(it, '@@iterator')\n    || Iterators[classof(it)];\n};\n","'use strict';\nvar internalObjectKeys = require('../internals/object-keys-internal');\nvar enumBugKeys = require('../internals/enum-bug-keys');\n\n// `Object.keys` method\n// https://tc39.es/ecma262/#sec-object.keys\n// eslint-disable-next-line es/no-object-keys -- safe\nmodule.exports = Object.keys || function keys(O) {\n  return internalObjectKeys(O, enumBugKeys);\n};\n","/**\n * @licstart The following is the entire license notice for the\n * JavaScript code in this page\n *\n * Copyright 2024 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * @licend The above is the entire license notice for the\n * JavaScript code in this page\n */\n\n/**\n * pdfjsVersion = 5.4.530\n * pdfjsBuild = 50cc4adac\n */\n/******/ // The require scope\n/******/ var __webpack_require__ = {};\n/******/ \n/************************************************************************/\n/******/ /* webpack/runtime/define property getters */\n/******/ (() => {\n/******/ \t// define getter functions for harmony exports\n/******/ \t__webpack_require__.d = (exports, definition) => {\n/******/ \t\tfor(var key in definition) {\n/******/ \t\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n/******/ \t\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n/******/ \t\t\t}\n/******/ \t\t}\n/******/ \t};\n/******/ })();\n/******/ \n/******/ /* webpack/runtime/hasOwnProperty shorthand */\n/******/ (() => {\n/******/ \t__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))\n/******/ })();\n/******/ \n/************************************************************************/\nvar __webpack_exports__ = {};\n\n;// ./src/shared/util.js\nconst isNodeJS = typeof process === \"object\" && process + \"\" === \"[object process]\" && !process.versions.nw && !(process.versions.electron && process.type && process.type !== \"browser\");\nconst FONT_IDENTITY_MATRIX = [0.001, 0, 0, 0.001, 0, 0];\nconst LINE_FACTOR = 1.35;\nconst LINE_DESCENT_FACTOR = 0.35;\nconst BASELINE_FACTOR = LINE_DESCENT_FACTOR / LINE_FACTOR;\nconst RenderingIntentFlag = {\n  ANY: 0x01,\n  DISPLAY: 0x02,\n  PRINT: 0x04,\n  SAVE: 0x08,\n  ANNOTATIONS_FORMS: 0x10,\n  ANNOTATIONS_STORAGE: 0x20,\n  ANNOTATIONS_DISABLE: 0x40,\n  IS_EDITING: 0x80,\n  OPLIST: 0x100\n};\nconst AnnotationMode = {\n  DISABLE: 0,\n  ENABLE: 1,\n  ENABLE_FORMS: 2,\n  ENABLE_STORAGE: 3\n};\nconst AnnotationEditorPrefix = \"pdfjs_internal_editor_\";\nconst AnnotationEditorType = {\n  DISABLE: -1,\n  NONE: 0,\n  FREETEXT: 3,\n  HIGHLIGHT: 9,\n  STAMP: 13,\n  INK: 15,\n  POPUP: 16,\n  SIGNATURE: 101,\n  COMMENT: 102\n};\nconst AnnotationEditorParamsType = {\n  RESIZE: 1,\n  CREATE: 2,\n  FREETEXT_SIZE: 11,\n  FREETEXT_COLOR: 12,\n  FREETEXT_OPACITY: 13,\n  INK_COLOR: 21,\n  INK_THICKNESS: 22,\n  INK_OPACITY: 23,\n  HIGHLIGHT_COLOR: 31,\n  HIGHLIGHT_THICKNESS: 32,\n  HIGHLIGHT_FREE: 33,\n  HIGHLIGHT_SHOW_ALL: 34,\n  DRAW_STEP: 41\n};\nconst PermissionFlag = {\n  PRINT: 0x04,\n  MODIFY_CONTENTS: 0x08,\n  COPY: 0x10,\n  MODIFY_ANNOTATIONS: 0x20,\n  FILL_INTERACTIVE_FORMS: 0x100,\n  COPY_FOR_ACCESSIBILITY: 0x200,\n  ASSEMBLE: 0x400,\n  PRINT_HIGH_QUALITY: 0x800\n};\nconst MeshFigureType = {\n  TRIANGLES: 1,\n  LATTICE: 2,\n  PATCH: 3\n};\nconst TextRenderingMode = {\n  FILL: 0,\n  STROKE: 1,\n  FILL_STROKE: 2,\n  INVISIBLE: 3,\n  FILL_ADD_TO_PATH: 4,\n  STROKE_ADD_TO_PATH: 5,\n  FILL_STROKE_ADD_TO_PATH: 6,\n  ADD_TO_PATH: 7,\n  FILL_STROKE_MASK: 3,\n  ADD_TO_PATH_FLAG: 4\n};\nconst util_ImageKind = {\n  GRAYSCALE_1BPP: 1,\n  RGB_24BPP: 2,\n  RGBA_32BPP: 3\n};\nconst AnnotationType = {\n  TEXT: 1,\n  LINK: 2,\n  FREETEXT: 3,\n  LINE: 4,\n  SQUARE: 5,\n  CIRCLE: 6,\n  POLYGON: 7,\n  POLYLINE: 8,\n  HIGHLIGHT: 9,\n  UNDERLINE: 10,\n  SQUIGGLY: 11,\n  STRIKEOUT: 12,\n  STAMP: 13,\n  CARET: 14,\n  INK: 15,\n  POPUP: 16,\n  FILEATTACHMENT: 17,\n  SOUND: 18,\n  MOVIE: 19,\n  WIDGET: 20,\n  SCREEN: 21,\n  PRINTERMARK: 22,\n  TRAPNET: 23,\n  WATERMARK: 24,\n  THREED: 25,\n  REDACT: 26\n};\nconst AnnotationReplyType = {\n  GROUP: \"Group\",\n  REPLY: \"R\"\n};\nconst AnnotationFlag = {\n  INVISIBLE: 0x01,\n  HIDDEN: 0x02,\n  PRINT: 0x04,\n  NOZOOM: 0x08,\n  NOROTATE: 0x10,\n  NOVIEW: 0x20,\n  READONLY: 0x40,\n  LOCKED: 0x80,\n  TOGGLENOVIEW: 0x100,\n  LOCKEDCONTENTS: 0x200\n};\nconst AnnotationFieldFlag = {\n  READONLY: 0x0000001,\n  REQUIRED: 0x0000002,\n  NOEXPORT: 0x0000004,\n  MULTILINE: 0x0001000,\n  PASSWORD: 0x0002000,\n  NOTOGGLETOOFF: 0x0004000,\n  RADIO: 0x0008000,\n  PUSHBUTTON: 0x0010000,\n  COMBO: 0x0020000,\n  EDIT: 0x0040000,\n  SORT: 0x0080000,\n  FILESELECT: 0x0100000,\n  MULTISELECT: 0x0200000,\n  DONOTSPELLCHECK: 0x0400000,\n  DONOTSCROLL: 0x0800000,\n  COMB: 0x1000000,\n  RICHTEXT: 0x2000000,\n  RADIOSINUNISON: 0x2000000,\n  COMMITONSELCHANGE: 0x4000000\n};\nconst AnnotationBorderStyleType = {\n  SOLID: 1,\n  DASHED: 2,\n  BEVELED: 3,\n  INSET: 4,\n  UNDERLINE: 5\n};\nconst AnnotationActionEventType = {\n  E: \"Mouse Enter\",\n  X: \"Mouse Exit\",\n  D: \"Mouse Down\",\n  U: \"Mouse Up\",\n  Fo: \"Focus\",\n  Bl: \"Blur\",\n  PO: \"PageOpen\",\n  PC: \"PageClose\",\n  PV: \"PageVisible\",\n  PI: \"PageInvisible\",\n  K: \"Keystroke\",\n  F: \"Format\",\n  V: \"Validate\",\n  C: \"Calculate\"\n};\nconst DocumentActionEventType = {\n  WC: \"WillClose\",\n  WS: \"WillSave\",\n  DS: \"DidSave\",\n  WP: \"WillPrint\",\n  DP: \"DidPrint\"\n};\nconst PageActionEventType = {\n  O: \"PageOpen\",\n  C: \"PageClose\"\n};\nconst VerbosityLevel = {\n  ERRORS: 0,\n  WARNINGS: 1,\n  INFOS: 5\n};\nconst OPS = {\n  dependency: 1,\n  setLineWidth: 2,\n  setLineCap: 3,\n  setLineJoin: 4,\n  setMiterLimit: 5,\n  setDash: 6,\n  setRenderingIntent: 7,\n  setFlatness: 8,\n  setGState: 9,\n  save: 10,\n  restore: 11,\n  transform: 12,\n  moveTo: 13,\n  lineTo: 14,\n  curveTo: 15,\n  curveTo2: 16,\n  curveTo3: 17,\n  closePath: 18,\n  rectangle: 19,\n  stroke: 20,\n  closeStroke: 21,\n  fill: 22,\n  eoFill: 23,\n  fillStroke: 24,\n  eoFillStroke: 25,\n  closeFillStroke: 26,\n  closeEOFillStroke: 27,\n  endPath: 28,\n  clip: 29,\n  eoClip: 30,\n  beginText: 31,\n  endText: 32,\n  setCharSpacing: 33,\n  setWordSpacing: 34,\n  setHScale: 35,\n  setLeading: 36,\n  setFont: 37,\n  setTextRenderingMode: 38,\n  setTextRise: 39,\n  moveText: 40,\n  setLeadingMoveText: 41,\n  setTextMatrix: 42,\n  nextLine: 43,\n  showText: 44,\n  showSpacedText: 45,\n  nextLineShowText: 46,\n  nextLineSetSpacingShowText: 47,\n  setCharWidth: 48,\n  setCharWidthAndBounds: 49,\n  setStrokeColorSpace: 50,\n  setFillColorSpace: 51,\n  setStrokeColor: 52,\n  setStrokeColorN: 53,\n  setFillColor: 54,\n  setFillColorN: 55,\n  setStrokeGray: 56,\n  setFillGray: 57,\n  setStrokeRGBColor: 58,\n  setFillRGBColor: 59,\n  setStrokeCMYKColor: 60,\n  setFillCMYKColor: 61,\n  shadingFill: 62,\n  beginInlineImage: 63,\n  beginImageData: 64,\n  endInlineImage: 65,\n  paintXObject: 66,\n  markPoint: 67,\n  markPointProps: 68,\n  beginMarkedContent: 69,\n  beginMarkedContentProps: 70,\n  endMarkedContent: 71,\n  beginCompat: 72,\n  endCompat: 73,\n  paintFormXObjectBegin: 74,\n  paintFormXObjectEnd: 75,\n  beginGroup: 76,\n  endGroup: 77,\n  beginAnnotation: 80,\n  endAnnotation: 81,\n  paintImageMaskXObject: 83,\n  paintImageMaskXObjectGroup: 84,\n  paintImageXObject: 85,\n  paintInlineImageXObject: 86,\n  paintInlineImageXObjectGroup: 87,\n  paintImageXObjectRepeat: 88,\n  paintImageMaskXObjectRepeat: 89,\n  paintSolidColorImageMask: 90,\n  constructPath: 91,\n  setStrokeTransparent: 92,\n  setFillTransparent: 93,\n  rawFillPath: 94\n};\nconst DrawOPS = {\n  moveTo: 0,\n  lineTo: 1,\n  curveTo: 2,\n  quadraticCurveTo: 3,\n  closePath: 4\n};\nconst PasswordResponses = {\n  NEED_PASSWORD: 1,\n  INCORRECT_PASSWORD: 2\n};\nlet verbosity = VerbosityLevel.WARNINGS;\nfunction setVerbosityLevel(level) {\n  if (Number.isInteger(level)) {\n    verbosity = level;\n  }\n}\nfunction getVerbosityLevel() {\n  return verbosity;\n}\nfunction info(msg) {\n  if (verbosity >= VerbosityLevel.INFOS) {\n    console.info(`Info: ${msg}`);\n  }\n}\nfunction warn(msg) {\n  if (verbosity >= VerbosityLevel.WARNINGS) {\n    console.warn(`Warning: ${msg}`);\n  }\n}\nfunction unreachable(msg) {\n  throw new Error(msg);\n}\nfunction assert(cond, msg) {\n  if (!cond) {\n    unreachable(msg);\n  }\n}\nfunction _isValidProtocol(url) {\n  switch (url?.protocol) {\n    case \"http:\":\n    case \"https:\":\n    case \"ftp:\":\n    case \"mailto:\":\n    case \"tel:\":\n      return true;\n    default:\n      return false;\n  }\n}\nfunction createValidAbsoluteUrl(url, baseUrl = null, options = null) {\n  if (!url) {\n    return null;\n  }\n  if (options && typeof url === \"string\") {\n    if (options.addDefaultProtocol && url.startsWith(\"www.\")) {\n      const dots = url.match(/\\./g);\n      if (dots?.length >= 2) {\n        url = `http://${url}`;\n      }\n    }\n    if (options.tryConvertEncoding) {\n      try {\n        url = stringToUTF8String(url);\n      } catch {}\n    }\n  }\n  const absoluteUrl = baseUrl ? URL.parse(url, baseUrl) : URL.parse(url);\n  return _isValidProtocol(absoluteUrl) ? absoluteUrl : null;\n}\nfunction updateUrlHash(url, hash, allowRel = false) {\n  const res = URL.parse(url);\n  if (res) {\n    res.hash = hash;\n    return res.href;\n  }\n  if (allowRel && createValidAbsoluteUrl(url, \"http://example.com\")) {\n    return url.split(\"#\", 1)[0] + `${hash ? `#${hash}` : \"\"}`;\n  }\n  return \"\";\n}\nfunction shadow(obj, prop, value, nonSerializable = false) {\n  Object.defineProperty(obj, prop, {\n    value,\n    enumerable: !nonSerializable,\n    configurable: true,\n    writable: false\n  });\n  return value;\n}\nconst BaseException = function BaseExceptionClosure() {\n  function BaseException(message, name) {\n    this.message = message;\n    this.name = name;\n  }\n  BaseException.prototype = new Error();\n  BaseException.constructor = BaseException;\n  return BaseException;\n}();\nclass PasswordException extends BaseException {\n  constructor(msg, code) {\n    super(msg, \"PasswordException\");\n    this.code = code;\n  }\n}\nclass UnknownErrorException extends BaseException {\n  constructor(msg, details) {\n    super(msg, \"UnknownErrorException\");\n    this.details = details;\n  }\n}\nclass InvalidPDFException extends BaseException {\n  constructor(msg) {\n    super(msg, \"InvalidPDFException\");\n  }\n}\nclass ResponseException extends BaseException {\n  constructor(msg, status, missing) {\n    super(msg, \"ResponseException\");\n    this.status = status;\n    this.missing = missing;\n  }\n}\nclass FormatError extends BaseException {\n  constructor(msg) {\n    super(msg, \"FormatError\");\n  }\n}\nclass AbortException extends BaseException {\n  constructor(msg) {\n    super(msg, \"AbortException\");\n  }\n}\nfunction bytesToString(bytes) {\n  if (typeof bytes !== \"object\" || bytes?.length === undefined) {\n    unreachable(\"Invalid argument for bytesToString\");\n  }\n  const length = bytes.length;\n  const MAX_ARGUMENT_COUNT = 8192;\n  if (length < MAX_ARGUMENT_COUNT) {\n    return String.fromCharCode.apply(null, bytes);\n  }\n  const strBuf = [];\n  for (let i = 0; i < length; i += MAX_ARGUMENT_COUNT) {\n    const chunkEnd = Math.min(i + MAX_ARGUMENT_COUNT, length);\n    const chunk = bytes.subarray(i, chunkEnd);\n    strBuf.push(String.fromCharCode.apply(null, chunk));\n  }\n  return strBuf.join(\"\");\n}\nfunction stringToBytes(str) {\n  if (typeof str !== \"string\") {\n    unreachable(\"Invalid argument for stringToBytes\");\n  }\n  const length = str.length;\n  const bytes = new Uint8Array(length);\n  for (let i = 0; i < length; ++i) {\n    bytes[i] = str.charCodeAt(i) & 0xff;\n  }\n  return bytes;\n}\nfunction string32(value) {\n  return String.fromCharCode(value >> 24 & 0xff, value >> 16 & 0xff, value >> 8 & 0xff, value & 0xff);\n}\nfunction objectSize(obj) {\n  return Object.keys(obj).length;\n}\nfunction isLittleEndian() {\n  const buffer8 = new Uint8Array(4);\n  buffer8[0] = 1;\n  const view32 = new Uint32Array(buffer8.buffer, 0, 1);\n  return view32[0] === 1;\n}\nfunction isEvalSupported() {\n  try {\n    new Function(\"\");\n    return true;\n  } catch {\n    return false;\n  }\n}\nclass util_FeatureTest {\n  static get isLittleEndian() {\n    return shadow(this, \"isLittleEndian\", isLittleEndian());\n  }\n  static get isEvalSupported() {\n    return shadow(this, \"isEvalSupported\", isEvalSupported());\n  }\n  static get isOffscreenCanvasSupported() {\n    return shadow(this, \"isOffscreenCanvasSupported\", typeof OffscreenCanvas !== \"undefined\");\n  }\n  static get isImageDecoderSupported() {\n    return shadow(this, \"isImageDecoderSupported\", typeof ImageDecoder !== \"undefined\");\n  }\n  static get isFloat16ArraySupported() {\n    return shadow(this, \"isFloat16ArraySupported\", typeof Float16Array !== \"undefined\");\n  }\n  static get isSanitizerSupported() {\n    return shadow(this, \"isSanitizerSupported\", typeof Sanitizer !== \"undefined\");\n  }\n  static get platform() {\n    const {\n      platform,\n      userAgent\n    } = navigator;\n    return shadow(this, \"platform\", {\n      isAndroid: userAgent.includes(\"Android\"),\n      isLinux: platform.includes(\"Linux\"),\n      isMac: platform.includes(\"Mac\"),\n      isWindows: platform.includes(\"Win\"),\n      isFirefox: userAgent.includes(\"Firefox\")\n    });\n  }\n  static get isCSSRoundSupported() {\n    return shadow(this, \"isCSSRoundSupported\", globalThis.CSS?.supports?.(\"width: round(1.5px, 1px)\"));\n  }\n}\nconst hexNumbers = Array.from(Array(256).keys(), n => n.toString(16).padStart(2, \"0\"));\nclass Util {\n  static makeHexColor(r, g, b) {\n    return `#${hexNumbers[r]}${hexNumbers[g]}${hexNumbers[b]}`;\n  }\n  static domMatrixToTransform(dm) {\n    return [dm.a, dm.b, dm.c, dm.d, dm.e, dm.f];\n  }\n  static scaleMinMax(transform, minMax) {\n    let temp;\n    if (transform[0]) {\n      if (transform[0] < 0) {\n        temp = minMax[0];\n        minMax[0] = minMax[2];\n        minMax[2] = temp;\n      }\n      minMax[0] *= transform[0];\n      minMax[2] *= transform[0];\n      if (transform[3] < 0) {\n        temp = minMax[1];\n        minMax[1] = minMax[3];\n        minMax[3] = temp;\n      }\n      minMax[1] *= transform[3];\n      minMax[3] *= transform[3];\n    } else {\n      temp = minMax[0];\n      minMax[0] = minMax[1];\n      minMax[1] = temp;\n      temp = minMax[2];\n      minMax[2] = minMax[3];\n      minMax[3] = temp;\n      if (transform[1] < 0) {\n        temp = minMax[1];\n        minMax[1] = minMax[3];\n        minMax[3] = temp;\n      }\n      minMax[1] *= transform[1];\n      minMax[3] *= transform[1];\n      if (transform[2] < 0) {\n        temp = minMax[0];\n        minMax[0] = minMax[2];\n        minMax[2] = temp;\n      }\n      minMax[0] *= transform[2];\n      minMax[2] *= transform[2];\n    }\n    minMax[0] += transform[4];\n    minMax[1] += transform[5];\n    minMax[2] += transform[4];\n    minMax[3] += transform[5];\n  }\n  static transform(m1, m2) {\n    return [m1[0] * m2[0] + m1[2] * m2[1], m1[1] * m2[0] + m1[3] * m2[1], m1[0] * m2[2] + m1[2] * m2[3], m1[1] * m2[2] + m1[3] * m2[3], m1[0] * m2[4] + m1[2] * m2[5] + m1[4], m1[1] * m2[4] + m1[3] * m2[5] + m1[5]];\n  }\n  static multiplyByDOMMatrix(m, md) {\n    return [m[0] * md.a + m[2] * md.b, m[1] * md.a + m[3] * md.b, m[0] * md.c + m[2] * md.d, m[1] * md.c + m[3] * md.d, m[0] * md.e + m[2] * md.f + m[4], m[1] * md.e + m[3] * md.f + m[5]];\n  }\n  static applyTransform(p, m, pos = 0) {\n    const p0 = p[pos];\n    const p1 = p[pos + 1];\n    p[pos] = p0 * m[0] + p1 * m[2] + m[4];\n    p[pos + 1] = p0 * m[1] + p1 * m[3] + m[5];\n  }\n  static applyTransformToBezier(p, transform, pos = 0) {\n    const m0 = transform[0];\n    const m1 = transform[1];\n    const m2 = transform[2];\n    const m3 = transform[3];\n    const m4 = transform[4];\n    const m5 = transform[5];\n    for (let i = 0; i < 6; i += 2) {\n      const pI = p[pos + i];\n      const pI1 = p[pos + i + 1];\n      p[pos + i] = pI * m0 + pI1 * m2 + m4;\n      p[pos + i + 1] = pI * m1 + pI1 * m3 + m5;\n    }\n  }\n  static applyInverseTransform(p, m) {\n    const p0 = p[0];\n    const p1 = p[1];\n    const d = m[0] * m[3] - m[1] * m[2];\n    p[0] = (p0 * m[3] - p1 * m[2] + m[2] * m[5] - m[4] * m[3]) / d;\n    p[1] = (-p0 * m[1] + p1 * m[0] + m[4] * m[1] - m[5] * m[0]) / d;\n  }\n  static axialAlignedBoundingBox(rect, transform, output) {\n    const m0 = transform[0];\n    const m1 = transform[1];\n    const m2 = transform[2];\n    const m3 = transform[3];\n    const m4 = transform[4];\n    const m5 = transform[5];\n    const r0 = rect[0];\n    const r1 = rect[1];\n    const r2 = rect[2];\n    const r3 = rect[3];\n    let a0 = m0 * r0 + m4;\n    let a2 = a0;\n    let a1 = m0 * r2 + m4;\n    let a3 = a1;\n    let b0 = m3 * r1 + m5;\n    let b2 = b0;\n    let b1 = m3 * r3 + m5;\n    let b3 = b1;\n    if (m1 !== 0 || m2 !== 0) {\n      const m1r0 = m1 * r0;\n      const m1r2 = m1 * r2;\n      const m2r1 = m2 * r1;\n      const m2r3 = m2 * r3;\n      a0 += m2r1;\n      a3 += m2r1;\n      a1 += m2r3;\n      a2 += m2r3;\n      b0 += m1r0;\n      b3 += m1r0;\n      b1 += m1r2;\n      b2 += m1r2;\n    }\n    output[0] = Math.min(output[0], a0, a1, a2, a3);\n    output[1] = Math.min(output[1], b0, b1, b2, b3);\n    output[2] = Math.max(output[2], a0, a1, a2, a3);\n    output[3] = Math.max(output[3], b0, b1, b2, b3);\n  }\n  static inverseTransform(m) {\n    const d = m[0] * m[3] - m[1] * m[2];\n    return [m[3] / d, -m[1] / d, -m[2] / d, m[0] / d, (m[2] * m[5] - m[4] * m[3]) / d, (m[4] * m[1] - m[5] * m[0]) / d];\n  }\n  static singularValueDecompose2dScale(matrix, output) {\n    const m0 = matrix[0];\n    const m1 = matrix[1];\n    const m2 = matrix[2];\n    const m3 = matrix[3];\n    const a = m0 ** 2 + m1 ** 2;\n    const b = m0 * m2 + m1 * m3;\n    const c = m2 ** 2 + m3 ** 2;\n    const first = (a + c) / 2;\n    const second = Math.sqrt(first ** 2 - (a * c - b ** 2));\n    output[0] = Math.sqrt(first + second || 1);\n    output[1] = Math.sqrt(first - second || 1);\n  }\n  static normalizeRect(rect) {\n    const r = rect.slice(0);\n    if (rect[0] > rect[2]) {\n      r[0] = rect[2];\n      r[2] = rect[0];\n    }\n    if (rect[1] > rect[3]) {\n      r[1] = rect[3];\n      r[3] = rect[1];\n    }\n    return r;\n  }\n  static intersect(rect1, rect2) {\n    const xLow = Math.max(Math.min(rect1[0], rect1[2]), Math.min(rect2[0], rect2[2]));\n    const xHigh = Math.min(Math.max(rect1[0], rect1[2]), Math.max(rect2[0], rect2[2]));\n    if (xLow > xHigh) {\n      return null;\n    }\n    const yLow = Math.max(Math.min(rect1[1], rect1[3]), Math.min(rect2[1], rect2[3]));\n    const yHigh = Math.min(Math.max(rect1[1], rect1[3]), Math.max(rect2[1], rect2[3]));\n    if (yLow > yHigh) {\n      return null;\n    }\n    return [xLow, yLow, xHigh, yHigh];\n  }\n  static pointBoundingBox(x, y, minMax) {\n    minMax[0] = Math.min(minMax[0], x);\n    minMax[1] = Math.min(minMax[1], y);\n    minMax[2] = Math.max(minMax[2], x);\n    minMax[3] = Math.max(minMax[3], y);\n  }\n  static rectBoundingBox(x0, y0, x1, y1, minMax) {\n    minMax[0] = Math.min(minMax[0], x0, x1);\n    minMax[1] = Math.min(minMax[1], y0, y1);\n    minMax[2] = Math.max(minMax[2], x0, x1);\n    minMax[3] = Math.max(minMax[3], y0, y1);\n  }\n  static #getExtremumOnCurve(x0, x1, x2, x3, y0, y1, y2, y3, t, minMax) {\n    if (t <= 0 || t >= 1) {\n      return;\n    }\n    const mt = 1 - t;\n    const tt = t * t;\n    const ttt = tt * t;\n    const x = mt * (mt * (mt * x0 + 3 * t * x1) + 3 * tt * x2) + ttt * x3;\n    const y = mt * (mt * (mt * y0 + 3 * t * y1) + 3 * tt * y2) + ttt * y3;\n    minMax[0] = Math.min(minMax[0], x);\n    minMax[1] = Math.min(minMax[1], y);\n    minMax[2] = Math.max(minMax[2], x);\n    minMax[3] = Math.max(minMax[3], y);\n  }\n  static #getExtremum(x0, x1, x2, x3, y0, y1, y2, y3, a, b, c, minMax) {\n    if (Math.abs(a) < 1e-12) {\n      if (Math.abs(b) >= 1e-12) {\n        this.#getExtremumOnCurve(x0, x1, x2, x3, y0, y1, y2, y3, -c / b, minMax);\n      }\n      return;\n    }\n    const delta = b ** 2 - 4 * c * a;\n    if (delta < 0) {\n      return;\n    }\n    const sqrtDelta = Math.sqrt(delta);\n    const a2 = 2 * a;\n    this.#getExtremumOnCurve(x0, x1, x2, x3, y0, y1, y2, y3, (-b + sqrtDelta) / a2, minMax);\n    this.#getExtremumOnCurve(x0, x1, x2, x3, y0, y1, y2, y3, (-b - sqrtDelta) / a2, minMax);\n  }\n  static bezierBoundingBox(x0, y0, x1, y1, x2, y2, x3, y3, minMax) {\n    minMax[0] = Math.min(minMax[0], x0, x3);\n    minMax[1] = Math.min(minMax[1], y0, y3);\n    minMax[2] = Math.max(minMax[2], x0, x3);\n    minMax[3] = Math.max(minMax[3], y0, y3);\n    this.#getExtremum(x0, x1, x2, x3, y0, y1, y2, y3, 3 * (-x0 + 3 * (x1 - x2) + x3), 6 * (x0 - 2 * x1 + x2), 3 * (x1 - x0), minMax);\n    this.#getExtremum(x0, x1, x2, x3, y0, y1, y2, y3, 3 * (-y0 + 3 * (y1 - y2) + y3), 6 * (y0 - 2 * y1 + y2), 3 * (y1 - y0), minMax);\n  }\n}\nconst PDFStringTranslateTable = (/* unused pure expression or super */ null && ([0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0x2d8, 0x2c7, 0x2c6, 0x2d9, 0x2dd, 0x2db, 0x2da, 0x2dc, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0x2022, 0x2020, 0x2021, 0x2026, 0x2014, 0x2013, 0x192, 0x2044, 0x2039, 0x203a, 0x2212, 0x2030, 0x201e, 0x201c, 0x201d, 0x2018, 0x2019, 0x201a, 0x2122, 0xfb01, 0xfb02, 0x141, 0x152, 0x160, 0x178, 0x17d, 0x131, 0x142, 0x153, 0x161, 0x17e, 0, 0x20ac]));\nfunction stringToPDFString(str, keepEscapeSequence = false) {\n  if (str[0] >= \"\\xEF\") {\n    let encoding;\n    if (str[0] === \"\\xFE\" && str[1] === \"\\xFF\") {\n      encoding = \"utf-16be\";\n      if (str.length % 2 === 1) {\n        str = str.slice(0, -1);\n      }\n    } else if (str[0] === \"\\xFF\" && str[1] === \"\\xFE\") {\n      encoding = \"utf-16le\";\n      if (str.length % 2 === 1) {\n        str = str.slice(0, -1);\n      }\n    } else if (str[0] === \"\\xEF\" && str[1] === \"\\xBB\" && str[2] === \"\\xBF\") {\n      encoding = \"utf-8\";\n    }\n    if (encoding) {\n      try {\n        const decoder = new TextDecoder(encoding, {\n          fatal: true\n        });\n        const buffer = stringToBytes(str);\n        const decoded = decoder.decode(buffer);\n        if (keepEscapeSequence || !decoded.includes(\"\\x1b\")) {\n          return decoded;\n        }\n        return decoded.replaceAll(/\\x1b[^\\x1b]*(?:\\x1b|$)/g, \"\");\n      } catch (ex) {\n        warn(`stringToPDFString: \"${ex}\".`);\n      }\n    }\n  }\n  const strBuf = [];\n  for (let i = 0, ii = str.length; i < ii; i++) {\n    const charCode = str.charCodeAt(i);\n    if (!keepEscapeSequence && charCode === 0x1b) {\n      while (++i < ii && str.charCodeAt(i) !== 0x1b) {}\n      continue;\n    }\n    const code = PDFStringTranslateTable[charCode];\n    strBuf.push(code ? String.fromCharCode(code) : str.charAt(i));\n  }\n  return strBuf.join(\"\");\n}\nfunction stringToUTF8String(str) {\n  return decodeURIComponent(escape(str));\n}\nfunction utf8StringToString(str) {\n  return unescape(encodeURIComponent(str));\n}\nfunction isArrayEqual(arr1, arr2) {\n  if (arr1.length !== arr2.length) {\n    return false;\n  }\n  for (let i = 0, ii = arr1.length; i < ii; i++) {\n    if (arr1[i] !== arr2[i]) {\n      return false;\n    }\n  }\n  return true;\n}\nfunction getModificationDate(date = new Date()) {\n  if (!(date instanceof Date)) {\n    date = new Date(date);\n  }\n  const buffer = [date.getUTCFullYear().toString(), (date.getUTCMonth() + 1).toString().padStart(2, \"0\"), date.getUTCDate().toString().padStart(2, \"0\"), date.getUTCHours().toString().padStart(2, \"0\"), date.getUTCMinutes().toString().padStart(2, \"0\"), date.getUTCSeconds().toString().padStart(2, \"0\")];\n  return buffer.join(\"\");\n}\nlet NormalizeRegex = null;\nlet NormalizationMap = null;\nfunction normalizeUnicode(str) {\n  if (!NormalizeRegex) {\n    NormalizeRegex = /([\\u00a0\\u00b5\\u037e\\u0eb3\\u2000-\\u200a\\u202f\\u2126\\ufb00-\\ufb04\\ufb06\\ufb20-\\ufb36\\ufb38-\\ufb3c\\ufb3e\\ufb40-\\ufb41\\ufb43-\\ufb44\\ufb46-\\ufba1\\ufba4-\\ufba9\\ufbae-\\ufbb1\\ufbd3-\\ufbdc\\ufbde-\\ufbe7\\ufbea-\\ufbf8\\ufbfc-\\ufbfd\\ufc00-\\ufc5d\\ufc64-\\ufcf1\\ufcf5-\\ufd3d\\ufd88\\ufdf4\\ufdfa-\\ufdfb\\ufe71\\ufe77\\ufe79\\ufe7b\\ufe7d]+)|(\\ufb05+)/gu;\n    NormalizationMap = new Map([[\"\", \"t\"]]);\n  }\n  return str.replaceAll(NormalizeRegex, (_, p1, p2) => p1 ? p1.normalize(\"NFKC\") : NormalizationMap.get(p2));\n}\nfunction getUuid() {\n  if (typeof crypto.randomUUID === \"function\") {\n    return crypto.randomUUID();\n  }\n  const buf = new Uint8Array(32);\n  crypto.getRandomValues(buf);\n  return bytesToString(buf);\n}\nconst AnnotationPrefix = \"pdfjs_internal_id_\";\nfunction _isValidExplicitDest(validRef, validName, dest) {\n  if (!Array.isArray(dest) || dest.length < 2) {\n    return false;\n  }\n  const [page, zoom, ...args] = dest;\n  if (!validRef(page) && !Number.isInteger(page)) {\n    return false;\n  }\n  if (!validName(zoom)) {\n    return false;\n  }\n  const argsLen = args.length;\n  let allowNull = true;\n  switch (zoom.name) {\n    case \"XYZ\":\n      if (argsLen < 2 || argsLen > 3) {\n        return false;\n      }\n      break;\n    case \"Fit\":\n    case \"FitB\":\n      return argsLen === 0;\n    case \"FitH\":\n    case \"FitBH\":\n    case \"FitV\":\n    case \"FitBV\":\n      if (argsLen > 1) {\n        return false;\n      }\n      break;\n    case \"FitR\":\n      if (argsLen !== 4) {\n        return false;\n      }\n      allowNull = false;\n      break;\n    default:\n      return false;\n  }\n  for (const arg of args) {\n    if (typeof arg === \"number\" || allowNull && arg === null) {\n      continue;\n    }\n    return false;\n  }\n  return true;\n}\nfunction MathClamp(v, min, max) {\n  return Math.min(Math.max(v, min), max);\n}\nfunction toHexUtil(arr) {\n  if (Uint8Array.prototype.toHex) {\n    return arr.toHex();\n  }\n  return Array.from(arr, num => hexNumbers[num]).join(\"\");\n}\nfunction toBase64Util(arr) {\n  if (Uint8Array.prototype.toBase64) {\n    return arr.toBase64();\n  }\n  return btoa(bytesToString(arr));\n}\nfunction fromBase64Util(str) {\n  if (Uint8Array.fromBase64) {\n    return Uint8Array.fromBase64(str);\n  }\n  return stringToBytes(atob(str));\n}\nif (typeof Promise.try !== \"function\") {\n  Promise.try = function (fn, ...args) {\n    return new Promise(resolve => {\n      resolve(fn(...args));\n    });\n  };\n}\nif (typeof Math.sumPrecise !== \"function\") {\n  Math.sumPrecise = function (numbers) {\n    return numbers.reduce((a, b) => a + b, 0);\n  };\n}\n\n;// ./src/display/xfa_text.js\nclass XfaText {\n  static textContent(xfa) {\n    const items = [];\n    const output = {\n      items,\n      styles: Object.create(null)\n    };\n    function walk(node) {\n      if (!node) {\n        return;\n      }\n      let str = null;\n      const name = node.name;\n      if (name === \"#text\") {\n        str = node.value;\n      } else if (!XfaText.shouldBuildText(name)) {\n        return;\n      } else if (node?.attributes?.textContent) {\n        str = node.attributes.textContent;\n      } else if (node.value) {\n        str = node.value;\n      }\n      if (str !== null) {\n        items.push({\n          str\n        });\n      }\n      if (!node.children) {\n        return;\n      }\n      for (const child of node.children) {\n        walk(child);\n      }\n    }\n    walk(xfa);\n    return output;\n  }\n  static shouldBuildText(name) {\n    return !(name === \"textarea\" || name === \"input\" || name === \"option\" || name === \"select\");\n  }\n}\n\n;// ./src/display/xfa_layer.js\n\nclass XfaLayer {\n  static setupStorage(html, id, element, storage, intent) {\n    const storedData = storage.getValue(id, {\n      value: null\n    });\n    switch (element.name) {\n      case \"textarea\":\n        if (storedData.value !== null) {\n          html.textContent = storedData.value;\n        }\n        if (intent === \"print\") {\n          break;\n        }\n        html.addEventListener(\"input\", event => {\n          storage.setValue(id, {\n            value: event.target.value\n          });\n        });\n        break;\n      case \"input\":\n        if (element.attributes.type === \"radio\" || element.attributes.type === \"checkbox\") {\n          if (storedData.value === element.attributes.xfaOn) {\n            html.setAttribute(\"checked\", true);\n          } else if (storedData.value === element.attributes.xfaOff) {\n            html.removeAttribute(\"checked\");\n          }\n          if (intent === \"print\") {\n            break;\n          }\n          html.addEventListener(\"change\", event => {\n            storage.setValue(id, {\n              value: event.target.checked ? event.target.getAttribute(\"xfaOn\") : event.target.getAttribute(\"xfaOff\")\n            });\n          });\n        } else {\n          if (storedData.value !== null) {\n            html.setAttribute(\"value\", storedData.value);\n          }\n          if (intent === \"print\") {\n            break;\n          }\n          html.addEventListener(\"input\", event => {\n            storage.setValue(id, {\n              value: event.target.value\n            });\n          });\n        }\n        break;\n      case \"select\":\n        if (storedData.value !== null) {\n          html.setAttribute(\"value\", storedData.value);\n          for (const option of element.children) {\n            if (option.attributes.value === storedData.value) {\n              option.attributes.selected = true;\n            } else if (option.attributes.hasOwnProperty(\"selected\")) {\n              delete option.attributes.selected;\n            }\n          }\n        }\n        html.addEventListener(\"input\", event => {\n          const options = event.target.options;\n          const value = options.selectedIndex === -1 ? \"\" : options[options.selectedIndex].value;\n          storage.setValue(id, {\n            value\n          });\n        });\n        break;\n    }\n  }\n  static setAttributes({\n    html,\n    element,\n    storage = null,\n    intent,\n    linkService\n  }) {\n    const {\n      attributes\n    } = element;\n    const isHTMLAnchorElement = html instanceof HTMLAnchorElement;\n    if (attributes.type === \"radio\") {\n      attributes.name = `${attributes.name}-${intent}`;\n    }\n    for (const [key, value] of Object.entries(attributes)) {\n      if (value === null || value === undefined) {\n        continue;\n      }\n      switch (key) {\n        case \"class\":\n          if (value.length) {\n            html.setAttribute(key, value.join(\" \"));\n          }\n          break;\n        case \"dataId\":\n          break;\n        case \"id\":\n          html.setAttribute(\"data-element-id\", value);\n          break;\n        case \"style\":\n          Object.assign(html.style, value);\n          break;\n        case \"textContent\":\n          html.textContent = value;\n          break;\n        default:\n          if (!isHTMLAnchorElement || key !== \"href\" && key !== \"newWindow\") {\n            html.setAttribute(key, value);\n          }\n      }\n    }\n    if (isHTMLAnchorElement) {\n      linkService.addLinkAttributes(html, attributes.href, attributes.newWindow);\n    }\n    if (storage && attributes.dataId) {\n      this.setupStorage(html, attributes.dataId, element, storage);\n    }\n  }\n  static render(parameters) {\n    const storage = parameters.annotationStorage;\n    const linkService = parameters.linkService;\n    const root = parameters.xfaHtml;\n    const intent = parameters.intent || \"display\";\n    const rootHtml = document.createElement(root.name);\n    if (root.attributes) {\n      this.setAttributes({\n        html: rootHtml,\n        element: root,\n        intent,\n        linkService\n      });\n    }\n    const isNotForRichText = intent !== \"richText\";\n    const rootDiv = parameters.div;\n    rootDiv.append(rootHtml);\n    if (parameters.viewport) {\n      const transform = `matrix(${parameters.viewport.transform.join(\",\")})`;\n      rootDiv.style.transform = transform;\n    }\n    if (isNotForRichText) {\n      rootDiv.setAttribute(\"class\", \"xfaLayer xfaFont\");\n    }\n    const textDivs = [];\n    if (root.children.length === 0) {\n      if (root.value) {\n        const node = document.createTextNode(root.value);\n        rootHtml.append(node);\n        if (isNotForRichText && XfaText.shouldBuildText(root.name)) {\n          textDivs.push(node);\n        }\n      }\n      return {\n        textDivs\n      };\n    }\n    const stack = [[root, -1, rootHtml]];\n    while (stack.length > 0) {\n      const [parent, i, html] = stack.at(-1);\n      if (i + 1 === parent.children.length) {\n        stack.pop();\n        continue;\n      }\n      const child = parent.children[++stack.at(-1)[1]];\n      if (child === null) {\n        continue;\n      }\n      const {\n        name\n      } = child;\n      if (name === \"#text\") {\n        const node = document.createTextNode(child.value);\n        textDivs.push(node);\n        html.append(node);\n        continue;\n      }\n      const childHtml = child?.attributes?.xmlns ? document.createElementNS(child.attributes.xmlns, name) : document.createElement(name);\n      html.append(childHtml);\n      if (child.attributes) {\n        this.setAttributes({\n          html: childHtml,\n          element: child,\n          storage,\n          intent,\n          linkService\n        });\n      }\n      if (child.children?.length > 0) {\n        stack.push([child, -1, childHtml]);\n      } else if (child.value) {\n        const node = document.createTextNode(child.value);\n        if (isNotForRichText && XfaText.shouldBuildText(name)) {\n          textDivs.push(node);\n        }\n        childHtml.append(node);\n      }\n    }\n    for (const el of rootDiv.querySelectorAll(\".xfaNonInteractive input, .xfaNonInteractive textarea\")) {\n      el.setAttribute(\"readOnly\", true);\n    }\n    return {\n      textDivs\n    };\n  }\n  static update(parameters) {\n    const transform = `matrix(${parameters.viewport.transform.join(\",\")})`;\n    parameters.div.style.transform = transform;\n    parameters.div.hidden = false;\n  }\n}\n\n;// ./src/display/display_utils.js\n\n\nconst SVG_NS = \"http://www.w3.org/2000/svg\";\nclass PixelsPerInch {\n  static CSS = 96.0;\n  static PDF = 72.0;\n  static PDF_TO_CSS_UNITS = this.CSS / this.PDF;\n}\nasync function fetchData(url, type = \"text\") {\n  if (isValidFetchUrl(url, document.baseURI)) {\n    const response = await fetch(url);\n    if (!response.ok) {\n      throw new Error(response.statusText);\n    }\n    switch (type) {\n      case \"arraybuffer\":\n        return response.arrayBuffer();\n      case \"blob\":\n        return response.blob();\n      case \"json\":\n        return response.json();\n    }\n    return response.text();\n  }\n  return new Promise((resolve, reject) => {\n    const request = new XMLHttpRequest();\n    request.open(\"GET\", url, true);\n    request.responseType = type;\n    request.onreadystatechange = () => {\n      if (request.readyState !== XMLHttpRequest.DONE) {\n        return;\n      }\n      if (request.status === 200 || request.status === 0) {\n        switch (type) {\n          case \"arraybuffer\":\n          case \"blob\":\n          case \"json\":\n            resolve(request.response);\n            return;\n        }\n        resolve(request.responseText);\n        return;\n      }\n      reject(new Error(request.statusText));\n    };\n    request.send(null);\n  });\n}\nclass PageViewport {\n  constructor({\n    viewBox,\n    userUnit,\n    scale,\n    rotation,\n    offsetX = 0,\n    offsetY = 0,\n    dontFlip = false\n  }) {\n    this.viewBox = viewBox;\n    this.userUnit = userUnit;\n    this.scale = scale;\n    this.rotation = rotation;\n    this.offsetX = offsetX;\n    this.offsetY = offsetY;\n    scale *= userUnit;\n    const centerX = (viewBox[2] + viewBox[0]) / 2;\n    const centerY = (viewBox[3] + viewBox[1]) / 2;\n    let rotateA, rotateB, rotateC, rotateD;\n    rotation %= 360;\n    if (rotation < 0) {\n      rotation += 360;\n    }\n    switch (rotation) {\n      case 180:\n        rotateA = -1;\n        rotateB = 0;\n        rotateC = 0;\n        rotateD = 1;\n        break;\n      case 90:\n        rotateA = 0;\n        rotateB = 1;\n        rotateC = 1;\n        rotateD = 0;\n        break;\n      case 270:\n        rotateA = 0;\n        rotateB = -1;\n        rotateC = -1;\n        rotateD = 0;\n        break;\n      case 0:\n        rotateA = 1;\n        rotateB = 0;\n        rotateC = 0;\n        rotateD = -1;\n        break;\n      default:\n        throw new Error(\"PageViewport: Invalid rotation, must be a multiple of 90 degrees.\");\n    }\n    if (dontFlip) {\n      rotateC = -rotateC;\n      rotateD = -rotateD;\n    }\n    let offsetCanvasX, offsetCanvasY;\n    let width, height;\n    if (rotateA === 0) {\n      offsetCanvasX = Math.abs(centerY - viewBox[1]) * scale + offsetX;\n      offsetCanvasY = Math.abs(centerX - viewBox[0]) * scale + offsetY;\n      width = (viewBox[3] - viewBox[1]) * scale;\n      height = (viewBox[2] - viewBox[0]) * scale;\n    } else {\n      offsetCanvasX = Math.abs(centerX - viewBox[0]) * scale + offsetX;\n      offsetCanvasY = Math.abs(centerY - viewBox[1]) * scale + offsetY;\n      width = (viewBox[2] - viewBox[0]) * scale;\n      height = (viewBox[3] - viewBox[1]) * scale;\n    }\n    this.transform = [rotateA * scale, rotateB * scale, rotateC * scale, rotateD * scale, offsetCanvasX - rotateA * scale * centerX - rotateC * scale * centerY, offsetCanvasY - rotateB * scale * centerX - rotateD * scale * centerY];\n    this.width = width;\n    this.height = height;\n  }\n  get rawDims() {\n    const dims = this.viewBox;\n    return shadow(this, \"rawDims\", {\n      pageWidth: dims[2] - dims[0],\n      pageHeight: dims[3] - dims[1],\n      pageX: dims[0],\n      pageY: dims[1]\n    });\n  }\n  clone({\n    scale = this.scale,\n    rotation = this.rotation,\n    offsetX = this.offsetX,\n    offsetY = this.offsetY,\n    dontFlip = false\n  } = {}) {\n    return new PageViewport({\n      viewBox: this.viewBox.slice(),\n      userUnit: this.userUnit,\n      scale,\n      rotation,\n      offsetX,\n      offsetY,\n      dontFlip\n    });\n  }\n  convertToViewportPoint(x, y) {\n    const p = [x, y];\n    Util.applyTransform(p, this.transform);\n    return p;\n  }\n  convertToViewportRectangle(rect) {\n    const topLeft = [rect[0], rect[1]];\n    Util.applyTransform(topLeft, this.transform);\n    const bottomRight = [rect[2], rect[3]];\n    Util.applyTransform(bottomRight, this.transform);\n    return [topLeft[0], topLeft[1], bottomRight[0], bottomRight[1]];\n  }\n  convertToPdfPoint(x, y) {\n    const p = [x, y];\n    Util.applyInverseTransform(p, this.transform);\n    return p;\n  }\n}\nclass RenderingCancelledException extends BaseException {\n  constructor(msg, extraDelay = 0) {\n    super(msg, \"RenderingCancelledException\");\n    this.extraDelay = extraDelay;\n  }\n}\nfunction isDataScheme(url) {\n  const ii = url.length;\n  let i = 0;\n  while (i < ii && url[i].trim() === \"\") {\n    i++;\n  }\n  return url.substring(i, i + 5).toLowerCase() === \"data:\";\n}\nfunction isPdfFile(filename) {\n  return typeof filename === \"string\" && /\\.pdf$/i.test(filename);\n}\nfunction getFilenameFromUrl(url) {\n  [url] = url.split(/[#?]/, 1);\n  return url.substring(url.lastIndexOf(\"/\") + 1);\n}\nfunction getPdfFilenameFromUrl(url, defaultFilename = \"document.pdf\") {\n  if (typeof url !== \"string\") {\n    return defaultFilename;\n  }\n  if (isDataScheme(url)) {\n    warn('getPdfFilenameFromUrl: ignore \"data:\"-URL for performance reasons.');\n    return defaultFilename;\n  }\n  const getURL = urlString => {\n    try {\n      return new URL(urlString);\n    } catch {\n      try {\n        return new URL(decodeURIComponent(urlString));\n      } catch {\n        try {\n          return new URL(urlString, \"https://foo.bar\");\n        } catch {\n          try {\n            return new URL(decodeURIComponent(urlString), \"https://foo.bar\");\n          } catch {\n            return null;\n          }\n        }\n      }\n    }\n  };\n  const newURL = getURL(url);\n  if (!newURL) {\n    return defaultFilename;\n  }\n  const decode = name => {\n    try {\n      let decoded = decodeURIComponent(name);\n      if (decoded.includes(\"/\")) {\n        decoded = decoded.split(\"/\").at(-1);\n        if (decoded.test(/^\\.pdf$/i)) {\n          return decoded;\n        }\n        return name;\n      }\n      return decoded;\n    } catch {\n      return name;\n    }\n  };\n  const pdfRegex = /\\.pdf$/i;\n  const filename = newURL.pathname.split(\"/\").at(-1);\n  if (pdfRegex.test(filename)) {\n    return decode(filename);\n  }\n  if (newURL.searchParams.size > 0) {\n    const values = Array.from(newURL.searchParams.values()).reverse();\n    for (const value of values) {\n      if (pdfRegex.test(value)) {\n        return decode(value);\n      }\n    }\n    const keys = Array.from(newURL.searchParams.keys()).reverse();\n    for (const key of keys) {\n      if (pdfRegex.test(key)) {\n        return decode(key);\n      }\n    }\n  }\n  if (newURL.hash) {\n    const reFilename = /[^/?#=]+\\.pdf\\b(?!.*\\.pdf\\b)/i;\n    const hashFilename = reFilename.exec(newURL.hash);\n    if (hashFilename) {\n      return decode(hashFilename[0]);\n    }\n  }\n  return defaultFilename;\n}\nclass StatTimer {\n  started = Object.create(null);\n  times = [];\n  time(name) {\n    if (name in this.started) {\n      warn(`Timer is already running for ${name}`);\n    }\n    this.started[name] = Date.now();\n  }\n  timeEnd(name) {\n    if (!(name in this.started)) {\n      warn(`Timer has not been started for ${name}`);\n    }\n    this.times.push({\n      name,\n      start: this.started[name],\n      end: Date.now()\n    });\n    delete this.started[name];\n  }\n  toString() {\n    const outBuf = [];\n    let longest = 0;\n    for (const {\n      name\n    } of this.times) {\n      longest = Math.max(name.length, longest);\n    }\n    for (const {\n      name,\n      start,\n      end\n    } of this.times) {\n      outBuf.push(`${name.padEnd(longest)} ${end - start}ms\\n`);\n    }\n    return outBuf.join(\"\");\n  }\n}\nfunction isValidFetchUrl(url, baseUrl) {\n  const res = baseUrl ? URL.parse(url, baseUrl) : URL.parse(url);\n  return res?.protocol === \"http:\" || res?.protocol === \"https:\";\n}\nfunction noContextMenu(e) {\n  e.preventDefault();\n}\nfunction stopEvent(e) {\n  e.preventDefault();\n  e.stopPropagation();\n}\nfunction deprecated(details) {\n  console.log(\"Deprecated API usage: \" + details);\n}\nclass PDFDateString {\n  static #regex;\n  static toDateObject(input) {\n    if (input instanceof Date) {\n      return input;\n    }\n    if (!input || typeof input !== \"string\") {\n      return null;\n    }\n    this.#regex ||= new RegExp(\"^D:\" + \"(\\\\d{4})\" + \"(\\\\d{2})?\" + \"(\\\\d{2})?\" + \"(\\\\d{2})?\" + \"(\\\\d{2})?\" + \"(\\\\d{2})?\" + \"([Z|+|-])?\" + \"(\\\\d{2})?\" + \"'?\" + \"(\\\\d{2})?\" + \"'?\");\n    const matches = this.#regex.exec(input);\n    if (!matches) {\n      return null;\n    }\n    const year = parseInt(matches[1], 10);\n    let month = parseInt(matches[2], 10);\n    month = month >= 1 && month <= 12 ? month - 1 : 0;\n    let day = parseInt(matches[3], 10);\n    day = day >= 1 && day <= 31 ? day : 1;\n    let hour = parseInt(matches[4], 10);\n    hour = hour >= 0 && hour <= 23 ? hour : 0;\n    let minute = parseInt(matches[5], 10);\n    minute = minute >= 0 && minute <= 59 ? minute : 0;\n    let second = parseInt(matches[6], 10);\n    second = second >= 0 && second <= 59 ? second : 0;\n    const universalTimeRelation = matches[7] || \"Z\";\n    let offsetHour = parseInt(matches[8], 10);\n    offsetHour = offsetHour >= 0 && offsetHour <= 23 ? offsetHour : 0;\n    let offsetMinute = parseInt(matches[9], 10) || 0;\n    offsetMinute = offsetMinute >= 0 && offsetMinute <= 59 ? offsetMinute : 0;\n    if (universalTimeRelation === \"-\") {\n      hour += offsetHour;\n      minute += offsetMinute;\n    } else if (universalTimeRelation === \"+\") {\n      hour -= offsetHour;\n      minute -= offsetMinute;\n    }\n    return new Date(Date.UTC(year, month, day, hour, minute, second));\n  }\n}\nfunction getXfaPageViewport(xfaPage, {\n  scale = 1,\n  rotation = 0\n}) {\n  const {\n    width,\n    height\n  } = xfaPage.attributes.style;\n  const viewBox = [0, 0, parseInt(width), parseInt(height)];\n  return new PageViewport({\n    viewBox,\n    userUnit: 1,\n    scale,\n    rotation\n  });\n}\nfunction getRGB(color) {\n  if (color.startsWith(\"#\")) {\n    const colorRGB = parseInt(color.slice(1), 16);\n    return [(colorRGB & 0xff0000) >> 16, (colorRGB & 0x00ff00) >> 8, colorRGB & 0x0000ff];\n  }\n  if (color.startsWith(\"rgb(\")) {\n    return color.slice(4, -1).split(\",\").map(x => parseInt(x));\n  }\n  if (color.startsWith(\"rgba(\")) {\n    return color.slice(5, -1).split(\",\").map(x => parseInt(x)).slice(0, 3);\n  }\n  warn(`Not a valid color format: \"${color}\"`);\n  return [0, 0, 0];\n}\nfunction getColorValues(colors) {\n  const span = document.createElement(\"span\");\n  span.style.visibility = \"hidden\";\n  span.style.colorScheme = \"only light\";\n  document.body.append(span);\n  for (const name of colors.keys()) {\n    span.style.color = name;\n    const computedColor = window.getComputedStyle(span).color;\n    colors.set(name, getRGB(computedColor));\n  }\n  span.remove();\n}\nfunction getCurrentTransform(ctx) {\n  const {\n    a,\n    b,\n    c,\n    d,\n    e,\n    f\n  } = ctx.getTransform();\n  return [a, b, c, d, e, f];\n}\nfunction getCurrentTransformInverse(ctx) {\n  const {\n    a,\n    b,\n    c,\n    d,\n    e,\n    f\n  } = ctx.getTransform().invertSelf();\n  return [a, b, c, d, e, f];\n}\nfunction setLayerDimensions(div, viewport, mustFlip = false, mustRotate = true) {\n  if (viewport instanceof PageViewport) {\n    const {\n      pageWidth,\n      pageHeight\n    } = viewport.rawDims;\n    const {\n      style\n    } = div;\n    const useRound = util_FeatureTest.isCSSRoundSupported;\n    const w = `var(--total-scale-factor) * ${pageWidth}px`,\n      h = `var(--total-scale-factor) * ${pageHeight}px`;\n    const widthStr = useRound ? `round(down, ${w}, var(--scale-round-x))` : `calc(${w})`,\n      heightStr = useRound ? `round(down, ${h}, var(--scale-round-y))` : `calc(${h})`;\n    if (!mustFlip || viewport.rotation % 180 === 0) {\n      style.width = widthStr;\n      style.height = heightStr;\n    } else {\n      style.width = heightStr;\n      style.height = widthStr;\n    }\n  }\n  if (mustRotate) {\n    div.setAttribute(\"data-main-rotation\", viewport.rotation);\n  }\n}\nclass OutputScale {\n  constructor() {\n    const {\n      pixelRatio\n    } = OutputScale;\n    this.sx = pixelRatio;\n    this.sy = pixelRatio;\n  }\n  get scaled() {\n    return this.sx !== 1 || this.sy !== 1;\n  }\n  get symmetric() {\n    return this.sx === this.sy;\n  }\n  limitCanvas(width, height, maxPixels, maxDim, capAreaFactor = -1) {\n    let maxAreaScale = Infinity,\n      maxWidthScale = Infinity,\n      maxHeightScale = Infinity;\n    maxPixels = OutputScale.capPixels(maxPixels, capAreaFactor);\n    if (maxPixels > 0) {\n      maxAreaScale = Math.sqrt(maxPixels / (width * height));\n    }\n    if (maxDim !== -1) {\n      maxWidthScale = maxDim / width;\n      maxHeightScale = maxDim / height;\n    }\n    const maxScale = Math.min(maxAreaScale, maxWidthScale, maxHeightScale);\n    if (this.sx > maxScale || this.sy > maxScale) {\n      this.sx = maxScale;\n      this.sy = maxScale;\n      return true;\n    }\n    return false;\n  }\n  static get pixelRatio() {\n    return globalThis.devicePixelRatio || 1;\n  }\n  static capPixels(maxPixels, capAreaFactor) {\n    if (capAreaFactor >= 0) {\n      const winPixels = Math.ceil(window.screen.availWidth * window.screen.availHeight * this.pixelRatio ** 2 * (1 + capAreaFactor / 100));\n      return maxPixels > 0 ? Math.min(maxPixels, winPixels) : winPixels;\n    }\n    return maxPixels;\n  }\n}\nconst SupportedImageMimeTypes = [\"image/apng\", \"image/avif\", \"image/bmp\", \"image/gif\", \"image/jpeg\", \"image/png\", \"image/svg+xml\", \"image/webp\", \"image/x-icon\"];\nclass ColorScheme {\n  static get isDarkMode() {\n    return shadow(this, \"isDarkMode\", !!window?.matchMedia?.(\"(prefers-color-scheme: dark)\").matches);\n  }\n}\nclass CSSConstants {\n  static get commentForegroundColor() {\n    const element = document.createElement(\"span\");\n    element.classList.add(\"comment\", \"sidebar\");\n    const {\n      style\n    } = element;\n    style.width = style.height = \"0\";\n    style.display = \"none\";\n    style.color = \"var(--comment-fg-color)\";\n    document.body.append(element);\n    const {\n      color\n    } = window.getComputedStyle(element);\n    element.remove();\n    return shadow(this, \"commentForegroundColor\", getRGB(color));\n  }\n}\nfunction applyOpacity(r, g, b, opacity) {\n  opacity = Math.min(Math.max(opacity ?? 1, 0), 1);\n  const white = 255 * (1 - opacity);\n  r = Math.round(r * opacity + white);\n  g = Math.round(g * opacity + white);\n  b = Math.round(b * opacity + white);\n  return [r, g, b];\n}\nfunction RGBToHSL(rgb, output) {\n  const r = rgb[0] / 255;\n  const g = rgb[1] / 255;\n  const b = rgb[2] / 255;\n  const max = Math.max(r, g, b);\n  const min = Math.min(r, g, b);\n  const l = (max + min) / 2;\n  if (max === min) {\n    output[0] = output[1] = 0;\n  } else {\n    const d = max - min;\n    output[1] = l < 0.5 ? d / (max + min) : d / (2 - max - min);\n    switch (max) {\n      case r:\n        output[0] = ((g - b) / d + (g < b ? 6 : 0)) * 60;\n        break;\n      case g:\n        output[0] = ((b - r) / d + 2) * 60;\n        break;\n      case b:\n        output[0] = ((r - g) / d + 4) * 60;\n        break;\n    }\n  }\n  output[2] = l;\n}\nfunction HSLToRGB(hsl, output) {\n  const h = hsl[0];\n  const s = hsl[1];\n  const l = hsl[2];\n  const c = (1 - Math.abs(2 * l - 1)) * s;\n  const x = c * (1 - Math.abs(h / 60 % 2 - 1));\n  const m = l - c / 2;\n  switch (Math.floor(h / 60)) {\n    case 0:\n      output[0] = c + m;\n      output[1] = x + m;\n      output[2] = m;\n      break;\n    case 1:\n      output[0] = x + m;\n      output[1] = c + m;\n      output[2] = m;\n      break;\n    case 2:\n      output[0] = m;\n      output[1] = c + m;\n      output[2] = x + m;\n      break;\n    case 3:\n      output[0] = m;\n      output[1] = x + m;\n      output[2] = c + m;\n      break;\n    case 4:\n      output[0] = x + m;\n      output[1] = m;\n      output[2] = c + m;\n      break;\n    case 5:\n    case 6:\n      output[0] = c + m;\n      output[1] = m;\n      output[2] = x + m;\n      break;\n  }\n}\nfunction computeLuminance(x) {\n  return x <= 0.03928 ? x / 12.92 : ((x + 0.055) / 1.055) ** 2.4;\n}\nfunction contrastRatio(hsl1, hsl2, output) {\n  HSLToRGB(hsl1, output);\n  output.map(computeLuminance);\n  const lum1 = 0.2126 * output[0] + 0.7152 * output[1] + 0.0722 * output[2];\n  HSLToRGB(hsl2, output);\n  output.map(computeLuminance);\n  const lum2 = 0.2126 * output[0] + 0.7152 * output[1] + 0.0722 * output[2];\n  return lum1 > lum2 ? (lum1 + 0.05) / (lum2 + 0.05) : (lum2 + 0.05) / (lum1 + 0.05);\n}\nconst contrastCache = new Map();\nfunction findContrastColor(baseColor, fixedColor) {\n  const key = baseColor[0] + baseColor[1] * 0x100 + baseColor[2] * 0x10000 + fixedColor[0] * 0x1000000 + fixedColor[1] * 0x100000000 + fixedColor[2] * 0x10000000000;\n  let cachedValue = contrastCache.get(key);\n  if (cachedValue) {\n    return cachedValue;\n  }\n  const array = new Float32Array(9);\n  const output = array.subarray(0, 3);\n  const baseHSL = array.subarray(3, 6);\n  RGBToHSL(baseColor, baseHSL);\n  const fixedHSL = array.subarray(6, 9);\n  RGBToHSL(fixedColor, fixedHSL);\n  const isFixedColorDark = fixedHSL[2] < 0.5;\n  const minContrast = isFixedColorDark ? 12 : 4.5;\n  baseHSL[2] = isFixedColorDark ? Math.sqrt(baseHSL[2]) : 1 - Math.sqrt(1 - baseHSL[2]);\n  if (contrastRatio(baseHSL, fixedHSL, output) < minContrast) {\n    let start, end;\n    if (isFixedColorDark) {\n      start = baseHSL[2];\n      end = 1;\n    } else {\n      start = 0;\n      end = baseHSL[2];\n    }\n    const PRECISION = 0.005;\n    while (end - start > PRECISION) {\n      const mid = baseHSL[2] = (start + end) / 2;\n      if (isFixedColorDark === contrastRatio(baseHSL, fixedHSL, output) < minContrast) {\n        start = mid;\n      } else {\n        end = mid;\n      }\n    }\n    baseHSL[2] = isFixedColorDark ? end : start;\n  }\n  HSLToRGB(baseHSL, output);\n  cachedValue = Util.makeHexColor(Math.round(output[0] * 255), Math.round(output[1] * 255), Math.round(output[2] * 255));\n  contrastCache.set(key, cachedValue);\n  return cachedValue;\n}\nfunction renderRichText({\n  html,\n  dir,\n  className\n}, container) {\n  const fragment = document.createDocumentFragment();\n  if (typeof html === \"string\") {\n    const p = document.createElement(\"p\");\n    p.dir = dir || \"auto\";\n    const lines = html.split(/(?:\\r\\n?|\\n)/);\n    for (let i = 0, ii = lines.length; i < ii; ++i) {\n      const line = lines[i];\n      p.append(document.createTextNode(line));\n      if (i < ii - 1) {\n        p.append(document.createElement(\"br\"));\n      }\n    }\n    fragment.append(p);\n  } else {\n    XfaLayer.render({\n      xfaHtml: html,\n      div: fragment,\n      intent: \"richText\"\n    });\n  }\n  fragment.firstElementChild.classList.add(\"richText\", className);\n  container.append(fragment);\n}\nfunction makePathFromDrawOPS(data) {\n  const path = new Path2D();\n  if (!data) {\n    return path;\n  }\n  for (let i = 0, ii = data.length; i < ii;) {\n    switch (data[i++]) {\n      case DrawOPS.moveTo:\n        path.moveTo(data[i++], data[i++]);\n        break;\n      case DrawOPS.lineTo:\n        path.lineTo(data[i++], data[i++]);\n        break;\n      case DrawOPS.curveTo:\n        path.bezierCurveTo(data[i++], data[i++], data[i++], data[i++], data[i++], data[i++]);\n        break;\n      case DrawOPS.quadraticCurveTo:\n        path.quadraticCurveTo(data[i++], data[i++], data[i++], data[i++]);\n        break;\n      case DrawOPS.closePath:\n        path.closePath();\n        break;\n      default:\n        warn(`Unrecognized drawing path operator: ${data[i - 1]}`);\n        break;\n    }\n  }\n  return path;\n}\n\n;// ./src/display/editor/toolbar.js\n\nclass EditorToolbar {\n  #toolbar = null;\n  #colorPicker = null;\n  #editor;\n  #buttons = null;\n  #altText = null;\n  #comment = null;\n  #commentButtonDivider = null;\n  #signatureDescriptionButton = null;\n  static #l10nRemove = null;\n  constructor(editor) {\n    this.#editor = editor;\n    EditorToolbar.#l10nRemove ||= Object.freeze({\n      freetext: \"pdfjs-editor-remove-freetext-button\",\n      highlight: \"pdfjs-editor-remove-highlight-button\",\n      ink: \"pdfjs-editor-remove-ink-button\",\n      stamp: \"pdfjs-editor-remove-stamp-button\",\n      signature: \"pdfjs-editor-remove-signature-button\"\n    });\n  }\n  render() {\n    const editToolbar = this.#toolbar = document.createElement(\"div\");\n    editToolbar.classList.add(\"editToolbar\", \"hidden\");\n    editToolbar.setAttribute(\"role\", \"toolbar\");\n    const signal = this.#editor._uiManager._signal;\n    if (signal instanceof AbortSignal && !signal.aborted) {\n      editToolbar.addEventListener(\"contextmenu\", noContextMenu, {\n        signal\n      });\n      editToolbar.addEventListener(\"pointerdown\", EditorToolbar.#pointerDown, {\n        signal\n      });\n    }\n    const buttons = this.#buttons = document.createElement(\"div\");\n    buttons.className = \"buttons\";\n    editToolbar.append(buttons);\n    const position = this.#editor.toolbarPosition;\n    if (position) {\n      const {\n        style\n      } = editToolbar;\n      const x = this.#editor._uiManager.direction === \"ltr\" ? 1 - position[0] : position[0];\n      style.insetInlineEnd = `${100 * x}%`;\n      style.top = `calc(${100 * position[1]}% + var(--editor-toolbar-vert-offset))`;\n    }\n    return editToolbar;\n  }\n  get div() {\n    return this.#toolbar;\n  }\n  static #pointerDown(e) {\n    e.stopPropagation();\n  }\n  #focusIn(e) {\n    this.#editor._focusEventsAllowed = false;\n    stopEvent(e);\n  }\n  #focusOut(e) {\n    this.#editor._focusEventsAllowed = true;\n    stopEvent(e);\n  }\n  #addListenersToElement(element) {\n    const signal = this.#editor._uiManager._signal;\n    if (!(signal instanceof AbortSignal) || signal.aborted) {\n      return false;\n    }\n    element.addEventListener(\"focusin\", this.#focusIn.bind(this), {\n      capture: true,\n      signal\n    });\n    element.addEventListener(\"focusout\", this.#focusOut.bind(this), {\n      capture: true,\n      signal\n    });\n    element.addEventListener(\"contextmenu\", noContextMenu, {\n      signal\n    });\n    return true;\n  }\n  hide() {\n    this.#toolbar.classList.add(\"hidden\");\n    this.#colorPicker?.hideDropdown();\n  }\n  show() {\n    this.#toolbar.classList.remove(\"hidden\");\n    this.#altText?.shown();\n    this.#comment?.shown();\n  }\n  addDeleteButton() {\n    const {\n      editorType,\n      _uiManager\n    } = this.#editor;\n    const button = document.createElement(\"button\");\n    button.classList.add(\"basic\", \"deleteButton\");\n    button.tabIndex = 0;\n    button.setAttribute(\"data-l10n-id\", EditorToolbar.#l10nRemove[editorType]);\n    if (this.#addListenersToElement(button)) {\n      button.addEventListener(\"click\", e => {\n        _uiManager.delete();\n      }, {\n        signal: _uiManager._signal\n      });\n    }\n    this.#buttons.append(button);\n  }\n  get #divider() {\n    const divider = document.createElement(\"div\");\n    divider.className = \"divider\";\n    return divider;\n  }\n  async addAltText(altText) {\n    const button = await altText.render();\n    this.#addListenersToElement(button);\n    this.#buttons.append(button, this.#divider);\n    this.#altText = altText;\n  }\n  addComment(comment, beforeElement = null) {\n    if (this.#comment) {\n      return;\n    }\n    const button = comment.renderForToolbar();\n    if (!button) {\n      return;\n    }\n    this.#addListenersToElement(button);\n    const divider = this.#commentButtonDivider = this.#divider;\n    if (!beforeElement) {\n      this.#buttons.append(button, divider);\n    } else {\n      this.#buttons.insertBefore(button, beforeElement);\n      this.#buttons.insertBefore(divider, beforeElement);\n    }\n    this.#comment = comment;\n    comment.toolbar = this;\n  }\n  addColorPicker(colorPicker) {\n    if (this.#colorPicker) {\n      return;\n    }\n    this.#colorPicker = colorPicker;\n    const button = colorPicker.renderButton();\n    this.#addListenersToElement(button);\n    this.#buttons.append(button, this.#divider);\n  }\n  async addEditSignatureButton(signatureManager) {\n    const button = this.#signatureDescriptionButton = await signatureManager.renderEditButton(this.#editor);\n    this.#addListenersToElement(button);\n    this.#buttons.append(button, this.#divider);\n  }\n  removeButton(name) {\n    switch (name) {\n      case \"comment\":\n        this.#comment?.removeToolbarCommentButton();\n        this.#comment = null;\n        this.#commentButtonDivider?.remove();\n        this.#commentButtonDivider = null;\n        break;\n    }\n  }\n  async addButton(name, tool) {\n    switch (name) {\n      case \"colorPicker\":\n        if (tool) {\n          this.addColorPicker(tool);\n        }\n        break;\n      case \"altText\":\n        if (tool) {\n          await this.addAltText(tool);\n        }\n        break;\n      case \"editSignature\":\n        if (tool) {\n          await this.addEditSignatureButton(tool);\n        }\n        break;\n      case \"delete\":\n        this.addDeleteButton();\n        break;\n      case \"comment\":\n        if (tool) {\n          this.addComment(tool);\n        }\n        break;\n    }\n  }\n  async addButtonBefore(name, tool, beforeSelector) {\n    if (!tool && name === \"comment\") {\n      return;\n    }\n    const beforeElement = this.#buttons.querySelector(beforeSelector);\n    if (!beforeElement) {\n      return;\n    }\n    if (name === \"comment\") {\n      this.addComment(tool, beforeElement);\n    }\n  }\n  updateEditSignatureButton(description) {\n    if (this.#signatureDescriptionButton) {\n      this.#signatureDescriptionButton.title = description;\n    }\n  }\n  remove() {\n    this.#toolbar.remove();\n    this.#colorPicker?.destroy();\n    this.#colorPicker = null;\n  }\n}\nclass FloatingToolbar {\n  #buttons = null;\n  #toolbar = null;\n  #uiManager;\n  constructor(uiManager) {\n    this.#uiManager = uiManager;\n  }\n  #render() {\n    const editToolbar = this.#toolbar = document.createElement(\"div\");\n    editToolbar.className = \"editToolbar\";\n    editToolbar.setAttribute(\"role\", \"toolbar\");\n    const signal = this.#uiManager._signal;\n    if (signal instanceof AbortSignal && !signal.aborted) {\n      editToolbar.addEventListener(\"contextmenu\", noContextMenu, {\n        signal\n      });\n    }\n    const buttons = this.#buttons = document.createElement(\"div\");\n    buttons.className = \"buttons\";\n    editToolbar.append(buttons);\n    if (this.#uiManager.hasCommentManager()) {\n      this.#makeButton(\"commentButton\", `pdfjs-comment-floating-button`, \"pdfjs-comment-floating-button-label\", () => {\n        this.#uiManager.commentSelection(\"floating_button\");\n      });\n    }\n    this.#makeButton(\"highlightButton\", `pdfjs-highlight-floating-button1`, \"pdfjs-highlight-floating-button-label\", () => {\n      this.#uiManager.highlightSelection(\"floating_button\");\n    });\n    return editToolbar;\n  }\n  #getLastPoint(boxes, isLTR) {\n    let lastY = 0;\n    let lastX = 0;\n    for (const box of boxes) {\n      const y = box.y + box.height;\n      if (y < lastY) {\n        continue;\n      }\n      const x = box.x + (isLTR ? box.width : 0);\n      if (y > lastY) {\n        lastX = x;\n        lastY = y;\n        continue;\n      }\n      if (isLTR) {\n        if (x > lastX) {\n          lastX = x;\n        }\n      } else if (x < lastX) {\n        lastX = x;\n      }\n    }\n    return [isLTR ? 1 - lastX : lastX, lastY];\n  }\n  show(parent, boxes, isLTR) {\n    const [x, y] = this.#getLastPoint(boxes, isLTR);\n    const {\n      style\n    } = this.#toolbar ||= this.#render();\n    parent.append(this.#toolbar);\n    style.insetInlineEnd = `${100 * x}%`;\n    style.top = `calc(${100 * y}% + var(--editor-toolbar-vert-offset))`;\n  }\n  hide() {\n    this.#toolbar.remove();\n  }\n  #makeButton(buttonClass, l10nId, labelL10nId, clickHandler) {\n    const button = document.createElement(\"button\");\n    button.classList.add(\"basic\", buttonClass);\n    button.tabIndex = 0;\n    button.setAttribute(\"data-l10n-id\", l10nId);\n    const span = document.createElement(\"span\");\n    button.append(span);\n    span.className = \"visuallyHidden\";\n    span.setAttribute(\"data-l10n-id\", labelL10nId);\n    const signal = this.#uiManager._signal;\n    if (signal instanceof AbortSignal && !signal.aborted) {\n      button.addEventListener(\"contextmenu\", noContextMenu, {\n        signal\n      });\n      button.addEventListener(\"click\", clickHandler, {\n        signal\n      });\n    }\n    this.#buttons.append(button);\n  }\n}\n\n;// ./src/display/editor/tools.js\n\n\n\nfunction bindEvents(obj, element, names) {\n  for (const name of names) {\n    element.addEventListener(name, obj[name].bind(obj));\n  }\n}\nclass CurrentPointers {\n  static #pointerId = NaN;\n  static #pointerIds = null;\n  static #moveTimestamp = NaN;\n  static #pointerType = null;\n  static initializeAndAddPointerId(pointerId) {\n    (CurrentPointers.#pointerIds ||= new Set()).add(pointerId);\n  }\n  static setPointer(pointerType, pointerId) {\n    CurrentPointers.#pointerId ||= pointerId;\n    CurrentPointers.#pointerType ??= pointerType;\n  }\n  static setTimeStamp(timeStamp) {\n    CurrentPointers.#moveTimestamp = timeStamp;\n  }\n  static isSamePointerId(pointerId) {\n    return CurrentPointers.#pointerId === pointerId;\n  }\n  static isSamePointerIdOrRemove(pointerId) {\n    if (CurrentPointers.#pointerId === pointerId) {\n      return true;\n    }\n    CurrentPointers.#pointerIds?.delete(pointerId);\n    return false;\n  }\n  static isSamePointerType(pointerType) {\n    return CurrentPointers.#pointerType === pointerType;\n  }\n  static isInitializedAndDifferentPointerType(pointerType) {\n    return CurrentPointers.#pointerType !== null && !CurrentPointers.isSamePointerType(pointerType);\n  }\n  static isSameTimeStamp(timeStamp) {\n    return CurrentPointers.#moveTimestamp === timeStamp;\n  }\n  static isUsingMultiplePointers() {\n    return CurrentPointers.#pointerIds?.size >= 1;\n  }\n  static clearPointerType() {\n    CurrentPointers.#pointerType = null;\n  }\n  static clearPointerIds() {\n    CurrentPointers.#pointerId = NaN;\n    CurrentPointers.#pointerIds = null;\n  }\n  static clearTimeStamp() {\n    CurrentPointers.#moveTimestamp = NaN;\n  }\n}\nclass IdManager {\n  #id = 0;\n  get id() {\n    return `${AnnotationEditorPrefix}${this.#id++}`;\n  }\n}\nclass ImageManager {\n  #baseId = getUuid();\n  #id = 0;\n  #cache = null;\n  static get _isSVGFittingCanvas() {\n    const svg = `data:image/svg+xml;charset=UTF-8,<svg viewBox=\"0 0 1 1\" width=\"1\" height=\"1\" xmlns=\"http://www.w3.org/2000/svg\"><rect width=\"1\" height=\"1\" style=\"fill:red;\"/></svg>`;\n    const canvas = new OffscreenCanvas(1, 3);\n    const ctx = canvas.getContext(\"2d\", {\n      willReadFrequently: true\n    });\n    const image = new Image();\n    image.src = svg;\n    const promise = image.decode().then(() => {\n      ctx.drawImage(image, 0, 0, 1, 1, 0, 0, 1, 3);\n      return new Uint32Array(ctx.getImageData(0, 0, 1, 1).data.buffer)[0] === 0;\n    });\n    return shadow(this, \"_isSVGFittingCanvas\", promise);\n  }\n  async #get(key, rawData) {\n    this.#cache ||= new Map();\n    let data = this.#cache.get(key);\n    if (data === null) {\n      return null;\n    }\n    if (data?.bitmap) {\n      data.refCounter += 1;\n      return data;\n    }\n    try {\n      data ||= {\n        bitmap: null,\n        id: `image_${this.#baseId}_${this.#id++}`,\n        refCounter: 0,\n        isSvg: false\n      };\n      let image;\n      if (typeof rawData === \"string\") {\n        data.url = rawData;\n        image = await fetchData(rawData, \"blob\");\n      } else if (rawData instanceof File) {\n        image = data.file = rawData;\n      } else if (rawData instanceof Blob) {\n        image = rawData;\n      }\n      if (image.type === \"image/svg+xml\") {\n        const mustRemoveAspectRatioPromise = ImageManager._isSVGFittingCanvas;\n        const fileReader = new FileReader();\n        const imageElement = new Image();\n        const imagePromise = new Promise((resolve, reject) => {\n          imageElement.onload = () => {\n            data.bitmap = imageElement;\n            data.isSvg = true;\n            resolve();\n          };\n          fileReader.onload = async () => {\n            const url = data.svgUrl = fileReader.result;\n            imageElement.src = (await mustRemoveAspectRatioPromise) ? `${url}#svgView(preserveAspectRatio(none))` : url;\n          };\n          imageElement.onerror = fileReader.onerror = reject;\n        });\n        fileReader.readAsDataURL(image);\n        await imagePromise;\n      } else {\n        data.bitmap = await createImageBitmap(image);\n      }\n      data.refCounter = 1;\n    } catch (e) {\n      warn(e);\n      data = null;\n    }\n    this.#cache.set(key, data);\n    if (data) {\n      this.#cache.set(data.id, data);\n    }\n    return data;\n  }\n  async getFromFile(file) {\n    const {\n      lastModified,\n      name,\n      size,\n      type\n    } = file;\n    return this.#get(`${lastModified}_${name}_${size}_${type}`, file);\n  }\n  async getFromUrl(url) {\n    return this.#get(url, url);\n  }\n  async getFromBlob(id, blobPromise) {\n    const blob = await blobPromise;\n    return this.#get(id, blob);\n  }\n  async getFromId(id) {\n    this.#cache ||= new Map();\n    const data = this.#cache.get(id);\n    if (!data) {\n      return null;\n    }\n    if (data.bitmap) {\n      data.refCounter += 1;\n      return data;\n    }\n    if (data.file) {\n      return this.getFromFile(data.file);\n    }\n    if (data.blobPromise) {\n      const {\n        blobPromise\n      } = data;\n      delete data.blobPromise;\n      return this.getFromBlob(data.id, blobPromise);\n    }\n    return this.getFromUrl(data.url);\n  }\n  getFromCanvas(id, canvas) {\n    this.#cache ||= new Map();\n    let data = this.#cache.get(id);\n    if (data?.bitmap) {\n      data.refCounter += 1;\n      return data;\n    }\n    const offscreen = new OffscreenCanvas(canvas.width, canvas.height);\n    const ctx = offscreen.getContext(\"2d\");\n    ctx.drawImage(canvas, 0, 0);\n    data = {\n      bitmap: offscreen.transferToImageBitmap(),\n      id: `image_${this.#baseId}_${this.#id++}`,\n      refCounter: 1,\n      isSvg: false\n    };\n    this.#cache.set(id, data);\n    this.#cache.set(data.id, data);\n    return data;\n  }\n  getSvgUrl(id) {\n    const data = this.#cache.get(id);\n    if (!data?.isSvg) {\n      return null;\n    }\n    return data.svgUrl;\n  }\n  deleteId(id) {\n    this.#cache ||= new Map();\n    const data = this.#cache.get(id);\n    if (!data) {\n      return;\n    }\n    data.refCounter -= 1;\n    if (data.refCounter !== 0) {\n      return;\n    }\n    const {\n      bitmap\n    } = data;\n    if (!data.url && !data.file) {\n      const canvas = new OffscreenCanvas(bitmap.width, bitmap.height);\n      const ctx = canvas.getContext(\"bitmaprenderer\");\n      ctx.transferFromImageBitmap(bitmap);\n      data.blobPromise = canvas.convertToBlob();\n    }\n    bitmap.close?.();\n    data.bitmap = null;\n  }\n  isValidId(id) {\n    return id.startsWith(`image_${this.#baseId}_`);\n  }\n}\nclass CommandManager {\n  #commands = [];\n  #locked = false;\n  #maxSize;\n  #position = -1;\n  constructor(maxSize = 128) {\n    this.#maxSize = maxSize;\n  }\n  add({\n    cmd,\n    undo,\n    post,\n    mustExec,\n    type = NaN,\n    overwriteIfSameType = false,\n    keepUndo = false\n  }) {\n    if (mustExec) {\n      cmd();\n    }\n    if (this.#locked) {\n      return;\n    }\n    const save = {\n      cmd,\n      undo,\n      post,\n      type\n    };\n    if (this.#position === -1) {\n      if (this.#commands.length > 0) {\n        this.#commands.length = 0;\n      }\n      this.#position = 0;\n      this.#commands.push(save);\n      return;\n    }\n    if (overwriteIfSameType && this.#commands[this.#position].type === type) {\n      if (keepUndo) {\n        save.undo = this.#commands[this.#position].undo;\n      }\n      this.#commands[this.#position] = save;\n      return;\n    }\n    const next = this.#position + 1;\n    if (next === this.#maxSize) {\n      this.#commands.splice(0, 1);\n    } else {\n      this.#position = next;\n      if (next < this.#commands.length) {\n        this.#commands.splice(next);\n      }\n    }\n    this.#commands.push(save);\n  }\n  undo() {\n    if (this.#position === -1) {\n      return;\n    }\n    this.#locked = true;\n    const {\n      undo,\n      post\n    } = this.#commands[this.#position];\n    undo();\n    post?.();\n    this.#locked = false;\n    this.#position -= 1;\n  }\n  redo() {\n    if (this.#position < this.#commands.length - 1) {\n      this.#position += 1;\n      this.#locked = true;\n      const {\n        cmd,\n        post\n      } = this.#commands[this.#position];\n      cmd();\n      post?.();\n      this.#locked = false;\n    }\n  }\n  hasSomethingToUndo() {\n    return this.#position !== -1;\n  }\n  hasSomethingToRedo() {\n    return this.#position < this.#commands.length - 1;\n  }\n  cleanType(type) {\n    if (this.#position === -1) {\n      return;\n    }\n    for (let i = this.#position; i >= 0; i--) {\n      if (this.#commands[i].type !== type) {\n        this.#commands.splice(i + 1, this.#position - i);\n        this.#position = i;\n        return;\n      }\n    }\n    this.#commands.length = 0;\n    this.#position = -1;\n  }\n  destroy() {\n    this.#commands = null;\n  }\n}\nclass KeyboardManager {\n  constructor(callbacks) {\n    this.buffer = [];\n    this.callbacks = new Map();\n    this.allKeys = new Set();\n    const {\n      isMac\n    } = util_FeatureTest.platform;\n    for (const [keys, callback, options = {}] of callbacks) {\n      for (const key of keys) {\n        const isMacKey = key.startsWith(\"mac+\");\n        if (isMac && isMacKey) {\n          this.callbacks.set(key.slice(4), {\n            callback,\n            options\n          });\n          this.allKeys.add(key.split(\"+\").at(-1));\n        } else if (!isMac && !isMacKey) {\n          this.callbacks.set(key, {\n            callback,\n            options\n          });\n          this.allKeys.add(key.split(\"+\").at(-1));\n        }\n      }\n    }\n  }\n  #serialize(event) {\n    if (event.altKey) {\n      this.buffer.push(\"alt\");\n    }\n    if (event.ctrlKey) {\n      this.buffer.push(\"ctrl\");\n    }\n    if (event.metaKey) {\n      this.buffer.push(\"meta\");\n    }\n    if (event.shiftKey) {\n      this.buffer.push(\"shift\");\n    }\n    this.buffer.push(event.key);\n    const str = this.buffer.join(\"+\");\n    this.buffer.length = 0;\n    return str;\n  }\n  exec(self, event) {\n    if (!this.allKeys.has(event.key)) {\n      return;\n    }\n    const info = this.callbacks.get(this.#serialize(event));\n    if (!info) {\n      return;\n    }\n    const {\n      callback,\n      options: {\n        bubbles = false,\n        args = [],\n        checker = null\n      }\n    } = info;\n    if (checker && !checker(self, event)) {\n      return;\n    }\n    callback.bind(self, ...args, event)();\n    if (!bubbles) {\n      stopEvent(event);\n    }\n  }\n}\nclass ColorManager {\n  static _colorsMapping = new Map([[\"CanvasText\", [0, 0, 0]], [\"Canvas\", [255, 255, 255]]]);\n  get _colors() {\n    const colors = new Map([[\"CanvasText\", null], [\"Canvas\", null]]);\n    getColorValues(colors);\n    return shadow(this, \"_colors\", colors);\n  }\n  convert(color) {\n    const rgb = getRGB(color);\n    if (!window.matchMedia(\"(forced-colors: active)\").matches) {\n      return rgb;\n    }\n    for (const [name, RGB] of this._colors) {\n      if (RGB.every((x, i) => x === rgb[i])) {\n        return ColorManager._colorsMapping.get(name);\n      }\n    }\n    return rgb;\n  }\n  getHexCode(name) {\n    const rgb = this._colors.get(name);\n    if (!rgb) {\n      return name;\n    }\n    return Util.makeHexColor(...rgb);\n  }\n}\nclass AnnotationEditorUIManager {\n  #abortController = new AbortController();\n  #activeEditor = null;\n  #allEditableAnnotations = null;\n  #allEditors = new Map();\n  #allLayers = new Map();\n  #altTextManager = null;\n  #annotationStorage = null;\n  #changedExistingAnnotations = null;\n  #commandManager = new CommandManager();\n  #commentManager = null;\n  #copyPasteAC = null;\n  #currentDrawingSession = null;\n  #currentPageIndex = 0;\n  #deletedAnnotationsElementIds = new Set();\n  #draggingEditors = null;\n  #editorTypes = null;\n  #editorsToRescale = new Set();\n  _editorUndoBar = null;\n  #enableHighlightFloatingButton = false;\n  #enableUpdatedAddImage = false;\n  #enableNewAltTextWhenAddingImage = false;\n  #filterFactory = null;\n  #focusMainContainerTimeoutId = null;\n  #focusManagerAC = null;\n  #highlightColors = null;\n  #highlightWhenShiftUp = false;\n  #floatingToolbar = null;\n  #idManager = new IdManager();\n  #isEnabled = false;\n  #isPointerDown = false;\n  #isWaiting = false;\n  #keyboardManagerAC = null;\n  #lastActiveElement = null;\n  #mainHighlightColorPicker = null;\n  #missingCanvases = null;\n  #mlManager = null;\n  #mode = AnnotationEditorType.NONE;\n  #selectedEditors = new Set();\n  #selectedTextNode = null;\n  #signatureManager = null;\n  #pageColors = null;\n  #showAllStates = null;\n  #pdfDocument = null;\n  #previousStates = {\n    isEditing: false,\n    isEmpty: true,\n    hasSomethingToUndo: false,\n    hasSomethingToRedo: false,\n    hasSelectedEditor: false,\n    hasSelectedText: false\n  };\n  #translation = [0, 0];\n  #translationTimeoutId = null;\n  #container = null;\n  #viewer = null;\n  #viewerAlert = null;\n  #updateModeCapability = null;\n  static TRANSLATE_SMALL = 1;\n  static TRANSLATE_BIG = 10;\n  static get _keyboardManager() {\n    const proto = AnnotationEditorUIManager.prototype;\n    const arrowChecker = self => self.#container.contains(document.activeElement) && document.activeElement.tagName !== \"BUTTON\" && self.hasSomethingToControl();\n    const textInputChecker = (_self, {\n      target: el\n    }) => {\n      if (el instanceof HTMLInputElement) {\n        const {\n          type\n        } = el;\n        return type !== \"text\" && type !== \"number\";\n      }\n      return true;\n    };\n    const small = this.TRANSLATE_SMALL;\n    const big = this.TRANSLATE_BIG;\n    return shadow(this, \"_keyboardManager\", new KeyboardManager([[[\"ctrl+a\", \"mac+meta+a\"], proto.selectAll, {\n      checker: textInputChecker\n    }], [[\"ctrl+z\", \"mac+meta+z\"], proto.undo, {\n      checker: textInputChecker\n    }], [[\"ctrl+y\", \"ctrl+shift+z\", \"mac+meta+shift+z\", \"ctrl+shift+Z\", \"mac+meta+shift+Z\"], proto.redo, {\n      checker: textInputChecker\n    }], [[\"Backspace\", \"alt+Backspace\", \"ctrl+Backspace\", \"shift+Backspace\", \"mac+Backspace\", \"mac+alt+Backspace\", \"mac+ctrl+Backspace\", \"Delete\", \"ctrl+Delete\", \"shift+Delete\", \"mac+Delete\"], proto.delete, {\n      checker: textInputChecker\n    }], [[\"Enter\", \"mac+Enter\"], proto.addNewEditorFromKeyboard, {\n      checker: (self, {\n        target: el\n      }) => !(el instanceof HTMLButtonElement) && self.#container.contains(el) && !self.isEnterHandled\n    }], [[\" \", \"mac+ \"], proto.addNewEditorFromKeyboard, {\n      checker: (self, {\n        target: el\n      }) => !(el instanceof HTMLButtonElement) && self.#container.contains(document.activeElement)\n    }], [[\"Escape\", \"mac+Escape\"], proto.unselectAll], [[\"ArrowLeft\", \"mac+ArrowLeft\"], proto.translateSelectedEditors, {\n      args: [-small, 0],\n      checker: arrowChecker\n    }], [[\"ctrl+ArrowLeft\", \"mac+shift+ArrowLeft\"], proto.translateSelectedEditors, {\n      args: [-big, 0],\n      checker: arrowChecker\n    }], [[\"ArrowRight\", \"mac+ArrowRight\"], proto.translateSelectedEditors, {\n      args: [small, 0],\n      checker: arrowChecker\n    }], [[\"ctrl+ArrowRight\", \"mac+shift+ArrowRight\"], proto.translateSelectedEditors, {\n      args: [big, 0],\n      checker: arrowChecker\n    }], [[\"ArrowUp\", \"mac+ArrowUp\"], proto.translateSelectedEditors, {\n      args: [0, -small],\n      checker: arrowChecker\n    }], [[\"ctrl+ArrowUp\", \"mac+shift+ArrowUp\"], proto.translateSelectedEditors, {\n      args: [0, -big],\n      checker: arrowChecker\n    }], [[\"ArrowDown\", \"mac+ArrowDown\"], proto.translateSelectedEditors, {\n      args: [0, small],\n      checker: arrowChecker\n    }], [[\"ctrl+ArrowDown\", \"mac+shift+ArrowDown\"], proto.translateSelectedEditors, {\n      args: [0, big],\n      checker: arrowChecker\n    }]]));\n  }\n  constructor(container, viewer, viewerAlert, altTextManager, commentManager, signatureManager, eventBus, pdfDocument, pageColors, highlightColors, enableHighlightFloatingButton, enableUpdatedAddImage, enableNewAltTextWhenAddingImage, mlManager, editorUndoBar, supportsPinchToZoom) {\n    const signal = this._signal = this.#abortController.signal;\n    this.#container = container;\n    this.#viewer = viewer;\n    this.#viewerAlert = viewerAlert;\n    this.#altTextManager = altTextManager;\n    this.#commentManager = commentManager;\n    this.#signatureManager = signatureManager;\n    this.#pdfDocument = pdfDocument;\n    this._eventBus = eventBus;\n    eventBus._on(\"editingaction\", this.onEditingAction.bind(this), {\n      signal\n    });\n    eventBus._on(\"pagechanging\", this.onPageChanging.bind(this), {\n      signal\n    });\n    eventBus._on(\"scalechanging\", this.onScaleChanging.bind(this), {\n      signal\n    });\n    eventBus._on(\"rotationchanging\", this.onRotationChanging.bind(this), {\n      signal\n    });\n    eventBus._on(\"setpreference\", this.onSetPreference.bind(this), {\n      signal\n    });\n    eventBus._on(\"switchannotationeditorparams\", evt => this.updateParams(evt.type, evt.value), {\n      signal\n    });\n    window.addEventListener(\"pointerdown\", () => {\n      this.#isPointerDown = true;\n    }, {\n      capture: true,\n      signal\n    });\n    window.addEventListener(\"pointerup\", () => {\n      this.#isPointerDown = false;\n    }, {\n      capture: true,\n      signal\n    });\n    this.#addSelectionListener();\n    this.#addDragAndDropListeners();\n    this.#addKeyboardManager();\n    this.#annotationStorage = pdfDocument.annotationStorage;\n    this.#filterFactory = pdfDocument.filterFactory;\n    this.#pageColors = pageColors;\n    this.#highlightColors = highlightColors || null;\n    this.#enableHighlightFloatingButton = enableHighlightFloatingButton;\n    this.#enableUpdatedAddImage = enableUpdatedAddImage;\n    this.#enableNewAltTextWhenAddingImage = enableNewAltTextWhenAddingImage;\n    this.#mlManager = mlManager || null;\n    this.viewParameters = {\n      realScale: PixelsPerInch.PDF_TO_CSS_UNITS,\n      rotation: 0\n    };\n    this.isShiftKeyDown = false;\n    this._editorUndoBar = editorUndoBar || null;\n    this._supportsPinchToZoom = supportsPinchToZoom !== false;\n    commentManager?.setSidebarUiManager(this);\n  }\n  destroy() {\n    this.#updateModeCapability?.resolve();\n    this.#updateModeCapability = null;\n    this.#abortController?.abort();\n    this.#abortController = null;\n    this._signal = null;\n    for (const layer of this.#allLayers.values()) {\n      layer.destroy();\n    }\n    this.#allLayers.clear();\n    this.#allEditors.clear();\n    this.#editorsToRescale.clear();\n    this.#missingCanvases?.clear();\n    this.#activeEditor = null;\n    this.#selectedEditors.clear();\n    this.#commandManager.destroy();\n    this.#altTextManager?.destroy();\n    this.#commentManager?.destroy();\n    this.#signatureManager?.destroy();\n    this.#floatingToolbar?.hide();\n    this.#floatingToolbar = null;\n    this.#mainHighlightColorPicker?.destroy();\n    this.#mainHighlightColorPicker = null;\n    this.#allEditableAnnotations = null;\n    if (this.#focusMainContainerTimeoutId) {\n      clearTimeout(this.#focusMainContainerTimeoutId);\n      this.#focusMainContainerTimeoutId = null;\n    }\n    if (this.#translationTimeoutId) {\n      clearTimeout(this.#translationTimeoutId);\n      this.#translationTimeoutId = null;\n    }\n    this._editorUndoBar?.destroy();\n    this.#pdfDocument = null;\n  }\n  combinedSignal(ac) {\n    return AbortSignal.any([this._signal, ac.signal]);\n  }\n  get mlManager() {\n    return this.#mlManager;\n  }\n  get useNewAltTextFlow() {\n    return this.#enableUpdatedAddImage;\n  }\n  get useNewAltTextWhenAddingImage() {\n    return this.#enableNewAltTextWhenAddingImage;\n  }\n  get hcmFilter() {\n    return shadow(this, \"hcmFilter\", this.#pageColors ? this.#filterFactory.addHCMFilter(this.#pageColors.foreground, this.#pageColors.background) : \"none\");\n  }\n  get direction() {\n    return shadow(this, \"direction\", getComputedStyle(this.#container).direction);\n  }\n  get _highlightColors() {\n    return shadow(this, \"_highlightColors\", this.#highlightColors ? new Map(this.#highlightColors.split(\",\").map(pair => {\n      pair = pair.split(\"=\").map(x => x.trim());\n      pair[1] = pair[1].toUpperCase();\n      return pair;\n    })) : null);\n  }\n  get highlightColors() {\n    const {\n      _highlightColors\n    } = this;\n    if (!_highlightColors) {\n      return shadow(this, \"highlightColors\", null);\n    }\n    const map = new Map();\n    const hasHCM = !!this.#pageColors;\n    for (const [name, color] of _highlightColors) {\n      const isNameForHCM = name.endsWith(\"_HCM\");\n      if (hasHCM && isNameForHCM) {\n        map.set(name.replace(\"_HCM\", \"\"), color);\n        continue;\n      }\n      if (!hasHCM && !isNameForHCM) {\n        map.set(name, color);\n      }\n    }\n    return shadow(this, \"highlightColors\", map);\n  }\n  get highlightColorNames() {\n    return shadow(this, \"highlightColorNames\", this.highlightColors ? new Map(Array.from(this.highlightColors, e => e.reverse())) : null);\n  }\n  getNonHCMColor(color) {\n    if (!this._highlightColors) {\n      return color;\n    }\n    const colorName = this.highlightColorNames.get(color);\n    return this._highlightColors.get(colorName) || color;\n  }\n  getNonHCMColorName(color) {\n    return this.highlightColorNames.get(color) || color;\n  }\n  setCurrentDrawingSession(layer) {\n    if (layer) {\n      this.unselectAll();\n      this.disableUserSelect(true);\n    } else {\n      this.disableUserSelect(false);\n    }\n    this.#currentDrawingSession = layer;\n  }\n  setMainHighlightColorPicker(colorPicker) {\n    this.#mainHighlightColorPicker = colorPicker;\n  }\n  editAltText(editor, firstTime = false) {\n    this.#altTextManager?.editAltText(this, editor, firstTime);\n  }\n  hasCommentManager() {\n    return !!this.#commentManager;\n  }\n  editComment(editor, posX, posY, options) {\n    this.#commentManager?.showDialog(this, editor, posX, posY, options);\n  }\n  selectComment(pageIndex, uid) {\n    const layer = this.#allLayers.get(pageIndex);\n    const editor = layer?.getEditorByUID(uid);\n    editor?.toggleComment(true, true);\n  }\n  updateComment(editor) {\n    this.#commentManager?.updateComment(editor.getData());\n  }\n  updatePopupColor(editor) {\n    this.#commentManager?.updatePopupColor(editor);\n  }\n  removeComment(editor) {\n    this.#commentManager?.removeComments([editor.uid]);\n  }\n  toggleComment(editor, isSelected, visibility = undefined) {\n    this.#commentManager?.toggleCommentPopup(editor, isSelected, visibility);\n  }\n  makeCommentColor(color, opacity) {\n    return color && this.#commentManager?.makeCommentColor(color, opacity) || null;\n  }\n  getCommentDialogElement() {\n    return this.#commentManager?.dialogElement || null;\n  }\n  async waitForEditorsRendered(pageNumber) {\n    if (this.#allLayers.has(pageNumber - 1)) {\n      return;\n    }\n    const {\n      resolve,\n      promise\n    } = Promise.withResolvers();\n    const onEditorsRendered = evt => {\n      if (evt.pageNumber === pageNumber) {\n        this._eventBus._off(\"editorsrendered\", onEditorsRendered);\n        resolve();\n      }\n    };\n    this._eventBus.on(\"editorsrendered\", onEditorsRendered);\n    await promise;\n  }\n  getSignature(editor) {\n    this.#signatureManager?.getSignature({\n      uiManager: this,\n      editor\n    });\n  }\n  get signatureManager() {\n    return this.#signatureManager;\n  }\n  switchToMode(mode, callback) {\n    this._eventBus.on(\"annotationeditormodechanged\", callback, {\n      once: true,\n      signal: this._signal\n    });\n    this._eventBus.dispatch(\"showannotationeditorui\", {\n      source: this,\n      mode\n    });\n  }\n  setPreference(name, value) {\n    this._eventBus.dispatch(\"setpreference\", {\n      source: this,\n      name,\n      value\n    });\n  }\n  onSetPreference({\n    name,\n    value\n  }) {\n    switch (name) {\n      case \"enableNewAltTextWhenAddingImage\":\n        this.#enableNewAltTextWhenAddingImage = value;\n        break;\n    }\n  }\n  onPageChanging({\n    pageNumber\n  }) {\n    this.#currentPageIndex = pageNumber - 1;\n  }\n  focusMainContainer() {\n    this.#container.focus();\n  }\n  findParent(x, y) {\n    for (const layer of this.#allLayers.values()) {\n      const {\n        x: layerX,\n        y: layerY,\n        width,\n        height\n      } = layer.div.getBoundingClientRect();\n      if (x >= layerX && x <= layerX + width && y >= layerY && y <= layerY + height) {\n        return layer;\n      }\n    }\n    return null;\n  }\n  disableUserSelect(value = false) {\n    this.#viewer.classList.toggle(\"noUserSelect\", value);\n  }\n  addShouldRescale(editor) {\n    this.#editorsToRescale.add(editor);\n  }\n  removeShouldRescale(editor) {\n    this.#editorsToRescale.delete(editor);\n  }\n  onScaleChanging({\n    scale\n  }) {\n    this.commitOrRemove();\n    this.viewParameters.realScale = scale * PixelsPerInch.PDF_TO_CSS_UNITS;\n    for (const editor of this.#editorsToRescale) {\n      editor.onScaleChanging();\n    }\n    this.#currentDrawingSession?.onScaleChanging();\n  }\n  onRotationChanging({\n    pagesRotation\n  }) {\n    this.commitOrRemove();\n    this.viewParameters.rotation = pagesRotation;\n  }\n  #getAnchorElementForSelection({\n    anchorNode\n  }) {\n    return anchorNode.nodeType === Node.TEXT_NODE ? anchorNode.parentElement : anchorNode;\n  }\n  #getLayerForTextLayer(textLayer) {\n    const {\n      currentLayer\n    } = this;\n    if (currentLayer.hasTextLayer(textLayer)) {\n      return currentLayer;\n    }\n    for (const layer of this.#allLayers.values()) {\n      if (layer.hasTextLayer(textLayer)) {\n        return layer;\n      }\n    }\n    return null;\n  }\n  highlightSelection(methodOfCreation = \"\", comment = false) {\n    const selection = document.getSelection();\n    if (!selection || selection.isCollapsed) {\n      return;\n    }\n    const {\n      anchorNode,\n      anchorOffset,\n      focusNode,\n      focusOffset\n    } = selection;\n    const text = selection.toString();\n    const anchorElement = this.#getAnchorElementForSelection(selection);\n    const textLayer = anchorElement.closest(\".textLayer\");\n    const boxes = this.getSelectionBoxes(textLayer);\n    if (!boxes) {\n      return;\n    }\n    selection.empty();\n    const layer = this.#getLayerForTextLayer(textLayer);\n    const isNoneMode = this.#mode === AnnotationEditorType.NONE;\n    const callback = () => {\n      const editor = layer?.createAndAddNewEditor({\n        x: 0,\n        y: 0\n      }, false, {\n        methodOfCreation,\n        boxes,\n        anchorNode,\n        anchorOffset,\n        focusNode,\n        focusOffset,\n        text\n      });\n      if (isNoneMode) {\n        this.showAllEditors(\"highlight\", true, true);\n      }\n      if (comment) {\n        editor?.editComment();\n      }\n    };\n    if (isNoneMode) {\n      this.switchToMode(AnnotationEditorType.HIGHLIGHT, callback);\n      return;\n    }\n    callback();\n  }\n  commentSelection(methodOfCreation = \"\") {\n    this.highlightSelection(methodOfCreation, true);\n  }\n  #displayFloatingToolbar() {\n    const selection = document.getSelection();\n    if (!selection || selection.isCollapsed) {\n      return;\n    }\n    const anchorElement = this.#getAnchorElementForSelection(selection);\n    const textLayer = anchorElement.closest(\".textLayer\");\n    const boxes = this.getSelectionBoxes(textLayer);\n    if (!boxes) {\n      return;\n    }\n    this.#floatingToolbar ||= new FloatingToolbar(this);\n    this.#floatingToolbar.show(textLayer, boxes, this.direction === \"ltr\");\n  }\n  getAndRemoveDataFromAnnotationStorage(annotationId) {\n    if (!this.#annotationStorage) {\n      return null;\n    }\n    const key = `${AnnotationEditorPrefix}${annotationId}`;\n    const storedValue = this.#annotationStorage.getRawValue(key);\n    if (storedValue) {\n      this.#annotationStorage.remove(key);\n    }\n    return storedValue;\n  }\n  addToAnnotationStorage(editor) {\n    if (!editor.isEmpty() && this.#annotationStorage && !this.#annotationStorage.has(editor.id)) {\n      this.#annotationStorage.setValue(editor.id, editor);\n    }\n  }\n  a11yAlert(messageId, args = null) {\n    const viewerAlert = this.#viewerAlert;\n    if (!viewerAlert) {\n      return;\n    }\n    viewerAlert.setAttribute(\"data-l10n-id\", messageId);\n    if (args) {\n      viewerAlert.setAttribute(\"data-l10n-args\", JSON.stringify(args));\n    } else {\n      viewerAlert.removeAttribute(\"data-l10n-args\");\n    }\n  }\n  #selectionChange() {\n    const selection = document.getSelection();\n    if (!selection || selection.isCollapsed) {\n      if (this.#selectedTextNode) {\n        this.#floatingToolbar?.hide();\n        this.#selectedTextNode = null;\n        this.#dispatchUpdateStates({\n          hasSelectedText: false\n        });\n      }\n      return;\n    }\n    const {\n      anchorNode\n    } = selection;\n    if (anchorNode === this.#selectedTextNode) {\n      return;\n    }\n    const anchorElement = this.#getAnchorElementForSelection(selection);\n    const textLayer = anchorElement.closest(\".textLayer\");\n    if (!textLayer) {\n      if (this.#selectedTextNode) {\n        this.#floatingToolbar?.hide();\n        this.#selectedTextNode = null;\n        this.#dispatchUpdateStates({\n          hasSelectedText: false\n        });\n      }\n      return;\n    }\n    this.#floatingToolbar?.hide();\n    this.#selectedTextNode = anchorNode;\n    this.#dispatchUpdateStates({\n      hasSelectedText: true\n    });\n    if (this.#mode !== AnnotationEditorType.HIGHLIGHT && this.#mode !== AnnotationEditorType.NONE) {\n      return;\n    }\n    if (this.#mode === AnnotationEditorType.HIGHLIGHT) {\n      this.showAllEditors(\"highlight\", true, true);\n    }\n    this.#highlightWhenShiftUp = this.isShiftKeyDown;\n    if (!this.isShiftKeyDown) {\n      const activeLayer = this.#mode === AnnotationEditorType.HIGHLIGHT ? this.#getLayerForTextLayer(textLayer) : null;\n      activeLayer?.toggleDrawing();\n      if (this.#isPointerDown) {\n        const ac = new AbortController();\n        const signal = this.combinedSignal(ac);\n        const pointerup = e => {\n          if (e.type === \"pointerup\" && e.button !== 0) {\n            return;\n          }\n          ac.abort();\n          activeLayer?.toggleDrawing(true);\n          if (e.type === \"pointerup\") {\n            this.#onSelectEnd(\"main_toolbar\");\n          }\n        };\n        window.addEventListener(\"pointerup\", pointerup, {\n          signal\n        });\n        window.addEventListener(\"blur\", pointerup, {\n          signal\n        });\n      } else {\n        activeLayer?.toggleDrawing(true);\n        this.#onSelectEnd(\"main_toolbar\");\n      }\n    }\n  }\n  #onSelectEnd(methodOfCreation = \"\") {\n    if (this.#mode === AnnotationEditorType.HIGHLIGHT) {\n      this.highlightSelection(methodOfCreation);\n    } else if (this.#enableHighlightFloatingButton) {\n      this.#displayFloatingToolbar();\n    }\n  }\n  #addSelectionListener() {\n    document.addEventListener(\"selectionchange\", this.#selectionChange.bind(this), {\n      signal: this._signal\n    });\n  }\n  #addFocusManager() {\n    if (this.#focusManagerAC) {\n      return;\n    }\n    this.#focusManagerAC = new AbortController();\n    const signal = this.combinedSignal(this.#focusManagerAC);\n    window.addEventListener(\"focus\", this.focus.bind(this), {\n      signal\n    });\n    window.addEventListener(\"blur\", this.blur.bind(this), {\n      signal\n    });\n  }\n  #removeFocusManager() {\n    this.#focusManagerAC?.abort();\n    this.#focusManagerAC = null;\n  }\n  blur() {\n    this.isShiftKeyDown = false;\n    if (this.#highlightWhenShiftUp) {\n      this.#highlightWhenShiftUp = false;\n      this.#onSelectEnd(\"main_toolbar\");\n    }\n    if (!this.hasSelection) {\n      return;\n    }\n    const {\n      activeElement\n    } = document;\n    for (const editor of this.#selectedEditors) {\n      if (editor.div.contains(activeElement)) {\n        this.#lastActiveElement = [editor, activeElement];\n        editor._focusEventsAllowed = false;\n        break;\n      }\n    }\n  }\n  focus() {\n    if (!this.#lastActiveElement) {\n      return;\n    }\n    const [lastEditor, lastActiveElement] = this.#lastActiveElement;\n    this.#lastActiveElement = null;\n    lastActiveElement.addEventListener(\"focusin\", () => {\n      lastEditor._focusEventsAllowed = true;\n    }, {\n      once: true,\n      signal: this._signal\n    });\n    lastActiveElement.focus();\n  }\n  #addKeyboardManager() {\n    if (this.#keyboardManagerAC) {\n      return;\n    }\n    this.#keyboardManagerAC = new AbortController();\n    const signal = this.combinedSignal(this.#keyboardManagerAC);\n    window.addEventListener(\"keydown\", this.keydown.bind(this), {\n      signal\n    });\n    window.addEventListener(\"keyup\", this.keyup.bind(this), {\n      signal\n    });\n  }\n  #removeKeyboardManager() {\n    this.#keyboardManagerAC?.abort();\n    this.#keyboardManagerAC = null;\n  }\n  #addCopyPasteListeners() {\n    if (this.#copyPasteAC) {\n      return;\n    }\n    this.#copyPasteAC = new AbortController();\n    const signal = this.combinedSignal(this.#copyPasteAC);\n    document.addEventListener(\"copy\", this.copy.bind(this), {\n      signal\n    });\n    document.addEventListener(\"cut\", this.cut.bind(this), {\n      signal\n    });\n    document.addEventListener(\"paste\", this.paste.bind(this), {\n      signal\n    });\n  }\n  #removeCopyPasteListeners() {\n    this.#copyPasteAC?.abort();\n    this.#copyPasteAC = null;\n  }\n  #addDragAndDropListeners() {\n    const signal = this._signal;\n    document.addEventListener(\"dragover\", this.dragOver.bind(this), {\n      signal\n    });\n    document.addEventListener(\"drop\", this.drop.bind(this), {\n      signal\n    });\n  }\n  addEditListeners() {\n    this.#addKeyboardManager();\n    this.setEditingState(true);\n  }\n  removeEditListeners() {\n    this.#removeKeyboardManager();\n    this.setEditingState(false);\n  }\n  dragOver(event) {\n    for (const {\n      type\n    } of event.dataTransfer.items) {\n      for (const editorType of this.#editorTypes) {\n        if (editorType.isHandlingMimeForPasting(type)) {\n          event.dataTransfer.dropEffect = \"copy\";\n          event.preventDefault();\n          return;\n        }\n      }\n    }\n  }\n  drop(event) {\n    for (const item of event.dataTransfer.items) {\n      for (const editorType of this.#editorTypes) {\n        if (editorType.isHandlingMimeForPasting(item.type)) {\n          editorType.paste(item, this.currentLayer);\n          event.preventDefault();\n          return;\n        }\n      }\n    }\n  }\n  copy(event) {\n    event.preventDefault();\n    this.#activeEditor?.commitOrRemove();\n    if (!this.hasSelection) {\n      return;\n    }\n    const editors = [];\n    for (const editor of this.#selectedEditors) {\n      const serialized = editor.serialize(true);\n      if (serialized) {\n        editors.push(serialized);\n      }\n    }\n    if (editors.length === 0) {\n      return;\n    }\n    event.clipboardData.setData(\"application/pdfjs\", JSON.stringify(editors));\n  }\n  cut(event) {\n    this.copy(event);\n    this.delete();\n  }\n  async paste(event) {\n    event.preventDefault();\n    const {\n      clipboardData\n    } = event;\n    for (const item of clipboardData.items) {\n      for (const editorType of this.#editorTypes) {\n        if (editorType.isHandlingMimeForPasting(item.type)) {\n          editorType.paste(item, this.currentLayer);\n          return;\n        }\n      }\n    }\n    let data = clipboardData.getData(\"application/pdfjs\");\n    if (!data) {\n      return;\n    }\n    try {\n      data = JSON.parse(data);\n    } catch (ex) {\n      warn(`paste: \"${ex.message}\".`);\n      return;\n    }\n    if (!Array.isArray(data)) {\n      return;\n    }\n    this.unselectAll();\n    const layer = this.currentLayer;\n    try {\n      const newEditors = [];\n      for (const editor of data) {\n        const deserializedEditor = await layer.deserialize(editor);\n        if (!deserializedEditor) {\n          return;\n        }\n        newEditors.push(deserializedEditor);\n      }\n      const cmd = () => {\n        for (const editor of newEditors) {\n          this.#addEditorToLayer(editor);\n        }\n        this.#selectEditors(newEditors);\n      };\n      const undo = () => {\n        for (const editor of newEditors) {\n          editor.remove();\n        }\n      };\n      this.addCommands({\n        cmd,\n        undo,\n        mustExec: true\n      });\n    } catch (ex) {\n      warn(`paste: \"${ex.message}\".`);\n    }\n  }\n  keydown(event) {\n    if (!this.isShiftKeyDown && event.key === \"Shift\") {\n      this.isShiftKeyDown = true;\n    }\n    if (this.#mode !== AnnotationEditorType.NONE && !this.isEditorHandlingKeyboard) {\n      AnnotationEditorUIManager._keyboardManager.exec(this, event);\n    }\n  }\n  keyup(event) {\n    if (this.isShiftKeyDown && event.key === \"Shift\") {\n      this.isShiftKeyDown = false;\n      if (this.#highlightWhenShiftUp) {\n        this.#highlightWhenShiftUp = false;\n        this.#onSelectEnd(\"main_toolbar\");\n      }\n    }\n  }\n  onEditingAction({\n    name\n  }) {\n    switch (name) {\n      case \"undo\":\n      case \"redo\":\n      case \"delete\":\n      case \"selectAll\":\n        this[name]();\n        break;\n      case \"highlightSelection\":\n        this.highlightSelection(\"context_menu\");\n        break;\n      case \"commentSelection\":\n        this.commentSelection(\"context_menu\");\n        break;\n    }\n  }\n  #dispatchUpdateStates(details) {\n    const hasChanged = Object.entries(details).some(([key, value]) => this.#previousStates[key] !== value);\n    if (hasChanged) {\n      this._eventBus.dispatch(\"annotationeditorstateschanged\", {\n        source: this,\n        details: Object.assign(this.#previousStates, details)\n      });\n      if (this.#mode === AnnotationEditorType.HIGHLIGHT && details.hasSelectedEditor === false) {\n        this.#dispatchUpdateUI([[AnnotationEditorParamsType.HIGHLIGHT_FREE, true]]);\n      }\n    }\n  }\n  #dispatchUpdateUI(details) {\n    this._eventBus.dispatch(\"annotationeditorparamschanged\", {\n      source: this,\n      details\n    });\n  }\n  setEditingState(isEditing) {\n    if (isEditing) {\n      this.#addFocusManager();\n      this.#addCopyPasteListeners();\n      this.#dispatchUpdateStates({\n        isEditing: this.#mode !== AnnotationEditorType.NONE,\n        isEmpty: this.#isEmpty(),\n        hasSomethingToUndo: this.#commandManager.hasSomethingToUndo(),\n        hasSomethingToRedo: this.#commandManager.hasSomethingToRedo(),\n        hasSelectedEditor: false\n      });\n    } else {\n      this.#removeFocusManager();\n      this.#removeCopyPasteListeners();\n      this.#dispatchUpdateStates({\n        isEditing: false\n      });\n      this.disableUserSelect(false);\n    }\n  }\n  registerEditorTypes(types) {\n    if (this.#editorTypes) {\n      return;\n    }\n    this.#editorTypes = types;\n    for (const editorType of this.#editorTypes) {\n      this.#dispatchUpdateUI(editorType.defaultPropertiesToUpdate);\n    }\n  }\n  getId() {\n    return this.#idManager.id;\n  }\n  get currentLayer() {\n    return this.#allLayers.get(this.#currentPageIndex);\n  }\n  getLayer(pageIndex) {\n    return this.#allLayers.get(pageIndex);\n  }\n  get currentPageIndex() {\n    return this.#currentPageIndex;\n  }\n  addLayer(layer) {\n    this.#allLayers.set(layer.pageIndex, layer);\n    if (this.#isEnabled) {\n      layer.enable();\n    } else {\n      layer.disable();\n    }\n  }\n  removeLayer(layer) {\n    this.#allLayers.delete(layer.pageIndex);\n  }\n  async updateMode(mode, editId = null, isFromUser = false, isFromKeyboard = false, mustEnterInEditMode = false, editComment = false) {\n    if (this.#mode === mode) {\n      return;\n    }\n    if (this.#updateModeCapability) {\n      await this.#updateModeCapability.promise;\n      if (!this.#updateModeCapability) {\n        return;\n      }\n    }\n    this.#updateModeCapability = Promise.withResolvers();\n    this.#currentDrawingSession?.commitOrRemove();\n    if (this.#mode === AnnotationEditorType.POPUP) {\n      this.#commentManager?.hideSidebar();\n    }\n    this.#commentManager?.destroyPopup();\n    this.#mode = mode;\n    if (mode === AnnotationEditorType.NONE) {\n      this.setEditingState(false);\n      this.#disableAll();\n      for (const editor of this.#allEditors.values()) {\n        editor.hideStandaloneCommentButton();\n      }\n      this._editorUndoBar?.hide();\n      this.toggleComment(null);\n      this.#updateModeCapability.resolve();\n      return;\n    }\n    for (const editor of this.#allEditors.values()) {\n      editor.addStandaloneCommentButton();\n    }\n    if (mode === AnnotationEditorType.SIGNATURE) {\n      await this.#signatureManager?.loadSignatures();\n    }\n    if (isFromUser) {\n      CurrentPointers.clearPointerType();\n    }\n    this.setEditingState(true);\n    await this.#enableAll();\n    this.unselectAll();\n    for (const layer of this.#allLayers.values()) {\n      layer.updateMode(mode);\n    }\n    if (mode === AnnotationEditorType.POPUP) {\n      this.#allEditableAnnotations ||= await this.#pdfDocument.getAnnotationsByType(new Set(this.#editorTypes.map(editorClass => editorClass._editorType)));\n      const elementIds = new Set();\n      const allComments = [];\n      for (const editor of this.#allEditors.values()) {\n        const {\n          annotationElementId,\n          hasComment,\n          deleted\n        } = editor;\n        if (annotationElementId) {\n          elementIds.add(annotationElementId);\n        }\n        if (hasComment && !deleted) {\n          allComments.push(editor.getData());\n        }\n      }\n      for (const annotation of this.#allEditableAnnotations) {\n        const {\n          id,\n          popupRef,\n          contentsObj\n        } = annotation;\n        if (popupRef && contentsObj?.str && !elementIds.has(id) && !this.#deletedAnnotationsElementIds.has(id)) {\n          allComments.push(annotation);\n        }\n      }\n      this.#commentManager?.showSidebar(allComments);\n    }\n    if (!editId) {\n      if (isFromKeyboard) {\n        this.addNewEditorFromKeyboard();\n      }\n      this.#updateModeCapability.resolve();\n      return;\n    }\n    for (const editor of this.#allEditors.values()) {\n      if (editor.uid === editId) {\n        this.setSelected(editor);\n        if (editComment) {\n          editor.editComment();\n        } else if (mustEnterInEditMode) {\n          editor.enterInEditMode();\n        } else {\n          editor.focus();\n        }\n      } else {\n        editor.unselect();\n      }\n    }\n    this.#updateModeCapability.resolve();\n  }\n  addNewEditorFromKeyboard() {\n    if (this.currentLayer.canCreateNewEmptyEditor()) {\n      this.currentLayer.addNewEditor();\n    }\n  }\n  updateToolbar(options) {\n    if (options.mode === this.#mode) {\n      return;\n    }\n    this._eventBus.dispatch(\"switchannotationeditormode\", {\n      source: this,\n      ...options\n    });\n  }\n  updateParams(type, value) {\n    if (!this.#editorTypes) {\n      return;\n    }\n    switch (type) {\n      case AnnotationEditorParamsType.CREATE:\n        this.currentLayer.addNewEditor(value);\n        return;\n      case AnnotationEditorParamsType.HIGHLIGHT_SHOW_ALL:\n        this._eventBus.dispatch(\"reporttelemetry\", {\n          source: this,\n          details: {\n            type: \"editing\",\n            data: {\n              type: \"highlight\",\n              action: \"toggle_visibility\"\n            }\n          }\n        });\n        (this.#showAllStates ||= new Map()).set(type, value);\n        this.showAllEditors(\"highlight\", value);\n        break;\n    }\n    if (this.hasSelection) {\n      for (const editor of this.#selectedEditors) {\n        editor.updateParams(type, value);\n      }\n    } else {\n      for (const editorType of this.#editorTypes) {\n        editorType.updateDefaultParams(type, value);\n      }\n    }\n  }\n  showAllEditors(type, visible, updateButton = false) {\n    for (const editor of this.#allEditors.values()) {\n      if (editor.editorType === type) {\n        editor.show(visible);\n      }\n    }\n    const state = this.#showAllStates?.get(AnnotationEditorParamsType.HIGHLIGHT_SHOW_ALL) ?? true;\n    if (state !== visible) {\n      this.#dispatchUpdateUI([[AnnotationEditorParamsType.HIGHLIGHT_SHOW_ALL, visible]]);\n    }\n  }\n  enableWaiting(mustWait = false) {\n    if (this.#isWaiting === mustWait) {\n      return;\n    }\n    this.#isWaiting = mustWait;\n    for (const layer of this.#allLayers.values()) {\n      if (mustWait) {\n        layer.disableClick();\n      } else {\n        layer.enableClick();\n      }\n      layer.div.classList.toggle(\"waiting\", mustWait);\n    }\n  }\n  async #enableAll() {\n    if (!this.#isEnabled) {\n      this.#isEnabled = true;\n      const promises = [];\n      for (const layer of this.#allLayers.values()) {\n        promises.push(layer.enable());\n      }\n      await Promise.all(promises);\n      for (const editor of this.#allEditors.values()) {\n        editor.enable();\n      }\n    }\n  }\n  #disableAll() {\n    this.unselectAll();\n    if (this.#isEnabled) {\n      this.#isEnabled = false;\n      for (const layer of this.#allLayers.values()) {\n        layer.disable();\n      }\n      for (const editor of this.#allEditors.values()) {\n        editor.disable();\n      }\n    }\n  }\n  *getEditors(pageIndex) {\n    for (const editor of this.#allEditors.values()) {\n      if (editor.pageIndex === pageIndex) {\n        yield editor;\n      }\n    }\n  }\n  getEditor(id) {\n    return this.#allEditors.get(id);\n  }\n  addEditor(editor) {\n    this.#allEditors.set(editor.id, editor);\n  }\n  removeEditor(editor) {\n    if (editor.div.contains(document.activeElement)) {\n      if (this.#focusMainContainerTimeoutId) {\n        clearTimeout(this.#focusMainContainerTimeoutId);\n      }\n      this.#focusMainContainerTimeoutId = setTimeout(() => {\n        this.focusMainContainer();\n        this.#focusMainContainerTimeoutId = null;\n      }, 0);\n    }\n    this.#allEditors.delete(editor.id);\n    if (editor.annotationElementId) {\n      this.#missingCanvases?.delete(editor.annotationElementId);\n    }\n    this.unselect(editor);\n    if (!editor.annotationElementId || !this.#deletedAnnotationsElementIds.has(editor.annotationElementId)) {\n      this.#annotationStorage?.remove(editor.id);\n    }\n  }\n  addDeletedAnnotationElement(editor) {\n    this.#deletedAnnotationsElementIds.add(editor.annotationElementId);\n    this.addChangedExistingAnnotation(editor);\n    editor.deleted = true;\n  }\n  isDeletedAnnotationElement(annotationElementId) {\n    return this.#deletedAnnotationsElementIds.has(annotationElementId);\n  }\n  removeDeletedAnnotationElement(editor) {\n    this.#deletedAnnotationsElementIds.delete(editor.annotationElementId);\n    this.removeChangedExistingAnnotation(editor);\n    editor.deleted = false;\n  }\n  #addEditorToLayer(editor) {\n    const layer = this.#allLayers.get(editor.pageIndex);\n    if (layer) {\n      layer.addOrRebuild(editor);\n    } else {\n      this.addEditor(editor);\n      this.addToAnnotationStorage(editor);\n    }\n  }\n  setActiveEditor(editor) {\n    if (this.#activeEditor === editor) {\n      return;\n    }\n    this.#activeEditor = editor;\n    if (editor) {\n      this.#dispatchUpdateUI(editor.propertiesToUpdate);\n    }\n  }\n  get #lastSelectedEditor() {\n    let ed = null;\n    for (ed of this.#selectedEditors) {}\n    return ed;\n  }\n  updateUI(editor) {\n    if (this.#lastSelectedEditor === editor) {\n      this.#dispatchUpdateUI(editor.propertiesToUpdate);\n    }\n  }\n  updateUIForDefaultProperties(editorType) {\n    this.#dispatchUpdateUI(editorType.defaultPropertiesToUpdate);\n  }\n  toggleSelected(editor) {\n    if (this.#selectedEditors.has(editor)) {\n      this.#selectedEditors.delete(editor);\n      editor.unselect();\n      this.#dispatchUpdateStates({\n        hasSelectedEditor: this.hasSelection\n      });\n      return;\n    }\n    this.#selectedEditors.add(editor);\n    editor.select();\n    this.#dispatchUpdateUI(editor.propertiesToUpdate);\n    this.#dispatchUpdateStates({\n      hasSelectedEditor: true\n    });\n  }\n  setSelected(editor) {\n    this.updateToolbar({\n      mode: editor.mode,\n      editId: editor.uid\n    });\n    this.#currentDrawingSession?.commitOrRemove();\n    for (const ed of this.#selectedEditors) {\n      if (ed !== editor) {\n        ed.unselect();\n      }\n    }\n    this.#selectedEditors.clear();\n    this.#selectedEditors.add(editor);\n    editor.select();\n    this.#dispatchUpdateUI(editor.propertiesToUpdate);\n    this.#dispatchUpdateStates({\n      hasSelectedEditor: true\n    });\n  }\n  isSelected(editor) {\n    return this.#selectedEditors.has(editor);\n  }\n  get firstSelectedEditor() {\n    return this.#selectedEditors.values().next().value;\n  }\n  unselect(editor) {\n    editor.unselect();\n    this.#selectedEditors.delete(editor);\n    this.#dispatchUpdateStates({\n      hasSelectedEditor: this.hasSelection\n    });\n  }\n  get hasSelection() {\n    return this.#selectedEditors.size !== 0;\n  }\n  get isEnterHandled() {\n    return this.#selectedEditors.size === 1 && this.firstSelectedEditor.isEnterHandled;\n  }\n  undo() {\n    this.#commandManager.undo();\n    this.#dispatchUpdateStates({\n      hasSomethingToUndo: this.#commandManager.hasSomethingToUndo(),\n      hasSomethingToRedo: true,\n      isEmpty: this.#isEmpty()\n    });\n    this._editorUndoBar?.hide();\n  }\n  redo() {\n    this.#commandManager.redo();\n    this.#dispatchUpdateStates({\n      hasSomethingToUndo: true,\n      hasSomethingToRedo: this.#commandManager.hasSomethingToRedo(),\n      isEmpty: this.#isEmpty()\n    });\n  }\n  addCommands(params) {\n    this.#commandManager.add(params);\n    this.#dispatchUpdateStates({\n      hasSomethingToUndo: true,\n      hasSomethingToRedo: false,\n      isEmpty: this.#isEmpty()\n    });\n  }\n  cleanUndoStack(type) {\n    this.#commandManager.cleanType(type);\n  }\n  #isEmpty() {\n    if (this.#allEditors.size === 0) {\n      return true;\n    }\n    if (this.#allEditors.size === 1) {\n      for (const editor of this.#allEditors.values()) {\n        return editor.isEmpty();\n      }\n    }\n    return false;\n  }\n  delete() {\n    this.commitOrRemove();\n    const drawingEditor = this.currentLayer?.endDrawingSession(true);\n    if (!this.hasSelection && !drawingEditor) {\n      return;\n    }\n    const editors = drawingEditor ? [drawingEditor] : [...this.#selectedEditors];\n    const cmd = () => {\n      this._editorUndoBar?.show(undo, editors.length === 1 ? editors[0].editorType : editors.length);\n      for (const editor of editors) {\n        editor.remove();\n      }\n    };\n    const undo = () => {\n      for (const editor of editors) {\n        this.#addEditorToLayer(editor);\n      }\n    };\n    this.addCommands({\n      cmd,\n      undo,\n      mustExec: true\n    });\n  }\n  commitOrRemove() {\n    this.#activeEditor?.commitOrRemove();\n  }\n  hasSomethingToControl() {\n    return this.#activeEditor || this.hasSelection;\n  }\n  #selectEditors(editors) {\n    for (const editor of this.#selectedEditors) {\n      editor.unselect();\n    }\n    this.#selectedEditors.clear();\n    for (const editor of editors) {\n      if (editor.isEmpty()) {\n        continue;\n      }\n      this.#selectedEditors.add(editor);\n      editor.select();\n    }\n    this.#dispatchUpdateStates({\n      hasSelectedEditor: this.hasSelection\n    });\n  }\n  selectAll() {\n    for (const editor of this.#selectedEditors) {\n      editor.commit();\n    }\n    this.#selectEditors(this.#allEditors.values());\n  }\n  unselectAll() {\n    if (this.#activeEditor) {\n      this.#activeEditor.commitOrRemove();\n      if (this.#mode !== AnnotationEditorType.NONE) {\n        return;\n      }\n    }\n    if (this.#currentDrawingSession?.commitOrRemove()) {\n      return;\n    }\n    if (!this.hasSelection) {\n      return;\n    }\n    for (const editor of this.#selectedEditors) {\n      editor.unselect();\n    }\n    this.#selectedEditors.clear();\n    this.#dispatchUpdateStates({\n      hasSelectedEditor: false\n    });\n  }\n  translateSelectedEditors(x, y, noCommit = false) {\n    if (!noCommit) {\n      this.commitOrRemove();\n    }\n    if (!this.hasSelection) {\n      return;\n    }\n    this.#translation[0] += x;\n    this.#translation[1] += y;\n    const [totalX, totalY] = this.#translation;\n    const editors = [...this.#selectedEditors];\n    const TIME_TO_WAIT = 1000;\n    if (this.#translationTimeoutId) {\n      clearTimeout(this.#translationTimeoutId);\n    }\n    this.#translationTimeoutId = setTimeout(() => {\n      this.#translationTimeoutId = null;\n      this.#translation[0] = this.#translation[1] = 0;\n      this.addCommands({\n        cmd: () => {\n          for (const editor of editors) {\n            if (this.#allEditors.has(editor.id)) {\n              editor.translateInPage(totalX, totalY);\n              editor.translationDone();\n            }\n          }\n        },\n        undo: () => {\n          for (const editor of editors) {\n            if (this.#allEditors.has(editor.id)) {\n              editor.translateInPage(-totalX, -totalY);\n              editor.translationDone();\n            }\n          }\n        },\n        mustExec: false\n      });\n    }, TIME_TO_WAIT);\n    for (const editor of editors) {\n      editor.translateInPage(x, y);\n      editor.translationDone();\n    }\n  }\n  setUpDragSession() {\n    if (!this.hasSelection) {\n      return;\n    }\n    this.disableUserSelect(true);\n    this.#draggingEditors = new Map();\n    for (const editor of this.#selectedEditors) {\n      this.#draggingEditors.set(editor, {\n        savedX: editor.x,\n        savedY: editor.y,\n        savedPageIndex: editor.pageIndex,\n        newX: 0,\n        newY: 0,\n        newPageIndex: -1\n      });\n    }\n  }\n  endDragSession() {\n    if (!this.#draggingEditors) {\n      return false;\n    }\n    this.disableUserSelect(false);\n    const map = this.#draggingEditors;\n    this.#draggingEditors = null;\n    let mustBeAddedInUndoStack = false;\n    for (const [{\n      x,\n      y,\n      pageIndex\n    }, value] of map) {\n      value.newX = x;\n      value.newY = y;\n      value.newPageIndex = pageIndex;\n      mustBeAddedInUndoStack ||= x !== value.savedX || y !== value.savedY || pageIndex !== value.savedPageIndex;\n    }\n    if (!mustBeAddedInUndoStack) {\n      return false;\n    }\n    const move = (editor, x, y, pageIndex) => {\n      if (this.#allEditors.has(editor.id)) {\n        const parent = this.#allLayers.get(pageIndex);\n        if (parent) {\n          editor._setParentAndPosition(parent, x, y);\n        } else {\n          editor.pageIndex = pageIndex;\n          editor.x = x;\n          editor.y = y;\n        }\n      }\n    };\n    this.addCommands({\n      cmd: () => {\n        for (const [editor, {\n          newX,\n          newY,\n          newPageIndex\n        }] of map) {\n          move(editor, newX, newY, newPageIndex);\n        }\n      },\n      undo: () => {\n        for (const [editor, {\n          savedX,\n          savedY,\n          savedPageIndex\n        }] of map) {\n          move(editor, savedX, savedY, savedPageIndex);\n        }\n      },\n      mustExec: true\n    });\n    return true;\n  }\n  dragSelectedEditors(tx, ty) {\n    if (!this.#draggingEditors) {\n      return;\n    }\n    for (const editor of this.#draggingEditors.keys()) {\n      editor.drag(tx, ty);\n    }\n  }\n  rebuild(editor) {\n    if (editor.parent === null) {\n      const parent = this.getLayer(editor.pageIndex);\n      if (parent) {\n        parent.changeParent(editor);\n        parent.addOrRebuild(editor);\n      } else {\n        this.addEditor(editor);\n        this.addToAnnotationStorage(editor);\n        editor.rebuild();\n      }\n    } else {\n      editor.parent.addOrRebuild(editor);\n    }\n  }\n  get isEditorHandlingKeyboard() {\n    return this.getActive()?.shouldGetKeyboardEvents() || this.#selectedEditors.size === 1 && this.firstSelectedEditor.shouldGetKeyboardEvents();\n  }\n  isActive(editor) {\n    return this.#activeEditor === editor;\n  }\n  getActive() {\n    return this.#activeEditor;\n  }\n  getMode() {\n    return this.#mode;\n  }\n  isEditingMode() {\n    return this.#mode !== AnnotationEditorType.NONE;\n  }\n  get imageManager() {\n    return shadow(this, \"imageManager\", new ImageManager());\n  }\n  getSelectionBoxes(textLayer) {\n    if (!textLayer) {\n      return null;\n    }\n    const selection = document.getSelection();\n    for (let i = 0, ii = selection.rangeCount; i < ii; i++) {\n      if (!textLayer.contains(selection.getRangeAt(i).commonAncestorContainer)) {\n        return null;\n      }\n    }\n    const {\n      x: layerX,\n      y: layerY,\n      width: parentWidth,\n      height: parentHeight\n    } = textLayer.getBoundingClientRect();\n    let rotator;\n    switch (textLayer.getAttribute(\"data-main-rotation\")) {\n      case \"90\":\n        rotator = (x, y, w, h) => ({\n          x: (y - layerY) / parentHeight,\n          y: 1 - (x + w - layerX) / parentWidth,\n          width: h / parentHeight,\n          height: w / parentWidth\n        });\n        break;\n      case \"180\":\n        rotator = (x, y, w, h) => ({\n          x: 1 - (x + w - layerX) / parentWidth,\n          y: 1 - (y + h - layerY) / parentHeight,\n          width: w / parentWidth,\n          height: h / parentHeight\n        });\n        break;\n      case \"270\":\n        rotator = (x, y, w, h) => ({\n          x: 1 - (y + h - layerY) / parentHeight,\n          y: (x - layerX) / parentWidth,\n          width: h / parentHeight,\n          height: w / parentWidth\n        });\n        break;\n      default:\n        rotator = (x, y, w, h) => ({\n          x: (x - layerX) / parentWidth,\n          y: (y - layerY) / parentHeight,\n          width: w / parentWidth,\n          height: h / parentHeight\n        });\n        break;\n    }\n    const boxes = [];\n    for (let i = 0, ii = selection.rangeCount; i < ii; i++) {\n      const range = selection.getRangeAt(i);\n      if (range.collapsed) {\n        continue;\n      }\n      for (const {\n        x,\n        y,\n        width,\n        height\n      } of range.getClientRects()) {\n        if (width === 0 || height === 0) {\n          continue;\n        }\n        boxes.push(rotator(x, y, width, height));\n      }\n    }\n    return boxes.length === 0 ? null : boxes;\n  }\n  addChangedExistingAnnotation({\n    annotationElementId,\n    id\n  }) {\n    (this.#changedExistingAnnotations ||= new Map()).set(annotationElementId, id);\n  }\n  removeChangedExistingAnnotation({\n    annotationElementId\n  }) {\n    this.#changedExistingAnnotations?.delete(annotationElementId);\n  }\n  renderAnnotationElement(annotation) {\n    const editorId = this.#changedExistingAnnotations?.get(annotation.data.id);\n    if (!editorId) {\n      return;\n    }\n    const editor = this.#annotationStorage.getRawValue(editorId);\n    if (!editor) {\n      return;\n    }\n    if (this.#mode === AnnotationEditorType.NONE && !editor.hasBeenModified) {\n      return;\n    }\n    editor.renderAnnotationElement(annotation);\n  }\n  setMissingCanvas(annotationId, annotationElementId, canvas) {\n    const editor = this.#missingCanvases?.get(annotationId);\n    if (!editor) {\n      return;\n    }\n    editor.setCanvas(annotationElementId, canvas);\n    this.#missingCanvases.delete(annotationId);\n  }\n  addMissingCanvas(annotationId, editor) {\n    (this.#missingCanvases ||= new Map()).set(annotationId, editor);\n  }\n}\n\n;// ./src/display/editor/alt_text.js\n\nclass AltText {\n  #altText = null;\n  #altTextDecorative = false;\n  #altTextButton = null;\n  #altTextButtonLabel = null;\n  #altTextTooltip = null;\n  #altTextTooltipTimeout = null;\n  #altTextWasFromKeyBoard = false;\n  #badge = null;\n  #editor = null;\n  #guessedText = null;\n  #textWithDisclaimer = null;\n  #useNewAltTextFlow = false;\n  static #l10nNewButton = null;\n  static _l10n = null;\n  constructor(editor) {\n    this.#editor = editor;\n    this.#useNewAltTextFlow = editor._uiManager.useNewAltTextFlow;\n    AltText.#l10nNewButton ||= Object.freeze({\n      added: \"pdfjs-editor-new-alt-text-added-button\",\n      \"added-label\": \"pdfjs-editor-new-alt-text-added-button-label\",\n      missing: \"pdfjs-editor-new-alt-text-missing-button\",\n      \"missing-label\": \"pdfjs-editor-new-alt-text-missing-button-label\",\n      review: \"pdfjs-editor-new-alt-text-to-review-button\",\n      \"review-label\": \"pdfjs-editor-new-alt-text-to-review-button-label\"\n    });\n  }\n  static initialize(l10n) {\n    AltText._l10n ??= l10n;\n  }\n  async render() {\n    const altText = this.#altTextButton = document.createElement(\"button\");\n    altText.className = \"altText\";\n    altText.tabIndex = \"0\";\n    const label = this.#altTextButtonLabel = document.createElement(\"span\");\n    altText.append(label);\n    if (this.#useNewAltTextFlow) {\n      altText.classList.add(\"new\");\n      altText.setAttribute(\"data-l10n-id\", AltText.#l10nNewButton.missing);\n      label.setAttribute(\"data-l10n-id\", AltText.#l10nNewButton[\"missing-label\"]);\n    } else {\n      altText.setAttribute(\"data-l10n-id\", \"pdfjs-editor-alt-text-button\");\n      label.setAttribute(\"data-l10n-id\", \"pdfjs-editor-alt-text-button-label\");\n    }\n    const signal = this.#editor._uiManager._signal;\n    altText.addEventListener(\"contextmenu\", noContextMenu, {\n      signal\n    });\n    altText.addEventListener(\"pointerdown\", event => event.stopPropagation(), {\n      signal\n    });\n    const onClick = event => {\n      event.preventDefault();\n      this.#editor._uiManager.editAltText(this.#editor);\n      if (this.#useNewAltTextFlow) {\n        this.#editor._reportTelemetry({\n          action: \"pdfjs.image.alt_text.image_status_label_clicked\",\n          data: {\n            label: this.#label\n          }\n        });\n      }\n    };\n    altText.addEventListener(\"click\", onClick, {\n      capture: true,\n      signal\n    });\n    altText.addEventListener(\"keydown\", event => {\n      if (event.target === altText && event.key === \"Enter\") {\n        this.#altTextWasFromKeyBoard = true;\n        onClick(event);\n      }\n    }, {\n      signal\n    });\n    await this.#setState();\n    return altText;\n  }\n  get #label() {\n    return this.#altText && \"added\" || this.#altText === null && this.guessedText && \"review\" || \"missing\";\n  }\n  finish() {\n    if (!this.#altTextButton) {\n      return;\n    }\n    this.#altTextButton.focus({\n      focusVisible: this.#altTextWasFromKeyBoard\n    });\n    this.#altTextWasFromKeyBoard = false;\n  }\n  isEmpty() {\n    if (this.#useNewAltTextFlow) {\n      return this.#altText === null;\n    }\n    return !this.#altText && !this.#altTextDecorative;\n  }\n  hasData() {\n    if (this.#useNewAltTextFlow) {\n      return this.#altText !== null || !!this.#guessedText;\n    }\n    return this.isEmpty();\n  }\n  get guessedText() {\n    return this.#guessedText;\n  }\n  async setGuessedText(guessedText) {\n    if (this.#altText !== null) {\n      return;\n    }\n    this.#guessedText = guessedText;\n    this.#textWithDisclaimer = await AltText._l10n.get(\"pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer\", {\n      generatedAltText: guessedText\n    });\n    this.#setState();\n  }\n  toggleAltTextBadge(visibility = false) {\n    if (!this.#useNewAltTextFlow || this.#altText) {\n      this.#badge?.remove();\n      this.#badge = null;\n      return;\n    }\n    if (!this.#badge) {\n      const badge = this.#badge = document.createElement(\"div\");\n      badge.className = \"noAltTextBadge\";\n      this.#editor.div.append(badge);\n    }\n    this.#badge.classList.toggle(\"hidden\", !visibility);\n  }\n  serialize(isForCopying) {\n    let altText = this.#altText;\n    if (!isForCopying && this.#guessedText === altText) {\n      altText = this.#textWithDisclaimer;\n    }\n    return {\n      altText,\n      decorative: this.#altTextDecorative,\n      guessedText: this.#guessedText,\n      textWithDisclaimer: this.#textWithDisclaimer\n    };\n  }\n  get data() {\n    return {\n      altText: this.#altText,\n      decorative: this.#altTextDecorative\n    };\n  }\n  set data({\n    altText,\n    decorative,\n    guessedText,\n    textWithDisclaimer,\n    cancel = false\n  }) {\n    if (guessedText) {\n      this.#guessedText = guessedText;\n      this.#textWithDisclaimer = textWithDisclaimer;\n    }\n    if (this.#altText === altText && this.#altTextDecorative === decorative) {\n      return;\n    }\n    if (!cancel) {\n      this.#altText = altText;\n      this.#altTextDecorative = decorative;\n    }\n    this.#setState();\n  }\n  toggle(enabled = false) {\n    if (!this.#altTextButton) {\n      return;\n    }\n    if (!enabled && this.#altTextTooltipTimeout) {\n      clearTimeout(this.#altTextTooltipTimeout);\n      this.#altTextTooltipTimeout = null;\n    }\n    this.#altTextButton.disabled = !enabled;\n  }\n  shown() {\n    this.#editor._reportTelemetry({\n      action: \"pdfjs.image.alt_text.image_status_label_displayed\",\n      data: {\n        label: this.#label\n      }\n    });\n  }\n  destroy() {\n    this.#altTextButton?.remove();\n    this.#altTextButton = null;\n    this.#altTextButtonLabel = null;\n    this.#altTextTooltip = null;\n    this.#badge?.remove();\n    this.#badge = null;\n  }\n  async #setState() {\n    const button = this.#altTextButton;\n    if (!button) {\n      return;\n    }\n    if (this.#useNewAltTextFlow) {\n      button.classList.toggle(\"done\", !!this.#altText);\n      button.setAttribute(\"data-l10n-id\", AltText.#l10nNewButton[this.#label]);\n      this.#altTextButtonLabel?.setAttribute(\"data-l10n-id\", AltText.#l10nNewButton[`${this.#label}-label`]);\n      if (!this.#altText) {\n        this.#altTextTooltip?.remove();\n        return;\n      }\n    } else {\n      if (!this.#altText && !this.#altTextDecorative) {\n        button.classList.remove(\"done\");\n        this.#altTextTooltip?.remove();\n        return;\n      }\n      button.classList.add(\"done\");\n      button.setAttribute(\"data-l10n-id\", \"pdfjs-editor-alt-text-edit-button\");\n    }\n    let tooltip = this.#altTextTooltip;\n    if (!tooltip) {\n      this.#altTextTooltip = tooltip = document.createElement(\"span\");\n      tooltip.className = \"tooltip\";\n      tooltip.setAttribute(\"role\", \"tooltip\");\n      tooltip.id = `alt-text-tooltip-${this.#editor.id}`;\n      const DELAY_TO_SHOW_TOOLTIP = 100;\n      const signal = this.#editor._uiManager._signal;\n      signal.addEventListener(\"abort\", () => {\n        clearTimeout(this.#altTextTooltipTimeout);\n        this.#altTextTooltipTimeout = null;\n      }, {\n        once: true\n      });\n      button.addEventListener(\"mouseenter\", () => {\n        this.#altTextTooltipTimeout = setTimeout(() => {\n          this.#altTextTooltipTimeout = null;\n          this.#altTextTooltip.classList.add(\"show\");\n          this.#editor._reportTelemetry({\n            action: \"alt_text_tooltip\"\n          });\n        }, DELAY_TO_SHOW_TOOLTIP);\n      }, {\n        signal\n      });\n      button.addEventListener(\"mouseleave\", () => {\n        if (this.#altTextTooltipTimeout) {\n          clearTimeout(this.#altTextTooltipTimeout);\n          this.#altTextTooltipTimeout = null;\n        }\n        this.#altTextTooltip?.classList.remove(\"show\");\n      }, {\n        signal\n      });\n    }\n    if (this.#altTextDecorative) {\n      tooltip.setAttribute(\"data-l10n-id\", \"pdfjs-editor-alt-text-decorative-tooltip\");\n    } else {\n      tooltip.removeAttribute(\"data-l10n-id\");\n      tooltip.textContent = this.#altText;\n    }\n    if (!tooltip.parentNode) {\n      button.append(tooltip);\n    }\n    const element = this.#editor.getElementForAltText();\n    element?.setAttribute(\"aria-describedby\", tooltip.id);\n  }\n}\n\n;// ./src/display/editor/comment.js\n\nclass Comment {\n  #commentStandaloneButton = null;\n  #commentToolbarButton = null;\n  #commentWasFromKeyBoard = false;\n  #editor = null;\n  #initialText = null;\n  #richText = null;\n  #text = null;\n  #date = null;\n  #deleted = false;\n  #popupPosition = null;\n  constructor(editor) {\n    this.#editor = editor;\n  }\n  renderForToolbar() {\n    const button = this.#commentToolbarButton = document.createElement(\"button\");\n    button.className = \"comment\";\n    return this.#render(button, false);\n  }\n  renderForStandalone() {\n    const button = this.#commentStandaloneButton = document.createElement(\"button\");\n    button.className = \"annotationCommentButton\";\n    const position = this.#editor.commentButtonPosition;\n    if (position) {\n      const {\n        style\n      } = button;\n      style.insetInlineEnd = `calc(${100 * (this.#editor._uiManager.direction === \"ltr\" ? 1 - position[0] : position[0])}% - var(--comment-button-dim))`;\n      style.top = `calc(${100 * position[1]}% - var(--comment-button-dim))`;\n      const color = this.#editor.commentButtonColor;\n      if (color) {\n        style.backgroundColor = color;\n      }\n    }\n    return this.#render(button, true);\n  }\n  focusButton() {\n    setTimeout(() => {\n      (this.#commentStandaloneButton ?? this.#commentToolbarButton)?.focus();\n    }, 0);\n  }\n  onUpdatedColor() {\n    if (!this.#commentStandaloneButton) {\n      return;\n    }\n    const color = this.#editor.commentButtonColor;\n    if (color) {\n      this.#commentStandaloneButton.style.backgroundColor = color;\n    }\n    this.#editor._uiManager.updatePopupColor(this.#editor);\n  }\n  get commentButtonWidth() {\n    return (this.#commentStandaloneButton?.getBoundingClientRect().width ?? 0) / this.#editor.parent.boundingClientRect.width;\n  }\n  get commentPopupPositionInLayer() {\n    if (this.#popupPosition) {\n      return this.#popupPosition;\n    }\n    if (!this.#commentStandaloneButton) {\n      return null;\n    }\n    const {\n      x,\n      y,\n      height\n    } = this.#commentStandaloneButton.getBoundingClientRect();\n    const {\n      x: parentX,\n      y: parentY,\n      width: parentWidth,\n      height: parentHeight\n    } = this.#editor.parent.boundingClientRect;\n    return [(x - parentX) / parentWidth, (y + height - parentY) / parentHeight];\n  }\n  set commentPopupPositionInLayer(pos) {\n    this.#popupPosition = pos;\n  }\n  hasDefaultPopupPosition() {\n    return this.#popupPosition === null;\n  }\n  removeStandaloneCommentButton() {\n    this.#commentStandaloneButton?.remove();\n    this.#commentStandaloneButton = null;\n  }\n  removeToolbarCommentButton() {\n    this.#commentToolbarButton?.remove();\n    this.#commentToolbarButton = null;\n  }\n  setCommentButtonStates({\n    selected,\n    hasPopup\n  }) {\n    if (!this.#commentStandaloneButton) {\n      return;\n    }\n    this.#commentStandaloneButton.classList.toggle(\"selected\", selected);\n    this.#commentStandaloneButton.ariaExpanded = hasPopup;\n  }\n  #render(comment, isStandalone) {\n    if (!this.#editor._uiManager.hasCommentManager()) {\n      return null;\n    }\n    comment.tabIndex = \"0\";\n    comment.ariaHasPopup = \"dialog\";\n    if (isStandalone) {\n      comment.ariaControls = \"commentPopup\";\n      comment.setAttribute(\"data-l10n-id\", \"pdfjs-show-comment-button\");\n    } else {\n      comment.ariaControlsElements = [this.#editor._uiManager.getCommentDialogElement()];\n      comment.setAttribute(\"data-l10n-id\", \"pdfjs-editor-add-comment-button\");\n    }\n    const signal = this.#editor._uiManager._signal;\n    if (!(signal instanceof AbortSignal) || signal.aborted) {\n      return comment;\n    }\n    comment.addEventListener(\"contextmenu\", noContextMenu, {\n      signal\n    });\n    if (isStandalone) {\n      comment.addEventListener(\"focusin\", e => {\n        this.#editor._focusEventsAllowed = false;\n        stopEvent(e);\n      }, {\n        capture: true,\n        signal\n      });\n      comment.addEventListener(\"focusout\", e => {\n        this.#editor._focusEventsAllowed = true;\n        stopEvent(e);\n      }, {\n        capture: true,\n        signal\n      });\n    }\n    comment.addEventListener(\"pointerdown\", event => event.stopPropagation(), {\n      signal\n    });\n    const onClick = event => {\n      event.preventDefault();\n      if (comment === this.#commentToolbarButton) {\n        this.edit();\n      } else {\n        this.#editor.toggleComment(true);\n      }\n    };\n    comment.addEventListener(\"click\", onClick, {\n      capture: true,\n      signal\n    });\n    comment.addEventListener(\"keydown\", event => {\n      if (event.target === comment && event.key === \"Enter\") {\n        this.#commentWasFromKeyBoard = true;\n        onClick(event);\n      }\n    }, {\n      signal\n    });\n    comment.addEventListener(\"pointerenter\", () => {\n      this.#editor.toggleComment(false, true);\n    }, {\n      signal\n    });\n    comment.addEventListener(\"pointerleave\", () => {\n      this.#editor.toggleComment(false, false);\n    }, {\n      signal\n    });\n    return comment;\n  }\n  edit(options) {\n    const position = this.commentPopupPositionInLayer;\n    let posX, posY;\n    if (position) {\n      [posX, posY] = position;\n    } else {\n      [posX, posY] = this.#editor.commentButtonPosition;\n      const {\n        width,\n        height,\n        x,\n        y\n      } = this.#editor;\n      posX = x + posX * width;\n      posY = y + posY * height;\n    }\n    const parentDimensions = this.#editor.parent.boundingClientRect;\n    const {\n      x: parentX,\n      y: parentY,\n      width: parentWidth,\n      height: parentHeight\n    } = parentDimensions;\n    this.#editor._uiManager.editComment(this.#editor, parentX + posX * parentWidth, parentY + posY * parentHeight, {\n      ...options,\n      parentDimensions\n    });\n  }\n  finish() {\n    if (!this.#commentToolbarButton) {\n      return;\n    }\n    this.#commentToolbarButton.focus({\n      focusVisible: this.#commentWasFromKeyBoard\n    });\n    this.#commentWasFromKeyBoard = false;\n  }\n  isDeleted() {\n    return this.#deleted || this.#text === \"\";\n  }\n  isEmpty() {\n    return this.#text === null;\n  }\n  hasBeenEdited() {\n    return this.isDeleted() || this.#text !== this.#initialText;\n  }\n  serialize() {\n    return this.data;\n  }\n  get data() {\n    return {\n      text: this.#text,\n      richText: this.#richText,\n      date: this.#date,\n      deleted: this.isDeleted()\n    };\n  }\n  set data(text) {\n    if (text !== this.#text) {\n      this.#richText = null;\n    }\n    if (text === null) {\n      this.#text = \"\";\n      this.#deleted = true;\n      return;\n    }\n    this.#text = text;\n    this.#date = new Date();\n    this.#deleted = false;\n  }\n  setInitialText(text, richText = null) {\n    this.#initialText = text;\n    this.data = text;\n    this.#date = null;\n    this.#richText = richText;\n  }\n  shown() {}\n  destroy() {\n    this.#commentToolbarButton?.remove();\n    this.#commentToolbarButton = null;\n    this.#commentStandaloneButton?.remove();\n    this.#commentStandaloneButton = null;\n    this.#text = \"\";\n    this.#richText = null;\n    this.#date = null;\n    this.#editor = null;\n    this.#commentWasFromKeyBoard = false;\n    this.#deleted = false;\n  }\n}\n\n;// ./src/display/touch_manager.js\n\nclass TouchManager {\n  #container;\n  #isPinching = false;\n  #isPinchingStopped = null;\n  #isPinchingDisabled;\n  #onPinchStart;\n  #onPinching;\n  #onPinchEnd;\n  #pointerDownAC = null;\n  #signal;\n  #touchInfo = null;\n  #touchManagerAC;\n  #touchMoveAC = null;\n  constructor({\n    container,\n    isPinchingDisabled = null,\n    isPinchingStopped = null,\n    onPinchStart = null,\n    onPinching = null,\n    onPinchEnd = null,\n    signal\n  }) {\n    this.#container = container;\n    this.#isPinchingStopped = isPinchingStopped;\n    this.#isPinchingDisabled = isPinchingDisabled;\n    this.#onPinchStart = onPinchStart;\n    this.#onPinching = onPinching;\n    this.#onPinchEnd = onPinchEnd;\n    this.#touchManagerAC = new AbortController();\n    this.#signal = AbortSignal.any([signal, this.#touchManagerAC.signal]);\n    container.addEventListener(\"touchstart\", this.#onTouchStart.bind(this), {\n      passive: false,\n      signal: this.#signal\n    });\n  }\n  get MIN_TOUCH_DISTANCE_TO_PINCH() {\n    return 35 / OutputScale.pixelRatio;\n  }\n  #onTouchStart(evt) {\n    if (this.#isPinchingDisabled?.()) {\n      return;\n    }\n    if (evt.touches.length === 1) {\n      if (this.#pointerDownAC) {\n        return;\n      }\n      const pointerDownAC = this.#pointerDownAC = new AbortController();\n      const signal = AbortSignal.any([this.#signal, pointerDownAC.signal]);\n      const container = this.#container;\n      const opts = {\n        capture: true,\n        signal,\n        passive: false\n      };\n      const cancelPointerDown = e => {\n        if (e.pointerType === \"touch\") {\n          this.#pointerDownAC?.abort();\n          this.#pointerDownAC = null;\n        }\n      };\n      container.addEventListener(\"pointerdown\", e => {\n        if (e.pointerType === \"touch\") {\n          stopEvent(e);\n          cancelPointerDown(e);\n        }\n      }, opts);\n      container.addEventListener(\"pointerup\", cancelPointerDown, opts);\n      container.addEventListener(\"pointercancel\", cancelPointerDown, opts);\n      return;\n    }\n    if (!this.#touchMoveAC) {\n      this.#touchMoveAC = new AbortController();\n      const signal = AbortSignal.any([this.#signal, this.#touchMoveAC.signal]);\n      const container = this.#container;\n      const opt = {\n        signal,\n        capture: false,\n        passive: false\n      };\n      container.addEventListener(\"touchmove\", this.#onTouchMove.bind(this), opt);\n      const onTouchEnd = this.#onTouchEnd.bind(this);\n      container.addEventListener(\"touchend\", onTouchEnd, opt);\n      container.addEventListener(\"touchcancel\", onTouchEnd, opt);\n      opt.capture = true;\n      container.addEventListener(\"pointerdown\", stopEvent, opt);\n      container.addEventListener(\"pointermove\", stopEvent, opt);\n      container.addEventListener(\"pointercancel\", stopEvent, opt);\n      container.addEventListener(\"pointerup\", stopEvent, opt);\n      this.#onPinchStart?.();\n    }\n    stopEvent(evt);\n    if (evt.touches.length !== 2 || this.#isPinchingStopped?.()) {\n      this.#touchInfo = null;\n      return;\n    }\n    let [touch0, touch1] = evt.touches;\n    if (touch0.identifier > touch1.identifier) {\n      [touch0, touch1] = [touch1, touch0];\n    }\n    this.#touchInfo = {\n      touch0X: touch0.screenX,\n      touch0Y: touch0.screenY,\n      touch1X: touch1.screenX,\n      touch1Y: touch1.screenY\n    };\n  }\n  #onTouchMove(evt) {\n    if (!this.#touchInfo || evt.touches.length !== 2) {\n      return;\n    }\n    stopEvent(evt);\n    let [touch0, touch1] = evt.touches;\n    if (touch0.identifier > touch1.identifier) {\n      [touch0, touch1] = [touch1, touch0];\n    }\n    const {\n      screenX: screen0X,\n      screenY: screen0Y\n    } = touch0;\n    const {\n      screenX: screen1X,\n      screenY: screen1Y\n    } = touch1;\n    const touchInfo = this.#touchInfo;\n    const {\n      touch0X: pTouch0X,\n      touch0Y: pTouch0Y,\n      touch1X: pTouch1X,\n      touch1Y: pTouch1Y\n    } = touchInfo;\n    const prevGapX = pTouch1X - pTouch0X;\n    const prevGapY = pTouch1Y - pTouch0Y;\n    const currGapX = screen1X - screen0X;\n    const currGapY = screen1Y - screen0Y;\n    const distance = Math.hypot(currGapX, currGapY) || 1;\n    const pDistance = Math.hypot(prevGapX, prevGapY) || 1;\n    if (!this.#isPinching && Math.abs(pDistance - distance) <= TouchManager.MIN_TOUCH_DISTANCE_TO_PINCH) {\n      return;\n    }\n    touchInfo.touch0X = screen0X;\n    touchInfo.touch0Y = screen0Y;\n    touchInfo.touch1X = screen1X;\n    touchInfo.touch1Y = screen1Y;\n    if (!this.#isPinching) {\n      this.#isPinching = true;\n      return;\n    }\n    const origin = [(screen0X + screen1X) / 2, (screen0Y + screen1Y) / 2];\n    this.#onPinching?.(origin, pDistance, distance);\n  }\n  #onTouchEnd(evt) {\n    if (evt.touches.length >= 2) {\n      return;\n    }\n    if (this.#touchMoveAC) {\n      this.#touchMoveAC.abort();\n      this.#touchMoveAC = null;\n      this.#onPinchEnd?.();\n    }\n    if (!this.#touchInfo) {\n      return;\n    }\n    stopEvent(evt);\n    this.#touchInfo = null;\n    this.#isPinching = false;\n  }\n  destroy() {\n    this.#touchManagerAC?.abort();\n    this.#touchManagerAC = null;\n    this.#pointerDownAC?.abort();\n    this.#pointerDownAC = null;\n  }\n}\n\n;// ./src/display/editor/editor.js\n\n\n\n\n\n\n\nclass AnnotationEditor {\n  #accessibilityData = null;\n  #allResizerDivs = null;\n  #altText = null;\n  #comment = null;\n  #commentStandaloneButton = null;\n  #disabled = false;\n  #dragPointerId = null;\n  #dragPointerType = \"\";\n  #resizersDiv = null;\n  #lastPointerCoords = null;\n  #savedDimensions = null;\n  #fakeAnnotation = null;\n  #focusAC = null;\n  #focusedResizerName = \"\";\n  #hasBeenClicked = false;\n  #initialRect = null;\n  #isEditing = false;\n  #isInEditMode = false;\n  #isResizerEnabledForKeyboard = false;\n  #moveInDOMTimeout = null;\n  #prevDragX = 0;\n  #prevDragY = 0;\n  #telemetryTimeouts = null;\n  #touchManager = null;\n  isSelected = false;\n  _isCopy = false;\n  _editToolbar = null;\n  _initialOptions = Object.create(null);\n  _initialData = null;\n  _isVisible = true;\n  _uiManager = null;\n  _focusEventsAllowed = true;\n  static _l10n = null;\n  static _l10nResizer = null;\n  #isDraggable = false;\n  #zIndex = AnnotationEditor._zIndex++;\n  static _borderLineWidth = -1;\n  static _colorManager = new ColorManager();\n  static _zIndex = 1;\n  static _telemetryTimeout = 1000;\n  static get _resizerKeyboardManager() {\n    const resize = AnnotationEditor.prototype._resizeWithKeyboard;\n    const small = AnnotationEditorUIManager.TRANSLATE_SMALL;\n    const big = AnnotationEditorUIManager.TRANSLATE_BIG;\n    return shadow(this, \"_resizerKeyboardManager\", new KeyboardManager([[[\"ArrowLeft\", \"mac+ArrowLeft\"], resize, {\n      args: [-small, 0]\n    }], [[\"ctrl+ArrowLeft\", \"mac+shift+ArrowLeft\"], resize, {\n      args: [-big, 0]\n    }], [[\"ArrowRight\", \"mac+ArrowRight\"], resize, {\n      args: [small, 0]\n    }], [[\"ctrl+ArrowRight\", \"mac+shift+ArrowRight\"], resize, {\n      args: [big, 0]\n    }], [[\"ArrowUp\", \"mac+ArrowUp\"], resize, {\n      args: [0, -small]\n    }], [[\"ctrl+ArrowUp\", \"mac+shift+ArrowUp\"], resize, {\n      args: [0, -big]\n    }], [[\"ArrowDown\", \"mac+ArrowDown\"], resize, {\n      args: [0, small]\n    }], [[\"ctrl+ArrowDown\", \"mac+shift+ArrowDown\"], resize, {\n      args: [0, big]\n    }], [[\"Escape\", \"mac+Escape\"], AnnotationEditor.prototype._stopResizingWithKeyboard]]));\n  }\n  constructor(parameters) {\n    this.parent = parameters.parent;\n    this.id = parameters.id;\n    this.width = this.height = null;\n    this.pageIndex = parameters.parent.pageIndex;\n    this.name = parameters.name;\n    this.div = null;\n    this._uiManager = parameters.uiManager;\n    this.annotationElementId = null;\n    this._willKeepAspectRatio = false;\n    this._initialOptions.isCentered = parameters.isCentered;\n    this._structTreeParentId = null;\n    this.annotationElementId = parameters.annotationElementId || null;\n    this.creationDate = parameters.creationDate || new Date();\n    this.modificationDate = parameters.modificationDate || null;\n    this.canAddComment = true;\n    const {\n      rotation,\n      rawDims: {\n        pageWidth,\n        pageHeight,\n        pageX,\n        pageY\n      }\n    } = this.parent.viewport;\n    this.rotation = rotation;\n    this.pageRotation = (360 + rotation - this._uiManager.viewParameters.rotation) % 360;\n    this.pageDimensions = [pageWidth, pageHeight];\n    this.pageTranslation = [pageX, pageY];\n    const [width, height] = this.parentDimensions;\n    this.x = parameters.x / width;\n    this.y = parameters.y / height;\n    this.isAttachedToDOM = false;\n    this.deleted = false;\n  }\n  get editorType() {\n    return Object.getPrototypeOf(this).constructor._type;\n  }\n  get mode() {\n    return Object.getPrototypeOf(this).constructor._editorType;\n  }\n  static get isDrawer() {\n    return false;\n  }\n  static get _defaultLineColor() {\n    return shadow(this, \"_defaultLineColor\", this._colorManager.getHexCode(\"CanvasText\"));\n  }\n  static deleteAnnotationElement(editor) {\n    const fakeEditor = new FakeEditor({\n      id: editor.parent.getNextId(),\n      parent: editor.parent,\n      uiManager: editor._uiManager\n    });\n    fakeEditor.annotationElementId = editor.annotationElementId;\n    fakeEditor.deleted = true;\n    fakeEditor._uiManager.addToAnnotationStorage(fakeEditor);\n  }\n  static initialize(l10n, _uiManager) {\n    AnnotationEditor._l10n ??= l10n;\n    AnnotationEditor._l10nResizer ||= Object.freeze({\n      topLeft: \"pdfjs-editor-resizer-top-left\",\n      topMiddle: \"pdfjs-editor-resizer-top-middle\",\n      topRight: \"pdfjs-editor-resizer-top-right\",\n      middleRight: \"pdfjs-editor-resizer-middle-right\",\n      bottomRight: \"pdfjs-editor-resizer-bottom-right\",\n      bottomMiddle: \"pdfjs-editor-resizer-bottom-middle\",\n      bottomLeft: \"pdfjs-editor-resizer-bottom-left\",\n      middleLeft: \"pdfjs-editor-resizer-middle-left\"\n    });\n    if (AnnotationEditor._borderLineWidth !== -1) {\n      return;\n    }\n    const style = getComputedStyle(document.documentElement);\n    AnnotationEditor._borderLineWidth = parseFloat(style.getPropertyValue(\"--outline-width\")) || 0;\n  }\n  static updateDefaultParams(_type, _value) {}\n  static get defaultPropertiesToUpdate() {\n    return [];\n  }\n  static isHandlingMimeForPasting(mime) {\n    return false;\n  }\n  static paste(item, parent) {\n    unreachable(\"Not implemented\");\n  }\n  get propertiesToUpdate() {\n    return [];\n  }\n  get _isDraggable() {\n    return this.#isDraggable;\n  }\n  set _isDraggable(value) {\n    this.#isDraggable = value;\n    this.div?.classList.toggle(\"draggable\", value);\n  }\n  get uid() {\n    return this.annotationElementId || this.id;\n  }\n  get isEnterHandled() {\n    return true;\n  }\n  center() {\n    const [pageWidth, pageHeight] = this.pageDimensions;\n    switch (this.parentRotation) {\n      case 90:\n        this.x -= this.height * pageHeight / (pageWidth * 2);\n        this.y += this.width * pageWidth / (pageHeight * 2);\n        break;\n      case 180:\n        this.x += this.width / 2;\n        this.y += this.height / 2;\n        break;\n      case 270:\n        this.x += this.height * pageHeight / (pageWidth * 2);\n        this.y -= this.width * pageWidth / (pageHeight * 2);\n        break;\n      default:\n        this.x -= this.width / 2;\n        this.y -= this.height / 2;\n        break;\n    }\n    this.fixAndSetPosition();\n  }\n  addCommands(params) {\n    this._uiManager.addCommands(params);\n  }\n  get currentLayer() {\n    return this._uiManager.currentLayer;\n  }\n  setInBackground() {\n    this.div.style.zIndex = 0;\n  }\n  setInForeground() {\n    this.div.style.zIndex = this.#zIndex;\n  }\n  setParent(parent) {\n    if (parent !== null) {\n      this.pageIndex = parent.pageIndex;\n      this.pageDimensions = parent.pageDimensions;\n    } else {\n      this.#stopResizing();\n      this.#fakeAnnotation?.remove();\n      this.#fakeAnnotation = null;\n    }\n    this.parent = parent;\n  }\n  focusin(event) {\n    if (!this._focusEventsAllowed) {\n      return;\n    }\n    if (!this.#hasBeenClicked) {\n      this.parent.setSelected(this);\n    } else {\n      this.#hasBeenClicked = false;\n    }\n  }\n  focusout(event) {\n    if (!this._focusEventsAllowed) {\n      return;\n    }\n    if (!this.isAttachedToDOM) {\n      return;\n    }\n    const target = event.relatedTarget;\n    if (target?.closest(`#${this.id}`)) {\n      return;\n    }\n    event.preventDefault();\n    if (!this.parent?.isMultipleSelection) {\n      this.commitOrRemove();\n    }\n  }\n  commitOrRemove() {\n    if (this.isEmpty()) {\n      this.remove();\n    } else {\n      this.commit();\n    }\n  }\n  commit() {\n    if (!this.isInEditMode()) {\n      return;\n    }\n    this.addToAnnotationStorage();\n  }\n  addToAnnotationStorage() {\n    this._uiManager.addToAnnotationStorage(this);\n  }\n  setAt(x, y, tx, ty) {\n    const [width, height] = this.parentDimensions;\n    [tx, ty] = this.screenToPageTranslation(tx, ty);\n    this.x = (x + tx) / width;\n    this.y = (y + ty) / height;\n    this.fixAndSetPosition();\n  }\n  _moveAfterPaste(baseX, baseY) {\n    const [parentWidth, parentHeight] = this.parentDimensions;\n    this.setAt(baseX * parentWidth, baseY * parentHeight, this.width * parentWidth, this.height * parentHeight);\n    this._onTranslated();\n  }\n  #translate([width, height], x, y) {\n    [x, y] = this.screenToPageTranslation(x, y);\n    this.x += x / width;\n    this.y += y / height;\n    this._onTranslating(this.x, this.y);\n    this.fixAndSetPosition();\n  }\n  translate(x, y) {\n    this.#translate(this.parentDimensions, x, y);\n  }\n  translateInPage(x, y) {\n    this.#initialRect ||= [this.x, this.y, this.width, this.height];\n    this.#translate(this.pageDimensions, x, y);\n    this.div.scrollIntoView({\n      block: \"nearest\"\n    });\n  }\n  translationDone() {\n    this._onTranslated(this.x, this.y);\n  }\n  drag(tx, ty) {\n    this.#initialRect ||= [this.x, this.y, this.width, this.height];\n    const {\n      div,\n      parentDimensions: [parentWidth, parentHeight]\n    } = this;\n    this.x += tx / parentWidth;\n    this.y += ty / parentHeight;\n    if (this.parent && (this.x < 0 || this.x > 1 || this.y < 0 || this.y > 1)) {\n      const {\n        x,\n        y\n      } = this.div.getBoundingClientRect();\n      if (this.parent.findNewParent(this, x, y)) {\n        this.x -= Math.floor(this.x);\n        this.y -= Math.floor(this.y);\n      }\n    }\n    let {\n      x,\n      y\n    } = this;\n    const [bx, by] = this.getBaseTranslation();\n    x += bx;\n    y += by;\n    const {\n      style\n    } = div;\n    style.left = `${(100 * x).toFixed(2)}%`;\n    style.top = `${(100 * y).toFixed(2)}%`;\n    this._onTranslating(x, y);\n    div.scrollIntoView({\n      block: \"nearest\"\n    });\n  }\n  _onTranslating(x, y) {}\n  _onTranslated(x, y) {}\n  get _hasBeenMoved() {\n    return !!this.#initialRect && (this.#initialRect[0] !== this.x || this.#initialRect[1] !== this.y);\n  }\n  get _hasBeenResized() {\n    return !!this.#initialRect && (this.#initialRect[2] !== this.width || this.#initialRect[3] !== this.height);\n  }\n  getBaseTranslation() {\n    const [parentWidth, parentHeight] = this.parentDimensions;\n    const {\n      _borderLineWidth\n    } = AnnotationEditor;\n    const x = _borderLineWidth / parentWidth;\n    const y = _borderLineWidth / parentHeight;\n    switch (this.rotation) {\n      case 90:\n        return [-x, y];\n      case 180:\n        return [x, y];\n      case 270:\n        return [x, -y];\n      default:\n        return [-x, -y];\n    }\n  }\n  get _mustFixPosition() {\n    return true;\n  }\n  fixAndSetPosition(rotation = this.rotation) {\n    const {\n      div: {\n        style\n      },\n      pageDimensions: [pageWidth, pageHeight]\n    } = this;\n    let {\n      x,\n      y,\n      width,\n      height\n    } = this;\n    width *= pageWidth;\n    height *= pageHeight;\n    x *= pageWidth;\n    y *= pageHeight;\n    if (this._mustFixPosition) {\n      switch (rotation) {\n        case 0:\n          x = MathClamp(x, 0, pageWidth - width);\n          y = MathClamp(y, 0, pageHeight - height);\n          break;\n        case 90:\n          x = MathClamp(x, 0, pageWidth - height);\n          y = MathClamp(y, width, pageHeight);\n          break;\n        case 180:\n          x = MathClamp(x, width, pageWidth);\n          y = MathClamp(y, height, pageHeight);\n          break;\n        case 270:\n          x = MathClamp(x, height, pageWidth);\n          y = MathClamp(y, 0, pageHeight - width);\n          break;\n      }\n    }\n    this.x = x /= pageWidth;\n    this.y = y /= pageHeight;\n    const [bx, by] = this.getBaseTranslation();\n    x += bx;\n    y += by;\n    style.left = `${(100 * x).toFixed(2)}%`;\n    style.top = `${(100 * y).toFixed(2)}%`;\n    this.moveInDOM();\n  }\n  static #rotatePoint(x, y, angle) {\n    switch (angle) {\n      case 90:\n        return [y, -x];\n      case 180:\n        return [-x, -y];\n      case 270:\n        return [-y, x];\n      default:\n        return [x, y];\n    }\n  }\n  screenToPageTranslation(x, y) {\n    return AnnotationEditor.#rotatePoint(x, y, this.parentRotation);\n  }\n  pageTranslationToScreen(x, y) {\n    return AnnotationEditor.#rotatePoint(x, y, 360 - this.parentRotation);\n  }\n  #getRotationMatrix(rotation) {\n    switch (rotation) {\n      case 90:\n        {\n          const [pageWidth, pageHeight] = this.pageDimensions;\n          return [0, -pageWidth / pageHeight, pageHeight / pageWidth, 0];\n        }\n      case 180:\n        return [-1, 0, 0, -1];\n      case 270:\n        {\n          const [pageWidth, pageHeight] = this.pageDimensions;\n          return [0, pageWidth / pageHeight, -pageHeight / pageWidth, 0];\n        }\n      default:\n        return [1, 0, 0, 1];\n    }\n  }\n  get parentScale() {\n    return this._uiManager.viewParameters.realScale;\n  }\n  get parentRotation() {\n    return (this._uiManager.viewParameters.rotation + this.pageRotation) % 360;\n  }\n  get parentDimensions() {\n    const {\n      parentScale,\n      pageDimensions: [pageWidth, pageHeight]\n    } = this;\n    return [pageWidth * parentScale, pageHeight * parentScale];\n  }\n  setDims() {\n    const {\n      div: {\n        style\n      },\n      width,\n      height\n    } = this;\n    style.width = `${(100 * width).toFixed(2)}%`;\n    style.height = `${(100 * height).toFixed(2)}%`;\n  }\n  getInitialTranslation() {\n    return [0, 0];\n  }\n  #createResizers() {\n    if (this.#resizersDiv) {\n      return;\n    }\n    this.#resizersDiv = document.createElement(\"div\");\n    this.#resizersDiv.classList.add(\"resizers\");\n    const classes = this._willKeepAspectRatio ? [\"topLeft\", \"topRight\", \"bottomRight\", \"bottomLeft\"] : [\"topLeft\", \"topMiddle\", \"topRight\", \"middleRight\", \"bottomRight\", \"bottomMiddle\", \"bottomLeft\", \"middleLeft\"];\n    const signal = this._uiManager._signal;\n    for (const name of classes) {\n      const div = document.createElement(\"div\");\n      this.#resizersDiv.append(div);\n      div.classList.add(\"resizer\", name);\n      div.setAttribute(\"data-resizer-name\", name);\n      div.addEventListener(\"pointerdown\", this.#resizerPointerdown.bind(this, name), {\n        signal\n      });\n      div.addEventListener(\"contextmenu\", noContextMenu, {\n        signal\n      });\n      div.tabIndex = -1;\n    }\n    this.div.prepend(this.#resizersDiv);\n  }\n  #resizerPointerdown(name, event) {\n    event.preventDefault();\n    const {\n      isMac\n    } = util_FeatureTest.platform;\n    if (event.button !== 0 || event.ctrlKey && isMac) {\n      return;\n    }\n    this.#altText?.toggle(false);\n    const savedDraggable = this._isDraggable;\n    this._isDraggable = false;\n    this.#lastPointerCoords = [event.screenX, event.screenY];\n    const ac = new AbortController();\n    const signal = this._uiManager.combinedSignal(ac);\n    this.parent.togglePointerEvents(false);\n    window.addEventListener(\"pointermove\", this.#resizerPointermove.bind(this, name), {\n      passive: true,\n      capture: true,\n      signal\n    });\n    window.addEventListener(\"touchmove\", stopEvent, {\n      passive: false,\n      signal\n    });\n    window.addEventListener(\"contextmenu\", noContextMenu, {\n      signal\n    });\n    this.#savedDimensions = {\n      savedX: this.x,\n      savedY: this.y,\n      savedWidth: this.width,\n      savedHeight: this.height\n    };\n    const savedParentCursor = this.parent.div.style.cursor;\n    const savedCursor = this.div.style.cursor;\n    this.div.style.cursor = this.parent.div.style.cursor = window.getComputedStyle(event.target).cursor;\n    const pointerUpCallback = () => {\n      ac.abort();\n      this.parent.togglePointerEvents(true);\n      this.#altText?.toggle(true);\n      this._isDraggable = savedDraggable;\n      this.parent.div.style.cursor = savedParentCursor;\n      this.div.style.cursor = savedCursor;\n      this.#addResizeToUndoStack();\n    };\n    window.addEventListener(\"pointerup\", pointerUpCallback, {\n      signal\n    });\n    window.addEventListener(\"blur\", pointerUpCallback, {\n      signal\n    });\n  }\n  #resize(x, y, width, height) {\n    this.width = width;\n    this.height = height;\n    this.x = x;\n    this.y = y;\n    this.setDims();\n    this.fixAndSetPosition();\n    this._onResized();\n  }\n  _onResized() {}\n  #addResizeToUndoStack() {\n    if (!this.#savedDimensions) {\n      return;\n    }\n    const {\n      savedX,\n      savedY,\n      savedWidth,\n      savedHeight\n    } = this.#savedDimensions;\n    this.#savedDimensions = null;\n    const newX = this.x;\n    const newY = this.y;\n    const newWidth = this.width;\n    const newHeight = this.height;\n    if (newX === savedX && newY === savedY && newWidth === savedWidth && newHeight === savedHeight) {\n      return;\n    }\n    this.addCommands({\n      cmd: this.#resize.bind(this, newX, newY, newWidth, newHeight),\n      undo: this.#resize.bind(this, savedX, savedY, savedWidth, savedHeight),\n      mustExec: true\n    });\n  }\n  static _round(x) {\n    return Math.round(x * 10000) / 10000;\n  }\n  #resizerPointermove(name, event) {\n    const [parentWidth, parentHeight] = this.parentDimensions;\n    const savedX = this.x;\n    const savedY = this.y;\n    const savedWidth = this.width;\n    const savedHeight = this.height;\n    const minWidth = AnnotationEditor.MIN_SIZE / parentWidth;\n    const minHeight = AnnotationEditor.MIN_SIZE / parentHeight;\n    const rotationMatrix = this.#getRotationMatrix(this.rotation);\n    const transf = (x, y) => [rotationMatrix[0] * x + rotationMatrix[2] * y, rotationMatrix[1] * x + rotationMatrix[3] * y];\n    const invRotationMatrix = this.#getRotationMatrix(360 - this.rotation);\n    const invTransf = (x, y) => [invRotationMatrix[0] * x + invRotationMatrix[2] * y, invRotationMatrix[1] * x + invRotationMatrix[3] * y];\n    let getPoint;\n    let getOpposite;\n    let isDiagonal = false;\n    let isHorizontal = false;\n    switch (name) {\n      case \"topLeft\":\n        isDiagonal = true;\n        getPoint = (w, h) => [0, 0];\n        getOpposite = (w, h) => [w, h];\n        break;\n      case \"topMiddle\":\n        getPoint = (w, h) => [w / 2, 0];\n        getOpposite = (w, h) => [w / 2, h];\n        break;\n      case \"topRight\":\n        isDiagonal = true;\n        getPoint = (w, h) => [w, 0];\n        getOpposite = (w, h) => [0, h];\n        break;\n      case \"middleRight\":\n        isHorizontal = true;\n        getPoint = (w, h) => [w, h / 2];\n        getOpposite = (w, h) => [0, h / 2];\n        break;\n      case \"bottomRight\":\n        isDiagonal = true;\n        getPoint = (w, h) => [w, h];\n        getOpposite = (w, h) => [0, 0];\n        break;\n      case \"bottomMiddle\":\n        getPoint = (w, h) => [w / 2, h];\n        getOpposite = (w, h) => [w / 2, 0];\n        break;\n      case \"bottomLeft\":\n        isDiagonal = true;\n        getPoint = (w, h) => [0, h];\n        getOpposite = (w, h) => [w, 0];\n        break;\n      case \"middleLeft\":\n        isHorizontal = true;\n        getPoint = (w, h) => [0, h / 2];\n        getOpposite = (w, h) => [w, h / 2];\n        break;\n    }\n    const point = getPoint(savedWidth, savedHeight);\n    const oppositePoint = getOpposite(savedWidth, savedHeight);\n    let transfOppositePoint = transf(...oppositePoint);\n    const oppositeX = AnnotationEditor._round(savedX + transfOppositePoint[0]);\n    const oppositeY = AnnotationEditor._round(savedY + transfOppositePoint[1]);\n    let ratioX = 1;\n    let ratioY = 1;\n    let deltaX, deltaY;\n    if (!event.fromKeyboard) {\n      const {\n        screenX,\n        screenY\n      } = event;\n      const [lastScreenX, lastScreenY] = this.#lastPointerCoords;\n      [deltaX, deltaY] = this.screenToPageTranslation(screenX - lastScreenX, screenY - lastScreenY);\n      this.#lastPointerCoords[0] = screenX;\n      this.#lastPointerCoords[1] = screenY;\n    } else {\n      ({\n        deltaX,\n        deltaY\n      } = event);\n    }\n    [deltaX, deltaY] = invTransf(deltaX / parentWidth, deltaY / parentHeight);\n    if (isDiagonal) {\n      const oldDiag = Math.hypot(savedWidth, savedHeight);\n      ratioX = ratioY = Math.max(Math.min(Math.hypot(oppositePoint[0] - point[0] - deltaX, oppositePoint[1] - point[1] - deltaY) / oldDiag, 1 / savedWidth, 1 / savedHeight), minWidth / savedWidth, minHeight / savedHeight);\n    } else if (isHorizontal) {\n      ratioX = MathClamp(Math.abs(oppositePoint[0] - point[0] - deltaX), minWidth, 1) / savedWidth;\n    } else {\n      ratioY = MathClamp(Math.abs(oppositePoint[1] - point[1] - deltaY), minHeight, 1) / savedHeight;\n    }\n    const newWidth = AnnotationEditor._round(savedWidth * ratioX);\n    const newHeight = AnnotationEditor._round(savedHeight * ratioY);\n    transfOppositePoint = transf(...getOpposite(newWidth, newHeight));\n    const newX = oppositeX - transfOppositePoint[0];\n    const newY = oppositeY - transfOppositePoint[1];\n    this.#initialRect ||= [this.x, this.y, this.width, this.height];\n    this.width = newWidth;\n    this.height = newHeight;\n    this.x = newX;\n    this.y = newY;\n    this.setDims();\n    this.fixAndSetPosition();\n    this._onResizing();\n  }\n  _onResizing() {}\n  altTextFinish() {\n    this.#altText?.finish();\n  }\n  get toolbarButtons() {\n    return null;\n  }\n  async addEditToolbar() {\n    if (this._editToolbar || this.#isInEditMode) {\n      return this._editToolbar;\n    }\n    this._editToolbar = new EditorToolbar(this);\n    this.div.append(this._editToolbar.render());\n    const {\n      toolbarButtons\n    } = this;\n    if (toolbarButtons) {\n      for (const [name, tool] of toolbarButtons) {\n        await this._editToolbar.addButton(name, tool);\n      }\n    }\n    if (!this.hasComment) {\n      this._editToolbar.addButton(\"comment\", this.addCommentButton());\n    }\n    this._editToolbar.addButton(\"delete\");\n    return this._editToolbar;\n  }\n  addCommentButtonInToolbar() {\n    this._editToolbar?.addButtonBefore(\"comment\", this.addCommentButton(), \".deleteButton\");\n  }\n  removeCommentButtonFromToolbar() {\n    this._editToolbar?.removeButton(\"comment\");\n  }\n  removeEditToolbar() {\n    this._editToolbar?.remove();\n    this._editToolbar = null;\n    this.#altText?.destroy();\n  }\n  addContainer(container) {\n    const editToolbarDiv = this._editToolbar?.div;\n    if (editToolbarDiv) {\n      editToolbarDiv.before(container);\n    } else {\n      this.div.append(container);\n    }\n  }\n  getClientDimensions() {\n    return this.div.getBoundingClientRect();\n  }\n  createAltText() {\n    if (!this.#altText) {\n      AltText.initialize(AnnotationEditor._l10n);\n      this.#altText = new AltText(this);\n      if (this.#accessibilityData) {\n        this.#altText.data = this.#accessibilityData;\n        this.#accessibilityData = null;\n      }\n    }\n    return this.#altText;\n  }\n  get altTextData() {\n    return this.#altText?.data;\n  }\n  set altTextData(data) {\n    if (!this.#altText) {\n      return;\n    }\n    this.#altText.data = data;\n  }\n  get guessedAltText() {\n    return this.#altText?.guessedText;\n  }\n  async setGuessedAltText(text) {\n    await this.#altText?.setGuessedText(text);\n  }\n  serializeAltText(isForCopying) {\n    return this.#altText?.serialize(isForCopying);\n  }\n  hasAltText() {\n    return !!this.#altText && !this.#altText.isEmpty();\n  }\n  hasAltTextData() {\n    return this.#altText?.hasData() ?? false;\n  }\n  focusCommentButton() {\n    this.#comment?.focusButton();\n  }\n  addCommentButton() {\n    return this.canAddComment ? this.#comment ||= new Comment(this) : null;\n  }\n  addStandaloneCommentButton() {\n    if (!this._uiManager.hasCommentManager()) {\n      return;\n    }\n    if (this.#commentStandaloneButton) {\n      if (this._uiManager.isEditingMode()) {\n        this.#commentStandaloneButton.classList.remove(\"hidden\");\n      }\n      return;\n    }\n    if (!this.hasComment) {\n      return;\n    }\n    this.#commentStandaloneButton = this.#comment.renderForStandalone();\n    this.div.append(this.#commentStandaloneButton);\n  }\n  removeStandaloneCommentButton() {\n    this.#comment.removeStandaloneCommentButton();\n    this.#commentStandaloneButton = null;\n  }\n  hideStandaloneCommentButton() {\n    this.#commentStandaloneButton?.classList.add(\"hidden\");\n  }\n  get comment() {\n    const {\n      data: {\n        richText,\n        text,\n        date,\n        deleted\n      }\n    } = this.#comment;\n    return {\n      text,\n      richText,\n      date,\n      deleted,\n      color: this.getNonHCMColor(),\n      opacity: this.opacity ?? 1\n    };\n  }\n  set comment(text) {\n    this.#comment ||= new Comment(this);\n    this.#comment.data = text;\n    if (this.hasComment) {\n      this.removeCommentButtonFromToolbar();\n      this.addStandaloneCommentButton();\n      this._uiManager.updateComment(this);\n    } else {\n      this.addCommentButtonInToolbar();\n      this.removeStandaloneCommentButton();\n      this._uiManager.removeComment(this);\n    }\n  }\n  setCommentData({\n    comment,\n    popupRef,\n    richText\n  }) {\n    if (!popupRef) {\n      return;\n    }\n    this.#comment ||= new Comment(this);\n    this.#comment.setInitialText(comment, richText);\n    if (!this.annotationElementId) {\n      return;\n    }\n    const storedData = this._uiManager.getAndRemoveDataFromAnnotationStorage(this.annotationElementId);\n    if (storedData) {\n      this.updateFromAnnotationLayer(storedData);\n    }\n  }\n  get hasEditedComment() {\n    return this.#comment?.hasBeenEdited();\n  }\n  get hasDeletedComment() {\n    return this.#comment?.isDeleted();\n  }\n  get hasComment() {\n    return !!this.#comment && !this.#comment.isEmpty() && !this.#comment.isDeleted();\n  }\n  async editComment(options) {\n    this.#comment ||= new Comment(this);\n    this.#comment.edit(options);\n  }\n  toggleComment(isSelected, visibility = undefined) {\n    if (this.hasComment) {\n      this._uiManager.toggleComment(this, isSelected, visibility);\n    }\n  }\n  setSelectedCommentButton(selected) {\n    this.#comment.setSelectedButton(selected);\n  }\n  addComment(serialized) {\n    if (this.hasEditedComment) {\n      const DEFAULT_POPUP_WIDTH = 180;\n      const DEFAULT_POPUP_HEIGHT = 100;\n      const [,,, trY] = serialized.rect;\n      const [pageWidth] = this.pageDimensions;\n      const [pageX] = this.pageTranslation;\n      const blX = pageX + pageWidth + 1;\n      const blY = trY - DEFAULT_POPUP_HEIGHT;\n      const trX = blX + DEFAULT_POPUP_WIDTH;\n      serialized.popup = {\n        contents: this.comment.text,\n        deleted: this.comment.deleted,\n        rect: [blX, blY, trX, trY]\n      };\n    }\n  }\n  updateFromAnnotationLayer({\n    popup: {\n      contents,\n      deleted\n    }\n  }) {\n    this.#comment.data = deleted ? null : contents;\n  }\n  get parentBoundingClientRect() {\n    return this.parent.boundingClientRect;\n  }\n  render() {\n    const div = this.div = document.createElement(\"div\");\n    div.setAttribute(\"data-editor-rotation\", (360 - this.rotation) % 360);\n    div.className = this.name;\n    div.setAttribute(\"id\", this.id);\n    div.tabIndex = this.#disabled ? -1 : 0;\n    div.setAttribute(\"role\", \"application\");\n    if (this.defaultL10nId) {\n      div.setAttribute(\"data-l10n-id\", this.defaultL10nId);\n    }\n    if (!this._isVisible) {\n      div.classList.add(\"hidden\");\n    }\n    this.setInForeground();\n    this.#addFocusListeners();\n    const [parentWidth, parentHeight] = this.parentDimensions;\n    if (this.parentRotation % 180 !== 0) {\n      div.style.maxWidth = `${(100 * parentHeight / parentWidth).toFixed(2)}%`;\n      div.style.maxHeight = `${(100 * parentWidth / parentHeight).toFixed(2)}%`;\n    }\n    const [tx, ty] = this.getInitialTranslation();\n    this.translate(tx, ty);\n    bindEvents(this, div, [\"keydown\", \"pointerdown\", \"dblclick\"]);\n    if (this.isResizable && this._uiManager._supportsPinchToZoom) {\n      this.#touchManager ||= new TouchManager({\n        container: div,\n        isPinchingDisabled: () => !this.isSelected,\n        onPinchStart: this.#touchPinchStartCallback.bind(this),\n        onPinching: this.#touchPinchCallback.bind(this),\n        onPinchEnd: this.#touchPinchEndCallback.bind(this),\n        signal: this._uiManager._signal\n      });\n    }\n    this.addStandaloneCommentButton();\n    this._uiManager._editorUndoBar?.hide();\n    return div;\n  }\n  #touchPinchStartCallback() {\n    this.#savedDimensions = {\n      savedX: this.x,\n      savedY: this.y,\n      savedWidth: this.width,\n      savedHeight: this.height\n    };\n    this.#altText?.toggle(false);\n    this.parent.togglePointerEvents(false);\n  }\n  #touchPinchCallback(_origin, prevDistance, distance) {\n    const slowDownFactor = 0.7;\n    let factor = slowDownFactor * (distance / prevDistance) + 1 - slowDownFactor;\n    if (factor === 1) {\n      return;\n    }\n    const rotationMatrix = this.#getRotationMatrix(this.rotation);\n    const transf = (x, y) => [rotationMatrix[0] * x + rotationMatrix[2] * y, rotationMatrix[1] * x + rotationMatrix[3] * y];\n    const [parentWidth, parentHeight] = this.parentDimensions;\n    const savedX = this.x;\n    const savedY = this.y;\n    const savedWidth = this.width;\n    const savedHeight = this.height;\n    const minWidth = AnnotationEditor.MIN_SIZE / parentWidth;\n    const minHeight = AnnotationEditor.MIN_SIZE / parentHeight;\n    factor = Math.max(Math.min(factor, 1 / savedWidth, 1 / savedHeight), minWidth / savedWidth, minHeight / savedHeight);\n    const newWidth = AnnotationEditor._round(savedWidth * factor);\n    const newHeight = AnnotationEditor._round(savedHeight * factor);\n    if (newWidth === savedWidth && newHeight === savedHeight) {\n      return;\n    }\n    this.#initialRect ||= [savedX, savedY, savedWidth, savedHeight];\n    const transfCenterPoint = transf(savedWidth / 2, savedHeight / 2);\n    const centerX = AnnotationEditor._round(savedX + transfCenterPoint[0]);\n    const centerY = AnnotationEditor._round(savedY + transfCenterPoint[1]);\n    const newTransfCenterPoint = transf(newWidth / 2, newHeight / 2);\n    this.x = centerX - newTransfCenterPoint[0];\n    this.y = centerY - newTransfCenterPoint[1];\n    this.width = newWidth;\n    this.height = newHeight;\n    this.setDims();\n    this.fixAndSetPosition();\n    this._onResizing();\n  }\n  #touchPinchEndCallback() {\n    this.#altText?.toggle(true);\n    this.parent.togglePointerEvents(true);\n    this.#addResizeToUndoStack();\n  }\n  pointerdown(event) {\n    const {\n      isMac\n    } = util_FeatureTest.platform;\n    if (event.button !== 0 || event.ctrlKey && isMac) {\n      event.preventDefault();\n      return;\n    }\n    this.#hasBeenClicked = true;\n    if (this._isDraggable) {\n      this.#setUpDragSession(event);\n      return;\n    }\n    this.#selectOnPointerEvent(event);\n  }\n  #selectOnPointerEvent(event) {\n    const {\n      isMac\n    } = util_FeatureTest.platform;\n    if (event.ctrlKey && !isMac || event.shiftKey || event.metaKey && isMac) {\n      this.parent.toggleSelected(this);\n    } else {\n      this.parent.setSelected(this);\n    }\n  }\n  #setUpDragSession(event) {\n    const {\n      isSelected\n    } = this;\n    this._uiManager.setUpDragSession();\n    let hasDraggingStarted = false;\n    const ac = new AbortController();\n    const signal = this._uiManager.combinedSignal(ac);\n    const opts = {\n      capture: true,\n      passive: false,\n      signal\n    };\n    const cancelDrag = e => {\n      ac.abort();\n      this.#dragPointerId = null;\n      this.#hasBeenClicked = false;\n      if (!this._uiManager.endDragSession()) {\n        this.#selectOnPointerEvent(e);\n      }\n      if (hasDraggingStarted) {\n        this._onStopDragging();\n      }\n    };\n    if (isSelected) {\n      this.#prevDragX = event.clientX;\n      this.#prevDragY = event.clientY;\n      this.#dragPointerId = event.pointerId;\n      this.#dragPointerType = event.pointerType;\n      window.addEventListener(\"pointermove\", e => {\n        if (!hasDraggingStarted) {\n          hasDraggingStarted = true;\n          this._uiManager.toggleComment(this, true, false);\n          this._onStartDragging();\n        }\n        const {\n          clientX: x,\n          clientY: y,\n          pointerId\n        } = e;\n        if (pointerId !== this.#dragPointerId) {\n          stopEvent(e);\n          return;\n        }\n        const [tx, ty] = this.screenToPageTranslation(x - this.#prevDragX, y - this.#prevDragY);\n        this.#prevDragX = x;\n        this.#prevDragY = y;\n        this._uiManager.dragSelectedEditors(tx, ty);\n      }, opts);\n      window.addEventListener(\"touchmove\", stopEvent, opts);\n      window.addEventListener(\"pointerdown\", e => {\n        if (e.pointerType === this.#dragPointerType) {\n          if (this.#touchManager || e.isPrimary) {\n            cancelDrag(e);\n          }\n        }\n        stopEvent(e);\n      }, opts);\n    }\n    const pointerUpCallback = e => {\n      if (!this.#dragPointerId || this.#dragPointerId === e.pointerId) {\n        cancelDrag(e);\n        return;\n      }\n      stopEvent(e);\n    };\n    window.addEventListener(\"pointerup\", pointerUpCallback, {\n      signal\n    });\n    window.addEventListener(\"blur\", pointerUpCallback, {\n      signal\n    });\n  }\n  _onStartDragging() {}\n  _onStopDragging() {}\n  moveInDOM() {\n    if (this.#moveInDOMTimeout) {\n      clearTimeout(this.#moveInDOMTimeout);\n    }\n    this.#moveInDOMTimeout = setTimeout(() => {\n      this.#moveInDOMTimeout = null;\n      this.parent?.moveEditorInDOM(this);\n    }, 0);\n  }\n  _setParentAndPosition(parent, x, y) {\n    parent.changeParent(this);\n    this.x = x;\n    this.y = y;\n    this.fixAndSetPosition();\n    this._onTranslated();\n  }\n  getRect(tx, ty, rotation = this.rotation) {\n    const scale = this.parentScale;\n    const [pageWidth, pageHeight] = this.pageDimensions;\n    const [pageX, pageY] = this.pageTranslation;\n    const shiftX = tx / scale;\n    const shiftY = ty / scale;\n    const x = this.x * pageWidth;\n    const y = this.y * pageHeight;\n    const width = this.width * pageWidth;\n    const height = this.height * pageHeight;\n    switch (rotation) {\n      case 0:\n        return [x + shiftX + pageX, pageHeight - y - shiftY - height + pageY, x + shiftX + width + pageX, pageHeight - y - shiftY + pageY];\n      case 90:\n        return [x + shiftY + pageX, pageHeight - y + shiftX + pageY, x + shiftY + height + pageX, pageHeight - y + shiftX + width + pageY];\n      case 180:\n        return [x - shiftX - width + pageX, pageHeight - y + shiftY + pageY, x - shiftX + pageX, pageHeight - y + shiftY + height + pageY];\n      case 270:\n        return [x - shiftY - height + pageX, pageHeight - y - shiftX - width + pageY, x - shiftY + pageX, pageHeight - y - shiftX + pageY];\n      default:\n        throw new Error(\"Invalid rotation\");\n    }\n  }\n  getRectInCurrentCoords(rect, pageHeight) {\n    const [x1, y1, x2, y2] = rect;\n    const width = x2 - x1;\n    const height = y2 - y1;\n    switch (this.rotation) {\n      case 0:\n        return [x1, pageHeight - y2, width, height];\n      case 90:\n        return [x1, pageHeight - y1, height, width];\n      case 180:\n        return [x2, pageHeight - y1, width, height];\n      case 270:\n        return [x2, pageHeight - y2, height, width];\n      default:\n        throw new Error(\"Invalid rotation\");\n    }\n  }\n  getPDFRect() {\n    return this.getRect(0, 0);\n  }\n  getNonHCMColor() {\n    return this.color && AnnotationEditor._colorManager.convert(this._uiManager.getNonHCMColor(this.color));\n  }\n  onUpdatedColor() {\n    this.#comment?.onUpdatedColor();\n  }\n  getData() {\n    const {\n      comment: {\n        text: str,\n        color,\n        date,\n        opacity,\n        deleted,\n        richText\n      },\n      uid: id,\n      pageIndex,\n      creationDate,\n      modificationDate\n    } = this;\n    return {\n      id,\n      pageIndex,\n      rect: this.getPDFRect(),\n      richText,\n      contentsObj: {\n        str\n      },\n      creationDate,\n      modificationDate: date || modificationDate,\n      popupRef: !deleted,\n      color,\n      opacity\n    };\n  }\n  onceAdded(focus) {}\n  isEmpty() {\n    return false;\n  }\n  enableEditMode() {\n    if (this.isInEditMode()) {\n      return false;\n    }\n    this.parent.setEditingState(false);\n    this.#isInEditMode = true;\n    return true;\n  }\n  disableEditMode() {\n    if (!this.isInEditMode()) {\n      return false;\n    }\n    this.parent.setEditingState(true);\n    this.#isInEditMode = false;\n    return true;\n  }\n  isInEditMode() {\n    return this.#isInEditMode;\n  }\n  shouldGetKeyboardEvents() {\n    return this.#isResizerEnabledForKeyboard;\n  }\n  needsToBeRebuilt() {\n    return this.div && !this.isAttachedToDOM;\n  }\n  get isOnScreen() {\n    const {\n      top,\n      left,\n      bottom,\n      right\n    } = this.getClientDimensions();\n    const {\n      innerHeight,\n      innerWidth\n    } = window;\n    return left < innerWidth && right > 0 && top < innerHeight && bottom > 0;\n  }\n  #addFocusListeners() {\n    if (this.#focusAC || !this.div) {\n      return;\n    }\n    this.#focusAC = new AbortController();\n    const signal = this._uiManager.combinedSignal(this.#focusAC);\n    this.div.addEventListener(\"focusin\", this.focusin.bind(this), {\n      signal\n    });\n    this.div.addEventListener(\"focusout\", this.focusout.bind(this), {\n      signal\n    });\n  }\n  rebuild() {\n    this.#addFocusListeners();\n  }\n  rotate(_angle) {}\n  resize() {}\n  serializeDeleted() {\n    return {\n      id: this.annotationElementId,\n      deleted: true,\n      pageIndex: this.pageIndex,\n      popupRef: this._initialData?.popupRef || \"\"\n    };\n  }\n  serialize(isForCopying = false, context = null) {\n    return {\n      annotationType: this.mode,\n      pageIndex: this.pageIndex,\n      rect: this.getPDFRect(),\n      rotation: this.rotation,\n      structTreeParentId: this._structTreeParentId,\n      popupRef: this._initialData?.popupRef || \"\"\n    };\n  }\n  static async deserialize(data, parent, uiManager) {\n    const editor = new this.prototype.constructor({\n      parent,\n      id: parent.getNextId(),\n      uiManager,\n      annotationElementId: data.annotationElementId,\n      creationDate: data.creationDate,\n      modificationDate: data.modificationDate\n    });\n    editor.rotation = data.rotation;\n    editor.#accessibilityData = data.accessibilityData;\n    editor._isCopy = data.isCopy || false;\n    const [pageWidth, pageHeight] = editor.pageDimensions;\n    const [x, y, width, height] = editor.getRectInCurrentCoords(data.rect, pageHeight);\n    editor.x = x / pageWidth;\n    editor.y = y / pageHeight;\n    editor.width = width / pageWidth;\n    editor.height = height / pageHeight;\n    return editor;\n  }\n  get hasBeenModified() {\n    return !!this.annotationElementId && (this.deleted || this.serialize() !== null);\n  }\n  remove() {\n    this.#focusAC?.abort();\n    this.#focusAC = null;\n    if (!this.isEmpty()) {\n      this.commit();\n    }\n    if (this.parent) {\n      this.parent.remove(this);\n    } else {\n      this._uiManager.removeEditor(this);\n    }\n    this.hideCommentPopup();\n    if (this.#moveInDOMTimeout) {\n      clearTimeout(this.#moveInDOMTimeout);\n      this.#moveInDOMTimeout = null;\n    }\n    this.#stopResizing();\n    this.removeEditToolbar();\n    if (this.#telemetryTimeouts) {\n      for (const timeout of this.#telemetryTimeouts.values()) {\n        clearTimeout(timeout);\n      }\n      this.#telemetryTimeouts = null;\n    }\n    this.parent = null;\n    this.#touchManager?.destroy();\n    this.#touchManager = null;\n    this.#fakeAnnotation?.remove();\n    this.#fakeAnnotation = null;\n  }\n  get isResizable() {\n    return false;\n  }\n  makeResizable() {\n    if (this.isResizable) {\n      this.#createResizers();\n      this.#resizersDiv.classList.remove(\"hidden\");\n    }\n  }\n  get toolbarPosition() {\n    return null;\n  }\n  get commentButtonPosition() {\n    return this._uiManager.direction === \"ltr\" ? [1, 0] : [0, 0];\n  }\n  get commentButtonPositionInPage() {\n    const {\n      commentButtonPosition: [posX, posY]\n    } = this;\n    const [blX, blY, trX, trY] = this.getPDFRect();\n    return [AnnotationEditor._round(blX + (trX - blX) * posX), AnnotationEditor._round(blY + (trY - blY) * (1 - posY))];\n  }\n  get commentButtonColor() {\n    return this._uiManager.makeCommentColor(this.getNonHCMColor(), this.opacity);\n  }\n  get commentPopupPosition() {\n    return this.#comment.commentPopupPositionInLayer;\n  }\n  set commentPopupPosition(pos) {\n    this.#comment.commentPopupPositionInLayer = pos;\n  }\n  hasDefaultPopupPosition() {\n    return this.#comment.hasDefaultPopupPosition();\n  }\n  get commentButtonWidth() {\n    return this.#comment.commentButtonWidth;\n  }\n  get elementBeforePopup() {\n    return this.div;\n  }\n  setCommentButtonStates(options) {\n    this.#comment?.setCommentButtonStates(options);\n  }\n  keydown(event) {\n    if (!this.isResizable || event.target !== this.div || event.key !== \"Enter\") {\n      return;\n    }\n    this._uiManager.setSelected(this);\n    this.#savedDimensions = {\n      savedX: this.x,\n      savedY: this.y,\n      savedWidth: this.width,\n      savedHeight: this.height\n    };\n    const children = this.#resizersDiv.children;\n    if (!this.#allResizerDivs) {\n      this.#allResizerDivs = Array.from(children);\n      const boundResizerKeydown = this.#resizerKeydown.bind(this);\n      const boundResizerBlur = this.#resizerBlur.bind(this);\n      const signal = this._uiManager._signal;\n      for (const div of this.#allResizerDivs) {\n        const name = div.getAttribute(\"data-resizer-name\");\n        div.setAttribute(\"role\", \"spinbutton\");\n        div.addEventListener(\"keydown\", boundResizerKeydown, {\n          signal\n        });\n        div.addEventListener(\"blur\", boundResizerBlur, {\n          signal\n        });\n        div.addEventListener(\"focus\", this.#resizerFocus.bind(this, name), {\n          signal\n        });\n        div.setAttribute(\"data-l10n-id\", AnnotationEditor._l10nResizer[name]);\n      }\n    }\n    const first = this.#allResizerDivs[0];\n    let firstPosition = 0;\n    for (const div of children) {\n      if (div === first) {\n        break;\n      }\n      firstPosition++;\n    }\n    const nextFirstPosition = (360 - this.rotation + this.parentRotation) % 360 / 90 * (this.#allResizerDivs.length / 4);\n    if (nextFirstPosition !== firstPosition) {\n      if (nextFirstPosition < firstPosition) {\n        for (let i = 0; i < firstPosition - nextFirstPosition; i++) {\n          this.#resizersDiv.append(this.#resizersDiv.firstElementChild);\n        }\n      } else if (nextFirstPosition > firstPosition) {\n        for (let i = 0; i < nextFirstPosition - firstPosition; i++) {\n          this.#resizersDiv.firstElementChild.before(this.#resizersDiv.lastElementChild);\n        }\n      }\n      let i = 0;\n      for (const child of children) {\n        const div = this.#allResizerDivs[i++];\n        const name = div.getAttribute(\"data-resizer-name\");\n        child.setAttribute(\"data-l10n-id\", AnnotationEditor._l10nResizer[name]);\n      }\n    }\n    this.#setResizerTabIndex(0);\n    this.#isResizerEnabledForKeyboard = true;\n    this.#resizersDiv.firstElementChild.focus({\n      focusVisible: true\n    });\n    event.preventDefault();\n    event.stopImmediatePropagation();\n  }\n  #resizerKeydown(event) {\n    AnnotationEditor._resizerKeyboardManager.exec(this, event);\n  }\n  #resizerBlur(event) {\n    if (this.#isResizerEnabledForKeyboard && event.relatedTarget?.parentNode !== this.#resizersDiv) {\n      this.#stopResizing();\n    }\n  }\n  #resizerFocus(name) {\n    this.#focusedResizerName = this.#isResizerEnabledForKeyboard ? name : \"\";\n  }\n  #setResizerTabIndex(value) {\n    if (!this.#allResizerDivs) {\n      return;\n    }\n    for (const div of this.#allResizerDivs) {\n      div.tabIndex = value;\n    }\n  }\n  _resizeWithKeyboard(x, y) {\n    if (!this.#isResizerEnabledForKeyboard) {\n      return;\n    }\n    this.#resizerPointermove(this.#focusedResizerName, {\n      deltaX: x,\n      deltaY: y,\n      fromKeyboard: true\n    });\n  }\n  #stopResizing() {\n    this.#isResizerEnabledForKeyboard = false;\n    this.#setResizerTabIndex(-1);\n    this.#addResizeToUndoStack();\n  }\n  _stopResizingWithKeyboard() {\n    this.#stopResizing();\n    this.div.focus();\n  }\n  select() {\n    if (this.isSelected && this._editToolbar) {\n      this._editToolbar.show();\n      return;\n    }\n    this.isSelected = true;\n    this.makeResizable();\n    this.div?.classList.add(\"selectedEditor\");\n    if (!this._editToolbar) {\n      this.addEditToolbar().then(() => {\n        if (this.div?.classList.contains(\"selectedEditor\")) {\n          this._editToolbar?.show();\n        }\n      });\n      return;\n    }\n    this._editToolbar?.show();\n    this.#altText?.toggleAltTextBadge(false);\n  }\n  focus() {\n    if (this.div && !this.div.contains(document.activeElement)) {\n      setTimeout(() => this.div?.focus({\n        preventScroll: true\n      }), 0);\n    }\n  }\n  unselect() {\n    if (!this.isSelected) {\n      return;\n    }\n    this.isSelected = false;\n    this.#resizersDiv?.classList.add(\"hidden\");\n    this.div?.classList.remove(\"selectedEditor\");\n    if (this.div?.contains(document.activeElement)) {\n      this._uiManager.currentLayer.div.focus({\n        preventScroll: true\n      });\n    }\n    this._editToolbar?.hide();\n    this.#altText?.toggleAltTextBadge(true);\n    this.hideCommentPopup();\n  }\n  hideCommentPopup() {\n    if (this.hasComment) {\n      this._uiManager.toggleComment(null);\n    }\n  }\n  updateParams(type, value) {}\n  disableEditing() {}\n  enableEditing() {}\n  get canChangeContent() {\n    return false;\n  }\n  enterInEditMode() {\n    if (!this.canChangeContent) {\n      return;\n    }\n    this.enableEditMode();\n    this.div.focus();\n  }\n  dblclick(event) {\n    if (event.target.nodeName === \"BUTTON\") {\n      return;\n    }\n    this.enterInEditMode();\n    this.parent.updateToolbar({\n      mode: this.constructor._editorType,\n      editId: this.uid\n    });\n  }\n  getElementForAltText() {\n    return this.div;\n  }\n  get contentDiv() {\n    return this.div;\n  }\n  get isEditing() {\n    return this.#isEditing;\n  }\n  set isEditing(value) {\n    this.#isEditing = value;\n    if (!this.parent) {\n      return;\n    }\n    if (value) {\n      this.parent.setSelected(this);\n      this.parent.setActiveEditor(this);\n    } else {\n      this.parent.setActiveEditor(null);\n    }\n  }\n  static get MIN_SIZE() {\n    return 16;\n  }\n  static canCreateNewEmptyEditor() {\n    return true;\n  }\n  get telemetryInitialData() {\n    return {\n      action: \"added\"\n    };\n  }\n  get telemetryFinalData() {\n    return null;\n  }\n  _reportTelemetry(data, mustWait = false) {\n    if (mustWait) {\n      this.#telemetryTimeouts ||= new Map();\n      const {\n        action\n      } = data;\n      let timeout = this.#telemetryTimeouts.get(action);\n      if (timeout) {\n        clearTimeout(timeout);\n      }\n      timeout = setTimeout(() => {\n        this._reportTelemetry(data);\n        this.#telemetryTimeouts.delete(action);\n        if (this.#telemetryTimeouts.size === 0) {\n          this.#telemetryTimeouts = null;\n        }\n      }, AnnotationEditor._telemetryTimeout);\n      this.#telemetryTimeouts.set(action, timeout);\n      return;\n    }\n    data.type ||= this.editorType;\n    this._uiManager._eventBus.dispatch(\"reporttelemetry\", {\n      source: this,\n      details: {\n        type: \"editing\",\n        data\n      }\n    });\n  }\n  show(visible = this._isVisible) {\n    this.div.classList.toggle(\"hidden\", !visible);\n    this._isVisible = visible;\n  }\n  enable() {\n    if (this.div) {\n      this.div.tabIndex = 0;\n    }\n    this.#disabled = false;\n  }\n  disable() {\n    if (this.div) {\n      this.div.tabIndex = -1;\n    }\n    this.#disabled = true;\n  }\n  updateFakeAnnotationElement(annotationLayer) {\n    if (!this.#fakeAnnotation && !this.deleted) {\n      this.#fakeAnnotation = annotationLayer.addFakeAnnotation(this);\n      return;\n    }\n    if (this.deleted) {\n      this.#fakeAnnotation.remove();\n      this.#fakeAnnotation = null;\n      return;\n    }\n    if (this.hasEditedComment || this._hasBeenMoved || this._hasBeenResized) {\n      this.#fakeAnnotation.updateEdited({\n        rect: this.getPDFRect(),\n        popup: this.comment\n      });\n    }\n  }\n  renderAnnotationElement(annotation) {\n    if (this.deleted) {\n      annotation.hide();\n      return null;\n    }\n    let content = annotation.container.querySelector(\".annotationContent\");\n    if (!content) {\n      content = document.createElement(\"div\");\n      content.classList.add(\"annotationContent\", this.editorType);\n      annotation.container.prepend(content);\n    } else if (content.nodeName === \"CANVAS\") {\n      const canvas = content;\n      content = document.createElement(\"div\");\n      content.classList.add(\"annotationContent\", this.editorType);\n      canvas.before(content);\n    }\n    return content;\n  }\n  resetAnnotationElement(annotation) {\n    const {\n      firstElementChild\n    } = annotation.container;\n    if (firstElementChild?.nodeName === \"DIV\" && firstElementChild.classList.contains(\"annotationContent\")) {\n      firstElementChild.remove();\n    }\n  }\n}\nclass FakeEditor extends AnnotationEditor {\n  constructor(params) {\n    super(params);\n    this.annotationElementId = params.annotationElementId;\n    this.deleted = true;\n  }\n  serialize() {\n    return this.serializeDeleted();\n  }\n}\n\n;// ./src/shared/murmurhash3.js\nconst SEED = 0xc3d2e1f0;\nconst MASK_HIGH = 0xffff0000;\nconst MASK_LOW = 0xffff;\nclass MurmurHash3_64 {\n  constructor(seed) {\n    this.h1 = seed ? seed & 0xffffffff : SEED;\n    this.h2 = seed ? seed & 0xffffffff : SEED;\n  }\n  update(input) {\n    let data, length;\n    if (typeof input === \"string\") {\n      data = new Uint8Array(input.length * 2);\n      length = 0;\n      for (let i = 0, ii = input.length; i < ii; i++) {\n        const code = input.charCodeAt(i);\n        if (code <= 0xff) {\n          data[length++] = code;\n        } else {\n          data[length++] = code >>> 8;\n          data[length++] = code & 0xff;\n        }\n      }\n    } else if (ArrayBuffer.isView(input)) {\n      data = input.slice();\n      length = data.byteLength;\n    } else {\n      throw new Error(\"Invalid data format, must be a string or TypedArray.\");\n    }\n    const blockCounts = length >> 2;\n    const tailLength = length - blockCounts * 4;\n    const dataUint32 = new Uint32Array(data.buffer, 0, blockCounts);\n    let k1 = 0,\n      k2 = 0;\n    let h1 = this.h1,\n      h2 = this.h2;\n    const C1 = 0xcc9e2d51,\n      C2 = 0x1b873593;\n    const C1_LOW = C1 & MASK_LOW,\n      C2_LOW = C2 & MASK_LOW;\n    for (let i = 0; i < blockCounts; i++) {\n      if (i & 1) {\n        k1 = dataUint32[i];\n        k1 = k1 * C1 & MASK_HIGH | k1 * C1_LOW & MASK_LOW;\n        k1 = k1 << 15 | k1 >>> 17;\n        k1 = k1 * C2 & MASK_HIGH | k1 * C2_LOW & MASK_LOW;\n        h1 ^= k1;\n        h1 = h1 << 13 | h1 >>> 19;\n        h1 = h1 * 5 + 0xe6546b64;\n      } else {\n        k2 = dataUint32[i];\n        k2 = k2 * C1 & MASK_HIGH | k2 * C1_LOW & MASK_LOW;\n        k2 = k2 << 15 | k2 >>> 17;\n        k2 = k2 * C2 & MASK_HIGH | k2 * C2_LOW & MASK_LOW;\n        h2 ^= k2;\n        h2 = h2 << 13 | h2 >>> 19;\n        h2 = h2 * 5 + 0xe6546b64;\n      }\n    }\n    k1 = 0;\n    switch (tailLength) {\n      case 3:\n        k1 ^= data[blockCounts * 4 + 2] << 16;\n      case 2:\n        k1 ^= data[blockCounts * 4 + 1] << 8;\n      case 1:\n        k1 ^= data[blockCounts * 4];\n        k1 = k1 * C1 & MASK_HIGH | k1 * C1_LOW & MASK_LOW;\n        k1 = k1 << 15 | k1 >>> 17;\n        k1 = k1 * C2 & MASK_HIGH | k1 * C2_LOW & MASK_LOW;\n        if (blockCounts & 1) {\n          h1 ^= k1;\n        } else {\n          h2 ^= k1;\n        }\n    }\n    this.h1 = h1;\n    this.h2 = h2;\n  }\n  hexdigest() {\n    let h1 = this.h1,\n      h2 = this.h2;\n    h1 ^= h2 >>> 1;\n    h1 = h1 * 0xed558ccd & MASK_HIGH | h1 * 0x8ccd & MASK_LOW;\n    h2 = h2 * 0xff51afd7 & MASK_HIGH | ((h2 << 16 | h1 >>> 16) * 0xafd7ed55 & MASK_HIGH) >>> 16;\n    h1 ^= h2 >>> 1;\n    h1 = h1 * 0x1a85ec53 & MASK_HIGH | h1 * 0xec53 & MASK_LOW;\n    h2 = h2 * 0xc4ceb9fe & MASK_HIGH | ((h2 << 16 | h1 >>> 16) * 0xb9fe1a85 & MASK_HIGH) >>> 16;\n    h1 ^= h2 >>> 1;\n    return (h1 >>> 0).toString(16).padStart(8, \"0\") + (h2 >>> 0).toString(16).padStart(8, \"0\");\n  }\n}\n\n;// ./src/display/annotation_storage.js\n\n\n\nconst SerializableEmpty = Object.freeze({\n  map: null,\n  hash: \"\",\n  transfer: undefined\n});\nclass AnnotationStorage {\n  #modified = false;\n  #modifiedIds = null;\n  #editorsMap = null;\n  #storage = new Map();\n  constructor() {\n    this.onSetModified = null;\n    this.onResetModified = null;\n    this.onAnnotationEditor = null;\n  }\n  getValue(key, defaultValue) {\n    const value = this.#storage.get(key);\n    if (value === undefined) {\n      return defaultValue;\n    }\n    return Object.assign(defaultValue, value);\n  }\n  getRawValue(key) {\n    return this.#storage.get(key);\n  }\n  remove(key) {\n    const storedValue = this.#storage.get(key);\n    if (storedValue === undefined) {\n      return;\n    }\n    if (storedValue instanceof AnnotationEditor) {\n      this.#editorsMap.delete(storedValue.annotationElementId);\n    }\n    this.#storage.delete(key);\n    if (this.#storage.size === 0) {\n      this.resetModified();\n    }\n    if (typeof this.onAnnotationEditor === \"function\") {\n      for (const value of this.#storage.values()) {\n        if (value instanceof AnnotationEditor) {\n          return;\n        }\n      }\n      this.onAnnotationEditor(null);\n    }\n  }\n  setValue(key, value) {\n    const obj = this.#storage.get(key);\n    let modified = false;\n    if (obj !== undefined) {\n      for (const [entry, val] of Object.entries(value)) {\n        if (obj[entry] !== val) {\n          modified = true;\n          obj[entry] = val;\n        }\n      }\n    } else {\n      modified = true;\n      this.#storage.set(key, value);\n    }\n    if (modified) {\n      this.#setModified();\n    }\n    if (value instanceof AnnotationEditor) {\n      (this.#editorsMap ||= new Map()).set(value.annotationElementId, value);\n      if (typeof this.onAnnotationEditor === \"function\") {\n        this.onAnnotationEditor(value.constructor._type);\n      }\n    }\n  }\n  has(key) {\n    return this.#storage.has(key);\n  }\n  get size() {\n    return this.#storage.size;\n  }\n  #setModified() {\n    if (!this.#modified) {\n      this.#modified = true;\n      if (typeof this.onSetModified === \"function\") {\n        this.onSetModified();\n      }\n    }\n  }\n  resetModified() {\n    if (this.#modified) {\n      this.#modified = false;\n      if (typeof this.onResetModified === \"function\") {\n        this.onResetModified();\n      }\n    }\n  }\n  get print() {\n    return new PrintAnnotationStorage(this);\n  }\n  get serializable() {\n    if (this.#storage.size === 0) {\n      return SerializableEmpty;\n    }\n    const map = new Map(),\n      hash = new MurmurHash3_64(),\n      transfer = [];\n    const context = Object.create(null);\n    let hasBitmap = false;\n    for (const [key, val] of this.#storage) {\n      const serialized = val instanceof AnnotationEditor ? val.serialize(false, context) : val;\n      if (serialized) {\n        map.set(key, serialized);\n        hash.update(`${key}:${JSON.stringify(serialized)}`);\n        hasBitmap ||= !!serialized.bitmap;\n      }\n    }\n    if (hasBitmap) {\n      for (const value of map.values()) {\n        if (value.bitmap) {\n          transfer.push(value.bitmap);\n        }\n      }\n    }\n    return map.size > 0 ? {\n      map,\n      hash: hash.hexdigest(),\n      transfer\n    } : SerializableEmpty;\n  }\n  get editorStats() {\n    let stats = null;\n    const typeToEditor = new Map();\n    let numberOfEditedComments = 0;\n    let numberOfDeletedComments = 0;\n    for (const value of this.#storage.values()) {\n      if (!(value instanceof AnnotationEditor)) {\n        if (value.popup) {\n          if (value.popup.deleted) {\n            numberOfDeletedComments += 1;\n          } else {\n            numberOfEditedComments += 1;\n          }\n        }\n        continue;\n      }\n      if (value.isCommentDeleted) {\n        numberOfDeletedComments += 1;\n      } else if (value.hasEditedComment) {\n        numberOfEditedComments += 1;\n      }\n      const editorStats = value.telemetryFinalData;\n      if (!editorStats) {\n        continue;\n      }\n      const {\n        type\n      } = editorStats;\n      if (!typeToEditor.has(type)) {\n        typeToEditor.set(type, Object.getPrototypeOf(value).constructor);\n      }\n      stats ||= Object.create(null);\n      const map = stats[type] ||= new Map();\n      for (const [key, val] of Object.entries(editorStats)) {\n        if (key === \"type\") {\n          continue;\n        }\n        let counters = map.get(key);\n        if (!counters) {\n          counters = new Map();\n          map.set(key, counters);\n        }\n        const count = counters.get(val) ?? 0;\n        counters.set(val, count + 1);\n      }\n    }\n    if (numberOfDeletedComments > 0 || numberOfEditedComments > 0) {\n      stats ||= Object.create(null);\n      stats.comments = {\n        deleted: numberOfDeletedComments,\n        edited: numberOfEditedComments\n      };\n    }\n    if (!stats) {\n      return null;\n    }\n    for (const [type, editor] of typeToEditor) {\n      stats[type] = editor.computeTelemetryFinalData(stats[type]);\n    }\n    return stats;\n  }\n  resetModifiedIds() {\n    this.#modifiedIds = null;\n  }\n  updateEditor(annotationId, data) {\n    const value = this.#editorsMap?.get(annotationId);\n    if (value) {\n      value.updateFromAnnotationLayer(data);\n      return true;\n    }\n    return false;\n  }\n  getEditor(annotationId) {\n    return this.#editorsMap?.get(annotationId) || null;\n  }\n  get modifiedIds() {\n    if (this.#modifiedIds) {\n      return this.#modifiedIds;\n    }\n    const ids = [];\n    if (this.#editorsMap) {\n      for (const value of this.#editorsMap.values()) {\n        if (!value.serialize()) {\n          continue;\n        }\n        ids.push(value.annotationElementId);\n      }\n    }\n    return this.#modifiedIds = {\n      ids: new Set(ids),\n      hash: ids.join(\",\")\n    };\n  }\n  [Symbol.iterator]() {\n    return this.#storage.entries();\n  }\n}\nclass PrintAnnotationStorage extends AnnotationStorage {\n  #serializable;\n  constructor(parent) {\n    super();\n    const {\n      map,\n      hash,\n      transfer\n    } = parent.serializable;\n    const clone = structuredClone(map, transfer ? {\n      transfer\n    } : null);\n    this.#serializable = {\n      map: clone,\n      hash,\n      transfer\n    };\n  }\n  get print() {\n    unreachable(\"Should not call PrintAnnotationStorage.print\");\n  }\n  get serializable() {\n    return this.#serializable;\n  }\n  get modifiedIds() {\n    return shadow(this, \"modifiedIds\", {\n      ids: new Set(),\n      hash: \"\"\n    });\n  }\n}\n\n;// ./src/display/font_loader.js\n\n\nclass FontLoader {\n  #systemFonts = new Set();\n  constructor({\n    ownerDocument = globalThis.document,\n    styleElement = null\n  }) {\n    this._document = ownerDocument;\n    this.nativeFontFaces = new Set();\n    this.styleElement = null;\n    this.loadingRequests = [];\n    this.loadTestFontId = 0;\n  }\n  addNativeFontFace(nativeFontFace) {\n    this.nativeFontFaces.add(nativeFontFace);\n    this._document.fonts.add(nativeFontFace);\n  }\n  removeNativeFontFace(nativeFontFace) {\n    this.nativeFontFaces.delete(nativeFontFace);\n    this._document.fonts.delete(nativeFontFace);\n  }\n  insertRule(rule) {\n    if (!this.styleElement) {\n      this.styleElement = this._document.createElement(\"style\");\n      this._document.documentElement.getElementsByTagName(\"head\")[0].append(this.styleElement);\n    }\n    const styleSheet = this.styleElement.sheet;\n    styleSheet.insertRule(rule, styleSheet.cssRules.length);\n  }\n  clear() {\n    for (const nativeFontFace of this.nativeFontFaces) {\n      this._document.fonts.delete(nativeFontFace);\n    }\n    this.nativeFontFaces.clear();\n    this.#systemFonts.clear();\n    if (this.styleElement) {\n      this.styleElement.remove();\n      this.styleElement = null;\n    }\n  }\n  async loadSystemFont({\n    systemFontInfo: info,\n    disableFontFace,\n    _inspectFont\n  }) {\n    if (!info || this.#systemFonts.has(info.loadedName)) {\n      return;\n    }\n    assert(!disableFontFace, \"loadSystemFont shouldn't be called when `disableFontFace` is set.\");\n    if (this.isFontLoadingAPISupported) {\n      const {\n        loadedName,\n        src,\n        style\n      } = info;\n      const fontFace = new FontFace(loadedName, src, style);\n      this.addNativeFontFace(fontFace);\n      try {\n        await fontFace.load();\n        this.#systemFonts.add(loadedName);\n        _inspectFont?.(info);\n      } catch {\n        warn(`Cannot load system font: ${info.baseFontName}, installing it could help to improve PDF rendering.`);\n        this.removeNativeFontFace(fontFace);\n      }\n      return;\n    }\n    unreachable(\"Not implemented: loadSystemFont without the Font Loading API.\");\n  }\n  async bind(font) {\n    if (font.attached || font.missingFile && !font.systemFontInfo) {\n      return;\n    }\n    font.attached = true;\n    if (font.systemFontInfo) {\n      await this.loadSystemFont(font);\n      return;\n    }\n    if (this.isFontLoadingAPISupported) {\n      const nativeFontFace = font.createNativeFontFace();\n      if (nativeFontFace) {\n        this.addNativeFontFace(nativeFontFace);\n        try {\n          await nativeFontFace.loaded;\n        } catch (ex) {\n          warn(`Failed to load font '${nativeFontFace.family}': '${ex}'.`);\n          font.disableFontFace = true;\n          throw ex;\n        }\n      }\n      return;\n    }\n    const rule = font.createFontFaceRule();\n    if (rule) {\n      this.insertRule(rule);\n      if (this.isSyncFontLoadingSupported) {\n        return;\n      }\n      await new Promise(resolve => {\n        const request = this._queueLoadingCallback(resolve);\n        this._prepareFontLoadEvent(font, request);\n      });\n    }\n  }\n  get isFontLoadingAPISupported() {\n    const hasFonts = !!this._document?.fonts;\n    return shadow(this, \"isFontLoadingAPISupported\", hasFonts);\n  }\n  get isSyncFontLoadingSupported() {\n    return shadow(this, \"isSyncFontLoadingSupported\", isNodeJS || util_FeatureTest.platform.isFirefox);\n  }\n  _queueLoadingCallback(callback) {\n    function completeRequest() {\n      assert(!request.done, \"completeRequest() cannot be called twice.\");\n      request.done = true;\n      while (loadingRequests.length > 0 && loadingRequests[0].done) {\n        const otherRequest = loadingRequests.shift();\n        setTimeout(otherRequest.callback, 0);\n      }\n    }\n    const {\n      loadingRequests\n    } = this;\n    const request = {\n      done: false,\n      complete: completeRequest,\n      callback\n    };\n    loadingRequests.push(request);\n    return request;\n  }\n  get _loadTestFont() {\n    const testFont = atob(\"T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQA\" + \"FQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAA\" + \"ALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgA\" + \"AAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1\" + \"AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD\" + \"6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACM\" + \"AooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4D\" + \"IP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAA\" + \"AAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUA\" + \"AQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgAB\" + \"AAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABY\" + \"AAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAA\" + \"AC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\" + \"AAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\" + \"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\" + \"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\" + \"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\" + \"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAA\" + \"AAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQAC\" + \"AQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3\" + \"Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTj\" + \"FQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==\");\n    return shadow(this, \"_loadTestFont\", testFont);\n  }\n  _prepareFontLoadEvent(font, request) {\n    function int32(data, offset) {\n      return data.charCodeAt(offset) << 24 | data.charCodeAt(offset + 1) << 16 | data.charCodeAt(offset + 2) << 8 | data.charCodeAt(offset + 3) & 0xff;\n    }\n    function spliceString(s, offset, remove, insert) {\n      const chunk1 = s.substring(0, offset);\n      const chunk2 = s.substring(offset + remove);\n      return chunk1 + insert + chunk2;\n    }\n    let i, ii;\n    const canvas = this._document.createElement(\"canvas\");\n    canvas.width = 1;\n    canvas.height = 1;\n    const ctx = canvas.getContext(\"2d\");\n    let called = 0;\n    function isFontReady(name, callback) {\n      if (++called > 30) {\n        warn(\"Load test font never loaded.\");\n        callback();\n        return;\n      }\n      ctx.font = \"30px \" + name;\n      ctx.fillText(\".\", 0, 20);\n      const imageData = ctx.getImageData(0, 0, 1, 1);\n      if (imageData.data[3] > 0) {\n        callback();\n        return;\n      }\n      setTimeout(isFontReady.bind(null, name, callback));\n    }\n    const loadTestFontId = `lt${Date.now()}${this.loadTestFontId++}`;\n    let data = this._loadTestFont;\n    const COMMENT_OFFSET = 976;\n    data = spliceString(data, COMMENT_OFFSET, loadTestFontId.length, loadTestFontId);\n    const CFF_CHECKSUM_OFFSET = 16;\n    const XXXX_VALUE = 0x58585858;\n    let checksum = int32(data, CFF_CHECKSUM_OFFSET);\n    for (i = 0, ii = loadTestFontId.length - 3; i < ii; i += 4) {\n      checksum = checksum - XXXX_VALUE + int32(loadTestFontId, i) | 0;\n    }\n    if (i < loadTestFontId.length) {\n      checksum = checksum - XXXX_VALUE + int32(loadTestFontId + \"XXX\", i) | 0;\n    }\n    data = spliceString(data, CFF_CHECKSUM_OFFSET, 4, string32(checksum));\n    const url = `url(data:font/opentype;base64,${btoa(data)});`;\n    const rule = `@font-face {font-family:\"${loadTestFontId}\";src:${url}}`;\n    this.insertRule(rule);\n    const div = this._document.createElement(\"div\");\n    div.style.visibility = \"hidden\";\n    div.style.width = div.style.height = \"10px\";\n    div.style.position = \"absolute\";\n    div.style.top = div.style.left = \"0px\";\n    for (const name of [font.loadedName, loadTestFontId]) {\n      const span = this._document.createElement(\"span\");\n      span.textContent = \"Hi\";\n      span.style.fontFamily = name;\n      div.append(span);\n    }\n    this._document.body.append(div);\n    isFontReady(loadTestFontId, () => {\n      div.remove();\n      request.complete();\n    });\n  }\n}\nclass FontFaceObject {\n  #fontData;\n  constructor(translatedData, inspectFont = null, extra, charProcOperatorList) {\n    this.compiledGlyphs = Object.create(null);\n    this.#fontData = translatedData;\n    this._inspectFont = inspectFont;\n    if (extra) {\n      Object.assign(this, extra);\n    }\n    if (charProcOperatorList) {\n      this.charProcOperatorList = charProcOperatorList;\n    }\n  }\n  createNativeFontFace() {\n    if (!this.data || this.disableFontFace) {\n      return null;\n    }\n    let nativeFontFace;\n    if (!this.cssFontInfo) {\n      nativeFontFace = new FontFace(this.loadedName, this.data, {});\n    } else {\n      const css = {\n        weight: this.cssFontInfo.fontWeight\n      };\n      if (this.cssFontInfo.italicAngle) {\n        css.style = `oblique ${this.cssFontInfo.italicAngle}deg`;\n      }\n      nativeFontFace = new FontFace(this.cssFontInfo.fontFamily, this.data, css);\n    }\n    this._inspectFont?.(this);\n    return nativeFontFace;\n  }\n  createFontFaceRule() {\n    if (!this.data || this.disableFontFace) {\n      return null;\n    }\n    const url = `url(data:${this.mimetype};base64,${toBase64Util(this.data)});`;\n    let rule;\n    if (!this.cssFontInfo) {\n      rule = `@font-face {font-family:\"${this.loadedName}\";src:${url}}`;\n    } else {\n      let css = `font-weight: ${this.cssFontInfo.fontWeight};`;\n      if (this.cssFontInfo.italicAngle) {\n        css += `font-style: oblique ${this.cssFontInfo.italicAngle}deg;`;\n      }\n      rule = `@font-face {font-family:\"${this.cssFontInfo.fontFamily}\";${css}src:${url}}`;\n    }\n    this._inspectFont?.(this, url);\n    return rule;\n  }\n  getPathGenerator(objs, character) {\n    if (this.compiledGlyphs[character] !== undefined) {\n      return this.compiledGlyphs[character];\n    }\n    const objId = this.loadedName + \"_path_\" + character;\n    let cmds;\n    try {\n      cmds = objs.get(objId);\n    } catch (ex) {\n      warn(`getPathGenerator - ignoring character: \"${ex}\".`);\n    }\n    const path = makePathFromDrawOPS(cmds?.path);\n    if (!this.fontExtraProperties) {\n      objs.delete(objId);\n    }\n    return this.compiledGlyphs[character] = path;\n  }\n  get black() {\n    return this.#fontData.black;\n  }\n  get bold() {\n    return this.#fontData.bold;\n  }\n  get disableFontFace() {\n    return this.#fontData.disableFontFace ?? false;\n  }\n  set disableFontFace(value) {\n    shadow(this, \"disableFontFace\", !!value);\n  }\n  get fontExtraProperties() {\n    return this.#fontData.fontExtraProperties ?? false;\n  }\n  get isInvalidPDFjsFont() {\n    return this.#fontData.isInvalidPDFjsFont;\n  }\n  get isType3Font() {\n    return this.#fontData.isType3Font;\n  }\n  get italic() {\n    return this.#fontData.italic;\n  }\n  get missingFile() {\n    return this.#fontData.missingFile;\n  }\n  get remeasure() {\n    return this.#fontData.remeasure;\n  }\n  get vertical() {\n    return this.#fontData.vertical;\n  }\n  get ascent() {\n    return this.#fontData.ascent;\n  }\n  get defaultWidth() {\n    return this.#fontData.defaultWidth;\n  }\n  get descent() {\n    return this.#fontData.descent;\n  }\n  get bbox() {\n    return this.#fontData.bbox;\n  }\n  set bbox(bbox) {\n    shadow(this, \"bbox\", bbox);\n  }\n  get fontMatrix() {\n    return this.#fontData.fontMatrix;\n  }\n  get fallbackName() {\n    return this.#fontData.fallbackName;\n  }\n  get loadedName() {\n    return this.#fontData.loadedName;\n  }\n  get mimetype() {\n    return this.#fontData.mimetype;\n  }\n  get name() {\n    return this.#fontData.name;\n  }\n  get data() {\n    return this.#fontData.data;\n  }\n  clearData() {\n    this.#fontData.clearData();\n  }\n  get cssFontInfo() {\n    return this.#fontData.cssFontInfo;\n  }\n  get systemFontInfo() {\n    return this.#fontData.systemFontInfo;\n  }\n  get defaultVMetrics() {\n    return this.#fontData.defaultVMetrics;\n  }\n}\n\n;// ./src/shared/obj-bin-transform.js\n\nclass CssFontInfo {\n  #buffer;\n  #view;\n  #decoder;\n  static strings = [\"fontFamily\", \"fontWeight\", \"italicAngle\"];\n  static write(info) {\n    const encoder = new TextEncoder();\n    const encodedStrings = {};\n    let stringsLength = 0;\n    for (const prop of CssFontInfo.strings) {\n      const encoded = encoder.encode(info[prop]);\n      encodedStrings[prop] = encoded;\n      stringsLength += 4 + encoded.length;\n    }\n    const buffer = new ArrayBuffer(stringsLength);\n    const data = new Uint8Array(buffer);\n    const view = new DataView(buffer);\n    let offset = 0;\n    for (const prop of CssFontInfo.strings) {\n      const encoded = encodedStrings[prop];\n      const length = encoded.length;\n      view.setUint32(offset, length);\n      data.set(encoded, offset + 4);\n      offset += 4 + length;\n    }\n    assert(offset === buffer.byteLength, \"CssFontInfo.write: Buffer overflow\");\n    return buffer;\n  }\n  constructor(buffer) {\n    this.#buffer = buffer;\n    this.#view = new DataView(this.#buffer);\n    this.#decoder = new TextDecoder();\n  }\n  #readString(index) {\n    assert(index < CssFontInfo.strings.length, \"Invalid string index\");\n    let offset = 0;\n    for (let i = 0; i < index; i++) {\n      offset += this.#view.getUint32(offset) + 4;\n    }\n    const length = this.#view.getUint32(offset);\n    return this.#decoder.decode(new Uint8Array(this.#buffer, offset + 4, length));\n  }\n  get fontFamily() {\n    return this.#readString(0);\n  }\n  get fontWeight() {\n    return this.#readString(1);\n  }\n  get italicAngle() {\n    return this.#readString(2);\n  }\n}\nclass SystemFontInfo {\n  #buffer;\n  #view;\n  #decoder;\n  static strings = [\"css\", \"loadedName\", \"baseFontName\", \"src\"];\n  static write(info) {\n    const encoder = new TextEncoder();\n    const encodedStrings = {};\n    let stringsLength = 0;\n    for (const prop of SystemFontInfo.strings) {\n      const encoded = encoder.encode(info[prop]);\n      encodedStrings[prop] = encoded;\n      stringsLength += 4 + encoded.length;\n    }\n    stringsLength += 4;\n    let encodedStyleStyle,\n      encodedStyleWeight,\n      lengthEstimate = 1 + stringsLength;\n    if (info.style) {\n      encodedStyleStyle = encoder.encode(info.style.style);\n      encodedStyleWeight = encoder.encode(info.style.weight);\n      lengthEstimate += 4 + encodedStyleStyle.length + 4 + encodedStyleWeight.length;\n    }\n    const buffer = new ArrayBuffer(lengthEstimate);\n    const data = new Uint8Array(buffer);\n    const view = new DataView(buffer);\n    let offset = 0;\n    view.setUint8(offset++, info.guessFallback ? 1 : 0);\n    view.setUint32(offset, 0);\n    offset += 4;\n    stringsLength = 0;\n    for (const prop of SystemFontInfo.strings) {\n      const encoded = encodedStrings[prop];\n      const length = encoded.length;\n      stringsLength += 4 + length;\n      view.setUint32(offset, length);\n      data.set(encoded, offset + 4);\n      offset += 4 + length;\n    }\n    view.setUint32(offset - stringsLength - 4, stringsLength);\n    if (info.style) {\n      view.setUint32(offset, encodedStyleStyle.length);\n      data.set(encodedStyleStyle, offset + 4);\n      offset += 4 + encodedStyleStyle.length;\n      view.setUint32(offset, encodedStyleWeight.length);\n      data.set(encodedStyleWeight, offset + 4);\n      offset += 4 + encodedStyleWeight.length;\n    }\n    assert(offset <= buffer.byteLength, \"SubstitionInfo.write: Buffer overflow\");\n    return buffer.transferToFixedLength(offset);\n  }\n  constructor(buffer) {\n    this.#buffer = buffer;\n    this.#view = new DataView(this.#buffer);\n    this.#decoder = new TextDecoder();\n  }\n  get guessFallback() {\n    return this.#view.getUint8(0) !== 0;\n  }\n  #readString(index) {\n    assert(index < SystemFontInfo.strings.length, \"Invalid string index\");\n    let offset = 5;\n    for (let i = 0; i < index; i++) {\n      offset += this.#view.getUint32(offset) + 4;\n    }\n    const length = this.#view.getUint32(offset);\n    return this.#decoder.decode(new Uint8Array(this.#buffer, offset + 4, length));\n  }\n  get css() {\n    return this.#readString(0);\n  }\n  get loadedName() {\n    return this.#readString(1);\n  }\n  get baseFontName() {\n    return this.#readString(2);\n  }\n  get src() {\n    return this.#readString(3);\n  }\n  get style() {\n    let offset = 1;\n    offset += 4 + this.#view.getUint32(offset);\n    const styleLength = this.#view.getUint32(offset);\n    const style = this.#decoder.decode(new Uint8Array(this.#buffer, offset + 4, styleLength));\n    offset += 4 + styleLength;\n    const weightLength = this.#view.getUint32(offset);\n    const weight = this.#decoder.decode(new Uint8Array(this.#buffer, offset + 4, weightLength));\n    return {\n      style,\n      weight\n    };\n  }\n}\nclass FontInfo {\n  static bools = [\"black\", \"bold\", \"disableFontFace\", \"fontExtraProperties\", \"isInvalidPDFjsFont\", \"isType3Font\", \"italic\", \"missingFile\", \"remeasure\", \"vertical\"];\n  static numbers = [\"ascent\", \"defaultWidth\", \"descent\"];\n  static strings = [\"fallbackName\", \"loadedName\", \"mimetype\", \"name\"];\n  static #OFFSET_NUMBERS = Math.ceil(this.bools.length * 2 / 8);\n  static #OFFSET_BBOX = this.#OFFSET_NUMBERS + this.numbers.length * 8;\n  static #OFFSET_FONT_MATRIX = this.#OFFSET_BBOX + 1 + 2 * 4;\n  static #OFFSET_DEFAULT_VMETRICS = this.#OFFSET_FONT_MATRIX + 1 + 8 * 6;\n  static #OFFSET_STRINGS = this.#OFFSET_DEFAULT_VMETRICS + 1 + 2 * 3;\n  #buffer;\n  #decoder;\n  #view;\n  constructor({\n    data,\n    extra\n  }) {\n    this.#buffer = data;\n    this.#decoder = new TextDecoder();\n    this.#view = new DataView(this.#buffer);\n    if (extra) {\n      Object.assign(this, extra);\n    }\n  }\n  #readBoolean(index) {\n    assert(index < FontInfo.bools.length, \"Invalid boolean index\");\n    const byteOffset = Math.floor(index / 4);\n    const bitOffset = index * 2 % 8;\n    const value = this.#view.getUint8(byteOffset) >> bitOffset & 0x03;\n    return value === 0x00 ? undefined : value === 0x02;\n  }\n  get black() {\n    return this.#readBoolean(0);\n  }\n  get bold() {\n    return this.#readBoolean(1);\n  }\n  get disableFontFace() {\n    return this.#readBoolean(2);\n  }\n  get fontExtraProperties() {\n    return this.#readBoolean(3);\n  }\n  get isInvalidPDFjsFont() {\n    return this.#readBoolean(4);\n  }\n  get isType3Font() {\n    return this.#readBoolean(5);\n  }\n  get italic() {\n    return this.#readBoolean(6);\n  }\n  get missingFile() {\n    return this.#readBoolean(7);\n  }\n  get remeasure() {\n    return this.#readBoolean(8);\n  }\n  get vertical() {\n    return this.#readBoolean(9);\n  }\n  #readNumber(index) {\n    assert(index < FontInfo.numbers.length, \"Invalid number index\");\n    return this.#view.getFloat64(FontInfo.#OFFSET_NUMBERS + index * 8);\n  }\n  get ascent() {\n    return this.#readNumber(0);\n  }\n  get defaultWidth() {\n    return this.#readNumber(1);\n  }\n  get descent() {\n    return this.#readNumber(2);\n  }\n  get bbox() {\n    let offset = FontInfo.#OFFSET_BBOX;\n    const numCoords = this.#view.getUint8(offset);\n    if (numCoords === 0) {\n      return undefined;\n    }\n    offset += 1;\n    const bbox = [];\n    for (let i = 0; i < 4; i++) {\n      bbox.push(this.#view.getInt16(offset, true));\n      offset += 2;\n    }\n    return bbox;\n  }\n  get fontMatrix() {\n    let offset = FontInfo.#OFFSET_FONT_MATRIX;\n    const numPoints = this.#view.getUint8(offset);\n    if (numPoints === 0) {\n      return undefined;\n    }\n    offset += 1;\n    const fontMatrix = [];\n    for (let i = 0; i < 6; i++) {\n      fontMatrix.push(this.#view.getFloat64(offset, true));\n      offset += 8;\n    }\n    return fontMatrix;\n  }\n  get defaultVMetrics() {\n    let offset = FontInfo.#OFFSET_DEFAULT_VMETRICS;\n    const numMetrics = this.#view.getUint8(offset);\n    if (numMetrics === 0) {\n      return undefined;\n    }\n    offset += 1;\n    const defaultVMetrics = [];\n    for (let i = 0; i < 3; i++) {\n      defaultVMetrics.push(this.#view.getInt16(offset, true));\n      offset += 2;\n    }\n    return defaultVMetrics;\n  }\n  #readString(index) {\n    assert(index < FontInfo.strings.length, \"Invalid string index\");\n    let offset = FontInfo.#OFFSET_STRINGS + 4;\n    for (let i = 0; i < index; i++) {\n      offset += this.#view.getUint32(offset) + 4;\n    }\n    const length = this.#view.getUint32(offset);\n    const stringData = new Uint8Array(length);\n    stringData.set(new Uint8Array(this.#buffer, offset + 4, length));\n    return this.#decoder.decode(stringData);\n  }\n  get fallbackName() {\n    return this.#readString(0);\n  }\n  get loadedName() {\n    return this.#readString(1);\n  }\n  get mimetype() {\n    return this.#readString(2);\n  }\n  get name() {\n    return this.#readString(3);\n  }\n  get data() {\n    let offset = FontInfo.#OFFSET_STRINGS;\n    const stringsLength = this.#view.getUint32(offset);\n    offset += 4 + stringsLength;\n    const systemFontInfoLength = this.#view.getUint32(offset);\n    offset += 4 + systemFontInfoLength;\n    const cssFontInfoLength = this.#view.getUint32(offset);\n    offset += 4 + cssFontInfoLength;\n    const length = this.#view.getUint32(offset);\n    if (length === 0) {\n      return undefined;\n    }\n    return new Uint8Array(this.#buffer, offset + 4, length);\n  }\n  clearData() {\n    let offset = FontInfo.#OFFSET_STRINGS;\n    const stringsLength = this.#view.getUint32(offset);\n    offset += 4 + stringsLength;\n    const systemFontInfoLength = this.#view.getUint32(offset);\n    offset += 4 + systemFontInfoLength;\n    const cssFontInfoLength = this.#view.getUint32(offset);\n    offset += 4 + cssFontInfoLength;\n    const length = this.#view.getUint32(offset);\n    const data = new Uint8Array(this.#buffer, offset + 4, length);\n    data.fill(0);\n    this.#view.setUint32(offset, 0);\n  }\n  get cssFontInfo() {\n    let offset = FontInfo.#OFFSET_STRINGS;\n    const stringsLength = this.#view.getUint32(offset);\n    offset += 4 + stringsLength;\n    const systemFontInfoLength = this.#view.getUint32(offset);\n    offset += 4 + systemFontInfoLength;\n    const cssFontInfoLength = this.#view.getUint32(offset);\n    if (cssFontInfoLength === 0) {\n      return null;\n    }\n    const cssFontInfoData = new Uint8Array(cssFontInfoLength);\n    cssFontInfoData.set(new Uint8Array(this.#buffer, offset + 4, cssFontInfoLength));\n    return new CssFontInfo(cssFontInfoData.buffer);\n  }\n  get systemFontInfo() {\n    let offset = FontInfo.#OFFSET_STRINGS;\n    const stringsLength = this.#view.getUint32(offset);\n    offset += 4 + stringsLength;\n    const systemFontInfoLength = this.#view.getUint32(offset);\n    if (systemFontInfoLength === 0) {\n      return null;\n    }\n    const systemFontInfoData = new Uint8Array(systemFontInfoLength);\n    systemFontInfoData.set(new Uint8Array(this.#buffer, offset + 4, systemFontInfoLength));\n    return new SystemFontInfo(systemFontInfoData.buffer);\n  }\n  static write(font) {\n    const systemFontInfoBuffer = font.systemFontInfo ? SystemFontInfo.write(font.systemFontInfo) : null;\n    const cssFontInfoBuffer = font.cssFontInfo ? CssFontInfo.write(font.cssFontInfo) : null;\n    const encoder = new TextEncoder();\n    const encodedStrings = {};\n    let stringsLength = 0;\n    for (const prop of FontInfo.strings) {\n      encodedStrings[prop] = encoder.encode(font[prop]);\n      stringsLength += 4 + encodedStrings[prop].length;\n    }\n    const lengthEstimate = FontInfo.#OFFSET_STRINGS + 4 + stringsLength + 4 + (systemFontInfoBuffer ? systemFontInfoBuffer.byteLength : 0) + 4 + (cssFontInfoBuffer ? cssFontInfoBuffer.byteLength : 0) + 4 + (font.data ? font.data.length : 0);\n    const buffer = new ArrayBuffer(lengthEstimate);\n    const data = new Uint8Array(buffer);\n    const view = new DataView(buffer);\n    let offset = 0;\n    const numBools = FontInfo.bools.length;\n    let boolByte = 0,\n      boolBit = 0;\n    for (let i = 0; i < numBools; i++) {\n      const value = font[FontInfo.bools[i]];\n      const bits = value === undefined ? 0x00 : value ? 0x02 : 0x01;\n      boolByte |= bits << boolBit;\n      boolBit += 2;\n      if (boolBit === 8 || i === numBools - 1) {\n        view.setUint8(offset++, boolByte);\n        boolByte = 0;\n        boolBit = 0;\n      }\n    }\n    assert(offset === FontInfo.#OFFSET_NUMBERS, \"FontInfo.write: Boolean properties offset mismatch\");\n    for (const prop of FontInfo.numbers) {\n      view.setFloat64(offset, font[prop]);\n      offset += 8;\n    }\n    assert(offset === FontInfo.#OFFSET_BBOX, \"FontInfo.write: Number properties offset mismatch\");\n    if (font.bbox) {\n      view.setUint8(offset++, 4);\n      for (const coord of font.bbox) {\n        view.setInt16(offset, coord, true);\n        offset += 2;\n      }\n    } else {\n      view.setUint8(offset++, 0);\n      offset += 2 * 4;\n    }\n    assert(offset === FontInfo.#OFFSET_FONT_MATRIX, \"FontInfo.write: BBox properties offset mismatch\");\n    if (font.fontMatrix) {\n      view.setUint8(offset++, 6);\n      for (const point of font.fontMatrix) {\n        view.setFloat64(offset, point, true);\n        offset += 8;\n      }\n    } else {\n      view.setUint8(offset++, 0);\n      offset += 8 * 6;\n    }\n    assert(offset === FontInfo.#OFFSET_DEFAULT_VMETRICS, \"FontInfo.write: FontMatrix properties offset mismatch\");\n    if (font.defaultVMetrics) {\n      view.setUint8(offset++, 1);\n      for (const metric of font.defaultVMetrics) {\n        view.setInt16(offset, metric, true);\n        offset += 2;\n      }\n    } else {\n      view.setUint8(offset++, 0);\n      offset += 3 * 2;\n    }\n    assert(offset === FontInfo.#OFFSET_STRINGS, \"FontInfo.write: DefaultVMetrics properties offset mismatch\");\n    view.setUint32(FontInfo.#OFFSET_STRINGS, 0);\n    offset += 4;\n    for (const prop of FontInfo.strings) {\n      const encoded = encodedStrings[prop];\n      const length = encoded.length;\n      view.setUint32(offset, length);\n      data.set(encoded, offset + 4);\n      offset += 4 + length;\n    }\n    view.setUint32(FontInfo.#OFFSET_STRINGS, offset - FontInfo.#OFFSET_STRINGS - 4);\n    if (!systemFontInfoBuffer) {\n      view.setUint32(offset, 0);\n      offset += 4;\n    } else {\n      const length = systemFontInfoBuffer.byteLength;\n      view.setUint32(offset, length);\n      assert(offset + 4 + length <= buffer.byteLength, \"FontInfo.write: Buffer overflow at systemFontInfo\");\n      data.set(new Uint8Array(systemFontInfoBuffer), offset + 4);\n      offset += 4 + length;\n    }\n    if (!cssFontInfoBuffer) {\n      view.setUint32(offset, 0);\n      offset += 4;\n    } else {\n      const length = cssFontInfoBuffer.byteLength;\n      view.setUint32(offset, length);\n      assert(offset + 4 + length <= buffer.byteLength, \"FontInfo.write: Buffer overflow at cssFontInfo\");\n      data.set(new Uint8Array(cssFontInfoBuffer), offset + 4);\n      offset += 4 + length;\n    }\n    if (font.data === undefined) {\n      view.setUint32(offset, 0);\n      offset += 4;\n    } else {\n      view.setUint32(offset, font.data.length);\n      data.set(font.data, offset + 4);\n      offset += 4 + font.data.length;\n    }\n    assert(offset <= buffer.byteLength, \"FontInfo.write: Buffer overflow\");\n    return buffer.transferToFixedLength(offset);\n  }\n}\nclass PatternInfo {\n  static #KIND = 0;\n  static #HAS_BBOX = 1;\n  static #HAS_BACKGROUND = 2;\n  static #SHADING_TYPE = 3;\n  static #N_COORD = 4;\n  static #N_COLOR = 8;\n  static #N_STOP = 12;\n  static #N_FIGURES = 16;\n  constructor(buffer) {\n    this.buffer = buffer;\n    this.view = new DataView(buffer);\n    this.data = new Uint8Array(buffer);\n  }\n  static write(ir) {\n    let kind,\n      bbox = null,\n      coords = [],\n      colors = [],\n      colorStops = [],\n      figures = [],\n      shadingType = null,\n      background = null;\n    switch (ir[0]) {\n      case \"RadialAxial\":\n        kind = ir[1] === \"axial\" ? 1 : 2;\n        bbox = ir[2];\n        colorStops = ir[3];\n        if (kind === 1) {\n          coords.push(...ir[4], ...ir[5]);\n        } else {\n          coords.push(ir[4][0], ir[4][1], ir[6], ir[5][0], ir[5][1], ir[7]);\n        }\n        break;\n      case \"Mesh\":\n        kind = 3;\n        shadingType = ir[1];\n        coords = ir[2];\n        colors = ir[3];\n        figures = ir[4] || [];\n        bbox = ir[6];\n        background = ir[7];\n        break;\n      default:\n        throw new Error(`Unsupported pattern type: ${ir[0]}`);\n    }\n    const nCoord = Math.floor(coords.length / 2);\n    const nColor = Math.floor(colors.length / 3);\n    const nStop = colorStops.length;\n    const nFigures = figures.length;\n    let figuresSize = 0;\n    for (const figure of figures) {\n      figuresSize += 1;\n      figuresSize = Math.ceil(figuresSize / 4) * 4;\n      figuresSize += 4 + figure.coords.length * 4;\n      figuresSize += 4 + figure.colors.length * 4;\n      if (figure.verticesPerRow !== undefined) {\n        figuresSize += 4;\n      }\n    }\n    const byteLen = 20 + nCoord * 8 + nColor * 3 + nStop * 8 + (bbox ? 16 : 0) + (background ? 3 : 0) + figuresSize;\n    const buffer = new ArrayBuffer(byteLen);\n    const dataView = new DataView(buffer);\n    const u8data = new Uint8Array(buffer);\n    dataView.setUint8(PatternInfo.#KIND, kind);\n    dataView.setUint8(PatternInfo.#HAS_BBOX, bbox ? 1 : 0);\n    dataView.setUint8(PatternInfo.#HAS_BACKGROUND, background ? 1 : 0);\n    dataView.setUint8(PatternInfo.#SHADING_TYPE, shadingType);\n    dataView.setUint32(PatternInfo.#N_COORD, nCoord, true);\n    dataView.setUint32(PatternInfo.#N_COLOR, nColor, true);\n    dataView.setUint32(PatternInfo.#N_STOP, nStop, true);\n    dataView.setUint32(PatternInfo.#N_FIGURES, nFigures, true);\n    let offset = 20;\n    const coordsView = new Float32Array(buffer, offset, nCoord * 2);\n    coordsView.set(coords);\n    offset += nCoord * 8;\n    u8data.set(colors, offset);\n    offset += nColor * 3;\n    for (const [pos, hex] of colorStops) {\n      dataView.setFloat32(offset, pos, true);\n      offset += 4;\n      dataView.setUint32(offset, parseInt(hex.slice(1), 16), true);\n      offset += 4;\n    }\n    if (bbox) {\n      for (const v of bbox) {\n        dataView.setFloat32(offset, v, true);\n        offset += 4;\n      }\n    }\n    if (background) {\n      u8data.set(background, offset);\n      offset += 3;\n    }\n    for (let i = 0; i < figures.length; i++) {\n      const figure = figures[i];\n      dataView.setUint8(offset, figure.type);\n      offset += 1;\n      offset = Math.ceil(offset / 4) * 4;\n      dataView.setUint32(offset, figure.coords.length, true);\n      offset += 4;\n      const figureCoordsView = new Int32Array(buffer, offset, figure.coords.length);\n      figureCoordsView.set(figure.coords);\n      offset += figure.coords.length * 4;\n      dataView.setUint32(offset, figure.colors.length, true);\n      offset += 4;\n      const colorsView = new Int32Array(buffer, offset, figure.colors.length);\n      colorsView.set(figure.colors);\n      offset += figure.colors.length * 4;\n      if (figure.verticesPerRow !== undefined) {\n        dataView.setUint32(offset, figure.verticesPerRow, true);\n        offset += 4;\n      }\n    }\n    return buffer;\n  }\n  getIR() {\n    const dataView = this.view;\n    const kind = this.data[PatternInfo.#KIND];\n    const hasBBox = !!this.data[PatternInfo.#HAS_BBOX];\n    const hasBackground = !!this.data[PatternInfo.#HAS_BACKGROUND];\n    const nCoord = dataView.getUint32(PatternInfo.#N_COORD, true);\n    const nColor = dataView.getUint32(PatternInfo.#N_COLOR, true);\n    const nStop = dataView.getUint32(PatternInfo.#N_STOP, true);\n    const nFigures = dataView.getUint32(PatternInfo.#N_FIGURES, true);\n    let offset = 20;\n    const coords = new Float32Array(this.buffer, offset, nCoord * 2);\n    offset += nCoord * 8;\n    const colors = new Uint8Array(this.buffer, offset, nColor * 3);\n    offset += nColor * 3;\n    const stops = [];\n    for (let i = 0; i < nStop; ++i) {\n      const p = dataView.getFloat32(offset, true);\n      offset += 4;\n      const rgb = dataView.getUint32(offset, true);\n      offset += 4;\n      stops.push([p, `#${rgb.toString(16).padStart(6, \"0\")}`]);\n    }\n    let bbox = null;\n    if (hasBBox) {\n      bbox = [];\n      for (let i = 0; i < 4; ++i) {\n        bbox.push(dataView.getFloat32(offset, true));\n        offset += 4;\n      }\n    }\n    let background = null;\n    if (hasBackground) {\n      background = new Uint8Array(this.buffer, offset, 3);\n      offset += 3;\n    }\n    const figures = [];\n    for (let i = 0; i < nFigures; ++i) {\n      const type = dataView.getUint8(offset);\n      offset += 1;\n      offset = Math.ceil(offset / 4) * 4;\n      const coordsLength = dataView.getUint32(offset, true);\n      offset += 4;\n      const figureCoords = new Int32Array(this.buffer, offset, coordsLength);\n      offset += coordsLength * 4;\n      const colorsLength = dataView.getUint32(offset, true);\n      offset += 4;\n      const figureColors = new Int32Array(this.buffer, offset, colorsLength);\n      offset += colorsLength * 4;\n      const figure = {\n        type,\n        coords: figureCoords,\n        colors: figureColors\n      };\n      if (type === MeshFigureType.LATTICE) {\n        figure.verticesPerRow = dataView.getUint32(offset, true);\n        offset += 4;\n      }\n      figures.push(figure);\n    }\n    if (kind === 1) {\n      return [\"RadialAxial\", \"axial\", bbox, stops, Array.from(coords.slice(0, 2)), Array.from(coords.slice(2, 4)), null, null];\n    }\n    if (kind === 2) {\n      return [\"RadialAxial\", \"radial\", bbox, stops, [coords[0], coords[1]], [coords[3], coords[4]], coords[2], coords[5]];\n    }\n    if (kind === 3) {\n      const shadingType = this.data[PatternInfo.#SHADING_TYPE];\n      let bounds = null;\n      if (coords.length > 0) {\n        let minX = coords[0],\n          maxX = coords[0];\n        let minY = coords[1],\n          maxY = coords[1];\n        for (let i = 0; i < coords.length; i += 2) {\n          const x = coords[i],\n            y = coords[i + 1];\n          minX = minX > x ? x : minX;\n          minY = minY > y ? y : minY;\n          maxX = maxX < x ? x : maxX;\n          maxY = maxY < y ? y : maxY;\n        }\n        bounds = [minX, minY, maxX, maxY];\n      }\n      return [\"Mesh\", shadingType, coords, colors, figures, bounds, bbox, background];\n    }\n    throw new Error(`Unsupported pattern kind: ${kind}`);\n  }\n}\nclass FontPathInfo {\n  static write(path) {\n    let data;\n    let buffer;\n    if (util_FeatureTest.isFloat16ArraySupported) {\n      buffer = new ArrayBuffer(path.length * 2);\n      data = new Float16Array(buffer);\n    } else {\n      buffer = new ArrayBuffer(path.length * 4);\n      data = new Float32Array(buffer);\n    }\n    data.set(path);\n    return buffer;\n  }\n  #buffer;\n  constructor(buffer) {\n    this.#buffer = buffer;\n  }\n  get path() {\n    if (util_FeatureTest.isFloat16ArraySupported) {\n      return new Float16Array(this.#buffer);\n    }\n    return new Float32Array(this.#buffer);\n  }\n}\n\n;// ./src/display/api_utils.js\n\nfunction getUrlProp(val) {\n  if (val instanceof URL) {\n    return val.href;\n  }\n  if (typeof val === \"string\") {\n    if (isNodeJS) {\n      return val;\n    }\n    const url = URL.parse(val, window.location);\n    if (url) {\n      return url.href;\n    }\n  }\n  throw new Error(\"Invalid PDF url data: \" + \"either string or URL-object is expected in the url property.\");\n}\nfunction getDataProp(val) {\n  if (isNodeJS && typeof Buffer !== \"undefined\" && val instanceof Buffer) {\n    throw new Error(\"Please provide binary data as `Uint8Array`, rather than `Buffer`.\");\n  }\n  if (val instanceof Uint8Array && val.byteLength === val.buffer.byteLength) {\n    return val;\n  }\n  if (typeof val === \"string\") {\n    return stringToBytes(val);\n  }\n  if (val instanceof ArrayBuffer || ArrayBuffer.isView(val) || typeof val === \"object\" && !isNaN(val?.length)) {\n    return new Uint8Array(val);\n  }\n  throw new Error(\"Invalid PDF binary data: either TypedArray, \" + \"string, or array-like object is expected in the data property.\");\n}\nfunction getFactoryUrlProp(val) {\n  if (typeof val !== \"string\") {\n    return null;\n  }\n  if (val.endsWith(\"/\")) {\n    return val;\n  }\n  throw new Error(`Invalid factory url: \"${val}\" must include trailing slash.`);\n}\nconst isRefProxy = v => typeof v === \"object\" && Number.isInteger(v?.num) && v.num >= 0 && Number.isInteger(v?.gen) && v.gen >= 0;\nconst isNameProxy = v => typeof v === \"object\" && typeof v?.name === \"string\";\nconst isValidExplicitDest = _isValidExplicitDest.bind(null, isRefProxy, isNameProxy);\nclass LoopbackPort {\n  #listeners = new Map();\n  #deferred = Promise.resolve();\n  postMessage(obj, transfer) {\n    const event = {\n      data: structuredClone(obj, transfer ? {\n        transfer\n      } : null)\n    };\n    this.#deferred.then(() => {\n      for (const [listener] of this.#listeners) {\n        listener.call(this, event);\n      }\n    });\n  }\n  addEventListener(name, listener, options = null) {\n    let rmAbort = null;\n    if (options?.signal instanceof AbortSignal) {\n      const {\n        signal\n      } = options;\n      if (signal.aborted) {\n        warn(\"LoopbackPort - cannot use an `aborted` signal.\");\n        return;\n      }\n      const onAbort = () => this.removeEventListener(name, listener);\n      rmAbort = () => signal.removeEventListener(\"abort\", onAbort);\n      signal.addEventListener(\"abort\", onAbort);\n    }\n    this.#listeners.set(listener, rmAbort);\n  }\n  removeEventListener(name, listener) {\n    const rmAbort = this.#listeners.get(listener);\n    rmAbort?.();\n    this.#listeners.delete(listener);\n  }\n  terminate() {\n    for (const [, rmAbort] of this.#listeners) {\n      rmAbort?.();\n    }\n    this.#listeners.clear();\n  }\n}\n\n;// ./src/shared/message_handler.js\n\nconst CallbackKind = {\n  DATA: 1,\n  ERROR: 2\n};\nconst StreamKind = {\n  CANCEL: 1,\n  CANCEL_COMPLETE: 2,\n  CLOSE: 3,\n  ENQUEUE: 4,\n  ERROR: 5,\n  PULL: 6,\n  PULL_COMPLETE: 7,\n  START_COMPLETE: 8\n};\nfunction onFn() {}\nfunction wrapReason(ex) {\n  if (ex instanceof AbortException || ex instanceof InvalidPDFException || ex instanceof PasswordException || ex instanceof ResponseException || ex instanceof UnknownErrorException) {\n    return ex;\n  }\n  if (!(ex instanceof Error || typeof ex === \"object\" && ex !== null)) {\n    unreachable('wrapReason: Expected \"reason\" to be a (possibly cloned) Error.');\n  }\n  switch (ex.name) {\n    case \"AbortException\":\n      return new AbortException(ex.message);\n    case \"InvalidPDFException\":\n      return new InvalidPDFException(ex.message);\n    case \"PasswordException\":\n      return new PasswordException(ex.message, ex.code);\n    case \"ResponseException\":\n      return new ResponseException(ex.message, ex.status, ex.missing);\n    case \"UnknownErrorException\":\n      return new UnknownErrorException(ex.message, ex.details);\n  }\n  return new UnknownErrorException(ex.message, ex.toString());\n}\nclass MessageHandler {\n  #messageAC = new AbortController();\n  constructor(sourceName, targetName, comObj) {\n    this.sourceName = sourceName;\n    this.targetName = targetName;\n    this.comObj = comObj;\n    this.callbackId = 1;\n    this.streamId = 1;\n    this.streamSinks = Object.create(null);\n    this.streamControllers = Object.create(null);\n    this.callbackCapabilities = Object.create(null);\n    this.actionHandler = Object.create(null);\n    comObj.addEventListener(\"message\", this.#onMessage.bind(this), {\n      signal: this.#messageAC.signal\n    });\n  }\n  #onMessage({\n    data\n  }) {\n    if (data.targetName !== this.sourceName) {\n      return;\n    }\n    if (data.stream) {\n      this.#processStreamMessage(data);\n      return;\n    }\n    if (data.callback) {\n      const callbackId = data.callbackId;\n      const capability = this.callbackCapabilities[callbackId];\n      if (!capability) {\n        throw new Error(`Cannot resolve callback ${callbackId}`);\n      }\n      delete this.callbackCapabilities[callbackId];\n      if (data.callback === CallbackKind.DATA) {\n        capability.resolve(data.data);\n      } else if (data.callback === CallbackKind.ERROR) {\n        capability.reject(wrapReason(data.reason));\n      } else {\n        throw new Error(\"Unexpected callback case\");\n      }\n      return;\n    }\n    const action = this.actionHandler[data.action];\n    if (!action) {\n      throw new Error(`Unknown action from worker: ${data.action}`);\n    }\n    if (data.callbackId) {\n      const sourceName = this.sourceName,\n        targetName = data.sourceName,\n        comObj = this.comObj;\n      Promise.try(action, data.data).then(function (result) {\n        comObj.postMessage({\n          sourceName,\n          targetName,\n          callback: CallbackKind.DATA,\n          callbackId: data.callbackId,\n          data: result\n        });\n      }, function (reason) {\n        comObj.postMessage({\n          sourceName,\n          targetName,\n          callback: CallbackKind.ERROR,\n          callbackId: data.callbackId,\n          reason: wrapReason(reason)\n        });\n      });\n      return;\n    }\n    if (data.streamId) {\n      this.#createStreamSink(data);\n      return;\n    }\n    action(data.data);\n  }\n  on(actionName, handler) {\n    const ah = this.actionHandler;\n    if (ah[actionName]) {\n      throw new Error(`There is already an actionName called \"${actionName}\"`);\n    }\n    ah[actionName] = handler;\n  }\n  send(actionName, data, transfers) {\n    this.comObj.postMessage({\n      sourceName: this.sourceName,\n      targetName: this.targetName,\n      action: actionName,\n      data\n    }, transfers);\n  }\n  sendWithPromise(actionName, data, transfers) {\n    const callbackId = this.callbackId++;\n    const capability = Promise.withResolvers();\n    this.callbackCapabilities[callbackId] = capability;\n    try {\n      this.comObj.postMessage({\n        sourceName: this.sourceName,\n        targetName: this.targetName,\n        action: actionName,\n        callbackId,\n        data\n      }, transfers);\n    } catch (ex) {\n      capability.reject(ex);\n    }\n    return capability.promise;\n  }\n  sendWithStream(actionName, data, queueingStrategy, transfers) {\n    const streamId = this.streamId++,\n      sourceName = this.sourceName,\n      targetName = this.targetName,\n      comObj = this.comObj;\n    return new ReadableStream({\n      start: controller => {\n        const startCapability = Promise.withResolvers();\n        this.streamControllers[streamId] = {\n          controller,\n          startCall: startCapability,\n          pullCall: null,\n          cancelCall: null,\n          isClosed: false\n        };\n        comObj.postMessage({\n          sourceName,\n          targetName,\n          action: actionName,\n          streamId,\n          data,\n          desiredSize: controller.desiredSize\n        }, transfers);\n        return startCapability.promise;\n      },\n      pull: controller => {\n        const pullCapability = Promise.withResolvers();\n        this.streamControllers[streamId].pullCall = pullCapability;\n        comObj.postMessage({\n          sourceName,\n          targetName,\n          stream: StreamKind.PULL,\n          streamId,\n          desiredSize: controller.desiredSize\n        });\n        return pullCapability.promise;\n      },\n      cancel: reason => {\n        assert(reason instanceof Error, \"cancel must have a valid reason\");\n        const cancelCapability = Promise.withResolvers();\n        this.streamControllers[streamId].cancelCall = cancelCapability;\n        this.streamControllers[streamId].isClosed = true;\n        comObj.postMessage({\n          sourceName,\n          targetName,\n          stream: StreamKind.CANCEL,\n          streamId,\n          reason: wrapReason(reason)\n        });\n        return cancelCapability.promise;\n      }\n    }, queueingStrategy);\n  }\n  #createStreamSink(data) {\n    const streamId = data.streamId,\n      sourceName = this.sourceName,\n      targetName = data.sourceName,\n      comObj = this.comObj;\n    const self = this,\n      action = this.actionHandler[data.action];\n    const streamSink = {\n      enqueue(chunk, size = 1, transfers) {\n        if (this.isCancelled) {\n          return;\n        }\n        const lastDesiredSize = this.desiredSize;\n        this.desiredSize -= size;\n        if (lastDesiredSize > 0 && this.desiredSize <= 0) {\n          this.sinkCapability = Promise.withResolvers();\n          this.ready = this.sinkCapability.promise;\n        }\n        comObj.postMessage({\n          sourceName,\n          targetName,\n          stream: StreamKind.ENQUEUE,\n          streamId,\n          chunk\n        }, transfers);\n      },\n      close() {\n        if (this.isCancelled) {\n          return;\n        }\n        this.isCancelled = true;\n        comObj.postMessage({\n          sourceName,\n          targetName,\n          stream: StreamKind.CLOSE,\n          streamId\n        });\n        delete self.streamSinks[streamId];\n      },\n      error(reason) {\n        assert(reason instanceof Error, \"error must have a valid reason\");\n        if (this.isCancelled) {\n          return;\n        }\n        this.isCancelled = true;\n        comObj.postMessage({\n          sourceName,\n          targetName,\n          stream: StreamKind.ERROR,\n          streamId,\n          reason: wrapReason(reason)\n        });\n      },\n      sinkCapability: Promise.withResolvers(),\n      onPull: null,\n      onCancel: null,\n      isCancelled: false,\n      desiredSize: data.desiredSize,\n      ready: null\n    };\n    streamSink.sinkCapability.resolve();\n    streamSink.ready = streamSink.sinkCapability.promise;\n    this.streamSinks[streamId] = streamSink;\n    Promise.try(action, data.data, streamSink).then(function () {\n      comObj.postMessage({\n        sourceName,\n        targetName,\n        stream: StreamKind.START_COMPLETE,\n        streamId,\n        success: true\n      });\n    }, function (reason) {\n      comObj.postMessage({\n        sourceName,\n        targetName,\n        stream: StreamKind.START_COMPLETE,\n        streamId,\n        reason: wrapReason(reason)\n      });\n    });\n  }\n  #processStreamMessage(data) {\n    const streamId = data.streamId,\n      sourceName = this.sourceName,\n      targetName = data.sourceName,\n      comObj = this.comObj;\n    const streamController = this.streamControllers[streamId],\n      streamSink = this.streamSinks[streamId];\n    switch (data.stream) {\n      case StreamKind.START_COMPLETE:\n        if (data.success) {\n          streamController.startCall.resolve();\n        } else {\n          streamController.startCall.reject(wrapReason(data.reason));\n        }\n        break;\n      case StreamKind.PULL_COMPLETE:\n        if (data.success) {\n          streamController.pullCall.resolve();\n        } else {\n          streamController.pullCall.reject(wrapReason(data.reason));\n        }\n        break;\n      case StreamKind.PULL:\n        if (!streamSink) {\n          comObj.postMessage({\n            sourceName,\n            targetName,\n            stream: StreamKind.PULL_COMPLETE,\n            streamId,\n            success: true\n          });\n          break;\n        }\n        if (streamSink.desiredSize <= 0 && data.desiredSize > 0) {\n          streamSink.sinkCapability.resolve();\n        }\n        streamSink.desiredSize = data.desiredSize;\n        Promise.try(streamSink.onPull || onFn).then(function () {\n          comObj.postMessage({\n            sourceName,\n            targetName,\n            stream: StreamKind.PULL_COMPLETE,\n            streamId,\n            success: true\n          });\n        }, function (reason) {\n          comObj.postMessage({\n            sourceName,\n            targetName,\n            stream: StreamKind.PULL_COMPLETE,\n            streamId,\n            reason: wrapReason(reason)\n          });\n        });\n        break;\n      case StreamKind.ENQUEUE:\n        assert(streamController, \"enqueue should have stream controller\");\n        if (streamController.isClosed) {\n          break;\n        }\n        streamController.controller.enqueue(data.chunk);\n        break;\n      case StreamKind.CLOSE:\n        assert(streamController, \"close should have stream controller\");\n        if (streamController.isClosed) {\n          break;\n        }\n        streamController.isClosed = true;\n        streamController.controller.close();\n        this.#deleteStreamController(streamController, streamId);\n        break;\n      case StreamKind.ERROR:\n        assert(streamController, \"error should have stream controller\");\n        streamController.controller.error(wrapReason(data.reason));\n        this.#deleteStreamController(streamController, streamId);\n        break;\n      case StreamKind.CANCEL_COMPLETE:\n        if (data.success) {\n          streamController.cancelCall.resolve();\n        } else {\n          streamController.cancelCall.reject(wrapReason(data.reason));\n        }\n        this.#deleteStreamController(streamController, streamId);\n        break;\n      case StreamKind.CANCEL:\n        if (!streamSink) {\n          break;\n        }\n        const dataReason = wrapReason(data.reason);\n        Promise.try(streamSink.onCancel || onFn, dataReason).then(function () {\n          comObj.postMessage({\n            sourceName,\n            targetName,\n            stream: StreamKind.CANCEL_COMPLETE,\n            streamId,\n            success: true\n          });\n        }, function (reason) {\n          comObj.postMessage({\n            sourceName,\n            targetName,\n            stream: StreamKind.CANCEL_COMPLETE,\n            streamId,\n            reason: wrapReason(reason)\n          });\n        });\n        streamSink.sinkCapability.reject(dataReason);\n        streamSink.isCancelled = true;\n        delete this.streamSinks[streamId];\n        break;\n      default:\n        throw new Error(\"Unexpected stream case\");\n    }\n  }\n  async #deleteStreamController(streamController, streamId) {\n    await Promise.allSettled([streamController.startCall?.promise, streamController.pullCall?.promise, streamController.cancelCall?.promise]);\n    delete this.streamControllers[streamId];\n  }\n  destroy() {\n    this.#messageAC?.abort();\n    this.#messageAC = null;\n  }\n}\n\n;// ./src/display/canvas_factory.js\n\nclass BaseCanvasFactory {\n  #enableHWA = false;\n  constructor({\n    enableHWA = false\n  }) {\n    this.#enableHWA = enableHWA;\n  }\n  create(width, height) {\n    if (width <= 0 || height <= 0) {\n      throw new Error(\"Invalid canvas size\");\n    }\n    const canvas = this._createCanvas(width, height);\n    return {\n      canvas,\n      context: canvas.getContext(\"2d\", {\n        willReadFrequently: !this.#enableHWA\n      })\n    };\n  }\n  reset(canvasAndContext, width, height) {\n    if (!canvasAndContext.canvas) {\n      throw new Error(\"Canvas is not specified\");\n    }\n    if (width <= 0 || height <= 0) {\n      throw new Error(\"Invalid canvas size\");\n    }\n    canvasAndContext.canvas.width = width;\n    canvasAndContext.canvas.height = height;\n  }\n  destroy(canvasAndContext) {\n    if (!canvasAndContext.canvas) {\n      throw new Error(\"Canvas is not specified\");\n    }\n    canvasAndContext.canvas.width = 0;\n    canvasAndContext.canvas.height = 0;\n    canvasAndContext.canvas = null;\n    canvasAndContext.context = null;\n  }\n  _createCanvas(width, height) {\n    unreachable(\"Abstract method `_createCanvas` called.\");\n  }\n}\nclass DOMCanvasFactory extends BaseCanvasFactory {\n  constructor({\n    ownerDocument = globalThis.document,\n    enableHWA = false\n  }) {\n    super({\n      enableHWA\n    });\n    this._document = ownerDocument;\n  }\n  _createCanvas(width, height) {\n    const canvas = this._document.createElement(\"canvas\");\n    canvas.width = width;\n    canvas.height = height;\n    return canvas;\n  }\n}\n\n;// ./src/display/cmap_reader_factory.js\n\n\nclass BaseCMapReaderFactory {\n  constructor({\n    baseUrl = null,\n    isCompressed = true\n  }) {\n    this.baseUrl = baseUrl;\n    this.isCompressed = isCompressed;\n  }\n  async fetch({\n    name\n  }) {\n    if (!this.baseUrl) {\n      throw new Error(\"Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.\");\n    }\n    if (!name) {\n      throw new Error(\"CMap name must be specified.\");\n    }\n    const url = this.baseUrl + name + (this.isCompressed ? \".bcmap\" : \"\");\n    return this._fetch(url).then(cMapData => ({\n      cMapData,\n      isCompressed: this.isCompressed\n    })).catch(reason => {\n      throw new Error(`Unable to load ${this.isCompressed ? \"binary \" : \"\"}CMap at: ${url}`);\n    });\n  }\n  async _fetch(url) {\n    unreachable(\"Abstract method `_fetch` called.\");\n  }\n}\nclass DOMCMapReaderFactory extends BaseCMapReaderFactory {\n  async _fetch(url) {\n    const data = await fetchData(url, this.isCompressed ? \"arraybuffer\" : \"text\");\n    return data instanceof ArrayBuffer ? new Uint8Array(data) : stringToBytes(data);\n  }\n}\n\n;// ./src/display/filter_factory.js\n\n\nclass BaseFilterFactory {\n  addFilter(maps) {\n    return \"none\";\n  }\n  addHCMFilter(fgColor, bgColor) {\n    return \"none\";\n  }\n  addAlphaFilter(map) {\n    return \"none\";\n  }\n  addLuminosityFilter(map) {\n    return \"none\";\n  }\n  addHighlightHCMFilter(filterName, fgColor, bgColor, newFgColor, newBgColor) {\n    return \"none\";\n  }\n  destroy(keepHCM = false) {}\n}\nclass DOMFilterFactory extends BaseFilterFactory {\n  #baseUrl;\n  #_cache;\n  #_defs;\n  #docId;\n  #document;\n  #_hcmCache;\n  #id = 0;\n  constructor({\n    docId,\n    ownerDocument = globalThis.document\n  }) {\n    super();\n    this.#docId = docId;\n    this.#document = ownerDocument;\n  }\n  get #cache() {\n    return this.#_cache ||= new Map();\n  }\n  get #hcmCache() {\n    return this.#_hcmCache ||= new Map();\n  }\n  get #defs() {\n    if (!this.#_defs) {\n      const div = this.#document.createElement(\"div\");\n      const {\n        style\n      } = div;\n      style.visibility = \"hidden\";\n      style.contain = \"strict\";\n      style.width = style.height = 0;\n      style.position = \"absolute\";\n      style.top = style.left = 0;\n      style.zIndex = -1;\n      const svg = this.#document.createElementNS(SVG_NS, \"svg\");\n      svg.setAttribute(\"width\", 0);\n      svg.setAttribute(\"height\", 0);\n      this.#_defs = this.#document.createElementNS(SVG_NS, \"defs\");\n      div.append(svg);\n      svg.append(this.#_defs);\n      this.#document.body.append(div);\n    }\n    return this.#_defs;\n  }\n  #createTables(maps) {\n    if (maps.length === 1) {\n      const mapR = maps[0];\n      const buffer = new Array(256);\n      for (let i = 0; i < 256; i++) {\n        buffer[i] = mapR[i] / 255;\n      }\n      const table = buffer.join(\",\");\n      return [table, table, table];\n    }\n    const [mapR, mapG, mapB] = maps;\n    const bufferR = new Array(256);\n    const bufferG = new Array(256);\n    const bufferB = new Array(256);\n    for (let i = 0; i < 256; i++) {\n      bufferR[i] = mapR[i] / 255;\n      bufferG[i] = mapG[i] / 255;\n      bufferB[i] = mapB[i] / 255;\n    }\n    return [bufferR.join(\",\"), bufferG.join(\",\"), bufferB.join(\",\")];\n  }\n  #createUrl(id) {\n    if (this.#baseUrl === undefined) {\n      this.#baseUrl = \"\";\n      const url = this.#document.URL;\n      if (url !== this.#document.baseURI) {\n        if (isDataScheme(url)) {\n          warn('#createUrl: ignore \"data:\"-URL for performance reasons.');\n        } else {\n          this.#baseUrl = updateUrlHash(url, \"\");\n        }\n      }\n    }\n    return `url(${this.#baseUrl}#${id})`;\n  }\n  addFilter(maps) {\n    if (!maps) {\n      return \"none\";\n    }\n    let value = this.#cache.get(maps);\n    if (value) {\n      return value;\n    }\n    const [tableR, tableG, tableB] = this.#createTables(maps);\n    const key = maps.length === 1 ? tableR : `${tableR}${tableG}${tableB}`;\n    value = this.#cache.get(key);\n    if (value) {\n      this.#cache.set(maps, value);\n      return value;\n    }\n    const id = `g_${this.#docId}_transfer_map_${this.#id++}`;\n    const url = this.#createUrl(id);\n    this.#cache.set(maps, url);\n    this.#cache.set(key, url);\n    const filter = this.#createFilter(id);\n    this.#addTransferMapConversion(tableR, tableG, tableB, filter);\n    return url;\n  }\n  addHCMFilter(fgColor, bgColor) {\n    const key = `${fgColor}-${bgColor}`;\n    const filterName = \"base\";\n    let info = this.#hcmCache.get(filterName);\n    if (info?.key === key) {\n      return info.url;\n    }\n    if (info) {\n      info.filter?.remove();\n      info.key = key;\n      info.url = \"none\";\n      info.filter = null;\n    } else {\n      info = {\n        key,\n        url: \"none\",\n        filter: null\n      };\n      this.#hcmCache.set(filterName, info);\n    }\n    if (!fgColor || !bgColor) {\n      return info.url;\n    }\n    const fgRGB = this.#getRGB(fgColor);\n    fgColor = Util.makeHexColor(...fgRGB);\n    const bgRGB = this.#getRGB(bgColor);\n    bgColor = Util.makeHexColor(...bgRGB);\n    this.#defs.style.color = \"\";\n    if (fgColor === \"#000000\" && bgColor === \"#ffffff\" || fgColor === bgColor) {\n      return info.url;\n    }\n    const map = new Array(256);\n    for (let i = 0; i <= 255; i++) {\n      const x = i / 255;\n      map[i] = x <= 0.03928 ? x / 12.92 : ((x + 0.055) / 1.055) ** 2.4;\n    }\n    const table = map.join(\",\");\n    const id = `g_${this.#docId}_hcm_filter`;\n    const filter = info.filter = this.#createFilter(id);\n    this.#addTransferMapConversion(table, table, table, filter);\n    this.#addGrayConversion(filter);\n    const getSteps = (c, n) => {\n      const start = fgRGB[c] / 255;\n      const end = bgRGB[c] / 255;\n      const arr = new Array(n + 1);\n      for (let i = 0; i <= n; i++) {\n        arr[i] = start + i / n * (end - start);\n      }\n      return arr.join(\",\");\n    };\n    this.#addTransferMapConversion(getSteps(0, 5), getSteps(1, 5), getSteps(2, 5), filter);\n    info.url = this.#createUrl(id);\n    return info.url;\n  }\n  addAlphaFilter(map) {\n    let value = this.#cache.get(map);\n    if (value) {\n      return value;\n    }\n    const [tableA] = this.#createTables([map]);\n    const key = `alpha_${tableA}`;\n    value = this.#cache.get(key);\n    if (value) {\n      this.#cache.set(map, value);\n      return value;\n    }\n    const id = `g_${this.#docId}_alpha_map_${this.#id++}`;\n    const url = this.#createUrl(id);\n    this.#cache.set(map, url);\n    this.#cache.set(key, url);\n    const filter = this.#createFilter(id);\n    this.#addTransferMapAlphaConversion(tableA, filter);\n    return url;\n  }\n  addLuminosityFilter(map) {\n    let value = this.#cache.get(map || \"luminosity\");\n    if (value) {\n      return value;\n    }\n    let tableA, key;\n    if (map) {\n      [tableA] = this.#createTables([map]);\n      key = `luminosity_${tableA}`;\n    } else {\n      key = \"luminosity\";\n    }\n    value = this.#cache.get(key);\n    if (value) {\n      this.#cache.set(map, value);\n      return value;\n    }\n    const id = `g_${this.#docId}_luminosity_map_${this.#id++}`;\n    const url = this.#createUrl(id);\n    this.#cache.set(map, url);\n    this.#cache.set(key, url);\n    const filter = this.#createFilter(id);\n    this.#addLuminosityConversion(filter);\n    if (map) {\n      this.#addTransferMapAlphaConversion(tableA, filter);\n    }\n    return url;\n  }\n  addHighlightHCMFilter(filterName, fgColor, bgColor, newFgColor, newBgColor) {\n    const key = `${fgColor}-${bgColor}-${newFgColor}-${newBgColor}`;\n    let info = this.#hcmCache.get(filterName);\n    if (info?.key === key) {\n      return info.url;\n    }\n    if (info) {\n      info.filter?.remove();\n      info.key = key;\n      info.url = \"none\";\n      info.filter = null;\n    } else {\n      info = {\n        key,\n        url: \"none\",\n        filter: null\n      };\n      this.#hcmCache.set(filterName, info);\n    }\n    if (!fgColor || !bgColor) {\n      return info.url;\n    }\n    const [fgRGB, bgRGB] = [fgColor, bgColor].map(this.#getRGB.bind(this));\n    let fgGray = Math.round(0.2126 * fgRGB[0] + 0.7152 * fgRGB[1] + 0.0722 * fgRGB[2]);\n    let bgGray = Math.round(0.2126 * bgRGB[0] + 0.7152 * bgRGB[1] + 0.0722 * bgRGB[2]);\n    let [newFgRGB, newBgRGB] = [newFgColor, newBgColor].map(this.#getRGB.bind(this));\n    if (bgGray < fgGray) {\n      [fgGray, bgGray, newFgRGB, newBgRGB] = [bgGray, fgGray, newBgRGB, newFgRGB];\n    }\n    this.#defs.style.color = \"\";\n    const getSteps = (fg, bg, n) => {\n      const arr = new Array(256);\n      const step = (bgGray - fgGray) / n;\n      const newStart = fg / 255;\n      const newStep = (bg - fg) / (255 * n);\n      let prev = 0;\n      for (let i = 0; i <= n; i++) {\n        const k = Math.round(fgGray + i * step);\n        const value = newStart + i * newStep;\n        for (let j = prev; j <= k; j++) {\n          arr[j] = value;\n        }\n        prev = k + 1;\n      }\n      for (let i = prev; i < 256; i++) {\n        arr[i] = arr[prev - 1];\n      }\n      return arr.join(\",\");\n    };\n    const id = `g_${this.#docId}_hcm_${filterName}_filter`;\n    const filter = info.filter = this.#createFilter(id);\n    this.#addGrayConversion(filter);\n    this.#addTransferMapConversion(getSteps(newFgRGB[0], newBgRGB[0], 5), getSteps(newFgRGB[1], newBgRGB[1], 5), getSteps(newFgRGB[2], newBgRGB[2], 5), filter);\n    info.url = this.#createUrl(id);\n    return info.url;\n  }\n  destroy(keepHCM = false) {\n    if (keepHCM && this.#_hcmCache?.size) {\n      return;\n    }\n    this.#_defs?.parentNode.parentNode.remove();\n    this.#_defs = null;\n    this.#_cache?.clear();\n    this.#_cache = null;\n    this.#_hcmCache?.clear();\n    this.#_hcmCache = null;\n    this.#id = 0;\n  }\n  #addLuminosityConversion(filter) {\n    const feColorMatrix = this.#document.createElementNS(SVG_NS, \"feColorMatrix\");\n    feColorMatrix.setAttribute(\"type\", \"matrix\");\n    feColorMatrix.setAttribute(\"values\", \"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0\");\n    filter.append(feColorMatrix);\n  }\n  #addGrayConversion(filter) {\n    const feColorMatrix = this.#document.createElementNS(SVG_NS, \"feColorMatrix\");\n    feColorMatrix.setAttribute(\"type\", \"matrix\");\n    feColorMatrix.setAttribute(\"values\", \"0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0\");\n    filter.append(feColorMatrix);\n  }\n  #createFilter(id) {\n    const filter = this.#document.createElementNS(SVG_NS, \"filter\");\n    filter.setAttribute(\"color-interpolation-filters\", \"sRGB\");\n    filter.setAttribute(\"id\", id);\n    this.#defs.append(filter);\n    return filter;\n  }\n  #appendFeFunc(feComponentTransfer, func, table) {\n    const feFunc = this.#document.createElementNS(SVG_NS, func);\n    feFunc.setAttribute(\"type\", \"discrete\");\n    feFunc.setAttribute(\"tableValues\", table);\n    feComponentTransfer.append(feFunc);\n  }\n  #addTransferMapConversion(rTable, gTable, bTable, filter) {\n    const feComponentTransfer = this.#document.createElementNS(SVG_NS, \"feComponentTransfer\");\n    filter.append(feComponentTransfer);\n    this.#appendFeFunc(feComponentTransfer, \"feFuncR\", rTable);\n    this.#appendFeFunc(feComponentTransfer, \"feFuncG\", gTable);\n    this.#appendFeFunc(feComponentTransfer, \"feFuncB\", bTable);\n  }\n  #addTransferMapAlphaConversion(aTable, filter) {\n    const feComponentTransfer = this.#document.createElementNS(SVG_NS, \"feComponentTransfer\");\n    filter.append(feComponentTransfer);\n    this.#appendFeFunc(feComponentTransfer, \"feFuncA\", aTable);\n  }\n  #getRGB(color) {\n    this.#defs.style.color = color;\n    return getRGB(getComputedStyle(this.#defs).getPropertyValue(\"color\"));\n  }\n}\n\n;// ./src/display/standard_fontdata_factory.js\n\n\nclass BaseStandardFontDataFactory {\n  constructor({\n    baseUrl = null\n  }) {\n    this.baseUrl = baseUrl;\n  }\n  async fetch({\n    filename\n  }) {\n    if (!this.baseUrl) {\n      throw new Error(\"Ensure that the `standardFontDataUrl` API parameter is provided.\");\n    }\n    if (!filename) {\n      throw new Error(\"Font filename must be specified.\");\n    }\n    const url = `${this.baseUrl}${filename}`;\n    return this._fetch(url).catch(reason => {\n      throw new Error(`Unable to load font data at: ${url}`);\n    });\n  }\n  async _fetch(url) {\n    unreachable(\"Abstract method `_fetch` called.\");\n  }\n}\nclass DOMStandardFontDataFactory extends BaseStandardFontDataFactory {\n  async _fetch(url) {\n    const data = await fetchData(url, \"arraybuffer\");\n    return new Uint8Array(data);\n  }\n}\n\n;// ./src/display/wasm_factory.js\n\n\nclass BaseWasmFactory {\n  constructor({\n    baseUrl = null\n  }) {\n    this.baseUrl = baseUrl;\n  }\n  async fetch({\n    filename\n  }) {\n    if (!this.baseUrl) {\n      throw new Error(\"Ensure that the `wasmUrl` API parameter is provided.\");\n    }\n    if (!filename) {\n      throw new Error(\"Wasm filename must be specified.\");\n    }\n    const url = `${this.baseUrl}${filename}`;\n    return this._fetch(url).catch(reason => {\n      throw new Error(`Unable to load wasm data at: ${url}`);\n    });\n  }\n  async _fetch(url) {\n    unreachable(\"Abstract method `_fetch` called.\");\n  }\n}\nclass DOMWasmFactory extends BaseWasmFactory {\n  async _fetch(url) {\n    const data = await fetchData(url, \"arraybuffer\");\n    return new Uint8Array(data);\n  }\n}\n\n;// ./src/display/node_utils.js\n\n\n\n\n\n\nif (isNodeJS) {\n  warn(\"Please use the `legacy` build in Node.js environments.\");\n}\nasync function node_utils_fetchData(url) {\n  const fs = process.getBuiltinModule(\"fs\");\n  const data = await fs.promises.readFile(url);\n  return new Uint8Array(data);\n}\nclass NodeFilterFactory extends BaseFilterFactory {}\nclass NodeCanvasFactory extends BaseCanvasFactory {\n  _createCanvas(width, height) {\n    const require = process.getBuiltinModule(\"module\").createRequire(import.meta.url);\n    const canvas = require(\"@napi-rs/canvas\");\n    return canvas.createCanvas(width, height);\n  }\n}\nclass NodeCMapReaderFactory extends BaseCMapReaderFactory {\n  async _fetch(url) {\n    return node_utils_fetchData(url);\n  }\n}\nclass NodeStandardFontDataFactory extends BaseStandardFontDataFactory {\n  async _fetch(url) {\n    return node_utils_fetchData(url);\n  }\n}\nclass NodeWasmFactory extends BaseWasmFactory {\n  async _fetch(url) {\n    return node_utils_fetchData(url);\n  }\n}\n\n;// ./src/display/canvas_dependency_tracker.js\n\nconst FORCED_DEPENDENCY_LABEL = \"__forcedDependency\";\nconst {\n  floor,\n  ceil\n} = Math;\nfunction expandBBox(array, index, minX, minY, maxX, maxY) {\n  array[index * 4 + 0] = Math.min(array[index * 4 + 0], minX);\n  array[index * 4 + 1] = Math.min(array[index * 4 + 1], minY);\n  array[index * 4 + 2] = Math.max(array[index * 4 + 2], maxX);\n  array[index * 4 + 3] = Math.max(array[index * 4 + 3], maxY);\n}\nconst EMPTY_BBOX = new Uint32Array(new Uint8Array([255, 255, 0, 0]).buffer)[0];\nclass BBoxReader {\n  #bboxes;\n  #coords;\n  constructor(bboxes, coords) {\n    this.#bboxes = bboxes;\n    this.#coords = coords;\n  }\n  get length() {\n    return this.#bboxes.length;\n  }\n  isEmpty(i) {\n    return this.#bboxes[i] === EMPTY_BBOX;\n  }\n  minX(i) {\n    return this.#coords[i * 4 + 0] / 256;\n  }\n  minY(i) {\n    return this.#coords[i * 4 + 1] / 256;\n  }\n  maxX(i) {\n    return (this.#coords[i * 4 + 2] + 1) / 256;\n  }\n  maxY(i) {\n    return (this.#coords[i * 4 + 3] + 1) / 256;\n  }\n}\nconst ensureDebugMetadata = (map, key) => {\n  if (!map) {\n    return undefined;\n  }\n  let value = map.get(key);\n  if (!value) {\n    value = {\n      dependencies: new Set(),\n      isRenderingOperation: false\n    };\n    map.set(key, value);\n  }\n  return value;\n};\nclass CanvasDependencyTracker {\n  #simple = {\n    __proto__: null\n  };\n  #incremental = {\n    __proto__: null,\n    transform: [],\n    moveText: [],\n    sameLineText: [],\n    [FORCED_DEPENDENCY_LABEL]: []\n  };\n  #namedDependencies = new Map();\n  #savesStack = [];\n  #markedContentStack = [];\n  #baseTransformStack = [[1, 0, 0, 1, 0, 0]];\n  #clipBox = [-Infinity, -Infinity, Infinity, Infinity];\n  #pendingBBox = new Float64Array([Infinity, Infinity, -Infinity, -Infinity]);\n  #pendingBBoxIdx = -1;\n  #pendingDependencies = new Set();\n  #operations = new Map();\n  #fontBBoxTrustworthy = new Map();\n  #canvasWidth;\n  #canvasHeight;\n  #bboxesCoords;\n  #bboxes;\n  #debugMetadata;\n  constructor(canvas, operationsCount, recordDebugMetadata = false) {\n    this.#canvasWidth = canvas.width;\n    this.#canvasHeight = canvas.height;\n    this.#initializeBBoxes(operationsCount);\n    if (recordDebugMetadata) {\n      this.#debugMetadata = new Map();\n    }\n  }\n  growOperationsCount(operationsCount) {\n    if (operationsCount >= this.#bboxes.length) {\n      this.#initializeBBoxes(operationsCount, this.#bboxes);\n    }\n  }\n  #initializeBBoxes(operationsCount, oldBBoxes) {\n    const buffer = new ArrayBuffer(operationsCount * 4);\n    this.#bboxesCoords = new Uint8ClampedArray(buffer);\n    this.#bboxes = new Uint32Array(buffer);\n    if (oldBBoxes && oldBBoxes.length > 0) {\n      this.#bboxes.set(oldBBoxes);\n      this.#bboxes.fill(EMPTY_BBOX, oldBBoxes.length);\n    } else {\n      this.#bboxes.fill(EMPTY_BBOX);\n    }\n  }\n  save(opIdx) {\n    this.#simple = {\n      __proto__: this.#simple\n    };\n    this.#incremental = {\n      __proto__: this.#incremental,\n      transform: {\n        __proto__: this.#incremental.transform\n      },\n      moveText: {\n        __proto__: this.#incremental.moveText\n      },\n      sameLineText: {\n        __proto__: this.#incremental.sameLineText\n      },\n      [FORCED_DEPENDENCY_LABEL]: {\n        __proto__: this.#incremental[FORCED_DEPENDENCY_LABEL]\n      }\n    };\n    this.#clipBox = {\n      __proto__: this.#clipBox\n    };\n    this.#savesStack.push(opIdx);\n    return this;\n  }\n  restore(opIdx) {\n    const previous = Object.getPrototypeOf(this.#simple);\n    if (previous === null) {\n      return this;\n    }\n    this.#simple = previous;\n    this.#incremental = Object.getPrototypeOf(this.#incremental);\n    this.#clipBox = Object.getPrototypeOf(this.#clipBox);\n    const lastSave = this.#savesStack.pop();\n    if (lastSave !== undefined) {\n      ensureDebugMetadata(this.#debugMetadata, opIdx)?.dependencies.add(lastSave);\n      this.#bboxes[opIdx] = this.#bboxes[lastSave];\n    }\n    return this;\n  }\n  recordOpenMarker(idx) {\n    this.#savesStack.push(idx);\n    return this;\n  }\n  getOpenMarker() {\n    if (this.#savesStack.length === 0) {\n      return null;\n    }\n    return this.#savesStack.at(-1);\n  }\n  recordCloseMarker(opIdx) {\n    const lastSave = this.#savesStack.pop();\n    if (lastSave !== undefined) {\n      ensureDebugMetadata(this.#debugMetadata, opIdx)?.dependencies.add(lastSave);\n      this.#bboxes[opIdx] = this.#bboxes[lastSave];\n    }\n    return this;\n  }\n  beginMarkedContent(opIdx) {\n    this.#markedContentStack.push(opIdx);\n    return this;\n  }\n  endMarkedContent(opIdx) {\n    const lastSave = this.#markedContentStack.pop();\n    if (lastSave !== undefined) {\n      ensureDebugMetadata(this.#debugMetadata, opIdx)?.dependencies.add(lastSave);\n      this.#bboxes[opIdx] = this.#bboxes[lastSave];\n    }\n    return this;\n  }\n  pushBaseTransform(ctx) {\n    this.#baseTransformStack.push(Util.multiplyByDOMMatrix(this.#baseTransformStack.at(-1), ctx.getTransform()));\n    return this;\n  }\n  popBaseTransform() {\n    if (this.#baseTransformStack.length > 1) {\n      this.#baseTransformStack.pop();\n    }\n    return this;\n  }\n  recordSimpleData(name, idx) {\n    this.#simple[name] = idx;\n    return this;\n  }\n  recordIncrementalData(name, idx) {\n    this.#incremental[name].push(idx);\n    return this;\n  }\n  resetIncrementalData(name, idx) {\n    this.#incremental[name].length = 0;\n    return this;\n  }\n  recordNamedData(name, idx) {\n    this.#namedDependencies.set(name, idx);\n    return this;\n  }\n  recordSimpleDataFromNamed(name, depName, fallbackIdx) {\n    this.#simple[name] = this.#namedDependencies.get(depName) ?? fallbackIdx;\n  }\n  recordFutureForcedDependency(name, idx) {\n    this.recordIncrementalData(FORCED_DEPENDENCY_LABEL, idx);\n    return this;\n  }\n  inheritSimpleDataAsFutureForcedDependencies(names) {\n    for (const name of names) {\n      if (name in this.#simple) {\n        this.recordFutureForcedDependency(name, this.#simple[name]);\n      }\n    }\n    return this;\n  }\n  inheritPendingDependenciesAsFutureForcedDependencies() {\n    for (const dep of this.#pendingDependencies) {\n      this.recordFutureForcedDependency(FORCED_DEPENDENCY_LABEL, dep);\n    }\n    return this;\n  }\n  resetBBox(idx) {\n    if (this.#pendingBBoxIdx !== idx) {\n      this.#pendingBBoxIdx = idx;\n      this.#pendingBBox[0] = Infinity;\n      this.#pendingBBox[1] = Infinity;\n      this.#pendingBBox[2] = -Infinity;\n      this.#pendingBBox[3] = -Infinity;\n    }\n    return this;\n  }\n  recordClipBox(idx, ctx, minX, maxX, minY, maxY) {\n    const transform = Util.multiplyByDOMMatrix(this.#baseTransformStack.at(-1), ctx.getTransform());\n    const clipBox = [Infinity, Infinity, -Infinity, -Infinity];\n    Util.axialAlignedBoundingBox([minX, minY, maxX, maxY], transform, clipBox);\n    const intersection = Util.intersect(this.#clipBox, clipBox);\n    if (intersection) {\n      this.#clipBox[0] = intersection[0];\n      this.#clipBox[1] = intersection[1];\n      this.#clipBox[2] = intersection[2];\n      this.#clipBox[3] = intersection[3];\n    } else {\n      this.#clipBox[0] = this.#clipBox[1] = Infinity;\n      this.#clipBox[2] = this.#clipBox[3] = -Infinity;\n    }\n    return this;\n  }\n  recordBBox(idx, ctx, minX, maxX, minY, maxY) {\n    const clipBox = this.#clipBox;\n    if (clipBox[0] === Infinity) {\n      return this;\n    }\n    const transform = Util.multiplyByDOMMatrix(this.#baseTransformStack.at(-1), ctx.getTransform());\n    if (clipBox[0] === -Infinity) {\n      Util.axialAlignedBoundingBox([minX, minY, maxX, maxY], transform, this.#pendingBBox);\n      return this;\n    }\n    const bbox = [Infinity, Infinity, -Infinity, -Infinity];\n    Util.axialAlignedBoundingBox([minX, minY, maxX, maxY], transform, bbox);\n    this.#pendingBBox[0] = Math.min(this.#pendingBBox[0], Math.max(bbox[0], clipBox[0]));\n    this.#pendingBBox[1] = Math.min(this.#pendingBBox[1], Math.max(bbox[1], clipBox[1]));\n    this.#pendingBBox[2] = Math.max(this.#pendingBBox[2], Math.min(bbox[2], clipBox[2]));\n    this.#pendingBBox[3] = Math.max(this.#pendingBBox[3], Math.min(bbox[3], clipBox[3]));\n    return this;\n  }\n  recordCharacterBBox(idx, ctx, font, scale = 1, x = 0, y = 0, getMeasure) {\n    const fontBBox = font.bbox;\n    let isBBoxTrustworthy;\n    let computedBBox;\n    if (fontBBox) {\n      isBBoxTrustworthy = fontBBox[2] !== fontBBox[0] && fontBBox[3] !== fontBBox[1] && this.#fontBBoxTrustworthy.get(font);\n      if (isBBoxTrustworthy !== false) {\n        computedBBox = [0, 0, 0, 0];\n        Util.axialAlignedBoundingBox(fontBBox, font.fontMatrix, computedBBox);\n        if (scale !== 1 || x !== 0 || y !== 0) {\n          Util.scaleMinMax([scale, 0, 0, -scale, x, y], computedBBox);\n        }\n        if (isBBoxTrustworthy) {\n          return this.recordBBox(idx, ctx, computedBBox[0], computedBBox[2], computedBBox[1], computedBBox[3]);\n        }\n      }\n    }\n    if (!getMeasure) {\n      return this.recordFullPageBBox(idx);\n    }\n    const measure = getMeasure();\n    if (fontBBox && computedBBox && isBBoxTrustworthy === undefined) {\n      isBBoxTrustworthy = computedBBox[0] <= x - measure.actualBoundingBoxLeft && computedBBox[2] >= x + measure.actualBoundingBoxRight && computedBBox[1] <= y - measure.actualBoundingBoxAscent && computedBBox[3] >= y + measure.actualBoundingBoxDescent;\n      this.#fontBBoxTrustworthy.set(font, isBBoxTrustworthy);\n      if (isBBoxTrustworthy) {\n        return this.recordBBox(idx, ctx, computedBBox[0], computedBBox[2], computedBBox[1], computedBBox[3]);\n      }\n    }\n    return this.recordBBox(idx, ctx, x - measure.actualBoundingBoxLeft, x + measure.actualBoundingBoxRight, y - measure.actualBoundingBoxAscent, y + measure.actualBoundingBoxDescent);\n  }\n  recordFullPageBBox(idx) {\n    this.#pendingBBox[0] = Math.max(0, this.#clipBox[0]);\n    this.#pendingBBox[1] = Math.max(0, this.#clipBox[1]);\n    this.#pendingBBox[2] = Math.min(this.#canvasWidth, this.#clipBox[2]);\n    this.#pendingBBox[3] = Math.min(this.#canvasHeight, this.#clipBox[3]);\n    return this;\n  }\n  getSimpleIndex(dependencyName) {\n    return this.#simple[dependencyName];\n  }\n  recordDependencies(idx, dependencyNames) {\n    const pendingDependencies = this.#pendingDependencies;\n    const simple = this.#simple;\n    const incremental = this.#incremental;\n    for (const name of dependencyNames) {\n      if (name in this.#simple) {\n        pendingDependencies.add(simple[name]);\n      } else if (name in incremental) {\n        incremental[name].forEach(pendingDependencies.add, pendingDependencies);\n      }\n    }\n    return this;\n  }\n  recordNamedDependency(idx, name) {\n    if (this.#namedDependencies.has(name)) {\n      this.#pendingDependencies.add(this.#namedDependencies.get(name));\n    }\n    return this;\n  }\n  recordOperation(idx, preserve = false) {\n    this.recordDependencies(idx, [FORCED_DEPENDENCY_LABEL]);\n    if (this.#debugMetadata) {\n      const metadata = ensureDebugMetadata(this.#debugMetadata, idx);\n      const {\n        dependencies\n      } = metadata;\n      this.#pendingDependencies.forEach(dependencies.add, dependencies);\n      this.#savesStack.forEach(dependencies.add, dependencies);\n      this.#markedContentStack.forEach(dependencies.add, dependencies);\n      dependencies.delete(idx);\n      metadata.isRenderingOperation = true;\n    }\n    if (this.#pendingBBoxIdx === idx) {\n      const minX = floor(this.#pendingBBox[0] * 256 / this.#canvasWidth);\n      const minY = floor(this.#pendingBBox[1] * 256 / this.#canvasHeight);\n      const maxX = ceil(this.#pendingBBox[2] * 256 / this.#canvasWidth);\n      const maxY = ceil(this.#pendingBBox[3] * 256 / this.#canvasHeight);\n      expandBBox(this.#bboxesCoords, idx, minX, minY, maxX, maxY);\n      for (const depIdx of this.#pendingDependencies) {\n        if (depIdx !== idx) {\n          expandBBox(this.#bboxesCoords, depIdx, minX, minY, maxX, maxY);\n        }\n      }\n      for (const saveIdx of this.#savesStack) {\n        if (saveIdx !== idx) {\n          expandBBox(this.#bboxesCoords, saveIdx, minX, minY, maxX, maxY);\n        }\n      }\n      for (const saveIdx of this.#markedContentStack) {\n        if (saveIdx !== idx) {\n          expandBBox(this.#bboxesCoords, saveIdx, minX, minY, maxX, maxY);\n        }\n      }\n      if (!preserve) {\n        this.#pendingDependencies.clear();\n        this.#pendingBBoxIdx = -1;\n      }\n    }\n    return this;\n  }\n  recordShowTextOperation(idx, preserve = false) {\n    const deps = Array.from(this.#pendingDependencies);\n    this.recordOperation(idx, preserve);\n    this.recordIncrementalData(\"sameLineText\", idx);\n    for (const dep of deps) {\n      this.recordIncrementalData(\"sameLineText\", dep);\n    }\n    return this;\n  }\n  bboxToClipBoxDropOperation(idx, preserve = false) {\n    if (this.#pendingBBoxIdx === idx) {\n      this.#pendingBBoxIdx = -1;\n      this.#clipBox[0] = Math.max(this.#clipBox[0], this.#pendingBBox[0]);\n      this.#clipBox[1] = Math.max(this.#clipBox[1], this.#pendingBBox[1]);\n      this.#clipBox[2] = Math.min(this.#clipBox[2], this.#pendingBBox[2]);\n      this.#clipBox[3] = Math.min(this.#clipBox[3], this.#pendingBBox[3]);\n      if (!preserve) {\n        this.#pendingDependencies.clear();\n      }\n    }\n    return this;\n  }\n  _takePendingDependencies() {\n    const pendingDependencies = this.#pendingDependencies;\n    this.#pendingDependencies = new Set();\n    return pendingDependencies;\n  }\n  _extractOperation(idx) {\n    const operation = this.#operations.get(idx);\n    this.#operations.delete(idx);\n    return operation;\n  }\n  _pushPendingDependencies(dependencies) {\n    for (const dep of dependencies) {\n      this.#pendingDependencies.add(dep);\n    }\n  }\n  take() {\n    this.#fontBBoxTrustworthy.clear();\n    return new BBoxReader(this.#bboxes, this.#bboxesCoords);\n  }\n  takeDebugMetadata() {\n    return this.#debugMetadata;\n  }\n}\nclass CanvasNestedDependencyTracker {\n  #dependencyTracker;\n  #opIdx;\n  #ignoreBBoxes;\n  #nestingLevel = 0;\n  #savesLevel = 0;\n  constructor(dependencyTracker, opIdx, ignoreBBoxes) {\n    if (dependencyTracker instanceof CanvasNestedDependencyTracker && dependencyTracker.#ignoreBBoxes === !!ignoreBBoxes) {\n      return dependencyTracker;\n    }\n    this.#dependencyTracker = dependencyTracker;\n    this.#opIdx = opIdx;\n    this.#ignoreBBoxes = !!ignoreBBoxes;\n  }\n  growOperationsCount() {\n    throw new Error(\"Unreachable\");\n  }\n  save(opIdx) {\n    this.#savesLevel++;\n    this.#dependencyTracker.save(this.#opIdx);\n    return this;\n  }\n  restore(opIdx) {\n    if (this.#savesLevel > 0) {\n      this.#dependencyTracker.restore(this.#opIdx);\n      this.#savesLevel--;\n    }\n    return this;\n  }\n  recordOpenMarker(idx) {\n    this.#nestingLevel++;\n    return this;\n  }\n  getOpenMarker() {\n    return this.#nestingLevel > 0 ? this.#opIdx : this.#dependencyTracker.getOpenMarker();\n  }\n  recordCloseMarker(idx) {\n    this.#nestingLevel--;\n    return this;\n  }\n  beginMarkedContent(opIdx) {\n    return this;\n  }\n  endMarkedContent(opIdx) {\n    return this;\n  }\n  pushBaseTransform(ctx) {\n    this.#dependencyTracker.pushBaseTransform(ctx);\n    return this;\n  }\n  popBaseTransform() {\n    this.#dependencyTracker.popBaseTransform();\n    return this;\n  }\n  recordSimpleData(name, idx) {\n    this.#dependencyTracker.recordSimpleData(name, this.#opIdx);\n    return this;\n  }\n  recordIncrementalData(name, idx) {\n    this.#dependencyTracker.recordIncrementalData(name, this.#opIdx);\n    return this;\n  }\n  resetIncrementalData(name, idx) {\n    this.#dependencyTracker.resetIncrementalData(name, this.#opIdx);\n    return this;\n  }\n  recordNamedData(name, idx) {\n    return this;\n  }\n  recordSimpleDataFromNamed(name, depName, fallbackIdx) {\n    this.#dependencyTracker.recordSimpleDataFromNamed(name, depName, this.#opIdx);\n    return this;\n  }\n  recordFutureForcedDependency(name, idx) {\n    this.#dependencyTracker.recordFutureForcedDependency(name, this.#opIdx);\n    return this;\n  }\n  inheritSimpleDataAsFutureForcedDependencies(names) {\n    this.#dependencyTracker.inheritSimpleDataAsFutureForcedDependencies(names);\n    return this;\n  }\n  inheritPendingDependenciesAsFutureForcedDependencies() {\n    this.#dependencyTracker.inheritPendingDependenciesAsFutureForcedDependencies();\n    return this;\n  }\n  resetBBox(idx) {\n    if (!this.#ignoreBBoxes) {\n      this.#dependencyTracker.resetBBox(this.#opIdx);\n    }\n    return this;\n  }\n  recordClipBox(idx, ctx, minX, maxX, minY, maxY) {\n    if (!this.#ignoreBBoxes) {\n      this.#dependencyTracker.recordClipBox(this.#opIdx, ctx, minX, maxX, minY, maxY);\n    }\n    return this;\n  }\n  recordBBox(idx, ctx, minX, maxX, minY, maxY) {\n    if (!this.#ignoreBBoxes) {\n      this.#dependencyTracker.recordBBox(this.#opIdx, ctx, minX, maxX, minY, maxY);\n    }\n    return this;\n  }\n  recordCharacterBBox(idx, ctx, font, scale, x, y, getMeasure) {\n    if (!this.#ignoreBBoxes) {\n      this.#dependencyTracker.recordCharacterBBox(this.#opIdx, ctx, font, scale, x, y, getMeasure);\n    }\n    return this;\n  }\n  recordFullPageBBox(idx) {\n    if (!this.#ignoreBBoxes) {\n      this.#dependencyTracker.recordFullPageBBox(this.#opIdx);\n    }\n    return this;\n  }\n  getSimpleIndex(dependencyName) {\n    return this.#dependencyTracker.getSimpleIndex(dependencyName);\n  }\n  recordDependencies(idx, dependencyNames) {\n    this.#dependencyTracker.recordDependencies(this.#opIdx, dependencyNames);\n    return this;\n  }\n  recordNamedDependency(idx, name) {\n    this.#dependencyTracker.recordNamedDependency(this.#opIdx, name);\n    return this;\n  }\n  recordOperation(idx) {\n    this.#dependencyTracker.recordOperation(this.#opIdx, true);\n    return this;\n  }\n  recordShowTextOperation(idx) {\n    this.#dependencyTracker.recordShowTextOperation(this.#opIdx, true);\n    return this;\n  }\n  bboxToClipBoxDropOperation(idx) {\n    if (!this.#ignoreBBoxes) {\n      this.#dependencyTracker.bboxToClipBoxDropOperation(this.#opIdx, true);\n    }\n    return this;\n  }\n  take() {\n    throw new Error(\"Unreachable\");\n  }\n  takeDebugMetadata() {\n    throw new Error(\"Unreachable\");\n  }\n}\nconst Dependencies = {\n  stroke: [\"path\", \"transform\", \"filter\", \"strokeColor\", \"strokeAlpha\", \"lineWidth\", \"lineCap\", \"lineJoin\", \"miterLimit\", \"dash\"],\n  fill: [\"path\", \"transform\", \"filter\", \"fillColor\", \"fillAlpha\", \"globalCompositeOperation\", \"SMask\"],\n  imageXObject: [\"transform\", \"SMask\", \"filter\", \"fillAlpha\", \"strokeAlpha\", \"globalCompositeOperation\"],\n  rawFillPath: [\"filter\", \"fillColor\", \"fillAlpha\"],\n  showText: [\"transform\", \"leading\", \"charSpacing\", \"wordSpacing\", \"hScale\", \"textRise\", \"moveText\", \"textMatrix\", \"font\", \"fontObj\", \"filter\", \"fillColor\", \"textRenderingMode\", \"SMask\", \"fillAlpha\", \"strokeAlpha\", \"globalCompositeOperation\", \"sameLineText\"],\n  transform: [\"transform\"],\n  transformAndFill: [\"transform\", \"fillColor\"]\n};\n\n;// ./src/display/pattern_helper.js\n\n\nconst PathType = {\n  FILL: \"Fill\",\n  STROKE: \"Stroke\",\n  SHADING: \"Shading\"\n};\nfunction applyBoundingBox(ctx, bbox) {\n  if (!bbox) {\n    return;\n  }\n  const width = bbox[2] - bbox[0];\n  const height = bbox[3] - bbox[1];\n  const region = new Path2D();\n  region.rect(bbox[0], bbox[1], width, height);\n  ctx.clip(region);\n}\nclass BaseShadingPattern {\n  isModifyingCurrentTransform() {\n    return false;\n  }\n  getPattern() {\n    unreachable(\"Abstract method `getPattern` called.\");\n  }\n}\nclass RadialAxialShadingPattern extends BaseShadingPattern {\n  constructor(IR) {\n    super();\n    this._type = IR[1];\n    this._bbox = IR[2];\n    this._colorStops = IR[3];\n    this._p0 = IR[4];\n    this._p1 = IR[5];\n    this._r0 = IR[6];\n    this._r1 = IR[7];\n    this.matrix = null;\n  }\n  isOriginBased() {\n    return this._p0[0] === 0 && this._p0[1] === 0 && (!this.isRadial() || this._p1[0] === 0 && this._p1[1] === 0);\n  }\n  isRadial() {\n    return this._type === \"radial\";\n  }\n  _createGradient(ctx, transform = null) {\n    let grad;\n    let firstPoint = this._p0;\n    let secondPoint = this._p1;\n    if (transform) {\n      firstPoint = firstPoint.slice();\n      secondPoint = secondPoint.slice();\n      Util.applyTransform(firstPoint, transform);\n      Util.applyTransform(secondPoint, transform);\n    }\n    if (this._type === \"axial\") {\n      grad = ctx.createLinearGradient(firstPoint[0], firstPoint[1], secondPoint[0], secondPoint[1]);\n    } else if (this._type === \"radial\") {\n      let r0 = this._r0;\n      let r1 = this._r1;\n      if (transform) {\n        const scale = new Float32Array(2);\n        Util.singularValueDecompose2dScale(transform, scale);\n        r0 *= scale[0];\n        r1 *= scale[0];\n      }\n      grad = ctx.createRadialGradient(firstPoint[0], firstPoint[1], r0, secondPoint[0], secondPoint[1], r1);\n    }\n    for (const colorStop of this._colorStops) {\n      grad.addColorStop(colorStop[0], colorStop[1]);\n    }\n    return grad;\n  }\n  getPattern(ctx, owner, inverse, pathType) {\n    let pattern;\n    if (pathType === PathType.STROKE || pathType === PathType.FILL) {\n      if (this.isOriginBased()) {\n        let transf = Util.transform(inverse, owner.baseTransform);\n        if (this.matrix) {\n          transf = Util.transform(transf, this.matrix);\n        }\n        const precision = 1e-3;\n        const n1 = Math.hypot(transf[0], transf[1]);\n        const n2 = Math.hypot(transf[2], transf[3]);\n        const ps = (transf[0] * transf[2] + transf[1] * transf[3]) / (n1 * n2);\n        if (Math.abs(ps) < precision) {\n          if (this.isRadial()) {\n            if (Math.abs(n1 - n2) < precision) {\n              return this._createGradient(ctx, transf);\n            }\n          } else {\n            return this._createGradient(ctx, transf);\n          }\n        }\n      }\n      const ownerBBox = owner.current.getClippedPathBoundingBox(pathType, getCurrentTransform(ctx)) || [0, 0, 0, 0];\n      const width = Math.ceil(ownerBBox[2] - ownerBBox[0]) || 1;\n      const height = Math.ceil(ownerBBox[3] - ownerBBox[1]) || 1;\n      const tmpCanvas = owner.cachedCanvases.getCanvas(\"pattern\", width, height);\n      const tmpCtx = tmpCanvas.context;\n      tmpCtx.clearRect(0, 0, tmpCtx.canvas.width, tmpCtx.canvas.height);\n      tmpCtx.beginPath();\n      tmpCtx.rect(0, 0, tmpCtx.canvas.width, tmpCtx.canvas.height);\n      tmpCtx.translate(-ownerBBox[0], -ownerBBox[1]);\n      inverse = Util.transform(inverse, [1, 0, 0, 1, ownerBBox[0], ownerBBox[1]]);\n      tmpCtx.transform(...owner.baseTransform);\n      if (this.matrix) {\n        tmpCtx.transform(...this.matrix);\n      }\n      applyBoundingBox(tmpCtx, this._bbox);\n      tmpCtx.fillStyle = this._createGradient(tmpCtx);\n      tmpCtx.fill();\n      pattern = ctx.createPattern(tmpCanvas.canvas, \"no-repeat\");\n      const domMatrix = new DOMMatrix(inverse);\n      pattern.setTransform(domMatrix);\n    } else {\n      applyBoundingBox(ctx, this._bbox);\n      pattern = this._createGradient(ctx);\n    }\n    return pattern;\n  }\n}\nfunction drawTriangle(data, context, p1, p2, p3, c1, c2, c3) {\n  const coords = context.coords,\n    colors = context.colors;\n  const bytes = data.data,\n    rowSize = data.width * 4;\n  let tmp;\n  if (coords[p1 + 1] > coords[p2 + 1]) {\n    tmp = p1;\n    p1 = p2;\n    p2 = tmp;\n    tmp = c1;\n    c1 = c2;\n    c2 = tmp;\n  }\n  if (coords[p2 + 1] > coords[p3 + 1]) {\n    tmp = p2;\n    p2 = p3;\n    p3 = tmp;\n    tmp = c2;\n    c2 = c3;\n    c3 = tmp;\n  }\n  if (coords[p1 + 1] > coords[p2 + 1]) {\n    tmp = p1;\n    p1 = p2;\n    p2 = tmp;\n    tmp = c1;\n    c1 = c2;\n    c2 = tmp;\n  }\n  const x1 = (coords[p1] + context.offsetX) * context.scaleX;\n  const y1 = (coords[p1 + 1] + context.offsetY) * context.scaleY;\n  const x2 = (coords[p2] + context.offsetX) * context.scaleX;\n  const y2 = (coords[p2 + 1] + context.offsetY) * context.scaleY;\n  const x3 = (coords[p3] + context.offsetX) * context.scaleX;\n  const y3 = (coords[p3 + 1] + context.offsetY) * context.scaleY;\n  if (y1 >= y3) {\n    return;\n  }\n  const c1r = colors[c1],\n    c1g = colors[c1 + 1],\n    c1b = colors[c1 + 2];\n  const c2r = colors[c2],\n    c2g = colors[c2 + 1],\n    c2b = colors[c2 + 2];\n  const c3r = colors[c3],\n    c3g = colors[c3 + 1],\n    c3b = colors[c3 + 2];\n  const minY = Math.round(y1),\n    maxY = Math.round(y3);\n  let xa, car, cag, cab;\n  let xb, cbr, cbg, cbb;\n  for (let y = minY; y <= maxY; y++) {\n    if (y < y2) {\n      const k = y < y1 ? 0 : (y1 - y) / (y1 - y2);\n      xa = x1 - (x1 - x2) * k;\n      car = c1r - (c1r - c2r) * k;\n      cag = c1g - (c1g - c2g) * k;\n      cab = c1b - (c1b - c2b) * k;\n    } else {\n      let k;\n      if (y > y3) {\n        k = 1;\n      } else if (y2 === y3) {\n        k = 0;\n      } else {\n        k = (y2 - y) / (y2 - y3);\n      }\n      xa = x2 - (x2 - x3) * k;\n      car = c2r - (c2r - c3r) * k;\n      cag = c2g - (c2g - c3g) * k;\n      cab = c2b - (c2b - c3b) * k;\n    }\n    let k;\n    if (y < y1) {\n      k = 0;\n    } else if (y > y3) {\n      k = 1;\n    } else {\n      k = (y1 - y) / (y1 - y3);\n    }\n    xb = x1 - (x1 - x3) * k;\n    cbr = c1r - (c1r - c3r) * k;\n    cbg = c1g - (c1g - c3g) * k;\n    cbb = c1b - (c1b - c3b) * k;\n    const x1_ = Math.round(Math.min(xa, xb));\n    const x2_ = Math.round(Math.max(xa, xb));\n    let j = rowSize * y + x1_ * 4;\n    for (let x = x1_; x <= x2_; x++) {\n      k = (xa - x) / (xa - xb);\n      if (k < 0) {\n        k = 0;\n      } else if (k > 1) {\n        k = 1;\n      }\n      bytes[j++] = car - (car - cbr) * k | 0;\n      bytes[j++] = cag - (cag - cbg) * k | 0;\n      bytes[j++] = cab - (cab - cbb) * k | 0;\n      bytes[j++] = 255;\n    }\n  }\n}\nfunction drawFigure(data, figure, context) {\n  const ps = figure.coords;\n  const cs = figure.colors;\n  let i, ii;\n  switch (figure.type) {\n    case MeshFigureType.LATTICE:\n      const verticesPerRow = figure.verticesPerRow;\n      const rows = Math.floor(ps.length / verticesPerRow) - 1;\n      const cols = verticesPerRow - 1;\n      for (i = 0; i < rows; i++) {\n        let q = i * verticesPerRow;\n        for (let j = 0; j < cols; j++, q++) {\n          drawTriangle(data, context, ps[q], ps[q + 1], ps[q + verticesPerRow], cs[q], cs[q + 1], cs[q + verticesPerRow]);\n          drawTriangle(data, context, ps[q + verticesPerRow + 1], ps[q + 1], ps[q + verticesPerRow], cs[q + verticesPerRow + 1], cs[q + 1], cs[q + verticesPerRow]);\n        }\n      }\n      break;\n    case MeshFigureType.TRIANGLES:\n      for (i = 0, ii = ps.length; i < ii; i += 3) {\n        drawTriangle(data, context, ps[i], ps[i + 1], ps[i + 2], cs[i], cs[i + 1], cs[i + 2]);\n      }\n      break;\n    default:\n      throw new Error(\"illegal figure\");\n  }\n}\nclass MeshShadingPattern extends BaseShadingPattern {\n  constructor(IR) {\n    super();\n    this._coords = IR[2];\n    this._colors = IR[3];\n    this._figures = IR[4];\n    this._bounds = IR[5];\n    this._bbox = IR[6];\n    this._background = IR[7];\n    this.matrix = null;\n  }\n  _createMeshCanvas(combinedScale, backgroundColor, cachedCanvases) {\n    const EXPECTED_SCALE = 1.1;\n    const MAX_PATTERN_SIZE = 3000;\n    const BORDER_SIZE = 2;\n    const offsetX = Math.floor(this._bounds[0]);\n    const offsetY = Math.floor(this._bounds[1]);\n    const boundsWidth = Math.ceil(this._bounds[2]) - offsetX;\n    const boundsHeight = Math.ceil(this._bounds[3]) - offsetY;\n    const width = Math.min(Math.ceil(Math.abs(boundsWidth * combinedScale[0] * EXPECTED_SCALE)), MAX_PATTERN_SIZE);\n    const height = Math.min(Math.ceil(Math.abs(boundsHeight * combinedScale[1] * EXPECTED_SCALE)), MAX_PATTERN_SIZE);\n    const scaleX = boundsWidth / width;\n    const scaleY = boundsHeight / height;\n    const context = {\n      coords: this._coords,\n      colors: this._colors,\n      offsetX: -offsetX,\n      offsetY: -offsetY,\n      scaleX: 1 / scaleX,\n      scaleY: 1 / scaleY\n    };\n    const paddedWidth = width + BORDER_SIZE * 2;\n    const paddedHeight = height + BORDER_SIZE * 2;\n    const tmpCanvas = cachedCanvases.getCanvas(\"mesh\", paddedWidth, paddedHeight);\n    const tmpCtx = tmpCanvas.context;\n    const data = tmpCtx.createImageData(width, height);\n    if (backgroundColor) {\n      const bytes = data.data;\n      for (let i = 0, ii = bytes.length; i < ii; i += 4) {\n        bytes[i] = backgroundColor[0];\n        bytes[i + 1] = backgroundColor[1];\n        bytes[i + 2] = backgroundColor[2];\n        bytes[i + 3] = 255;\n      }\n    }\n    for (const figure of this._figures) {\n      drawFigure(data, figure, context);\n    }\n    tmpCtx.putImageData(data, BORDER_SIZE, BORDER_SIZE);\n    const canvas = tmpCanvas.canvas;\n    return {\n      canvas,\n      offsetX: offsetX - BORDER_SIZE * scaleX,\n      offsetY: offsetY - BORDER_SIZE * scaleY,\n      scaleX,\n      scaleY\n    };\n  }\n  isModifyingCurrentTransform() {\n    return true;\n  }\n  getPattern(ctx, owner, inverse, pathType) {\n    applyBoundingBox(ctx, this._bbox);\n    const scale = new Float32Array(2);\n    if (pathType === PathType.SHADING) {\n      Util.singularValueDecompose2dScale(getCurrentTransform(ctx), scale);\n    } else if (this.matrix) {\n      Util.singularValueDecompose2dScale(this.matrix, scale);\n      const [matrixScaleX, matrixScaleY] = scale;\n      Util.singularValueDecompose2dScale(owner.baseTransform, scale);\n      scale[0] *= matrixScaleX;\n      scale[1] *= matrixScaleY;\n    } else {\n      Util.singularValueDecompose2dScale(owner.baseTransform, scale);\n    }\n    const temporaryPatternCanvas = this._createMeshCanvas(scale, pathType === PathType.SHADING ? null : this._background, owner.cachedCanvases);\n    if (pathType !== PathType.SHADING) {\n      ctx.setTransform(...owner.baseTransform);\n      if (this.matrix) {\n        ctx.transform(...this.matrix);\n      }\n    }\n    ctx.translate(temporaryPatternCanvas.offsetX, temporaryPatternCanvas.offsetY);\n    ctx.scale(temporaryPatternCanvas.scaleX, temporaryPatternCanvas.scaleY);\n    return ctx.createPattern(temporaryPatternCanvas.canvas, \"no-repeat\");\n  }\n}\nclass DummyShadingPattern extends BaseShadingPattern {\n  getPattern() {\n    return \"hotpink\";\n  }\n}\nfunction getShadingPattern(IR) {\n  switch (IR[0]) {\n    case \"RadialAxial\":\n      return new RadialAxialShadingPattern(IR);\n    case \"Mesh\":\n      return new MeshShadingPattern(IR);\n    case \"Dummy\":\n      return new DummyShadingPattern();\n  }\n  throw new Error(`Unknown IR type: ${IR[0]}`);\n}\nconst PaintType = {\n  COLORED: 1,\n  UNCOLORED: 2\n};\nclass TilingPattern {\n  static MAX_PATTERN_SIZE = 3000;\n  constructor(IR, ctx, canvasGraphicsFactory, baseTransform) {\n    this.color = IR[1];\n    this.operatorList = IR[2];\n    this.matrix = IR[3];\n    this.bbox = IR[4];\n    this.xstep = IR[5];\n    this.ystep = IR[6];\n    this.paintType = IR[7];\n    this.tilingType = IR[8];\n    this.ctx = ctx;\n    this.canvasGraphicsFactory = canvasGraphicsFactory;\n    this.baseTransform = baseTransform;\n  }\n  createPatternCanvas(owner, opIdx) {\n    const {\n      bbox,\n      operatorList,\n      paintType,\n      tilingType,\n      color,\n      canvasGraphicsFactory\n    } = this;\n    let {\n      xstep,\n      ystep\n    } = this;\n    xstep = Math.abs(xstep);\n    ystep = Math.abs(ystep);\n    info(\"TilingType: \" + tilingType);\n    const x0 = bbox[0],\n      y0 = bbox[1],\n      x1 = bbox[2],\n      y1 = bbox[3];\n    const width = x1 - x0;\n    const height = y1 - y0;\n    const scale = new Float32Array(2);\n    Util.singularValueDecompose2dScale(this.matrix, scale);\n    const [matrixScaleX, matrixScaleY] = scale;\n    Util.singularValueDecompose2dScale(this.baseTransform, scale);\n    const combinedScaleX = matrixScaleX * scale[0];\n    const combinedScaleY = matrixScaleY * scale[1];\n    let canvasWidth = width,\n      canvasHeight = height,\n      redrawHorizontally = false,\n      redrawVertically = false;\n    const xScaledStep = Math.ceil(xstep * combinedScaleX);\n    const yScaledStep = Math.ceil(ystep * combinedScaleY);\n    const xScaledWidth = Math.ceil(width * combinedScaleX);\n    const yScaledHeight = Math.ceil(height * combinedScaleY);\n    if (xScaledStep >= xScaledWidth) {\n      canvasWidth = xstep;\n    } else {\n      redrawHorizontally = true;\n    }\n    if (yScaledStep >= yScaledHeight) {\n      canvasHeight = ystep;\n    } else {\n      redrawVertically = true;\n    }\n    const dimx = this.getSizeAndScale(canvasWidth, this.ctx.canvas.width, combinedScaleX);\n    const dimy = this.getSizeAndScale(canvasHeight, this.ctx.canvas.height, combinedScaleY);\n    const tmpCanvas = owner.cachedCanvases.getCanvas(\"pattern\", dimx.size, dimy.size);\n    const tmpCtx = tmpCanvas.context;\n    const graphics = canvasGraphicsFactory.createCanvasGraphics(tmpCtx, opIdx);\n    graphics.groupLevel = owner.groupLevel;\n    this.setFillAndStrokeStyleToContext(graphics, paintType, color);\n    tmpCtx.translate(-dimx.scale * x0, -dimy.scale * y0);\n    graphics.transform(0, dimx.scale, 0, 0, dimy.scale, 0, 0);\n    tmpCtx.save();\n    graphics.dependencyTracker?.save();\n    this.clipBbox(graphics, x0, y0, x1, y1);\n    graphics.baseTransform = getCurrentTransform(graphics.ctx);\n    graphics.executeOperatorList(operatorList);\n    graphics.endDrawing();\n    graphics.dependencyTracker?.restore();\n    tmpCtx.restore();\n    if (redrawHorizontally || redrawVertically) {\n      const image = tmpCanvas.canvas;\n      if (redrawHorizontally) {\n        canvasWidth = xstep;\n      }\n      if (redrawVertically) {\n        canvasHeight = ystep;\n      }\n      const dimx2 = this.getSizeAndScale(canvasWidth, this.ctx.canvas.width, combinedScaleX);\n      const dimy2 = this.getSizeAndScale(canvasHeight, this.ctx.canvas.height, combinedScaleY);\n      const xSize = dimx2.size;\n      const ySize = dimy2.size;\n      const tmpCanvas2 = owner.cachedCanvases.getCanvas(\"pattern-workaround\", xSize, ySize);\n      const tmpCtx2 = tmpCanvas2.context;\n      const ii = redrawHorizontally ? Math.floor(width / xstep) : 0;\n      const jj = redrawVertically ? Math.floor(height / ystep) : 0;\n      for (let i = 0; i <= ii; i++) {\n        for (let j = 0; j <= jj; j++) {\n          tmpCtx2.drawImage(image, xSize * i, ySize * j, xSize, ySize, 0, 0, xSize, ySize);\n        }\n      }\n      return {\n        canvas: tmpCanvas2.canvas,\n        scaleX: dimx2.scale,\n        scaleY: dimy2.scale,\n        offsetX: x0,\n        offsetY: y0\n      };\n    }\n    return {\n      canvas: tmpCanvas.canvas,\n      scaleX: dimx.scale,\n      scaleY: dimy.scale,\n      offsetX: x0,\n      offsetY: y0\n    };\n  }\n  getSizeAndScale(step, realOutputSize, scale) {\n    const maxSize = Math.max(TilingPattern.MAX_PATTERN_SIZE, realOutputSize);\n    let size = Math.ceil(step * scale);\n    if (size >= maxSize) {\n      size = maxSize;\n    } else {\n      scale = size / step;\n    }\n    return {\n      scale,\n      size\n    };\n  }\n  clipBbox(graphics, x0, y0, x1, y1) {\n    const bboxWidth = x1 - x0;\n    const bboxHeight = y1 - y0;\n    graphics.ctx.rect(x0, y0, bboxWidth, bboxHeight);\n    Util.axialAlignedBoundingBox([x0, y0, x1, y1], getCurrentTransform(graphics.ctx), graphics.current.minMax);\n    graphics.clip();\n    graphics.endPath();\n  }\n  setFillAndStrokeStyleToContext(graphics, paintType, color) {\n    const context = graphics.ctx,\n      current = graphics.current;\n    switch (paintType) {\n      case PaintType.COLORED:\n        const {\n          fillStyle,\n          strokeStyle\n        } = this.ctx;\n        context.fillStyle = current.fillColor = fillStyle;\n        context.strokeStyle = current.strokeColor = strokeStyle;\n        break;\n      case PaintType.UNCOLORED:\n        context.fillStyle = context.strokeStyle = color;\n        current.fillColor = current.strokeColor = color;\n        break;\n      default:\n        throw new FormatError(`Unsupported paint type: ${paintType}`);\n    }\n  }\n  isModifyingCurrentTransform() {\n    return false;\n  }\n  getPattern(ctx, owner, inverse, pathType, opIdx) {\n    let matrix = inverse;\n    if (pathType !== PathType.SHADING) {\n      matrix = Util.transform(matrix, owner.baseTransform);\n      if (this.matrix) {\n        matrix = Util.transform(matrix, this.matrix);\n      }\n    }\n    const temporaryPatternCanvas = this.createPatternCanvas(owner, opIdx);\n    let domMatrix = new DOMMatrix(matrix);\n    domMatrix = domMatrix.translate(temporaryPatternCanvas.offsetX, temporaryPatternCanvas.offsetY);\n    domMatrix = domMatrix.scale(1 / temporaryPatternCanvas.scaleX, 1 / temporaryPatternCanvas.scaleY);\n    const pattern = ctx.createPattern(temporaryPatternCanvas.canvas, \"repeat\");\n    pattern.setTransform(domMatrix);\n    return pattern;\n  }\n}\n\n;// ./src/shared/image_utils.js\n\nfunction convertToRGBA(params) {\n  switch (params.kind) {\n    case ImageKind.GRAYSCALE_1BPP:\n      return convertBlackAndWhiteToRGBA(params);\n    case ImageKind.RGB_24BPP:\n      return convertRGBToRGBA(params);\n  }\n  return null;\n}\nfunction convertBlackAndWhiteToRGBA({\n  src,\n  srcPos = 0,\n  dest,\n  width,\n  height,\n  nonBlackColor = 0xffffffff,\n  inverseDecode = false\n}) {\n  const black = util_FeatureTest.isLittleEndian ? 0xff000000 : 0x000000ff;\n  const [zeroMapping, oneMapping] = inverseDecode ? [nonBlackColor, black] : [black, nonBlackColor];\n  const widthInSource = width >> 3;\n  const widthRemainder = width & 7;\n  const srcLength = src.length;\n  dest = new Uint32Array(dest.buffer);\n  let destPos = 0;\n  for (let i = 0; i < height; i++) {\n    for (const max = srcPos + widthInSource; srcPos < max; srcPos++) {\n      const elem = srcPos < srcLength ? src[srcPos] : 255;\n      dest[destPos++] = elem & 0b10000000 ? oneMapping : zeroMapping;\n      dest[destPos++] = elem & 0b1000000 ? oneMapping : zeroMapping;\n      dest[destPos++] = elem & 0b100000 ? oneMapping : zeroMapping;\n      dest[destPos++] = elem & 0b10000 ? oneMapping : zeroMapping;\n      dest[destPos++] = elem & 0b1000 ? oneMapping : zeroMapping;\n      dest[destPos++] = elem & 0b100 ? oneMapping : zeroMapping;\n      dest[destPos++] = elem & 0b10 ? oneMapping : zeroMapping;\n      dest[destPos++] = elem & 0b1 ? oneMapping : zeroMapping;\n    }\n    if (widthRemainder === 0) {\n      continue;\n    }\n    const elem = srcPos < srcLength ? src[srcPos++] : 255;\n    for (let j = 0; j < widthRemainder; j++) {\n      dest[destPos++] = elem & 1 << 7 - j ? oneMapping : zeroMapping;\n    }\n  }\n  return {\n    srcPos,\n    destPos\n  };\n}\nfunction convertRGBToRGBA({\n  src,\n  srcPos = 0,\n  dest,\n  destPos = 0,\n  width,\n  height\n}) {\n  let i = 0;\n  const len = width * height * 3;\n  const len32 = len >> 2;\n  const src32 = new Uint32Array(src.buffer, srcPos, len32);\n  if (FeatureTest.isLittleEndian) {\n    for (; i < len32 - 2; i += 3, destPos += 4) {\n      const s1 = src32[i];\n      const s2 = src32[i + 1];\n      const s3 = src32[i + 2];\n      dest[destPos] = s1 | 0xff000000;\n      dest[destPos + 1] = s1 >>> 24 | s2 << 8 | 0xff000000;\n      dest[destPos + 2] = s2 >>> 16 | s3 << 16 | 0xff000000;\n      dest[destPos + 3] = s3 >>> 8 | 0xff000000;\n    }\n    for (let j = i * 4, jj = srcPos + len; j < jj; j += 3) {\n      dest[destPos++] = src[j] | src[j + 1] << 8 | src[j + 2] << 16 | 0xff000000;\n    }\n  } else {\n    for (; i < len32 - 2; i += 3, destPos += 4) {\n      const s1 = src32[i];\n      const s2 = src32[i + 1];\n      const s3 = src32[i + 2];\n      dest[destPos] = s1 | 0xff;\n      dest[destPos + 1] = s1 << 24 | s2 >>> 8 | 0xff;\n      dest[destPos + 2] = s2 << 16 | s3 >>> 16 | 0xff;\n      dest[destPos + 3] = s3 << 8 | 0xff;\n    }\n    for (let j = i * 4, jj = srcPos + len; j < jj; j += 3) {\n      dest[destPos++] = src[j] << 24 | src[j + 1] << 16 | src[j + 2] << 8 | 0xff;\n    }\n  }\n  return {\n    srcPos: srcPos + len,\n    destPos\n  };\n}\nfunction grayToRGBA(src, dest) {\n  if (FeatureTest.isLittleEndian) {\n    for (let i = 0, ii = src.length; i < ii; i++) {\n      dest[i] = src[i] * 0x10101 | 0xff000000;\n    }\n  } else {\n    for (let i = 0, ii = src.length; i < ii; i++) {\n      dest[i] = src[i] * 0x1010100 | 0x000000ff;\n    }\n  }\n}\n\n;// ./src/display/canvas.js\n\n\n\n\n\nconst MIN_FONT_SIZE = 16;\nconst MAX_FONT_SIZE = 100;\nconst EXECUTION_TIME = 15;\nconst EXECUTION_STEPS = 10;\nconst FULL_CHUNK_HEIGHT = 16;\nconst SCALE_MATRIX = new DOMMatrix();\nconst XY = new Float32Array(2);\nconst MIN_MAX_INIT = new Float32Array([Infinity, Infinity, -Infinity, -Infinity]);\nfunction mirrorContextOperations(ctx, destCtx) {\n  if (ctx._removeMirroring) {\n    throw new Error(\"Context is already forwarding operations.\");\n  }\n  ctx.__originalSave = ctx.save;\n  ctx.__originalRestore = ctx.restore;\n  ctx.__originalRotate = ctx.rotate;\n  ctx.__originalScale = ctx.scale;\n  ctx.__originalTranslate = ctx.translate;\n  ctx.__originalTransform = ctx.transform;\n  ctx.__originalSetTransform = ctx.setTransform;\n  ctx.__originalResetTransform = ctx.resetTransform;\n  ctx.__originalClip = ctx.clip;\n  ctx.__originalMoveTo = ctx.moveTo;\n  ctx.__originalLineTo = ctx.lineTo;\n  ctx.__originalBezierCurveTo = ctx.bezierCurveTo;\n  ctx.__originalRect = ctx.rect;\n  ctx.__originalClosePath = ctx.closePath;\n  ctx.__originalBeginPath = ctx.beginPath;\n  ctx._removeMirroring = () => {\n    ctx.save = ctx.__originalSave;\n    ctx.restore = ctx.__originalRestore;\n    ctx.rotate = ctx.__originalRotate;\n    ctx.scale = ctx.__originalScale;\n    ctx.translate = ctx.__originalTranslate;\n    ctx.transform = ctx.__originalTransform;\n    ctx.setTransform = ctx.__originalSetTransform;\n    ctx.resetTransform = ctx.__originalResetTransform;\n    ctx.clip = ctx.__originalClip;\n    ctx.moveTo = ctx.__originalMoveTo;\n    ctx.lineTo = ctx.__originalLineTo;\n    ctx.bezierCurveTo = ctx.__originalBezierCurveTo;\n    ctx.rect = ctx.__originalRect;\n    ctx.closePath = ctx.__originalClosePath;\n    ctx.beginPath = ctx.__originalBeginPath;\n    delete ctx._removeMirroring;\n  };\n  ctx.save = function () {\n    destCtx.save();\n    this.__originalSave();\n  };\n  ctx.restore = function () {\n    destCtx.restore();\n    this.__originalRestore();\n  };\n  ctx.translate = function (x, y) {\n    destCtx.translate(x, y);\n    this.__originalTranslate(x, y);\n  };\n  ctx.scale = function (x, y) {\n    destCtx.scale(x, y);\n    this.__originalScale(x, y);\n  };\n  ctx.transform = function (a, b, c, d, e, f) {\n    destCtx.transform(a, b, c, d, e, f);\n    this.__originalTransform(a, b, c, d, e, f);\n  };\n  ctx.setTransform = function (a, b, c, d, e, f) {\n    destCtx.setTransform(a, b, c, d, e, f);\n    this.__originalSetTransform(a, b, c, d, e, f);\n  };\n  ctx.resetTransform = function () {\n    destCtx.resetTransform();\n    this.__originalResetTransform();\n  };\n  ctx.rotate = function (angle) {\n    destCtx.rotate(angle);\n    this.__originalRotate(angle);\n  };\n  ctx.clip = function (rule) {\n    destCtx.clip(rule);\n    this.__originalClip(rule);\n  };\n  ctx.moveTo = function (x, y) {\n    destCtx.moveTo(x, y);\n    this.__originalMoveTo(x, y);\n  };\n  ctx.lineTo = function (x, y) {\n    destCtx.lineTo(x, y);\n    this.__originalLineTo(x, y);\n  };\n  ctx.bezierCurveTo = function (cp1x, cp1y, cp2x, cp2y, x, y) {\n    destCtx.bezierCurveTo(cp1x, cp1y, cp2x, cp2y, x, y);\n    this.__originalBezierCurveTo(cp1x, cp1y, cp2x, cp2y, x, y);\n  };\n  ctx.rect = function (x, y, width, height) {\n    destCtx.rect(x, y, width, height);\n    this.__originalRect(x, y, width, height);\n  };\n  ctx.closePath = function () {\n    destCtx.closePath();\n    this.__originalClosePath();\n  };\n  ctx.beginPath = function () {\n    destCtx.beginPath();\n    this.__originalBeginPath();\n  };\n}\nclass CachedCanvases {\n  constructor(canvasFactory) {\n    this.canvasFactory = canvasFactory;\n    this.cache = Object.create(null);\n  }\n  getCanvas(id, width, height) {\n    let canvasEntry;\n    if (this.cache[id] !== undefined) {\n      canvasEntry = this.cache[id];\n      this.canvasFactory.reset(canvasEntry, width, height);\n    } else {\n      canvasEntry = this.canvasFactory.create(width, height);\n      this.cache[id] = canvasEntry;\n    }\n    return canvasEntry;\n  }\n  delete(id) {\n    delete this.cache[id];\n  }\n  clear() {\n    for (const id in this.cache) {\n      const canvasEntry = this.cache[id];\n      this.canvasFactory.destroy(canvasEntry);\n      delete this.cache[id];\n    }\n  }\n}\nfunction drawImageAtIntegerCoords(ctx, srcImg, srcX, srcY, srcW, srcH, destX, destY, destW, destH) {\n  const [a, b, c, d, tx, ty] = getCurrentTransform(ctx);\n  if (b === 0 && c === 0) {\n    const tlX = destX * a + tx;\n    const rTlX = Math.round(tlX);\n    const tlY = destY * d + ty;\n    const rTlY = Math.round(tlY);\n    const brX = (destX + destW) * a + tx;\n    const rWidth = Math.abs(Math.round(brX) - rTlX) || 1;\n    const brY = (destY + destH) * d + ty;\n    const rHeight = Math.abs(Math.round(brY) - rTlY) || 1;\n    ctx.setTransform(Math.sign(a), 0, 0, Math.sign(d), rTlX, rTlY);\n    ctx.drawImage(srcImg, srcX, srcY, srcW, srcH, 0, 0, rWidth, rHeight);\n    ctx.setTransform(a, b, c, d, tx, ty);\n    return [rWidth, rHeight];\n  }\n  if (a === 0 && d === 0) {\n    const tlX = destY * c + tx;\n    const rTlX = Math.round(tlX);\n    const tlY = destX * b + ty;\n    const rTlY = Math.round(tlY);\n    const brX = (destY + destH) * c + tx;\n    const rWidth = Math.abs(Math.round(brX) - rTlX) || 1;\n    const brY = (destX + destW) * b + ty;\n    const rHeight = Math.abs(Math.round(brY) - rTlY) || 1;\n    ctx.setTransform(0, Math.sign(b), Math.sign(c), 0, rTlX, rTlY);\n    ctx.drawImage(srcImg, srcX, srcY, srcW, srcH, 0, 0, rHeight, rWidth);\n    ctx.setTransform(a, b, c, d, tx, ty);\n    return [rHeight, rWidth];\n  }\n  ctx.drawImage(srcImg, srcX, srcY, srcW, srcH, destX, destY, destW, destH);\n  const scaleX = Math.hypot(a, b);\n  const scaleY = Math.hypot(c, d);\n  return [scaleX * destW, scaleY * destH];\n}\nclass CanvasExtraState {\n  alphaIsShape = false;\n  fontSize = 0;\n  fontSizeScale = 1;\n  textMatrix = null;\n  textMatrixScale = 1;\n  fontMatrix = FONT_IDENTITY_MATRIX;\n  leading = 0;\n  x = 0;\n  y = 0;\n  lineX = 0;\n  lineY = 0;\n  charSpacing = 0;\n  wordSpacing = 0;\n  textHScale = 1;\n  textRenderingMode = TextRenderingMode.FILL;\n  textRise = 0;\n  fillColor = \"#000000\";\n  strokeColor = \"#000000\";\n  patternFill = false;\n  patternStroke = false;\n  fillAlpha = 1;\n  strokeAlpha = 1;\n  lineWidth = 1;\n  activeSMask = null;\n  transferMaps = \"none\";\n  constructor(width, height, preInit) {\n    preInit?.(this);\n    this.clipBox = new Float32Array([0, 0, width, height]);\n    this.minMax = MIN_MAX_INIT.slice();\n  }\n  clone() {\n    const clone = Object.create(this);\n    clone.clipBox = this.clipBox.slice();\n    clone.minMax = this.minMax.slice();\n    return clone;\n  }\n  getPathBoundingBox(pathType = PathType.FILL, transform = null) {\n    const box = this.minMax.slice();\n    if (pathType === PathType.STROKE) {\n      if (!transform) {\n        unreachable(\"Stroke bounding box must include transform.\");\n      }\n      Util.singularValueDecompose2dScale(transform, XY);\n      const xStrokePad = XY[0] * this.lineWidth / 2;\n      const yStrokePad = XY[1] * this.lineWidth / 2;\n      box[0] -= xStrokePad;\n      box[1] -= yStrokePad;\n      box[2] += xStrokePad;\n      box[3] += yStrokePad;\n    }\n    return box;\n  }\n  updateClipFromPath() {\n    const intersect = Util.intersect(this.clipBox, this.getPathBoundingBox());\n    this.startNewPathAndClipBox(intersect || [0, 0, 0, 0]);\n  }\n  isEmptyClip() {\n    return this.minMax[0] === Infinity;\n  }\n  startNewPathAndClipBox(box) {\n    this.clipBox.set(box, 0);\n    this.minMax.set(MIN_MAX_INIT, 0);\n  }\n  getClippedPathBoundingBox(pathType = PathType.FILL, transform = null) {\n    return Util.intersect(this.clipBox, this.getPathBoundingBox(pathType, transform));\n  }\n}\nfunction putBinaryImageData(ctx, imgData) {\n  if (imgData instanceof ImageData) {\n    ctx.putImageData(imgData, 0, 0);\n    return;\n  }\n  const height = imgData.height,\n    width = imgData.width;\n  const partialChunkHeight = height % FULL_CHUNK_HEIGHT;\n  const fullChunks = (height - partialChunkHeight) / FULL_CHUNK_HEIGHT;\n  const totalChunks = partialChunkHeight === 0 ? fullChunks : fullChunks + 1;\n  const chunkImgData = ctx.createImageData(width, FULL_CHUNK_HEIGHT);\n  let srcPos = 0,\n    destPos;\n  const src = imgData.data;\n  const dest = chunkImgData.data;\n  let i, j, thisChunkHeight, elemsInThisChunk;\n  if (imgData.kind === util_ImageKind.GRAYSCALE_1BPP) {\n    const srcLength = src.byteLength;\n    const dest32 = new Uint32Array(dest.buffer, 0, dest.byteLength >> 2);\n    const dest32DataLength = dest32.length;\n    const fullSrcDiff = width + 7 >> 3;\n    const white = 0xffffffff;\n    const black = util_FeatureTest.isLittleEndian ? 0xff000000 : 0x000000ff;\n    for (i = 0; i < totalChunks; i++) {\n      thisChunkHeight = i < fullChunks ? FULL_CHUNK_HEIGHT : partialChunkHeight;\n      destPos = 0;\n      for (j = 0; j < thisChunkHeight; j++) {\n        const srcDiff = srcLength - srcPos;\n        let k = 0;\n        const kEnd = srcDiff > fullSrcDiff ? width : srcDiff * 8 - 7;\n        const kEndUnrolled = kEnd & ~7;\n        let mask = 0;\n        let srcByte = 0;\n        for (; k < kEndUnrolled; k += 8) {\n          srcByte = src[srcPos++];\n          dest32[destPos++] = srcByte & 128 ? white : black;\n          dest32[destPos++] = srcByte & 64 ? white : black;\n          dest32[destPos++] = srcByte & 32 ? white : black;\n          dest32[destPos++] = srcByte & 16 ? white : black;\n          dest32[destPos++] = srcByte & 8 ? white : black;\n          dest32[destPos++] = srcByte & 4 ? white : black;\n          dest32[destPos++] = srcByte & 2 ? white : black;\n          dest32[destPos++] = srcByte & 1 ? white : black;\n        }\n        for (; k < kEnd; k++) {\n          if (mask === 0) {\n            srcByte = src[srcPos++];\n            mask = 128;\n          }\n          dest32[destPos++] = srcByte & mask ? white : black;\n          mask >>= 1;\n        }\n      }\n      while (destPos < dest32DataLength) {\n        dest32[destPos++] = 0;\n      }\n      ctx.putImageData(chunkImgData, 0, i * FULL_CHUNK_HEIGHT);\n    }\n  } else if (imgData.kind === util_ImageKind.RGBA_32BPP) {\n    j = 0;\n    elemsInThisChunk = width * FULL_CHUNK_HEIGHT * 4;\n    for (i = 0; i < fullChunks; i++) {\n      dest.set(src.subarray(srcPos, srcPos + elemsInThisChunk));\n      srcPos += elemsInThisChunk;\n      ctx.putImageData(chunkImgData, 0, j);\n      j += FULL_CHUNK_HEIGHT;\n    }\n    if (i < totalChunks) {\n      elemsInThisChunk = width * partialChunkHeight * 4;\n      dest.set(src.subarray(srcPos, srcPos + elemsInThisChunk));\n      ctx.putImageData(chunkImgData, 0, j);\n    }\n  } else if (imgData.kind === util_ImageKind.RGB_24BPP) {\n    thisChunkHeight = FULL_CHUNK_HEIGHT;\n    elemsInThisChunk = width * thisChunkHeight;\n    for (i = 0; i < totalChunks; i++) {\n      if (i >= fullChunks) {\n        thisChunkHeight = partialChunkHeight;\n        elemsInThisChunk = width * thisChunkHeight;\n      }\n      destPos = 0;\n      for (j = elemsInThisChunk; j--;) {\n        dest[destPos++] = src[srcPos++];\n        dest[destPos++] = src[srcPos++];\n        dest[destPos++] = src[srcPos++];\n        dest[destPos++] = 255;\n      }\n      ctx.putImageData(chunkImgData, 0, i * FULL_CHUNK_HEIGHT);\n    }\n  } else {\n    throw new Error(`bad image kind: ${imgData.kind}`);\n  }\n}\nfunction putBinaryImageMask(ctx, imgData) {\n  if (imgData.bitmap) {\n    ctx.drawImage(imgData.bitmap, 0, 0);\n    return;\n  }\n  const height = imgData.height,\n    width = imgData.width;\n  const partialChunkHeight = height % FULL_CHUNK_HEIGHT;\n  const fullChunks = (height - partialChunkHeight) / FULL_CHUNK_HEIGHT;\n  const totalChunks = partialChunkHeight === 0 ? fullChunks : fullChunks + 1;\n  const chunkImgData = ctx.createImageData(width, FULL_CHUNK_HEIGHT);\n  let srcPos = 0;\n  const src = imgData.data;\n  const dest = chunkImgData.data;\n  for (let i = 0; i < totalChunks; i++) {\n    const thisChunkHeight = i < fullChunks ? FULL_CHUNK_HEIGHT : partialChunkHeight;\n    ({\n      srcPos\n    } = convertBlackAndWhiteToRGBA({\n      src,\n      srcPos,\n      dest,\n      width,\n      height: thisChunkHeight,\n      nonBlackColor: 0\n    }));\n    ctx.putImageData(chunkImgData, 0, i * FULL_CHUNK_HEIGHT);\n  }\n}\nfunction copyCtxState(sourceCtx, destCtx) {\n  const properties = [\"strokeStyle\", \"fillStyle\", \"fillRule\", \"globalAlpha\", \"lineWidth\", \"lineCap\", \"lineJoin\", \"miterLimit\", \"globalCompositeOperation\", \"font\", \"filter\"];\n  for (const property of properties) {\n    if (sourceCtx[property] !== undefined) {\n      destCtx[property] = sourceCtx[property];\n    }\n  }\n  if (sourceCtx.setLineDash !== undefined) {\n    destCtx.setLineDash(sourceCtx.getLineDash());\n    destCtx.lineDashOffset = sourceCtx.lineDashOffset;\n  }\n}\nfunction resetCtxToDefault(ctx) {\n  ctx.strokeStyle = ctx.fillStyle = \"#000000\";\n  ctx.fillRule = \"nonzero\";\n  ctx.globalAlpha = 1;\n  ctx.lineWidth = 1;\n  ctx.lineCap = \"butt\";\n  ctx.lineJoin = \"miter\";\n  ctx.miterLimit = 10;\n  ctx.globalCompositeOperation = \"source-over\";\n  ctx.font = \"10px sans-serif\";\n  if (ctx.setLineDash !== undefined) {\n    ctx.setLineDash([]);\n    ctx.lineDashOffset = 0;\n  }\n  const {\n    filter\n  } = ctx;\n  if (filter !== \"none\" && filter !== \"\") {\n    ctx.filter = \"none\";\n  }\n}\nfunction getImageSmoothingEnabled(transform, interpolate) {\n  if (interpolate) {\n    return true;\n  }\n  Util.singularValueDecompose2dScale(transform, XY);\n  const actualScale = Math.fround(OutputScale.pixelRatio * PixelsPerInch.PDF_TO_CSS_UNITS);\n  return XY[0] <= actualScale && XY[1] <= actualScale;\n}\nconst LINE_CAP_STYLES = [\"butt\", \"round\", \"square\"];\nconst LINE_JOIN_STYLES = [\"miter\", \"round\", \"bevel\"];\nconst NORMAL_CLIP = {};\nconst EO_CLIP = {};\nclass CanvasGraphics {\n  constructor(canvasCtx, commonObjs, objs, canvasFactory, filterFactory, {\n    optionalContentConfig,\n    markedContentStack = null\n  }, annotationCanvasMap, pageColors, dependencyTracker) {\n    this.ctx = canvasCtx;\n    this.current = new CanvasExtraState(this.ctx.canvas.width, this.ctx.canvas.height);\n    this.stateStack = [];\n    this.pendingClip = null;\n    this.pendingEOFill = false;\n    this.res = null;\n    this.xobjs = null;\n    this.commonObjs = commonObjs;\n    this.objs = objs;\n    this.canvasFactory = canvasFactory;\n    this.filterFactory = filterFactory;\n    this.groupStack = [];\n    this.baseTransform = null;\n    this.baseTransformStack = [];\n    this.groupLevel = 0;\n    this.smaskStack = [];\n    this.smaskCounter = 0;\n    this.tempSMask = null;\n    this.suspendedCtx = null;\n    this.contentVisible = true;\n    this.markedContentStack = markedContentStack || [];\n    this.optionalContentConfig = optionalContentConfig;\n    this.cachedCanvases = new CachedCanvases(this.canvasFactory);\n    this.cachedPatterns = new Map();\n    this.annotationCanvasMap = annotationCanvasMap;\n    this.viewportScale = 1;\n    this.outputScaleX = 1;\n    this.outputScaleY = 1;\n    this.pageColors = pageColors;\n    this._cachedScaleForStroking = [-1, 0];\n    this._cachedGetSinglePixelWidth = null;\n    this._cachedBitmapsMap = new Map();\n    this.dependencyTracker = dependencyTracker ?? null;\n  }\n  getObject(opIdx, data, fallback = null) {\n    if (typeof data === \"string\") {\n      this.dependencyTracker?.recordNamedDependency(opIdx, data);\n      return data.startsWith(\"g_\") ? this.commonObjs.get(data) : this.objs.get(data);\n    }\n    return fallback;\n  }\n  beginDrawing({\n    transform,\n    viewport,\n    transparency = false,\n    background = null\n  }) {\n    const width = this.ctx.canvas.width;\n    const height = this.ctx.canvas.height;\n    const savedFillStyle = this.ctx.fillStyle;\n    this.ctx.fillStyle = background || \"#ffffff\";\n    this.ctx.fillRect(0, 0, width, height);\n    this.ctx.fillStyle = savedFillStyle;\n    if (transparency) {\n      const transparentCanvas = this.cachedCanvases.getCanvas(\"transparent\", width, height);\n      this.compositeCtx = this.ctx;\n      this.transparentCanvas = transparentCanvas.canvas;\n      this.ctx = transparentCanvas.context;\n      this.ctx.save();\n      this.ctx.transform(...getCurrentTransform(this.compositeCtx));\n    }\n    this.ctx.save();\n    resetCtxToDefault(this.ctx);\n    if (transform) {\n      this.ctx.transform(...transform);\n      this.outputScaleX = transform[0];\n      this.outputScaleY = transform[0];\n    }\n    this.ctx.transform(...viewport.transform);\n    this.viewportScale = viewport.scale;\n    this.baseTransform = getCurrentTransform(this.ctx);\n  }\n  executeOperatorList(operatorList, executionStartIdx, continueCallback, stepper, operationsFilter) {\n    const argsArray = operatorList.argsArray;\n    const fnArray = operatorList.fnArray;\n    let i = executionStartIdx || 0;\n    const argsArrayLen = argsArray.length;\n    if (argsArrayLen === i) {\n      return i;\n    }\n    const chunkOperations = argsArrayLen - i > EXECUTION_STEPS && typeof continueCallback === \"function\";\n    const endTime = chunkOperations ? Date.now() + EXECUTION_TIME : 0;\n    let steps = 0;\n    const commonObjs = this.commonObjs;\n    const objs = this.objs;\n    let fnId, fnArgs;\n    while (true) {\n      if (stepper !== undefined && i === stepper.nextBreakPoint) {\n        stepper.breakIt(i, continueCallback);\n        return i;\n      }\n      if (!operationsFilter || operationsFilter(i)) {\n        fnId = fnArray[i];\n        fnArgs = argsArray[i] ?? null;\n        if (fnId !== OPS.dependency) {\n          if (fnArgs === null) {\n            this[fnId](i);\n          } else {\n            this[fnId](i, ...fnArgs);\n          }\n        } else {\n          for (const depObjId of fnArgs) {\n            this.dependencyTracker?.recordNamedData(depObjId, i);\n            const objsPool = depObjId.startsWith(\"g_\") ? commonObjs : objs;\n            if (!objsPool.has(depObjId)) {\n              objsPool.get(depObjId, continueCallback);\n              return i;\n            }\n          }\n        }\n      }\n      i++;\n      if (i === argsArrayLen) {\n        return i;\n      }\n      if (chunkOperations && ++steps > EXECUTION_STEPS) {\n        if (Date.now() > endTime) {\n          continueCallback();\n          return i;\n        }\n        steps = 0;\n      }\n    }\n  }\n  #restoreInitialState() {\n    while (this.stateStack.length || this.inSMaskMode) {\n      this.restore();\n    }\n    this.current.activeSMask = null;\n    this.ctx.restore();\n    if (this.transparentCanvas) {\n      this.ctx = this.compositeCtx;\n      this.ctx.save();\n      this.ctx.setTransform(1, 0, 0, 1, 0, 0);\n      this.ctx.drawImage(this.transparentCanvas, 0, 0);\n      this.ctx.restore();\n      this.transparentCanvas = null;\n    }\n  }\n  endDrawing() {\n    this.#restoreInitialState();\n    this.cachedCanvases.clear();\n    this.cachedPatterns.clear();\n    for (const cache of this._cachedBitmapsMap.values()) {\n      for (const canvas of cache.values()) {\n        if (typeof HTMLCanvasElement !== \"undefined\" && canvas instanceof HTMLCanvasElement) {\n          canvas.width = canvas.height = 0;\n        }\n      }\n      cache.clear();\n    }\n    this._cachedBitmapsMap.clear();\n    this.#drawFilter();\n  }\n  #drawFilter() {\n    if (this.pageColors) {\n      const hcmFilterId = this.filterFactory.addHCMFilter(this.pageColors.foreground, this.pageColors.background);\n      if (hcmFilterId !== \"none\") {\n        const savedFilter = this.ctx.filter;\n        this.ctx.filter = hcmFilterId;\n        this.ctx.drawImage(this.ctx.canvas, 0, 0);\n        this.ctx.filter = savedFilter;\n      }\n    }\n  }\n  _scaleImage(img, inverseTransform) {\n    const width = img.width ?? img.displayWidth;\n    const height = img.height ?? img.displayHeight;\n    let widthScale = Math.max(Math.hypot(inverseTransform[0], inverseTransform[1]), 1);\n    let heightScale = Math.max(Math.hypot(inverseTransform[2], inverseTransform[3]), 1);\n    let paintWidth = width,\n      paintHeight = height;\n    let tmpCanvasId = \"prescale1\";\n    let tmpCanvas, tmpCtx;\n    while (widthScale > 2 && paintWidth > 1 || heightScale > 2 && paintHeight > 1) {\n      let newWidth = paintWidth,\n        newHeight = paintHeight;\n      if (widthScale > 2 && paintWidth > 1) {\n        newWidth = paintWidth >= 16384 ? Math.floor(paintWidth / 2) - 1 || 1 : Math.ceil(paintWidth / 2);\n        widthScale /= paintWidth / newWidth;\n      }\n      if (heightScale > 2 && paintHeight > 1) {\n        newHeight = paintHeight >= 16384 ? Math.floor(paintHeight / 2) - 1 || 1 : Math.ceil(paintHeight) / 2;\n        heightScale /= paintHeight / newHeight;\n      }\n      tmpCanvas = this.cachedCanvases.getCanvas(tmpCanvasId, newWidth, newHeight);\n      tmpCtx = tmpCanvas.context;\n      tmpCtx.clearRect(0, 0, newWidth, newHeight);\n      tmpCtx.drawImage(img, 0, 0, paintWidth, paintHeight, 0, 0, newWidth, newHeight);\n      img = tmpCanvas.canvas;\n      paintWidth = newWidth;\n      paintHeight = newHeight;\n      tmpCanvasId = tmpCanvasId === \"prescale1\" ? \"prescale2\" : \"prescale1\";\n    }\n    return {\n      img,\n      paintWidth,\n      paintHeight\n    };\n  }\n  _createMaskCanvas(opIdx, img) {\n    const ctx = this.ctx;\n    const {\n      width,\n      height\n    } = img;\n    const fillColor = this.current.fillColor;\n    const isPatternFill = this.current.patternFill;\n    const currentTransform = getCurrentTransform(ctx);\n    let cache, cacheKey, scaled, maskCanvas;\n    if ((img.bitmap || img.data) && img.count > 1) {\n      const mainKey = img.bitmap || img.data.buffer;\n      cacheKey = JSON.stringify(isPatternFill ? currentTransform : [currentTransform.slice(0, 4), fillColor]);\n      cache = this._cachedBitmapsMap.get(mainKey);\n      if (!cache) {\n        cache = new Map();\n        this._cachedBitmapsMap.set(mainKey, cache);\n      }\n      const cachedImage = cache.get(cacheKey);\n      if (cachedImage && !isPatternFill) {\n        const offsetX = Math.round(Math.min(currentTransform[0], currentTransform[2]) + currentTransform[4]);\n        const offsetY = Math.round(Math.min(currentTransform[1], currentTransform[3]) + currentTransform[5]);\n        this.dependencyTracker?.recordDependencies(opIdx, Dependencies.transformAndFill);\n        return {\n          canvas: cachedImage,\n          offsetX,\n          offsetY\n        };\n      }\n      scaled = cachedImage;\n    }\n    if (!scaled) {\n      maskCanvas = this.cachedCanvases.getCanvas(\"maskCanvas\", width, height);\n      putBinaryImageMask(maskCanvas.context, img);\n    }\n    let maskToCanvas = Util.transform(currentTransform, [1 / width, 0, 0, -1 / height, 0, 0]);\n    maskToCanvas = Util.transform(maskToCanvas, [1, 0, 0, 1, 0, -height]);\n    const minMax = MIN_MAX_INIT.slice();\n    Util.axialAlignedBoundingBox([0, 0, width, height], maskToCanvas, minMax);\n    const [minX, minY, maxX, maxY] = minMax;\n    const drawnWidth = Math.round(maxX - minX) || 1;\n    const drawnHeight = Math.round(maxY - minY) || 1;\n    const fillCanvas = this.cachedCanvases.getCanvas(\"fillCanvas\", drawnWidth, drawnHeight);\n    const fillCtx = fillCanvas.context;\n    const offsetX = minX;\n    const offsetY = minY;\n    fillCtx.translate(-offsetX, -offsetY);\n    fillCtx.transform(...maskToCanvas);\n    if (!scaled) {\n      scaled = this._scaleImage(maskCanvas.canvas, getCurrentTransformInverse(fillCtx));\n      scaled = scaled.img;\n      if (cache && isPatternFill) {\n        cache.set(cacheKey, scaled);\n      }\n    }\n    fillCtx.imageSmoothingEnabled = getImageSmoothingEnabled(getCurrentTransform(fillCtx), img.interpolate);\n    drawImageAtIntegerCoords(fillCtx, scaled, 0, 0, scaled.width, scaled.height, 0, 0, width, height);\n    fillCtx.globalCompositeOperation = \"source-in\";\n    const inverse = Util.transform(getCurrentTransformInverse(fillCtx), [1, 0, 0, 1, -offsetX, -offsetY]);\n    fillCtx.fillStyle = isPatternFill ? fillColor.getPattern(ctx, this, inverse, PathType.FILL, opIdx) : fillColor;\n    fillCtx.fillRect(0, 0, width, height);\n    if (cache && !isPatternFill) {\n      this.cachedCanvases.delete(\"fillCanvas\");\n      cache.set(cacheKey, fillCanvas.canvas);\n    }\n    this.dependencyTracker?.recordDependencies(opIdx, Dependencies.transformAndFill);\n    return {\n      canvas: fillCanvas.canvas,\n      offsetX: Math.round(offsetX),\n      offsetY: Math.round(offsetY)\n    };\n  }\n  setLineWidth(opIdx, width) {\n    this.dependencyTracker?.recordSimpleData(\"lineWidth\", opIdx);\n    if (width !== this.current.lineWidth) {\n      this._cachedScaleForStroking[0] = -1;\n    }\n    this.current.lineWidth = width;\n    this.ctx.lineWidth = width;\n  }\n  setLineCap(opIdx, style) {\n    this.dependencyTracker?.recordSimpleData(\"lineCap\", opIdx);\n    this.ctx.lineCap = LINE_CAP_STYLES[style];\n  }\n  setLineJoin(opIdx, style) {\n    this.dependencyTracker?.recordSimpleData(\"lineJoin\", opIdx);\n    this.ctx.lineJoin = LINE_JOIN_STYLES[style];\n  }\n  setMiterLimit(opIdx, limit) {\n    this.dependencyTracker?.recordSimpleData(\"miterLimit\", opIdx);\n    this.ctx.miterLimit = limit;\n  }\n  setDash(opIdx, dashArray, dashPhase) {\n    this.dependencyTracker?.recordSimpleData(\"dash\", opIdx);\n    const ctx = this.ctx;\n    if (ctx.setLineDash !== undefined) {\n      ctx.setLineDash(dashArray);\n      ctx.lineDashOffset = dashPhase;\n    }\n  }\n  setRenderingIntent(opIdx, intent) {}\n  setFlatness(opIdx, flatness) {}\n  setGState(opIdx, states) {\n    for (const [key, value] of states) {\n      switch (key) {\n        case \"LW\":\n          this.setLineWidth(opIdx, value);\n          break;\n        case \"LC\":\n          this.setLineCap(opIdx, value);\n          break;\n        case \"LJ\":\n          this.setLineJoin(opIdx, value);\n          break;\n        case \"ML\":\n          this.setMiterLimit(opIdx, value);\n          break;\n        case \"D\":\n          this.setDash(opIdx, value[0], value[1]);\n          break;\n        case \"RI\":\n          this.setRenderingIntent(opIdx, value);\n          break;\n        case \"FL\":\n          this.setFlatness(opIdx, value);\n          break;\n        case \"Font\":\n          this.setFont(opIdx, value[0], value[1]);\n          break;\n        case \"CA\":\n          this.dependencyTracker?.recordSimpleData(\"strokeAlpha\", opIdx);\n          this.current.strokeAlpha = value;\n          break;\n        case \"ca\":\n          this.dependencyTracker?.recordSimpleData(\"fillAlpha\", opIdx);\n          this.ctx.globalAlpha = this.current.fillAlpha = value;\n          break;\n        case \"BM\":\n          this.dependencyTracker?.recordSimpleData(\"globalCompositeOperation\", opIdx);\n          this.ctx.globalCompositeOperation = value;\n          break;\n        case \"SMask\":\n          this.dependencyTracker?.recordSimpleData(\"SMask\", opIdx);\n          this.current.activeSMask = value ? this.tempSMask : null;\n          this.tempSMask = null;\n          this.checkSMaskState();\n          break;\n        case \"TR\":\n          this.dependencyTracker?.recordSimpleData(\"filter\", opIdx);\n          this.ctx.filter = this.current.transferMaps = this.filterFactory.addFilter(value);\n          break;\n      }\n    }\n  }\n  get inSMaskMode() {\n    return !!this.suspendedCtx;\n  }\n  checkSMaskState() {\n    const inSMaskMode = this.inSMaskMode;\n    if (this.current.activeSMask && !inSMaskMode) {\n      this.beginSMaskMode();\n    } else if (!this.current.activeSMask && inSMaskMode) {\n      this.endSMaskMode();\n    }\n  }\n  beginSMaskMode(opIdx) {\n    if (this.inSMaskMode) {\n      throw new Error(\"beginSMaskMode called while already in smask mode\");\n    }\n    const drawnWidth = this.ctx.canvas.width;\n    const drawnHeight = this.ctx.canvas.height;\n    const cacheId = \"smaskGroupAt\" + this.groupLevel;\n    const scratchCanvas = this.cachedCanvases.getCanvas(cacheId, drawnWidth, drawnHeight);\n    this.suspendedCtx = this.ctx;\n    const ctx = this.ctx = scratchCanvas.context;\n    ctx.setTransform(this.suspendedCtx.getTransform());\n    copyCtxState(this.suspendedCtx, ctx);\n    mirrorContextOperations(ctx, this.suspendedCtx);\n    this.setGState(opIdx, [[\"BM\", \"source-over\"]]);\n  }\n  endSMaskMode() {\n    if (!this.inSMaskMode) {\n      throw new Error(\"endSMaskMode called while not in smask mode\");\n    }\n    this.ctx._removeMirroring();\n    copyCtxState(this.ctx, this.suspendedCtx);\n    this.ctx = this.suspendedCtx;\n    this.suspendedCtx = null;\n  }\n  compose(dirtyBox) {\n    if (!this.current.activeSMask) {\n      return;\n    }\n    if (!dirtyBox) {\n      dirtyBox = [0, 0, this.ctx.canvas.width, this.ctx.canvas.height];\n    } else {\n      dirtyBox[0] = Math.floor(dirtyBox[0]);\n      dirtyBox[1] = Math.floor(dirtyBox[1]);\n      dirtyBox[2] = Math.ceil(dirtyBox[2]);\n      dirtyBox[3] = Math.ceil(dirtyBox[3]);\n    }\n    const smask = this.current.activeSMask;\n    const suspendedCtx = this.suspendedCtx;\n    this.composeSMask(suspendedCtx, smask, this.ctx, dirtyBox);\n    this.ctx.save();\n    this.ctx.setTransform(1, 0, 0, 1, 0, 0);\n    this.ctx.clearRect(0, 0, this.ctx.canvas.width, this.ctx.canvas.height);\n    this.ctx.restore();\n  }\n  composeSMask(ctx, smask, layerCtx, layerBox) {\n    const layerOffsetX = layerBox[0];\n    const layerOffsetY = layerBox[1];\n    const layerWidth = layerBox[2] - layerOffsetX;\n    const layerHeight = layerBox[3] - layerOffsetY;\n    if (layerWidth === 0 || layerHeight === 0) {\n      return;\n    }\n    this.genericComposeSMask(smask.context, layerCtx, layerWidth, layerHeight, smask.subtype, smask.backdrop, smask.transferMap, layerOffsetX, layerOffsetY, smask.offsetX, smask.offsetY);\n    ctx.save();\n    ctx.globalAlpha = 1;\n    ctx.globalCompositeOperation = \"source-over\";\n    ctx.setTransform(1, 0, 0, 1, 0, 0);\n    ctx.drawImage(layerCtx.canvas, 0, 0);\n    ctx.restore();\n  }\n  genericComposeSMask(maskCtx, layerCtx, width, height, subtype, backdrop, transferMap, layerOffsetX, layerOffsetY, maskOffsetX, maskOffsetY) {\n    let maskCanvas = maskCtx.canvas;\n    let maskX = layerOffsetX - maskOffsetX;\n    let maskY = layerOffsetY - maskOffsetY;\n    if (backdrop) {\n      if (maskX < 0 || maskY < 0 || maskX + width > maskCanvas.width || maskY + height > maskCanvas.height) {\n        const canvas = this.cachedCanvases.getCanvas(\"maskExtension\", width, height);\n        const ctx = canvas.context;\n        ctx.drawImage(maskCanvas, -maskX, -maskY);\n        ctx.globalCompositeOperation = \"destination-atop\";\n        ctx.fillStyle = backdrop;\n        ctx.fillRect(0, 0, width, height);\n        ctx.globalCompositeOperation = \"source-over\";\n        maskCanvas = canvas.canvas;\n        maskX = maskY = 0;\n      } else {\n        maskCtx.save();\n        maskCtx.globalAlpha = 1;\n        maskCtx.setTransform(1, 0, 0, 1, 0, 0);\n        const clip = new Path2D();\n        clip.rect(maskX, maskY, width, height);\n        maskCtx.clip(clip);\n        maskCtx.globalCompositeOperation = \"destination-atop\";\n        maskCtx.fillStyle = backdrop;\n        maskCtx.fillRect(maskX, maskY, width, height);\n        maskCtx.restore();\n      }\n    }\n    layerCtx.save();\n    layerCtx.globalAlpha = 1;\n    layerCtx.setTransform(1, 0, 0, 1, 0, 0);\n    if (subtype === \"Alpha\" && transferMap) {\n      layerCtx.filter = this.filterFactory.addAlphaFilter(transferMap);\n    } else if (subtype === \"Luminosity\") {\n      layerCtx.filter = this.filterFactory.addLuminosityFilter(transferMap);\n    }\n    const clip = new Path2D();\n    clip.rect(layerOffsetX, layerOffsetY, width, height);\n    layerCtx.clip(clip);\n    layerCtx.globalCompositeOperation = \"destination-in\";\n    layerCtx.drawImage(maskCanvas, maskX, maskY, width, height, layerOffsetX, layerOffsetY, width, height);\n    layerCtx.restore();\n  }\n  save(opIdx) {\n    if (this.inSMaskMode) {\n      copyCtxState(this.ctx, this.suspendedCtx);\n    }\n    this.ctx.save();\n    const old = this.current;\n    this.stateStack.push(old);\n    this.current = old.clone();\n    this.dependencyTracker?.save(opIdx);\n  }\n  restore(opIdx) {\n    this.dependencyTracker?.restore(opIdx);\n    if (this.stateStack.length === 0) {\n      if (this.inSMaskMode) {\n        this.endSMaskMode();\n      }\n      return;\n    }\n    this.current = this.stateStack.pop();\n    this.ctx.restore();\n    if (this.inSMaskMode) {\n      copyCtxState(this.suspendedCtx, this.ctx);\n    }\n    this.checkSMaskState();\n    this.pendingClip = null;\n    this._cachedScaleForStroking[0] = -1;\n    this._cachedGetSinglePixelWidth = null;\n  }\n  transform(opIdx, a, b, c, d, e, f) {\n    this.dependencyTracker?.recordIncrementalData(\"transform\", opIdx);\n    this.ctx.transform(a, b, c, d, e, f);\n    this._cachedScaleForStroking[0] = -1;\n    this._cachedGetSinglePixelWidth = null;\n  }\n  constructPath(opIdx, op, data, minMax) {\n    let [path] = data;\n    if (!minMax) {\n      path ||= data[0] = new Path2D();\n      this[op](opIdx, path);\n      return;\n    }\n    if (this.dependencyTracker !== null) {\n      const outerExtraSize = op === OPS.stroke ? this.current.lineWidth / 2 : 0;\n      this.dependencyTracker.resetBBox(opIdx).recordBBox(opIdx, this.ctx, minMax[0] - outerExtraSize, minMax[2] + outerExtraSize, minMax[1] - outerExtraSize, minMax[3] + outerExtraSize).recordDependencies(opIdx, [\"transform\"]);\n    }\n    if (!(path instanceof Path2D)) {\n      path = data[0] = makePathFromDrawOPS(path);\n    }\n    Util.axialAlignedBoundingBox(minMax, getCurrentTransform(this.ctx), this.current.minMax);\n    this[op](opIdx, path);\n    this._pathStartIdx = opIdx;\n  }\n  closePath(opIdx) {\n    this.ctx.closePath();\n  }\n  stroke(opIdx, path, consumePath = true) {\n    const ctx = this.ctx;\n    const strokeColor = this.current.strokeColor;\n    ctx.globalAlpha = this.current.strokeAlpha;\n    if (this.contentVisible) {\n      if (typeof strokeColor === \"object\" && strokeColor?.getPattern) {\n        const baseTransform = strokeColor.isModifyingCurrentTransform() ? ctx.getTransform() : null;\n        ctx.save();\n        ctx.strokeStyle = strokeColor.getPattern(ctx, this, getCurrentTransformInverse(ctx), PathType.STROKE, opIdx);\n        if (baseTransform) {\n          const newPath = new Path2D();\n          newPath.addPath(path, ctx.getTransform().invertSelf().multiplySelf(baseTransform));\n          path = newPath;\n        }\n        this.rescaleAndStroke(path, false);\n        ctx.restore();\n      } else {\n        this.rescaleAndStroke(path, true);\n      }\n    }\n    this.dependencyTracker?.recordDependencies(opIdx, Dependencies.stroke);\n    if (consumePath) {\n      this.consumePath(opIdx, path, this.current.getClippedPathBoundingBox(PathType.STROKE, getCurrentTransform(this.ctx)));\n    }\n    ctx.globalAlpha = this.current.fillAlpha;\n  }\n  closeStroke(opIdx, path) {\n    this.stroke(opIdx, path);\n  }\n  fill(opIdx, path, consumePath = true) {\n    const ctx = this.ctx;\n    const fillColor = this.current.fillColor;\n    const isPatternFill = this.current.patternFill;\n    let needRestore = false;\n    if (isPatternFill) {\n      const baseTransform = fillColor.isModifyingCurrentTransform() ? ctx.getTransform() : null;\n      this.dependencyTracker?.save(opIdx);\n      ctx.save();\n      ctx.fillStyle = fillColor.getPattern(ctx, this, getCurrentTransformInverse(ctx), PathType.FILL, opIdx);\n      if (baseTransform) {\n        const newPath = new Path2D();\n        newPath.addPath(path, ctx.getTransform().invertSelf().multiplySelf(baseTransform));\n        path = newPath;\n      }\n      needRestore = true;\n    }\n    const intersect = this.current.getClippedPathBoundingBox();\n    if (this.contentVisible && intersect !== null) {\n      if (this.pendingEOFill) {\n        ctx.fill(path, \"evenodd\");\n        this.pendingEOFill = false;\n      } else {\n        ctx.fill(path);\n      }\n    }\n    this.dependencyTracker?.recordDependencies(opIdx, Dependencies.fill);\n    if (needRestore) {\n      ctx.restore();\n      this.dependencyTracker?.restore(opIdx);\n    }\n    if (consumePath) {\n      this.consumePath(opIdx, path, intersect);\n    }\n  }\n  eoFill(opIdx, path) {\n    this.pendingEOFill = true;\n    this.fill(opIdx, path);\n  }\n  fillStroke(opIdx, path) {\n    this.fill(opIdx, path, false);\n    this.stroke(opIdx, path, false);\n    this.consumePath(opIdx, path);\n  }\n  eoFillStroke(opIdx, path) {\n    this.pendingEOFill = true;\n    this.fillStroke(opIdx, path);\n  }\n  closeFillStroke(opIdx, path) {\n    this.fillStroke(opIdx, path);\n  }\n  closeEOFillStroke(opIdx, path) {\n    this.pendingEOFill = true;\n    this.fillStroke(opIdx, path);\n  }\n  endPath(opIdx, path) {\n    this.consumePath(opIdx, path);\n  }\n  rawFillPath(opIdx, path) {\n    this.ctx.fill(path);\n    this.dependencyTracker?.recordDependencies(opIdx, Dependencies.rawFillPath).recordOperation(opIdx);\n  }\n  clip(opIdx) {\n    this.dependencyTracker?.recordFutureForcedDependency(\"clipMode\", opIdx);\n    this.pendingClip = NORMAL_CLIP;\n  }\n  eoClip(opIdx) {\n    this.dependencyTracker?.recordFutureForcedDependency(\"clipMode\", opIdx);\n    this.pendingClip = EO_CLIP;\n  }\n  beginText(opIdx) {\n    this.current.textMatrix = null;\n    this.current.textMatrixScale = 1;\n    this.current.x = this.current.lineX = 0;\n    this.current.y = this.current.lineY = 0;\n    this.dependencyTracker?.recordOpenMarker(opIdx).resetIncrementalData(\"sameLineText\").resetIncrementalData(\"moveText\", opIdx);\n  }\n  endText(opIdx) {\n    const paths = this.pendingTextPaths;\n    const ctx = this.ctx;\n    if (this.dependencyTracker) {\n      const {\n        dependencyTracker\n      } = this;\n      if (paths !== undefined) {\n        dependencyTracker.recordFutureForcedDependency(\"textClip\", dependencyTracker.getOpenMarker()).recordFutureForcedDependency(\"textClip\", opIdx);\n      }\n      dependencyTracker.recordCloseMarker(opIdx);\n    }\n    if (paths !== undefined) {\n      const newPath = new Path2D();\n      const invTransf = ctx.getTransform().invertSelf();\n      for (const {\n        transform,\n        x,\n        y,\n        fontSize,\n        path\n      } of paths) {\n        if (!path) {\n          continue;\n        }\n        newPath.addPath(path, new DOMMatrix(transform).preMultiplySelf(invTransf).translate(x, y).scale(fontSize, -fontSize));\n      }\n      ctx.clip(newPath);\n    }\n    delete this.pendingTextPaths;\n  }\n  setCharSpacing(opIdx, spacing) {\n    this.dependencyTracker?.recordSimpleData(\"charSpacing\", opIdx);\n    this.current.charSpacing = spacing;\n  }\n  setWordSpacing(opIdx, spacing) {\n    this.dependencyTracker?.recordSimpleData(\"wordSpacing\", opIdx);\n    this.current.wordSpacing = spacing;\n  }\n  setHScale(opIdx, scale) {\n    this.dependencyTracker?.recordSimpleData(\"hScale\", opIdx);\n    this.current.textHScale = scale / 100;\n  }\n  setLeading(opIdx, leading) {\n    this.dependencyTracker?.recordSimpleData(\"leading\", opIdx);\n    this.current.leading = -leading;\n  }\n  setFont(opIdx, fontRefName, size) {\n    this.dependencyTracker?.recordSimpleData(\"font\", opIdx).recordSimpleDataFromNamed(\"fontObj\", fontRefName, opIdx);\n    const fontObj = this.commonObjs.get(fontRefName);\n    const current = this.current;\n    if (!fontObj) {\n      throw new Error(`Can't find font for ${fontRefName}`);\n    }\n    current.fontMatrix = fontObj.fontMatrix || FONT_IDENTITY_MATRIX;\n    if (current.fontMatrix[0] === 0 || current.fontMatrix[3] === 0) {\n      warn(\"Invalid font matrix for font \" + fontRefName);\n    }\n    if (size < 0) {\n      size = -size;\n      current.fontDirection = -1;\n    } else {\n      current.fontDirection = 1;\n    }\n    this.current.font = fontObj;\n    this.current.fontSize = size;\n    if (fontObj.isType3Font) {\n      return;\n    }\n    const name = fontObj.loadedName || \"sans-serif\";\n    const typeface = fontObj.systemFontInfo?.css || `\"${name}\", ${fontObj.fallbackName}`;\n    let bold = \"normal\";\n    if (fontObj.black) {\n      bold = \"900\";\n    } else if (fontObj.bold) {\n      bold = \"bold\";\n    }\n    const italic = fontObj.italic ? \"italic\" : \"normal\";\n    let browserFontSize = size;\n    if (size < MIN_FONT_SIZE) {\n      browserFontSize = MIN_FONT_SIZE;\n    } else if (size > MAX_FONT_SIZE) {\n      browserFontSize = MAX_FONT_SIZE;\n    }\n    this.current.fontSizeScale = size / browserFontSize;\n    this.ctx.font = `${italic} ${bold} ${browserFontSize}px ${typeface}`;\n  }\n  setTextRenderingMode(opIdx, mode) {\n    this.dependencyTracker?.recordSimpleData(\"textRenderingMode\", opIdx);\n    this.current.textRenderingMode = mode;\n  }\n  setTextRise(opIdx, rise) {\n    this.dependencyTracker?.recordSimpleData(\"textRise\", opIdx);\n    this.current.textRise = rise;\n  }\n  moveText(opIdx, x, y) {\n    this.dependencyTracker?.resetIncrementalData(\"sameLineText\").recordIncrementalData(\"moveText\", opIdx);\n    this.current.x = this.current.lineX += x;\n    this.current.y = this.current.lineY += y;\n  }\n  setLeadingMoveText(opIdx, x, y) {\n    this.setLeading(opIdx, -y);\n    this.moveText(opIdx, x, y);\n  }\n  setTextMatrix(opIdx, matrix) {\n    this.dependencyTracker?.resetIncrementalData(\"sameLineText\").recordSimpleData(\"textMatrix\", opIdx);\n    const {\n      current\n    } = this;\n    current.textMatrix = matrix;\n    current.textMatrixScale = Math.hypot(matrix[0], matrix[1]);\n    current.x = current.lineX = 0;\n    current.y = current.lineY = 0;\n  }\n  nextLine(opIdx) {\n    this.moveText(opIdx, 0, this.current.leading);\n    this.dependencyTracker?.recordIncrementalData(\"moveText\", this.dependencyTracker.getSimpleIndex(\"leading\") ?? opIdx);\n  }\n  #getScaledPath(path, currentTransform, transform) {\n    const newPath = new Path2D();\n    newPath.addPath(path, new DOMMatrix(transform).invertSelf().multiplySelf(currentTransform));\n    return newPath;\n  }\n  paintChar(opIdx, character, x, y, patternFillTransform, patternStrokeTransform) {\n    const ctx = this.ctx;\n    const current = this.current;\n    const font = current.font;\n    const textRenderingMode = current.textRenderingMode;\n    const fontSize = current.fontSize / current.fontSizeScale;\n    const fillStrokeMode = textRenderingMode & TextRenderingMode.FILL_STROKE_MASK;\n    const isAddToPathSet = !!(textRenderingMode & TextRenderingMode.ADD_TO_PATH_FLAG);\n    const patternFill = current.patternFill && !font.missingFile;\n    const patternStroke = current.patternStroke && !font.missingFile;\n    let path;\n    if ((font.disableFontFace || isAddToPathSet || patternFill || patternStroke) && !font.missingFile) {\n      path = font.getPathGenerator(this.commonObjs, character);\n    }\n    if (path && (font.disableFontFace || patternFill || patternStroke)) {\n      ctx.save();\n      ctx.translate(x, y);\n      ctx.scale(fontSize, -fontSize);\n      this.dependencyTracker?.recordCharacterBBox(opIdx, ctx, font);\n      let currentTransform;\n      if (fillStrokeMode === TextRenderingMode.FILL || fillStrokeMode === TextRenderingMode.FILL_STROKE) {\n        if (patternFillTransform) {\n          currentTransform = ctx.getTransform();\n          ctx.setTransform(...patternFillTransform);\n          const scaledPath = this.#getScaledPath(path, currentTransform, patternFillTransform);\n          ctx.fill(scaledPath);\n        } else {\n          ctx.fill(path);\n        }\n      }\n      if (fillStrokeMode === TextRenderingMode.STROKE || fillStrokeMode === TextRenderingMode.FILL_STROKE) {\n        if (patternStrokeTransform) {\n          currentTransform ||= ctx.getTransform();\n          ctx.setTransform(...patternStrokeTransform);\n          const {\n            a,\n            b,\n            c,\n            d\n          } = currentTransform;\n          const invPatternTransform = Util.inverseTransform(patternStrokeTransform);\n          const transf = Util.transform([a, b, c, d, 0, 0], invPatternTransform);\n          Util.singularValueDecompose2dScale(transf, XY);\n          ctx.lineWidth *= Math.max(XY[0], XY[1]) / fontSize;\n          ctx.stroke(this.#getScaledPath(path, currentTransform, patternStrokeTransform));\n        } else {\n          ctx.lineWidth /= fontSize;\n          ctx.stroke(path);\n        }\n      }\n      ctx.restore();\n    } else {\n      if (fillStrokeMode === TextRenderingMode.FILL || fillStrokeMode === TextRenderingMode.FILL_STROKE) {\n        ctx.fillText(character, x, y);\n        this.dependencyTracker?.recordCharacterBBox(opIdx, ctx, font, fontSize, x, y, () => ctx.measureText(character));\n      }\n      if (fillStrokeMode === TextRenderingMode.STROKE || fillStrokeMode === TextRenderingMode.FILL_STROKE) {\n        if (this.dependencyTracker) {\n          this.dependencyTracker?.recordCharacterBBox(opIdx, ctx, font, fontSize, x, y, () => ctx.measureText(character)).recordDependencies(opIdx, Dependencies.stroke);\n        }\n        ctx.strokeText(character, x, y);\n      }\n    }\n    if (isAddToPathSet) {\n      const paths = this.pendingTextPaths ||= [];\n      paths.push({\n        transform: getCurrentTransform(ctx),\n        x,\n        y,\n        fontSize,\n        path\n      });\n      this.dependencyTracker?.recordCharacterBBox(opIdx, ctx, font, fontSize, x, y);\n    }\n  }\n  get isFontSubpixelAAEnabled() {\n    const {\n      context: ctx\n    } = this.cachedCanvases.getCanvas(\"isFontSubpixelAAEnabled\", 10, 10);\n    ctx.scale(1.5, 1);\n    ctx.fillText(\"I\", 0, 10);\n    const data = ctx.getImageData(0, 0, 10, 10).data;\n    let enabled = false;\n    for (let i = 3; i < data.length; i += 4) {\n      if (data[i] > 0 && data[i] < 255) {\n        enabled = true;\n        break;\n      }\n    }\n    return shadow(this, \"isFontSubpixelAAEnabled\", enabled);\n  }\n  showText(opIdx, glyphs) {\n    if (this.dependencyTracker) {\n      this.dependencyTracker.recordDependencies(opIdx, Dependencies.showText).resetBBox(opIdx);\n      if (this.current.textRenderingMode & TextRenderingMode.ADD_TO_PATH_FLAG) {\n        this.dependencyTracker.recordFutureForcedDependency(\"textClip\", opIdx).inheritPendingDependenciesAsFutureForcedDependencies();\n      }\n    }\n    const current = this.current;\n    const font = current.font;\n    if (font.isType3Font) {\n      this.showType3Text(opIdx, glyphs);\n      this.dependencyTracker?.recordShowTextOperation(opIdx);\n      return undefined;\n    }\n    const fontSize = current.fontSize;\n    if (fontSize === 0) {\n      this.dependencyTracker?.recordOperation(opIdx);\n      return undefined;\n    }\n    const ctx = this.ctx;\n    const fontSizeScale = current.fontSizeScale;\n    const charSpacing = current.charSpacing;\n    const wordSpacing = current.wordSpacing;\n    const fontDirection = current.fontDirection;\n    const textHScale = current.textHScale * fontDirection;\n    const glyphsLength = glyphs.length;\n    const vertical = font.vertical;\n    const spacingDir = vertical ? 1 : -1;\n    const defaultVMetrics = font.defaultVMetrics;\n    const widthAdvanceScale = fontSize * current.fontMatrix[0];\n    const simpleFillText = current.textRenderingMode === TextRenderingMode.FILL && !font.disableFontFace && !current.patternFill;\n    ctx.save();\n    if (current.textMatrix) {\n      ctx.transform(...current.textMatrix);\n    }\n    ctx.translate(current.x, current.y + current.textRise);\n    if (fontDirection > 0) {\n      ctx.scale(textHScale, -1);\n    } else {\n      ctx.scale(textHScale, 1);\n    }\n    let patternFillTransform, patternStrokeTransform;\n    const fillStrokeMode = current.textRenderingMode & TextRenderingMode.FILL_STROKE_MASK;\n    const needsFill = fillStrokeMode === TextRenderingMode.FILL || fillStrokeMode === TextRenderingMode.FILL_STROKE;\n    const needsStroke = fillStrokeMode === TextRenderingMode.STROKE || fillStrokeMode === TextRenderingMode.FILL_STROKE;\n    if (needsFill && current.patternFill) {\n      ctx.save();\n      const pattern = current.fillColor.getPattern(ctx, this, getCurrentTransformInverse(ctx), PathType.FILL, opIdx);\n      patternFillTransform = getCurrentTransform(ctx);\n      ctx.restore();\n      ctx.fillStyle = pattern;\n    }\n    if (needsStroke && current.patternStroke) {\n      ctx.save();\n      const pattern = current.strokeColor.getPattern(ctx, this, getCurrentTransformInverse(ctx), PathType.STROKE, opIdx);\n      patternStrokeTransform = getCurrentTransform(ctx);\n      ctx.restore();\n      ctx.strokeStyle = pattern;\n    }\n    let lineWidth = current.lineWidth;\n    const scale = current.textMatrixScale;\n    if (scale === 0 || lineWidth === 0) {\n      if (needsStroke) {\n        lineWidth = this.getSinglePixelWidth();\n      }\n    } else {\n      lineWidth /= scale;\n    }\n    if (fontSizeScale !== 1.0) {\n      ctx.scale(fontSizeScale, fontSizeScale);\n      lineWidth /= fontSizeScale;\n    }\n    ctx.lineWidth = lineWidth;\n    if (font.isInvalidPDFjsFont) {\n      const chars = [];\n      let width = 0;\n      for (const glyph of glyphs) {\n        chars.push(glyph.unicode);\n        width += glyph.width;\n      }\n      const joinedChars = chars.join(\"\");\n      ctx.fillText(joinedChars, 0, 0);\n      if (this.dependencyTracker !== null) {\n        const measure = ctx.measureText(joinedChars);\n        this.dependencyTracker.recordBBox(opIdx, this.ctx, -measure.actualBoundingBoxLeft, measure.actualBoundingBoxRight, -measure.actualBoundingBoxAscent, measure.actualBoundingBoxDescent).recordShowTextOperation(opIdx);\n      }\n      current.x += width * widthAdvanceScale * textHScale;\n      ctx.restore();\n      this.compose();\n      return undefined;\n    }\n    let x = 0,\n      i;\n    for (i = 0; i < glyphsLength; ++i) {\n      const glyph = glyphs[i];\n      if (typeof glyph === \"number\") {\n        x += spacingDir * glyph * fontSize / 1000;\n        continue;\n      }\n      let restoreNeeded = false;\n      const spacing = (glyph.isSpace ? wordSpacing : 0) + charSpacing;\n      const character = glyph.fontChar;\n      const accent = glyph.accent;\n      let scaledX, scaledY;\n      let width = glyph.width;\n      if (vertical) {\n        const vmetric = glyph.vmetric || defaultVMetrics;\n        const vx = -(glyph.vmetric ? vmetric[1] : width * 0.5) * widthAdvanceScale;\n        const vy = vmetric[2] * widthAdvanceScale;\n        width = vmetric ? -vmetric[0] : width;\n        scaledX = vx / fontSizeScale;\n        scaledY = (x + vy) / fontSizeScale;\n      } else {\n        scaledX = x / fontSizeScale;\n        scaledY = 0;\n      }\n      let measure;\n      if (font.remeasure && width > 0) {\n        measure = ctx.measureText(character);\n        const measuredWidth = measure.width * 1000 / fontSize * fontSizeScale;\n        if (width < measuredWidth && this.isFontSubpixelAAEnabled) {\n          const characterScaleX = width / measuredWidth;\n          restoreNeeded = true;\n          ctx.save();\n          ctx.scale(characterScaleX, 1);\n          scaledX /= characterScaleX;\n        } else if (width !== measuredWidth) {\n          scaledX += (width - measuredWidth) / 2000 * fontSize / fontSizeScale;\n        }\n      }\n      if (this.contentVisible && (glyph.isInFont || font.missingFile)) {\n        if (simpleFillText && !accent) {\n          ctx.fillText(character, scaledX, scaledY);\n          this.dependencyTracker?.recordCharacterBBox(opIdx, ctx, measure ? {\n            bbox: null\n          } : font, fontSize / fontSizeScale, scaledX, scaledY, () => measure ?? ctx.measureText(character));\n        } else {\n          this.paintChar(opIdx, character, scaledX, scaledY, patternFillTransform, patternStrokeTransform);\n          if (accent) {\n            const scaledAccentX = scaledX + fontSize * accent.offset.x / fontSizeScale;\n            const scaledAccentY = scaledY - fontSize * accent.offset.y / fontSizeScale;\n            this.paintChar(opIdx, accent.fontChar, scaledAccentX, scaledAccentY, patternFillTransform, patternStrokeTransform);\n          }\n        }\n      }\n      const charWidth = vertical ? width * widthAdvanceScale - spacing * fontDirection : width * widthAdvanceScale + spacing * fontDirection;\n      x += charWidth;\n      if (restoreNeeded) {\n        ctx.restore();\n      }\n    }\n    if (vertical) {\n      current.y -= x;\n    } else {\n      current.x += x * textHScale;\n    }\n    ctx.restore();\n    this.compose();\n    this.dependencyTracker?.recordShowTextOperation(opIdx);\n    return undefined;\n  }\n  showType3Text(opIdx, glyphs) {\n    const ctx = this.ctx;\n    const current = this.current;\n    const font = current.font;\n    const fontSize = current.fontSize;\n    const fontDirection = current.fontDirection;\n    const spacingDir = font.vertical ? 1 : -1;\n    const charSpacing = current.charSpacing;\n    const wordSpacing = current.wordSpacing;\n    const textHScale = current.textHScale * fontDirection;\n    const fontMatrix = current.fontMatrix || FONT_IDENTITY_MATRIX;\n    const glyphsLength = glyphs.length;\n    const isTextInvisible = current.textRenderingMode === TextRenderingMode.INVISIBLE;\n    let i, glyph, width, spacingLength;\n    if (isTextInvisible || fontSize === 0) {\n      return;\n    }\n    this._cachedScaleForStroking[0] = -1;\n    this._cachedGetSinglePixelWidth = null;\n    ctx.save();\n    if (current.textMatrix) {\n      ctx.transform(...current.textMatrix);\n    }\n    ctx.translate(current.x, current.y + current.textRise);\n    ctx.scale(textHScale, fontDirection);\n    const dependencyTracker = this.dependencyTracker;\n    this.dependencyTracker = dependencyTracker ? new CanvasNestedDependencyTracker(dependencyTracker, opIdx) : null;\n    for (i = 0; i < glyphsLength; ++i) {\n      glyph = glyphs[i];\n      if (typeof glyph === \"number\") {\n        spacingLength = spacingDir * glyph * fontSize / 1000;\n        this.ctx.translate(spacingLength, 0);\n        current.x += spacingLength * textHScale;\n        continue;\n      }\n      const spacing = (glyph.isSpace ? wordSpacing : 0) + charSpacing;\n      const operatorList = font.charProcOperatorList[glyph.operatorListId];\n      if (!operatorList) {\n        warn(`Type3 character \"${glyph.operatorListId}\" is not available.`);\n      } else if (this.contentVisible) {\n        this.save();\n        ctx.scale(fontSize, fontSize);\n        ctx.transform(...fontMatrix);\n        this.executeOperatorList(operatorList);\n        this.restore();\n      }\n      const p = [glyph.width, 0];\n      Util.applyTransform(p, fontMatrix);\n      width = p[0] * fontSize + spacing;\n      ctx.translate(width, 0);\n      current.x += width * textHScale;\n    }\n    ctx.restore();\n    if (dependencyTracker) {\n      this.dependencyTracker = dependencyTracker;\n    }\n  }\n  setCharWidth(opIdx, xWidth, yWidth) {}\n  setCharWidthAndBounds(opIdx, xWidth, yWidth, llx, lly, urx, ury) {\n    const clip = new Path2D();\n    clip.rect(llx, lly, urx - llx, ury - lly);\n    this.ctx.clip(clip);\n    this.dependencyTracker?.recordBBox(opIdx, this.ctx, llx, urx, lly, ury).recordClipBox(opIdx, this.ctx, llx, urx, lly, ury);\n    this.endPath(opIdx);\n  }\n  getColorN_Pattern(opIdx, IR) {\n    let pattern;\n    if (IR[0] === \"TilingPattern\") {\n      const baseTransform = this.baseTransform || getCurrentTransform(this.ctx);\n      const canvasGraphicsFactory = {\n        createCanvasGraphics: (ctx, renderingOpIdx) => new CanvasGraphics(ctx, this.commonObjs, this.objs, this.canvasFactory, this.filterFactory, {\n          optionalContentConfig: this.optionalContentConfig,\n          markedContentStack: this.markedContentStack\n        }, undefined, undefined, this.dependencyTracker ? new CanvasNestedDependencyTracker(this.dependencyTracker, renderingOpIdx, true) : null)\n      };\n      pattern = new TilingPattern(IR, this.ctx, canvasGraphicsFactory, baseTransform);\n    } else {\n      pattern = this._getPattern(opIdx, IR[1], IR[2]);\n    }\n    return pattern;\n  }\n  setStrokeColorN(opIdx, ...args) {\n    this.dependencyTracker?.recordSimpleData(\"strokeColor\", opIdx);\n    this.current.strokeColor = this.getColorN_Pattern(opIdx, args);\n    this.current.patternStroke = true;\n  }\n  setFillColorN(opIdx, ...args) {\n    this.dependencyTracker?.recordSimpleData(\"fillColor\", opIdx);\n    this.current.fillColor = this.getColorN_Pattern(opIdx, args);\n    this.current.patternFill = true;\n  }\n  setStrokeRGBColor(opIdx, color) {\n    this.dependencyTracker?.recordSimpleData(\"strokeColor\", opIdx);\n    this.ctx.strokeStyle = this.current.strokeColor = color;\n    this.current.patternStroke = false;\n  }\n  setStrokeTransparent(opIdx) {\n    this.dependencyTracker?.recordSimpleData(\"strokeColor\", opIdx);\n    this.ctx.strokeStyle = this.current.strokeColor = \"transparent\";\n    this.current.patternStroke = false;\n  }\n  setFillRGBColor(opIdx, color) {\n    this.dependencyTracker?.recordSimpleData(\"fillColor\", opIdx);\n    this.ctx.fillStyle = this.current.fillColor = color;\n    this.current.patternFill = false;\n  }\n  setFillTransparent(opIdx) {\n    this.dependencyTracker?.recordSimpleData(\"fillColor\", opIdx);\n    this.ctx.fillStyle = this.current.fillColor = \"transparent\";\n    this.current.patternFill = false;\n  }\n  _getPattern(opIdx, objId, matrix = null) {\n    let pattern;\n    if (this.cachedPatterns.has(objId)) {\n      pattern = this.cachedPatterns.get(objId);\n    } else {\n      pattern = getShadingPattern(this.getObject(opIdx, objId));\n      this.cachedPatterns.set(objId, pattern);\n    }\n    if (matrix) {\n      pattern.matrix = matrix;\n    }\n    return pattern;\n  }\n  shadingFill(opIdx, objId) {\n    if (!this.contentVisible) {\n      return;\n    }\n    const ctx = this.ctx;\n    this.save(opIdx);\n    const pattern = this._getPattern(opIdx, objId);\n    ctx.fillStyle = pattern.getPattern(ctx, this, getCurrentTransformInverse(ctx), PathType.SHADING, opIdx);\n    const inv = getCurrentTransformInverse(ctx);\n    if (inv) {\n      const {\n        width,\n        height\n      } = ctx.canvas;\n      const minMax = MIN_MAX_INIT.slice();\n      Util.axialAlignedBoundingBox([0, 0, width, height], inv, minMax);\n      const [x0, y0, x1, y1] = minMax;\n      this.ctx.fillRect(x0, y0, x1 - x0, y1 - y0);\n    } else {\n      this.ctx.fillRect(-1e10, -1e10, 2e10, 2e10);\n    }\n    this.dependencyTracker?.resetBBox(opIdx).recordFullPageBBox(opIdx).recordDependencies(opIdx, Dependencies.transform).recordDependencies(opIdx, Dependencies.fill).recordOperation(opIdx);\n    this.compose(this.current.getClippedPathBoundingBox());\n    this.restore(opIdx);\n  }\n  beginInlineImage() {\n    unreachable(\"Should not call beginInlineImage\");\n  }\n  beginImageData() {\n    unreachable(\"Should not call beginImageData\");\n  }\n  paintFormXObjectBegin(opIdx, matrix, bbox) {\n    if (!this.contentVisible) {\n      return;\n    }\n    this.save(opIdx);\n    this.baseTransformStack.push(this.baseTransform);\n    if (matrix) {\n      this.transform(opIdx, ...matrix);\n    }\n    this.baseTransform = getCurrentTransform(this.ctx);\n    if (bbox) {\n      Util.axialAlignedBoundingBox(bbox, this.baseTransform, this.current.minMax);\n      const [x0, y0, x1, y1] = bbox;\n      const clip = new Path2D();\n      clip.rect(x0, y0, x1 - x0, y1 - y0);\n      this.ctx.clip(clip);\n      this.dependencyTracker?.recordClipBox(opIdx, this.ctx, x0, x1, y0, y1);\n      this.endPath(opIdx);\n    }\n  }\n  paintFormXObjectEnd(opIdx) {\n    if (!this.contentVisible) {\n      return;\n    }\n    this.restore(opIdx);\n    this.baseTransform = this.baseTransformStack.pop();\n  }\n  beginGroup(opIdx, group) {\n    if (!this.contentVisible) {\n      return;\n    }\n    this.save(opIdx);\n    if (this.inSMaskMode) {\n      this.endSMaskMode();\n      this.current.activeSMask = null;\n    }\n    const currentCtx = this.ctx;\n    if (!group.isolated) {\n      info(\"TODO: Support non-isolated groups.\");\n    }\n    if (group.knockout) {\n      warn(\"Knockout groups not supported.\");\n    }\n    const currentTransform = getCurrentTransform(currentCtx);\n    if (group.matrix) {\n      currentCtx.transform(...group.matrix);\n    }\n    if (!group.bbox) {\n      throw new Error(\"Bounding box is required.\");\n    }\n    let bounds = MIN_MAX_INIT.slice();\n    Util.axialAlignedBoundingBox(group.bbox, getCurrentTransform(currentCtx), bounds);\n    const canvasBounds = [0, 0, currentCtx.canvas.width, currentCtx.canvas.height];\n    bounds = Util.intersect(bounds, canvasBounds) || [0, 0, 0, 0];\n    const offsetX = Math.floor(bounds[0]);\n    const offsetY = Math.floor(bounds[1]);\n    const drawnWidth = Math.max(Math.ceil(bounds[2]) - offsetX, 1);\n    const drawnHeight = Math.max(Math.ceil(bounds[3]) - offsetY, 1);\n    this.current.startNewPathAndClipBox([0, 0, drawnWidth, drawnHeight]);\n    let cacheId = \"groupAt\" + this.groupLevel;\n    if (group.smask) {\n      cacheId += \"_smask_\" + this.smaskCounter++ % 2;\n    }\n    const scratchCanvas = this.cachedCanvases.getCanvas(cacheId, drawnWidth, drawnHeight);\n    const groupCtx = scratchCanvas.context;\n    groupCtx.translate(-offsetX, -offsetY);\n    groupCtx.transform(...currentTransform);\n    let clip = new Path2D();\n    const [x0, y0, x1, y1] = group.bbox;\n    clip.rect(x0, y0, x1 - x0, y1 - y0);\n    if (group.matrix) {\n      const path = new Path2D();\n      path.addPath(clip, new DOMMatrix(group.matrix));\n      clip = path;\n    }\n    groupCtx.clip(clip);\n    if (group.smask) {\n      this.smaskStack.push({\n        canvas: scratchCanvas.canvas,\n        context: groupCtx,\n        offsetX,\n        offsetY,\n        subtype: group.smask.subtype,\n        backdrop: group.smask.backdrop,\n        transferMap: group.smask.transferMap || null,\n        startTransformInverse: null\n      });\n    }\n    if (!group.smask || this.dependencyTracker) {\n      currentCtx.setTransform(1, 0, 0, 1, 0, 0);\n      currentCtx.translate(offsetX, offsetY);\n      currentCtx.save();\n    }\n    copyCtxState(currentCtx, groupCtx);\n    this.ctx = groupCtx;\n    this.dependencyTracker?.inheritSimpleDataAsFutureForcedDependencies([\"fillAlpha\", \"strokeAlpha\", \"globalCompositeOperation\"]).pushBaseTransform(currentCtx);\n    this.setGState(opIdx, [[\"BM\", \"source-over\"], [\"ca\", 1], [\"CA\", 1]]);\n    this.groupStack.push(currentCtx);\n    this.groupLevel++;\n  }\n  endGroup(opIdx, group) {\n    if (!this.contentVisible) {\n      return;\n    }\n    this.groupLevel--;\n    const groupCtx = this.ctx;\n    const ctx = this.groupStack.pop();\n    this.ctx = ctx;\n    this.ctx.imageSmoothingEnabled = false;\n    this.dependencyTracker?.popBaseTransform();\n    if (group.smask) {\n      this.tempSMask = this.smaskStack.pop();\n      this.restore(opIdx);\n      if (this.dependencyTracker) {\n        this.ctx.restore();\n      }\n    } else {\n      this.ctx.restore();\n      const currentMtx = getCurrentTransform(this.ctx);\n      this.restore(opIdx);\n      this.ctx.save();\n      this.ctx.setTransform(...currentMtx);\n      const dirtyBox = MIN_MAX_INIT.slice();\n      Util.axialAlignedBoundingBox([0, 0, groupCtx.canvas.width, groupCtx.canvas.height], currentMtx, dirtyBox);\n      this.ctx.drawImage(groupCtx.canvas, 0, 0);\n      this.ctx.restore();\n      this.compose(dirtyBox);\n    }\n  }\n  beginAnnotation(opIdx, id, rect, transform, matrix, hasOwnCanvas) {\n    this.#restoreInitialState();\n    resetCtxToDefault(this.ctx);\n    this.ctx.save();\n    this.save(opIdx);\n    if (this.baseTransform) {\n      this.ctx.setTransform(...this.baseTransform);\n    }\n    if (rect) {\n      const width = rect[2] - rect[0];\n      const height = rect[3] - rect[1];\n      if (hasOwnCanvas && this.annotationCanvasMap) {\n        transform = transform.slice();\n        transform[4] -= rect[0];\n        transform[5] -= rect[1];\n        rect = rect.slice();\n        rect[0] = rect[1] = 0;\n        rect[2] = width;\n        rect[3] = height;\n        Util.singularValueDecompose2dScale(getCurrentTransform(this.ctx), XY);\n        const {\n          viewportScale\n        } = this;\n        const canvasWidth = Math.ceil(width * this.outputScaleX * viewportScale);\n        const canvasHeight = Math.ceil(height * this.outputScaleY * viewportScale);\n        this.annotationCanvas = this.canvasFactory.create(canvasWidth, canvasHeight);\n        const {\n          canvas,\n          context\n        } = this.annotationCanvas;\n        this.annotationCanvasMap.set(id, canvas);\n        this.annotationCanvas.savedCtx = this.ctx;\n        this.ctx = context;\n        this.ctx.save();\n        this.ctx.setTransform(XY[0], 0, 0, -XY[1], 0, height * XY[1]);\n        resetCtxToDefault(this.ctx);\n      } else {\n        resetCtxToDefault(this.ctx);\n        this.endPath(opIdx);\n        const clip = new Path2D();\n        clip.rect(rect[0], rect[1], width, height);\n        this.ctx.clip(clip);\n      }\n    }\n    this.current = new CanvasExtraState(this.ctx.canvas.width, this.ctx.canvas.height);\n    this.transform(opIdx, ...transform);\n    this.transform(opIdx, ...matrix);\n  }\n  endAnnotation(opIdx) {\n    if (this.annotationCanvas) {\n      this.ctx.restore();\n      this.#drawFilter();\n      this.ctx = this.annotationCanvas.savedCtx;\n      delete this.annotationCanvas.savedCtx;\n      delete this.annotationCanvas;\n    }\n  }\n  paintImageMaskXObject(opIdx, img) {\n    if (!this.contentVisible) {\n      return;\n    }\n    const count = img.count;\n    img = this.getObject(opIdx, img.data, img);\n    img.count = count;\n    const ctx = this.ctx;\n    const mask = this._createMaskCanvas(opIdx, img);\n    const maskCanvas = mask.canvas;\n    ctx.save();\n    ctx.setTransform(1, 0, 0, 1, 0, 0);\n    ctx.drawImage(maskCanvas, mask.offsetX, mask.offsetY);\n    this.dependencyTracker?.resetBBox(opIdx).recordBBox(opIdx, this.ctx, mask.offsetX, mask.offsetX + maskCanvas.width, mask.offsetY, mask.offsetY + maskCanvas.height).recordOperation(opIdx);\n    ctx.restore();\n    this.compose();\n  }\n  paintImageMaskXObjectRepeat(opIdx, img, scaleX, skewX = 0, skewY = 0, scaleY, positions) {\n    if (!this.contentVisible) {\n      return;\n    }\n    img = this.getObject(opIdx, img.data, img);\n    const ctx = this.ctx;\n    ctx.save();\n    const currentTransform = getCurrentTransform(ctx);\n    ctx.transform(scaleX, skewX, skewY, scaleY, 0, 0);\n    const mask = this._createMaskCanvas(opIdx, img);\n    ctx.setTransform(1, 0, 0, 1, mask.offsetX - currentTransform[4], mask.offsetY - currentTransform[5]);\n    this.dependencyTracker?.resetBBox(opIdx);\n    for (let i = 0, ii = positions.length; i < ii; i += 2) {\n      const trans = Util.transform(currentTransform, [scaleX, skewX, skewY, scaleY, positions[i], positions[i + 1]]);\n      ctx.drawImage(mask.canvas, trans[4], trans[5]);\n      this.dependencyTracker?.recordBBox(opIdx, this.ctx, trans[4], trans[4] + mask.canvas.width, trans[5], trans[5] + mask.canvas.height);\n    }\n    ctx.restore();\n    this.compose();\n    this.dependencyTracker?.recordOperation(opIdx);\n  }\n  paintImageMaskXObjectGroup(opIdx, images) {\n    if (!this.contentVisible) {\n      return;\n    }\n    const ctx = this.ctx;\n    const fillColor = this.current.fillColor;\n    const isPatternFill = this.current.patternFill;\n    this.dependencyTracker?.resetBBox(opIdx).recordDependencies(opIdx, Dependencies.transformAndFill);\n    for (const image of images) {\n      const {\n        data,\n        width,\n        height,\n        transform\n      } = image;\n      const maskCanvas = this.cachedCanvases.getCanvas(\"maskCanvas\", width, height);\n      const maskCtx = maskCanvas.context;\n      maskCtx.save();\n      const img = this.getObject(opIdx, data, image);\n      putBinaryImageMask(maskCtx, img);\n      maskCtx.globalCompositeOperation = \"source-in\";\n      maskCtx.fillStyle = isPatternFill ? fillColor.getPattern(maskCtx, this, getCurrentTransformInverse(ctx), PathType.FILL, opIdx) : fillColor;\n      maskCtx.fillRect(0, 0, width, height);\n      maskCtx.restore();\n      ctx.save();\n      ctx.transform(...transform);\n      ctx.scale(1, -1);\n      drawImageAtIntegerCoords(ctx, maskCanvas.canvas, 0, 0, width, height, 0, -1, 1, 1);\n      this.dependencyTracker?.recordBBox(opIdx, ctx, 0, width, 0, height);\n      ctx.restore();\n    }\n    this.compose();\n    this.dependencyTracker?.recordOperation(opIdx);\n  }\n  paintImageXObject(opIdx, objId) {\n    if (!this.contentVisible) {\n      return;\n    }\n    const imgData = this.getObject(opIdx, objId);\n    if (!imgData) {\n      warn(\"Dependent image isn't ready yet\");\n      return;\n    }\n    this.paintInlineImageXObject(opIdx, imgData);\n  }\n  paintImageXObjectRepeat(opIdx, objId, scaleX, scaleY, positions) {\n    if (!this.contentVisible) {\n      return;\n    }\n    const imgData = this.getObject(opIdx, objId);\n    if (!imgData) {\n      warn(\"Dependent image isn't ready yet\");\n      return;\n    }\n    const width = imgData.width;\n    const height = imgData.height;\n    const map = [];\n    for (let i = 0, ii = positions.length; i < ii; i += 2) {\n      map.push({\n        transform: [scaleX, 0, 0, scaleY, positions[i], positions[i + 1]],\n        x: 0,\n        y: 0,\n        w: width,\n        h: height\n      });\n    }\n    this.paintInlineImageXObjectGroup(opIdx, imgData, map);\n  }\n  applyTransferMapsToCanvas(ctx) {\n    if (this.current.transferMaps !== \"none\") {\n      ctx.filter = this.current.transferMaps;\n      ctx.drawImage(ctx.canvas, 0, 0);\n      ctx.filter = \"none\";\n    }\n    return ctx.canvas;\n  }\n  applyTransferMapsToBitmap(imgData) {\n    if (this.current.transferMaps === \"none\") {\n      return imgData.bitmap;\n    }\n    const {\n      bitmap,\n      width,\n      height\n    } = imgData;\n    const tmpCanvas = this.cachedCanvases.getCanvas(\"inlineImage\", width, height);\n    const tmpCtx = tmpCanvas.context;\n    tmpCtx.filter = this.current.transferMaps;\n    tmpCtx.drawImage(bitmap, 0, 0);\n    tmpCtx.filter = \"none\";\n    return tmpCanvas.canvas;\n  }\n  paintInlineImageXObject(opIdx, imgData) {\n    if (!this.contentVisible) {\n      return;\n    }\n    const width = imgData.width;\n    const height = imgData.height;\n    const ctx = this.ctx;\n    this.save(opIdx);\n    const {\n      filter\n    } = ctx;\n    if (filter !== \"none\" && filter !== \"\") {\n      ctx.filter = \"none\";\n    }\n    ctx.scale(1 / width, -1 / height);\n    let imgToPaint;\n    if (imgData.bitmap) {\n      imgToPaint = this.applyTransferMapsToBitmap(imgData);\n    } else if (typeof HTMLElement === \"function\" && imgData instanceof HTMLElement || !imgData.data) {\n      imgToPaint = imgData;\n    } else {\n      const tmpCanvas = this.cachedCanvases.getCanvas(\"inlineImage\", width, height);\n      const tmpCtx = tmpCanvas.context;\n      putBinaryImageData(tmpCtx, imgData);\n      imgToPaint = this.applyTransferMapsToCanvas(tmpCtx);\n    }\n    const scaled = this._scaleImage(imgToPaint, getCurrentTransformInverse(ctx));\n    ctx.imageSmoothingEnabled = getImageSmoothingEnabled(getCurrentTransform(ctx), imgData.interpolate);\n    this.dependencyTracker?.resetBBox(opIdx).recordBBox(opIdx, ctx, 0, width, -height, 0).recordDependencies(opIdx, Dependencies.imageXObject).recordOperation(opIdx);\n    drawImageAtIntegerCoords(ctx, scaled.img, 0, 0, scaled.paintWidth, scaled.paintHeight, 0, -height, width, height);\n    this.compose();\n    this.restore(opIdx);\n  }\n  paintInlineImageXObjectGroup(opIdx, imgData, map) {\n    if (!this.contentVisible) {\n      return;\n    }\n    const ctx = this.ctx;\n    let imgToPaint;\n    if (imgData.bitmap) {\n      imgToPaint = imgData.bitmap;\n    } else {\n      const w = imgData.width;\n      const h = imgData.height;\n      const tmpCanvas = this.cachedCanvases.getCanvas(\"inlineImage\", w, h);\n      const tmpCtx = tmpCanvas.context;\n      putBinaryImageData(tmpCtx, imgData);\n      imgToPaint = this.applyTransferMapsToCanvas(tmpCtx);\n    }\n    this.dependencyTracker?.resetBBox(opIdx);\n    for (const entry of map) {\n      ctx.save();\n      ctx.transform(...entry.transform);\n      ctx.scale(1, -1);\n      drawImageAtIntegerCoords(ctx, imgToPaint, entry.x, entry.y, entry.w, entry.h, 0, -1, 1, 1);\n      this.dependencyTracker?.recordBBox(opIdx, ctx, 0, 1, -1, 0);\n      ctx.restore();\n    }\n    this.dependencyTracker?.recordOperation(opIdx);\n    this.compose();\n  }\n  paintSolidColorImageMask(opIdx) {\n    if (!this.contentVisible) {\n      return;\n    }\n    this.dependencyTracker?.resetBBox(opIdx).recordBBox(opIdx, this.ctx, 0, 1, 0, 1).recordDependencies(opIdx, Dependencies.fill).recordOperation(opIdx);\n    this.ctx.fillRect(0, 0, 1, 1);\n    this.compose();\n  }\n  markPoint(opIdx, tag) {}\n  markPointProps(opIdx, tag, properties) {}\n  beginMarkedContent(opIdx, tag) {\n    this.dependencyTracker?.beginMarkedContent(opIdx);\n    this.markedContentStack.push({\n      visible: true\n    });\n  }\n  beginMarkedContentProps(opIdx, tag, properties) {\n    this.dependencyTracker?.beginMarkedContent(opIdx);\n    if (tag === \"OC\") {\n      this.markedContentStack.push({\n        visible: this.optionalContentConfig.isVisible(properties)\n      });\n    } else {\n      this.markedContentStack.push({\n        visible: true\n      });\n    }\n    this.contentVisible = this.isContentVisible();\n  }\n  endMarkedContent(opIdx) {\n    this.dependencyTracker?.endMarkedContent(opIdx);\n    this.markedContentStack.pop();\n    this.contentVisible = this.isContentVisible();\n  }\n  beginCompat(opIdx) {}\n  endCompat(opIdx) {}\n  consumePath(opIdx, path, clipBox) {\n    const isEmpty = this.current.isEmptyClip();\n    if (this.pendingClip) {\n      this.current.updateClipFromPath();\n    }\n    if (!this.pendingClip) {\n      this.compose(clipBox);\n    }\n    const ctx = this.ctx;\n    if (this.pendingClip) {\n      if (!isEmpty) {\n        if (this.pendingClip === EO_CLIP) {\n          ctx.clip(path, \"evenodd\");\n        } else {\n          ctx.clip(path);\n        }\n      }\n      this.pendingClip = null;\n      this.dependencyTracker?.bboxToClipBoxDropOperation(opIdx).recordFutureForcedDependency(\"clipPath\", opIdx);\n    } else {\n      this.dependencyTracker?.recordOperation(opIdx);\n    }\n    this.current.startNewPathAndClipBox(this.current.clipBox);\n  }\n  getSinglePixelWidth() {\n    if (!this._cachedGetSinglePixelWidth) {\n      const m = getCurrentTransform(this.ctx);\n      if (m[1] === 0 && m[2] === 0) {\n        this._cachedGetSinglePixelWidth = 1 / Math.min(Math.abs(m[0]), Math.abs(m[3]));\n      } else {\n        const absDet = Math.abs(m[0] * m[3] - m[2] * m[1]);\n        const normX = Math.hypot(m[0], m[2]);\n        const normY = Math.hypot(m[1], m[3]);\n        this._cachedGetSinglePixelWidth = Math.max(normX, normY) / absDet;\n      }\n    }\n    return this._cachedGetSinglePixelWidth;\n  }\n  getScaleForStroking() {\n    if (this._cachedScaleForStroking[0] === -1) {\n      const {\n        lineWidth\n      } = this.current;\n      const {\n        a,\n        b,\n        c,\n        d\n      } = this.ctx.getTransform();\n      let scaleX, scaleY;\n      if (b === 0 && c === 0) {\n        const normX = Math.abs(a);\n        const normY = Math.abs(d);\n        if (normX === normY) {\n          if (lineWidth === 0) {\n            scaleX = scaleY = 1 / normX;\n          } else {\n            const scaledLineWidth = normX * lineWidth;\n            scaleX = scaleY = scaledLineWidth < 1 ? 1 / scaledLineWidth : 1;\n          }\n        } else if (lineWidth === 0) {\n          scaleX = 1 / normX;\n          scaleY = 1 / normY;\n        } else {\n          const scaledXLineWidth = normX * lineWidth;\n          const scaledYLineWidth = normY * lineWidth;\n          scaleX = scaledXLineWidth < 1 ? 1 / scaledXLineWidth : 1;\n          scaleY = scaledYLineWidth < 1 ? 1 / scaledYLineWidth : 1;\n        }\n      } else {\n        const absDet = Math.abs(a * d - b * c);\n        const normX = Math.hypot(a, b);\n        const normY = Math.hypot(c, d);\n        if (lineWidth === 0) {\n          scaleX = normY / absDet;\n          scaleY = normX / absDet;\n        } else {\n          const baseArea = lineWidth * absDet;\n          scaleX = normY > baseArea ? normY / baseArea : 1;\n          scaleY = normX > baseArea ? normX / baseArea : 1;\n        }\n      }\n      this._cachedScaleForStroking[0] = scaleX;\n      this._cachedScaleForStroking[1] = scaleY;\n    }\n    return this._cachedScaleForStroking;\n  }\n  rescaleAndStroke(path, saveRestore) {\n    const {\n      ctx,\n      current: {\n        lineWidth\n      }\n    } = this;\n    const [scaleX, scaleY] = this.getScaleForStroking();\n    if (scaleX === scaleY) {\n      ctx.lineWidth = (lineWidth || 1) * scaleX;\n      ctx.stroke(path);\n      return;\n    }\n    const dashes = ctx.getLineDash();\n    if (saveRestore) {\n      ctx.save();\n    }\n    ctx.scale(scaleX, scaleY);\n    SCALE_MATRIX.a = 1 / scaleX;\n    SCALE_MATRIX.d = 1 / scaleY;\n    const newPath = new Path2D();\n    newPath.addPath(path, SCALE_MATRIX);\n    if (dashes.length > 0) {\n      const scale = Math.max(scaleX, scaleY);\n      ctx.setLineDash(dashes.map(x => x / scale));\n      ctx.lineDashOffset /= scale;\n    }\n    ctx.lineWidth = lineWidth || 1;\n    ctx.stroke(newPath);\n    if (saveRestore) {\n      ctx.restore();\n    }\n  }\n  isContentVisible() {\n    for (let i = this.markedContentStack.length - 1; i >= 0; i--) {\n      if (!this.markedContentStack[i].visible) {\n        return false;\n      }\n    }\n    return true;\n  }\n}\nfor (const op in OPS) {\n  if (CanvasGraphics.prototype[op] !== undefined) {\n    CanvasGraphics.prototype[OPS[op]] = CanvasGraphics.prototype[op];\n  }\n}\n\n;// ./src/display/worker_options.js\nclass GlobalWorkerOptions {\n  static #port = null;\n  static #src = \"\";\n  static get workerPort() {\n    return this.#port;\n  }\n  static set workerPort(val) {\n    if (!(typeof Worker !== \"undefined\" && val instanceof Worker) && val !== null) {\n      throw new Error(\"Invalid `workerPort` type.\");\n    }\n    this.#port = val;\n  }\n  static get workerSrc() {\n    return this.#src;\n  }\n  static set workerSrc(val) {\n    if (typeof val !== \"string\") {\n      throw new Error(\"Invalid `workerSrc` type.\");\n    }\n    this.#src = val;\n  }\n}\n\n;// ./src/display/metadata.js\nclass Metadata {\n  #map;\n  #data;\n  constructor({\n    parsedData,\n    rawData\n  }) {\n    this.#map = parsedData;\n    this.#data = rawData;\n  }\n  getRaw() {\n    return this.#data;\n  }\n  get(name) {\n    return this.#map.get(name) ?? null;\n  }\n  [Symbol.iterator]() {\n    return this.#map.entries();\n  }\n}\n\n;// ./src/display/optional_content_config.js\n\n\nconst INTERNAL = Symbol(\"INTERNAL\");\nclass OptionalContentGroup {\n  #isDisplay = false;\n  #isPrint = false;\n  #userSet = false;\n  #visible = true;\n  constructor(renderingIntent, {\n    name,\n    intent,\n    usage,\n    rbGroups\n  }) {\n    this.#isDisplay = !!(renderingIntent & RenderingIntentFlag.DISPLAY);\n    this.#isPrint = !!(renderingIntent & RenderingIntentFlag.PRINT);\n    this.name = name;\n    this.intent = intent;\n    this.usage = usage;\n    this.rbGroups = rbGroups;\n  }\n  get visible() {\n    if (this.#userSet) {\n      return this.#visible;\n    }\n    if (!this.#visible) {\n      return false;\n    }\n    const {\n      print,\n      view\n    } = this.usage;\n    if (this.#isDisplay) {\n      return view?.viewState !== \"OFF\";\n    } else if (this.#isPrint) {\n      return print?.printState !== \"OFF\";\n    }\n    return true;\n  }\n  _setVisible(internal, visible, userSet = false) {\n    if (internal !== INTERNAL) {\n      unreachable(\"Internal method `_setVisible` called.\");\n    }\n    this.#userSet = userSet;\n    this.#visible = visible;\n  }\n}\nclass OptionalContentConfig {\n  #cachedGetHash = null;\n  #groups = new Map();\n  #initialHash = null;\n  #order = null;\n  constructor(data, renderingIntent = RenderingIntentFlag.DISPLAY) {\n    this.renderingIntent = renderingIntent;\n    this.name = null;\n    this.creator = null;\n    if (data === null) {\n      return;\n    }\n    this.name = data.name;\n    this.creator = data.creator;\n    this.#order = data.order;\n    for (const group of data.groups) {\n      this.#groups.set(group.id, new OptionalContentGroup(renderingIntent, group));\n    }\n    if (data.baseState === \"OFF\") {\n      for (const group of this.#groups.values()) {\n        group._setVisible(INTERNAL, false);\n      }\n    }\n    for (const on of data.on) {\n      this.#groups.get(on)._setVisible(INTERNAL, true);\n    }\n    for (const off of data.off) {\n      this.#groups.get(off)._setVisible(INTERNAL, false);\n    }\n    this.#initialHash = this.getHash();\n  }\n  #evaluateVisibilityExpression(array) {\n    const length = array.length;\n    if (length < 2) {\n      return true;\n    }\n    const operator = array[0];\n    for (let i = 1; i < length; i++) {\n      const element = array[i];\n      let state;\n      if (Array.isArray(element)) {\n        state = this.#evaluateVisibilityExpression(element);\n      } else if (this.#groups.has(element)) {\n        state = this.#groups.get(element).visible;\n      } else {\n        warn(`Optional content group not found: ${element}`);\n        return true;\n      }\n      switch (operator) {\n        case \"And\":\n          if (!state) {\n            return false;\n          }\n          break;\n        case \"Or\":\n          if (state) {\n            return true;\n          }\n          break;\n        case \"Not\":\n          return !state;\n        default:\n          return true;\n      }\n    }\n    return operator === \"And\";\n  }\n  isVisible(group) {\n    if (this.#groups.size === 0) {\n      return true;\n    }\n    if (!group) {\n      info(\"Optional content group not defined.\");\n      return true;\n    }\n    if (group.type === \"OCG\") {\n      if (!this.#groups.has(group.id)) {\n        warn(`Optional content group not found: ${group.id}`);\n        return true;\n      }\n      return this.#groups.get(group.id).visible;\n    } else if (group.type === \"OCMD\") {\n      if (group.expression) {\n        return this.#evaluateVisibilityExpression(group.expression);\n      }\n      if (!group.policy || group.policy === \"AnyOn\") {\n        for (const id of group.ids) {\n          if (!this.#groups.has(id)) {\n            warn(`Optional content group not found: ${id}`);\n            return true;\n          }\n          if (this.#groups.get(id).visible) {\n            return true;\n          }\n        }\n        return false;\n      } else if (group.policy === \"AllOn\") {\n        for (const id of group.ids) {\n          if (!this.#groups.has(id)) {\n            warn(`Optional content group not found: ${id}`);\n            return true;\n          }\n          if (!this.#groups.get(id).visible) {\n            return false;\n          }\n        }\n        return true;\n      } else if (group.policy === \"AnyOff\") {\n        for (const id of group.ids) {\n          if (!this.#groups.has(id)) {\n            warn(`Optional content group not found: ${id}`);\n            return true;\n          }\n          if (!this.#groups.get(id).visible) {\n            return true;\n          }\n        }\n        return false;\n      } else if (group.policy === \"AllOff\") {\n        for (const id of group.ids) {\n          if (!this.#groups.has(id)) {\n            warn(`Optional content group not found: ${id}`);\n            return true;\n          }\n          if (this.#groups.get(id).visible) {\n            return false;\n          }\n        }\n        return true;\n      }\n      warn(`Unknown optional content policy ${group.policy}.`);\n      return true;\n    }\n    warn(`Unknown group type ${group.type}.`);\n    return true;\n  }\n  setVisibility(id, visible = true, preserveRB = true) {\n    const group = this.#groups.get(id);\n    if (!group) {\n      warn(`Optional content group not found: ${id}`);\n      return;\n    }\n    if (preserveRB && visible && group.rbGroups.length) {\n      for (const rbGroup of group.rbGroups) {\n        for (const otherId of rbGroup) {\n          if (otherId !== id) {\n            this.#groups.get(otherId)?._setVisible(INTERNAL, false, true);\n          }\n        }\n      }\n    }\n    group._setVisible(INTERNAL, !!visible, true);\n    this.#cachedGetHash = null;\n  }\n  setOCGState({\n    state,\n    preserveRB\n  }) {\n    let operator;\n    for (const elem of state) {\n      switch (elem) {\n        case \"ON\":\n        case \"OFF\":\n        case \"Toggle\":\n          operator = elem;\n          continue;\n      }\n      const group = this.#groups.get(elem);\n      if (!group) {\n        continue;\n      }\n      switch (operator) {\n        case \"ON\":\n          this.setVisibility(elem, true, preserveRB);\n          break;\n        case \"OFF\":\n          this.setVisibility(elem, false, preserveRB);\n          break;\n        case \"Toggle\":\n          this.setVisibility(elem, !group.visible, preserveRB);\n          break;\n      }\n    }\n    this.#cachedGetHash = null;\n  }\n  get hasInitialVisibility() {\n    return this.#initialHash === null || this.getHash() === this.#initialHash;\n  }\n  getOrder() {\n    if (!this.#groups.size) {\n      return null;\n    }\n    if (this.#order) {\n      return this.#order.slice();\n    }\n    return [...this.#groups.keys()];\n  }\n  getGroup(id) {\n    return this.#groups.get(id) || null;\n  }\n  getHash() {\n    if (this.#cachedGetHash !== null) {\n      return this.#cachedGetHash;\n    }\n    const hash = new MurmurHash3_64();\n    for (const [id, group] of this.#groups) {\n      hash.update(`${id}:${group.visible}`);\n    }\n    return this.#cachedGetHash = hash.hexdigest();\n  }\n  [Symbol.iterator]() {\n    return this.#groups.entries();\n  }\n}\n\n;// ./src/display/transport_stream.js\n\n\nclass PDFDataTransportStream {\n  constructor(pdfDataRangeTransport, {\n    disableRange = false,\n    disableStream = false\n  }) {\n    assert(pdfDataRangeTransport, 'PDFDataTransportStream - missing required \"pdfDataRangeTransport\" argument.');\n    const {\n      length,\n      initialData,\n      progressiveDone,\n      contentDispositionFilename\n    } = pdfDataRangeTransport;\n    this._queuedChunks = [];\n    this._progressiveDone = progressiveDone;\n    this._contentDispositionFilename = contentDispositionFilename;\n    if (initialData?.length > 0) {\n      const buffer = initialData instanceof Uint8Array && initialData.byteLength === initialData.buffer.byteLength ? initialData.buffer : new Uint8Array(initialData).buffer;\n      this._queuedChunks.push(buffer);\n    }\n    this._pdfDataRangeTransport = pdfDataRangeTransport;\n    this._isStreamingSupported = !disableStream;\n    this._isRangeSupported = !disableRange;\n    this._contentLength = length;\n    this._fullRequestReader = null;\n    this._rangeReaders = [];\n    pdfDataRangeTransport.addRangeListener((begin, chunk) => {\n      this._onReceiveData({\n        begin,\n        chunk\n      });\n    });\n    pdfDataRangeTransport.addProgressListener((loaded, total) => {\n      this._onProgress({\n        loaded,\n        total\n      });\n    });\n    pdfDataRangeTransport.addProgressiveReadListener(chunk => {\n      this._onReceiveData({\n        chunk\n      });\n    });\n    pdfDataRangeTransport.addProgressiveDoneListener(() => {\n      this._onProgressiveDone();\n    });\n    pdfDataRangeTransport.transportReady();\n  }\n  _onReceiveData({\n    begin,\n    chunk\n  }) {\n    const buffer = chunk instanceof Uint8Array && chunk.byteLength === chunk.buffer.byteLength ? chunk.buffer : new Uint8Array(chunk).buffer;\n    if (begin === undefined) {\n      if (this._fullRequestReader) {\n        this._fullRequestReader._enqueue(buffer);\n      } else {\n        this._queuedChunks.push(buffer);\n      }\n    } else {\n      const found = this._rangeReaders.some(function (rangeReader) {\n        if (rangeReader._begin !== begin) {\n          return false;\n        }\n        rangeReader._enqueue(buffer);\n        return true;\n      });\n      assert(found, \"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.\");\n    }\n  }\n  get _progressiveDataLength() {\n    return this._fullRequestReader?._loaded ?? 0;\n  }\n  _onProgress(evt) {\n    if (evt.total === undefined) {\n      this._rangeReaders[0]?.onProgress?.({\n        loaded: evt.loaded\n      });\n    } else {\n      this._fullRequestReader?.onProgress?.({\n        loaded: evt.loaded,\n        total: evt.total\n      });\n    }\n  }\n  _onProgressiveDone() {\n    this._fullRequestReader?.progressiveDone();\n    this._progressiveDone = true;\n  }\n  _removeRangeReader(reader) {\n    const i = this._rangeReaders.indexOf(reader);\n    if (i >= 0) {\n      this._rangeReaders.splice(i, 1);\n    }\n  }\n  getFullReader() {\n    assert(!this._fullRequestReader, \"PDFDataTransportStream.getFullReader can only be called once.\");\n    const queuedChunks = this._queuedChunks;\n    this._queuedChunks = null;\n    return new PDFDataTransportStreamReader(this, queuedChunks, this._progressiveDone, this._contentDispositionFilename);\n  }\n  getRangeReader(begin, end) {\n    if (end <= this._progressiveDataLength) {\n      return null;\n    }\n    const reader = new PDFDataTransportStreamRangeReader(this, begin, end);\n    this._pdfDataRangeTransport.requestDataRange(begin, end);\n    this._rangeReaders.push(reader);\n    return reader;\n  }\n  cancelAllRequests(reason) {\n    this._fullRequestReader?.cancel(reason);\n    for (const reader of this._rangeReaders.slice(0)) {\n      reader.cancel(reason);\n    }\n    this._pdfDataRangeTransport.abort();\n  }\n}\nclass PDFDataTransportStreamReader {\n  constructor(stream, queuedChunks, progressiveDone = false, contentDispositionFilename = null) {\n    this._stream = stream;\n    this._done = progressiveDone || false;\n    this._filename = isPdfFile(contentDispositionFilename) ? contentDispositionFilename : null;\n    this._queuedChunks = queuedChunks || [];\n    this._loaded = 0;\n    for (const chunk of this._queuedChunks) {\n      this._loaded += chunk.byteLength;\n    }\n    this._requests = [];\n    this._headersReady = Promise.resolve();\n    stream._fullRequestReader = this;\n    this.onProgress = null;\n  }\n  _enqueue(chunk) {\n    if (this._done) {\n      return;\n    }\n    if (this._requests.length > 0) {\n      const requestCapability = this._requests.shift();\n      requestCapability.resolve({\n        value: chunk,\n        done: false\n      });\n    } else {\n      this._queuedChunks.push(chunk);\n    }\n    this._loaded += chunk.byteLength;\n  }\n  get headersReady() {\n    return this._headersReady;\n  }\n  get filename() {\n    return this._filename;\n  }\n  get isRangeSupported() {\n    return this._stream._isRangeSupported;\n  }\n  get isStreamingSupported() {\n    return this._stream._isStreamingSupported;\n  }\n  get contentLength() {\n    return this._stream._contentLength;\n  }\n  async read() {\n    if (this._queuedChunks.length > 0) {\n      const chunk = this._queuedChunks.shift();\n      return {\n        value: chunk,\n        done: false\n      };\n    }\n    if (this._done) {\n      return {\n        value: undefined,\n        done: true\n      };\n    }\n    const requestCapability = Promise.withResolvers();\n    this._requests.push(requestCapability);\n    return requestCapability.promise;\n  }\n  cancel(reason) {\n    this._done = true;\n    for (const requestCapability of this._requests) {\n      requestCapability.resolve({\n        value: undefined,\n        done: true\n      });\n    }\n    this._requests.length = 0;\n  }\n  progressiveDone() {\n    if (this._done) {\n      return;\n    }\n    this._done = true;\n  }\n}\nclass PDFDataTransportStreamRangeReader {\n  constructor(stream, begin, end) {\n    this._stream = stream;\n    this._begin = begin;\n    this._end = end;\n    this._queuedChunk = null;\n    this._requests = [];\n    this._done = false;\n    this.onProgress = null;\n  }\n  _enqueue(chunk) {\n    if (this._done) {\n      return;\n    }\n    if (this._requests.length === 0) {\n      this._queuedChunk = chunk;\n    } else {\n      const requestsCapability = this._requests.shift();\n      requestsCapability.resolve({\n        value: chunk,\n        done: false\n      });\n      for (const requestCapability of this._requests) {\n        requestCapability.resolve({\n          value: undefined,\n          done: true\n        });\n      }\n      this._requests.length = 0;\n    }\n    this._done = true;\n    this._stream._removeRangeReader(this);\n  }\n  get isStreamingSupported() {\n    return false;\n  }\n  async read() {\n    if (this._queuedChunk) {\n      const chunk = this._queuedChunk;\n      this._queuedChunk = null;\n      return {\n        value: chunk,\n        done: false\n      };\n    }\n    if (this._done) {\n      return {\n        value: undefined,\n        done: true\n      };\n    }\n    const requestCapability = Promise.withResolvers();\n    this._requests.push(requestCapability);\n    return requestCapability.promise;\n  }\n  cancel(reason) {\n    this._done = true;\n    for (const requestCapability of this._requests) {\n      requestCapability.resolve({\n        value: undefined,\n        done: true\n      });\n    }\n    this._requests.length = 0;\n    this._stream._removeRangeReader(this);\n  }\n}\n\n;// ./src/display/content_disposition.js\n\nfunction getFilenameFromContentDispositionHeader(contentDisposition) {\n  let needsEncodingFixup = true;\n  let tmp = toParamRegExp(\"filename\\\\*\", \"i\").exec(contentDisposition);\n  if (tmp) {\n    tmp = tmp[1];\n    let filename = rfc2616unquote(tmp);\n    filename = unescape(filename);\n    filename = rfc5987decode(filename);\n    filename = rfc2047decode(filename);\n    return fixupEncoding(filename);\n  }\n  tmp = rfc2231getparam(contentDisposition);\n  if (tmp) {\n    const filename = rfc2047decode(tmp);\n    return fixupEncoding(filename);\n  }\n  tmp = toParamRegExp(\"filename\", \"i\").exec(contentDisposition);\n  if (tmp) {\n    tmp = tmp[1];\n    let filename = rfc2616unquote(tmp);\n    filename = rfc2047decode(filename);\n    return fixupEncoding(filename);\n  }\n  function toParamRegExp(attributePattern, flags) {\n    return new RegExp(\"(?:^|;)\\\\s*\" + attributePattern + \"\\\\s*=\\\\s*\" + \"(\" + '[^\";\\\\s][^;\\\\s]*' + \"|\" + '\"(?:[^\"\\\\\\\\]|\\\\\\\\\"?)+\"?' + \")\", flags);\n  }\n  function textdecode(encoding, value) {\n    if (encoding) {\n      if (!/^[\\x00-\\xFF]+$/.test(value)) {\n        return value;\n      }\n      try {\n        const decoder = new TextDecoder(encoding, {\n          fatal: true\n        });\n        const buffer = stringToBytes(value);\n        value = decoder.decode(buffer);\n        needsEncodingFixup = false;\n      } catch {}\n    }\n    return value;\n  }\n  function fixupEncoding(value) {\n    if (needsEncodingFixup && /[\\x80-\\xff]/.test(value)) {\n      value = textdecode(\"utf-8\", value);\n      if (needsEncodingFixup) {\n        value = textdecode(\"iso-8859-1\", value);\n      }\n    }\n    return value;\n  }\n  function rfc2231getparam(contentDispositionStr) {\n    const matches = [];\n    let match;\n    const iter = toParamRegExp(\"filename\\\\*((?!0\\\\d)\\\\d+)(\\\\*?)\", \"ig\");\n    while ((match = iter.exec(contentDispositionStr)) !== null) {\n      let [, n, quot, part] = match;\n      n = parseInt(n, 10);\n      if (n in matches) {\n        if (n === 0) {\n          break;\n        }\n        continue;\n      }\n      matches[n] = [quot, part];\n    }\n    const parts = [];\n    for (let n = 0; n < matches.length; ++n) {\n      if (!(n in matches)) {\n        break;\n      }\n      let [quot, part] = matches[n];\n      part = rfc2616unquote(part);\n      if (quot) {\n        part = unescape(part);\n        if (n === 0) {\n          part = rfc5987decode(part);\n        }\n      }\n      parts.push(part);\n    }\n    return parts.join(\"\");\n  }\n  function rfc2616unquote(value) {\n    if (value.startsWith('\"')) {\n      const parts = value.slice(1).split('\\\\\"');\n      for (let i = 0; i < parts.length; ++i) {\n        const quotindex = parts[i].indexOf('\"');\n        if (quotindex !== -1) {\n          parts[i] = parts[i].slice(0, quotindex);\n          parts.length = i + 1;\n        }\n        parts[i] = parts[i].replaceAll(/\\\\(.)/g, \"$1\");\n      }\n      value = parts.join('\"');\n    }\n    return value;\n  }\n  function rfc5987decode(extvalue) {\n    const encodingend = extvalue.indexOf(\"'\");\n    if (encodingend === -1) {\n      return extvalue;\n    }\n    const encoding = extvalue.slice(0, encodingend);\n    const langvalue = extvalue.slice(encodingend + 1);\n    const value = langvalue.replace(/^[^']*'/, \"\");\n    return textdecode(encoding, value);\n  }\n  function rfc2047decode(value) {\n    if (!value.startsWith(\"=?\") || /[\\x00-\\x19\\x80-\\xff]/.test(value)) {\n      return value;\n    }\n    return value.replaceAll(/=\\?([\\w-]*)\\?([QqBb])\\?((?:[^?]|\\?(?!=))*)\\?=/g, function (matches, charset, encoding, text) {\n      if (encoding === \"q\" || encoding === \"Q\") {\n        text = text.replaceAll(\"_\", \" \");\n        text = text.replaceAll(/=([0-9a-fA-F]{2})/g, function (match, hex) {\n          return String.fromCharCode(parseInt(hex, 16));\n        });\n        return textdecode(charset, text);\n      }\n      try {\n        text = atob(text);\n      } catch {}\n      return textdecode(charset, text);\n    });\n  }\n  return \"\";\n}\n\n;// ./src/display/network_utils.js\n\n\n\nfunction createHeaders(isHttp, httpHeaders) {\n  const headers = new Headers();\n  if (!isHttp || !httpHeaders || typeof httpHeaders !== \"object\") {\n    return headers;\n  }\n  for (const key in httpHeaders) {\n    const val = httpHeaders[key];\n    if (val !== undefined) {\n      headers.append(key, val);\n    }\n  }\n  return headers;\n}\nfunction getResponseOrigin(url) {\n  return URL.parse(url)?.origin ?? null;\n}\nfunction validateRangeRequestCapabilities({\n  responseHeaders,\n  isHttp,\n  rangeChunkSize,\n  disableRange\n}) {\n  const returnValues = {\n    allowRangeRequests: false,\n    suggestedLength: undefined\n  };\n  const length = parseInt(responseHeaders.get(\"Content-Length\"), 10);\n  if (!Number.isInteger(length)) {\n    return returnValues;\n  }\n  returnValues.suggestedLength = length;\n  if (length <= 2 * rangeChunkSize) {\n    return returnValues;\n  }\n  if (disableRange || !isHttp) {\n    return returnValues;\n  }\n  if (responseHeaders.get(\"Accept-Ranges\") !== \"bytes\") {\n    return returnValues;\n  }\n  const contentEncoding = responseHeaders.get(\"Content-Encoding\") || \"identity\";\n  if (contentEncoding !== \"identity\") {\n    return returnValues;\n  }\n  returnValues.allowRangeRequests = true;\n  return returnValues;\n}\nfunction extractFilenameFromHeader(responseHeaders) {\n  const contentDisposition = responseHeaders.get(\"Content-Disposition\");\n  if (contentDisposition) {\n    let filename = getFilenameFromContentDispositionHeader(contentDisposition);\n    if (filename.includes(\"%\")) {\n      try {\n        filename = decodeURIComponent(filename);\n      } catch {}\n    }\n    if (isPdfFile(filename)) {\n      return filename;\n    }\n  }\n  return null;\n}\nfunction createResponseError(status, url) {\n  return new ResponseException(`Unexpected server response (${status}) while retrieving PDF \"${url}\".`, status, status === 404 || status === 0 && url.startsWith(\"file:\"));\n}\nfunction validateResponseStatus(status) {\n  return status === 200 || status === 206;\n}\n\n;// ./src/display/fetch_stream.js\n\n\nfunction createFetchOptions(headers, withCredentials, abortController) {\n  return {\n    method: \"GET\",\n    headers,\n    signal: abortController.signal,\n    mode: \"cors\",\n    credentials: withCredentials ? \"include\" : \"same-origin\",\n    redirect: \"follow\"\n  };\n}\nfunction getArrayBuffer(val) {\n  if (val instanceof Uint8Array) {\n    return val.buffer;\n  }\n  if (val instanceof ArrayBuffer) {\n    return val;\n  }\n  warn(`getArrayBuffer - unexpected data format: ${val}`);\n  return new Uint8Array(val).buffer;\n}\nclass PDFFetchStream {\n  _responseOrigin = null;\n  constructor(source) {\n    this.source = source;\n    this.isHttp = /^https?:/i.test(source.url);\n    this.headers = createHeaders(this.isHttp, source.httpHeaders);\n    this._fullRequestReader = null;\n    this._rangeRequestReaders = [];\n  }\n  get _progressiveDataLength() {\n    return this._fullRequestReader?._loaded ?? 0;\n  }\n  getFullReader() {\n    assert(!this._fullRequestReader, \"PDFFetchStream.getFullReader can only be called once.\");\n    this._fullRequestReader = new PDFFetchStreamReader(this);\n    return this._fullRequestReader;\n  }\n  getRangeReader(begin, end) {\n    if (end <= this._progressiveDataLength) {\n      return null;\n    }\n    const reader = new PDFFetchStreamRangeReader(this, begin, end);\n    this._rangeRequestReaders.push(reader);\n    return reader;\n  }\n  cancelAllRequests(reason) {\n    this._fullRequestReader?.cancel(reason);\n    for (const reader of this._rangeRequestReaders.slice(0)) {\n      reader.cancel(reason);\n    }\n  }\n}\nclass PDFFetchStreamReader {\n  constructor(stream) {\n    this._stream = stream;\n    this._reader = null;\n    this._loaded = 0;\n    this._filename = null;\n    const source = stream.source;\n    this._withCredentials = source.withCredentials || false;\n    this._contentLength = source.length;\n    this._headersCapability = Promise.withResolvers();\n    this._disableRange = source.disableRange || false;\n    this._rangeChunkSize = source.rangeChunkSize;\n    if (!this._rangeChunkSize && !this._disableRange) {\n      this._disableRange = true;\n    }\n    this._abortController = new AbortController();\n    this._isStreamingSupported = !source.disableStream;\n    this._isRangeSupported = !source.disableRange;\n    const headers = new Headers(stream.headers);\n    const url = source.url;\n    fetch(url, createFetchOptions(headers, this._withCredentials, this._abortController)).then(response => {\n      stream._responseOrigin = getResponseOrigin(response.url);\n      if (!validateResponseStatus(response.status)) {\n        throw createResponseError(response.status, url);\n      }\n      this._reader = response.body.getReader();\n      this._headersCapability.resolve();\n      const responseHeaders = response.headers;\n      const {\n        allowRangeRequests,\n        suggestedLength\n      } = validateRangeRequestCapabilities({\n        responseHeaders,\n        isHttp: stream.isHttp,\n        rangeChunkSize: this._rangeChunkSize,\n        disableRange: this._disableRange\n      });\n      this._isRangeSupported = allowRangeRequests;\n      this._contentLength = suggestedLength || this._contentLength;\n      this._filename = extractFilenameFromHeader(responseHeaders);\n      if (!this._isStreamingSupported && this._isRangeSupported) {\n        this.cancel(new AbortException(\"Streaming is disabled.\"));\n      }\n    }).catch(this._headersCapability.reject);\n    this.onProgress = null;\n  }\n  get headersReady() {\n    return this._headersCapability.promise;\n  }\n  get filename() {\n    return this._filename;\n  }\n  get contentLength() {\n    return this._contentLength;\n  }\n  get isRangeSupported() {\n    return this._isRangeSupported;\n  }\n  get isStreamingSupported() {\n    return this._isStreamingSupported;\n  }\n  async read() {\n    await this._headersCapability.promise;\n    const {\n      value,\n      done\n    } = await this._reader.read();\n    if (done) {\n      return {\n        value,\n        done\n      };\n    }\n    this._loaded += value.byteLength;\n    this.onProgress?.({\n      loaded: this._loaded,\n      total: this._contentLength\n    });\n    return {\n      value: getArrayBuffer(value),\n      done: false\n    };\n  }\n  cancel(reason) {\n    this._reader?.cancel(reason);\n    this._abortController.abort();\n  }\n}\nclass PDFFetchStreamRangeReader {\n  constructor(stream, begin, end) {\n    this._stream = stream;\n    this._reader = null;\n    this._loaded = 0;\n    const source = stream.source;\n    this._withCredentials = source.withCredentials || false;\n    this._readCapability = Promise.withResolvers();\n    this._isStreamingSupported = !source.disableStream;\n    this._abortController = new AbortController();\n    const headers = new Headers(stream.headers);\n    headers.append(\"Range\", `bytes=${begin}-${end - 1}`);\n    const url = source.url;\n    fetch(url, createFetchOptions(headers, this._withCredentials, this._abortController)).then(response => {\n      const responseOrigin = getResponseOrigin(response.url);\n      if (responseOrigin !== stream._responseOrigin) {\n        throw new Error(`Expected range response-origin \"${responseOrigin}\" to match \"${stream._responseOrigin}\".`);\n      }\n      if (!validateResponseStatus(response.status)) {\n        throw createResponseError(response.status, url);\n      }\n      this._readCapability.resolve();\n      this._reader = response.body.getReader();\n    }).catch(this._readCapability.reject);\n    this.onProgress = null;\n  }\n  get isStreamingSupported() {\n    return this._isStreamingSupported;\n  }\n  async read() {\n    await this._readCapability.promise;\n    const {\n      value,\n      done\n    } = await this._reader.read();\n    if (done) {\n      return {\n        value,\n        done\n      };\n    }\n    this._loaded += value.byteLength;\n    this.onProgress?.({\n      loaded: this._loaded\n    });\n    return {\n      value: getArrayBuffer(value),\n      done: false\n    };\n  }\n  cancel(reason) {\n    this._reader?.cancel(reason);\n    this._abortController.abort();\n  }\n}\n\n;// ./src/display/network.js\n\n\nconst OK_RESPONSE = 200;\nconst PARTIAL_CONTENT_RESPONSE = 206;\nfunction network_getArrayBuffer(xhr) {\n  const data = xhr.response;\n  if (typeof data !== \"string\") {\n    return data;\n  }\n  return stringToBytes(data).buffer;\n}\nclass NetworkManager {\n  _responseOrigin = null;\n  constructor({\n    url,\n    httpHeaders,\n    withCredentials\n  }) {\n    this.url = url;\n    this.isHttp = /^https?:/i.test(url);\n    this.headers = createHeaders(this.isHttp, httpHeaders);\n    this.withCredentials = withCredentials || false;\n    this.currXhrId = 0;\n    this.pendingRequests = Object.create(null);\n  }\n  request(args) {\n    const xhr = new XMLHttpRequest();\n    const xhrId = this.currXhrId++;\n    const pendingRequest = this.pendingRequests[xhrId] = {\n      xhr\n    };\n    xhr.open(\"GET\", this.url);\n    xhr.withCredentials = this.withCredentials;\n    for (const [key, val] of this.headers) {\n      xhr.setRequestHeader(key, val);\n    }\n    if (this.isHttp && \"begin\" in args && \"end\" in args) {\n      xhr.setRequestHeader(\"Range\", `bytes=${args.begin}-${args.end - 1}`);\n      pendingRequest.expectedStatus = PARTIAL_CONTENT_RESPONSE;\n    } else {\n      pendingRequest.expectedStatus = OK_RESPONSE;\n    }\n    xhr.responseType = \"arraybuffer\";\n    assert(args.onError, \"Expected `onError` callback to be provided.\");\n    xhr.onerror = () => {\n      args.onError(xhr.status);\n    };\n    xhr.onreadystatechange = this.onStateChange.bind(this, xhrId);\n    xhr.onprogress = this.onProgress.bind(this, xhrId);\n    pendingRequest.onHeadersReceived = args.onHeadersReceived;\n    pendingRequest.onDone = args.onDone;\n    pendingRequest.onError = args.onError;\n    pendingRequest.onProgress = args.onProgress;\n    xhr.send(null);\n    return xhrId;\n  }\n  onProgress(xhrId, evt) {\n    const pendingRequest = this.pendingRequests[xhrId];\n    if (!pendingRequest) {\n      return;\n    }\n    pendingRequest.onProgress?.(evt);\n  }\n  onStateChange(xhrId, evt) {\n    const pendingRequest = this.pendingRequests[xhrId];\n    if (!pendingRequest) {\n      return;\n    }\n    const xhr = pendingRequest.xhr;\n    if (xhr.readyState >= 2 && pendingRequest.onHeadersReceived) {\n      pendingRequest.onHeadersReceived();\n      delete pendingRequest.onHeadersReceived;\n    }\n    if (xhr.readyState !== 4) {\n      return;\n    }\n    if (!(xhrId in this.pendingRequests)) {\n      return;\n    }\n    delete this.pendingRequests[xhrId];\n    if (xhr.status === 0 && this.isHttp) {\n      pendingRequest.onError(xhr.status);\n      return;\n    }\n    const xhrStatus = xhr.status || OK_RESPONSE;\n    const ok_response_on_range_request = xhrStatus === OK_RESPONSE && pendingRequest.expectedStatus === PARTIAL_CONTENT_RESPONSE;\n    if (!ok_response_on_range_request && xhrStatus !== pendingRequest.expectedStatus) {\n      pendingRequest.onError(xhr.status);\n      return;\n    }\n    const chunk = network_getArrayBuffer(xhr);\n    if (xhrStatus === PARTIAL_CONTENT_RESPONSE) {\n      const rangeHeader = xhr.getResponseHeader(\"Content-Range\");\n      const matches = /bytes (\\d+)-(\\d+)\\/(\\d+)/.exec(rangeHeader);\n      if (matches) {\n        pendingRequest.onDone({\n          begin: parseInt(matches[1], 10),\n          chunk\n        });\n      } else {\n        warn(`Missing or invalid \"Content-Range\" header.`);\n        pendingRequest.onError(0);\n      }\n    } else if (chunk) {\n      pendingRequest.onDone({\n        begin: 0,\n        chunk\n      });\n    } else {\n      pendingRequest.onError(xhr.status);\n    }\n  }\n  getRequestXhr(xhrId) {\n    return this.pendingRequests[xhrId].xhr;\n  }\n  isPendingRequest(xhrId) {\n    return xhrId in this.pendingRequests;\n  }\n  abortRequest(xhrId) {\n    const xhr = this.pendingRequests[xhrId].xhr;\n    delete this.pendingRequests[xhrId];\n    xhr.abort();\n  }\n}\nclass PDFNetworkStream {\n  constructor(source) {\n    this._source = source;\n    this._manager = new NetworkManager(source);\n    this._rangeChunkSize = source.rangeChunkSize;\n    this._fullRequestReader = null;\n    this._rangeRequestReaders = [];\n  }\n  _onRangeRequestReaderClosed(reader) {\n    const i = this._rangeRequestReaders.indexOf(reader);\n    if (i >= 0) {\n      this._rangeRequestReaders.splice(i, 1);\n    }\n  }\n  getFullReader() {\n    assert(!this._fullRequestReader, \"PDFNetworkStream.getFullReader can only be called once.\");\n    this._fullRequestReader = new PDFNetworkStreamFullRequestReader(this._manager, this._source);\n    return this._fullRequestReader;\n  }\n  getRangeReader(begin, end) {\n    const reader = new PDFNetworkStreamRangeRequestReader(this._manager, begin, end);\n    reader.onClosed = this._onRangeRequestReaderClosed.bind(this);\n    this._rangeRequestReaders.push(reader);\n    return reader;\n  }\n  cancelAllRequests(reason) {\n    this._fullRequestReader?.cancel(reason);\n    for (const reader of this._rangeRequestReaders.slice(0)) {\n      reader.cancel(reason);\n    }\n  }\n}\nclass PDFNetworkStreamFullRequestReader {\n  constructor(manager, source) {\n    this._manager = manager;\n    this._url = source.url;\n    this._fullRequestId = manager.request({\n      onHeadersReceived: this._onHeadersReceived.bind(this),\n      onDone: this._onDone.bind(this),\n      onError: this._onError.bind(this),\n      onProgress: this._onProgress.bind(this)\n    });\n    this._headersCapability = Promise.withResolvers();\n    this._disableRange = source.disableRange || false;\n    this._contentLength = source.length;\n    this._rangeChunkSize = source.rangeChunkSize;\n    if (!this._rangeChunkSize && !this._disableRange) {\n      this._disableRange = true;\n    }\n    this._isStreamingSupported = false;\n    this._isRangeSupported = false;\n    this._cachedChunks = [];\n    this._requests = [];\n    this._done = false;\n    this._storedError = undefined;\n    this._filename = null;\n    this.onProgress = null;\n  }\n  _onHeadersReceived() {\n    const fullRequestXhrId = this._fullRequestId;\n    const fullRequestXhr = this._manager.getRequestXhr(fullRequestXhrId);\n    this._manager._responseOrigin = getResponseOrigin(fullRequestXhr.responseURL);\n    const rawResponseHeaders = fullRequestXhr.getAllResponseHeaders();\n    const responseHeaders = new Headers(rawResponseHeaders ? rawResponseHeaders.trimStart().replace(/[^\\S ]+$/, \"\").split(/[\\r\\n]+/).map(x => {\n      const [key, ...val] = x.split(\": \");\n      return [key, val.join(\": \")];\n    }) : []);\n    const {\n      allowRangeRequests,\n      suggestedLength\n    } = validateRangeRequestCapabilities({\n      responseHeaders,\n      isHttp: this._manager.isHttp,\n      rangeChunkSize: this._rangeChunkSize,\n      disableRange: this._disableRange\n    });\n    if (allowRangeRequests) {\n      this._isRangeSupported = true;\n    }\n    this._contentLength = suggestedLength || this._contentLength;\n    this._filename = extractFilenameFromHeader(responseHeaders);\n    if (this._isRangeSupported) {\n      this._manager.abortRequest(fullRequestXhrId);\n    }\n    this._headersCapability.resolve();\n  }\n  _onDone(data) {\n    if (data) {\n      if (this._requests.length > 0) {\n        const requestCapability = this._requests.shift();\n        requestCapability.resolve({\n          value: data.chunk,\n          done: false\n        });\n      } else {\n        this._cachedChunks.push(data.chunk);\n      }\n    }\n    this._done = true;\n    if (this._cachedChunks.length > 0) {\n      return;\n    }\n    for (const requestCapability of this._requests) {\n      requestCapability.resolve({\n        value: undefined,\n        done: true\n      });\n    }\n    this._requests.length = 0;\n  }\n  _onError(status) {\n    this._storedError = createResponseError(status, this._url);\n    this._headersCapability.reject(this._storedError);\n    for (const requestCapability of this._requests) {\n      requestCapability.reject(this._storedError);\n    }\n    this._requests.length = 0;\n    this._cachedChunks.length = 0;\n  }\n  _onProgress(evt) {\n    this.onProgress?.({\n      loaded: evt.loaded,\n      total: evt.lengthComputable ? evt.total : this._contentLength\n    });\n  }\n  get filename() {\n    return this._filename;\n  }\n  get isRangeSupported() {\n    return this._isRangeSupported;\n  }\n  get isStreamingSupported() {\n    return this._isStreamingSupported;\n  }\n  get contentLength() {\n    return this._contentLength;\n  }\n  get headersReady() {\n    return this._headersCapability.promise;\n  }\n  async read() {\n    await this._headersCapability.promise;\n    if (this._storedError) {\n      throw this._storedError;\n    }\n    if (this._cachedChunks.length > 0) {\n      const chunk = this._cachedChunks.shift();\n      return {\n        value: chunk,\n        done: false\n      };\n    }\n    if (this._done) {\n      return {\n        value: undefined,\n        done: true\n      };\n    }\n    const requestCapability = Promise.withResolvers();\n    this._requests.push(requestCapability);\n    return requestCapability.promise;\n  }\n  cancel(reason) {\n    this._done = true;\n    this._headersCapability.reject(reason);\n    for (const requestCapability of this._requests) {\n      requestCapability.resolve({\n        value: undefined,\n        done: true\n      });\n    }\n    this._requests.length = 0;\n    if (this._manager.isPendingRequest(this._fullRequestId)) {\n      this._manager.abortRequest(this._fullRequestId);\n    }\n    this._fullRequestReader = null;\n  }\n}\nclass PDFNetworkStreamRangeRequestReader {\n  constructor(manager, begin, end) {\n    this._manager = manager;\n    this._url = manager.url;\n    this._requestId = manager.request({\n      begin,\n      end,\n      onHeadersReceived: this._onHeadersReceived.bind(this),\n      onDone: this._onDone.bind(this),\n      onError: this._onError.bind(this),\n      onProgress: this._onProgress.bind(this)\n    });\n    this._requests = [];\n    this._queuedChunk = null;\n    this._done = false;\n    this._storedError = undefined;\n    this.onProgress = null;\n    this.onClosed = null;\n  }\n  _onHeadersReceived() {\n    const responseOrigin = getResponseOrigin(this._manager.getRequestXhr(this._requestId)?.responseURL);\n    if (responseOrigin !== this._manager._responseOrigin) {\n      this._storedError = new Error(`Expected range response-origin \"${responseOrigin}\" to match \"${this._manager._responseOrigin}\".`);\n      this._onError(0);\n    }\n  }\n  _close() {\n    this.onClosed?.(this);\n  }\n  _onDone(data) {\n    const chunk = data.chunk;\n    if (this._requests.length > 0) {\n      const requestCapability = this._requests.shift();\n      requestCapability.resolve({\n        value: chunk,\n        done: false\n      });\n    } else {\n      this._queuedChunk = chunk;\n    }\n    this._done = true;\n    for (const requestCapability of this._requests) {\n      requestCapability.resolve({\n        value: undefined,\n        done: true\n      });\n    }\n    this._requests.length = 0;\n    this._close();\n  }\n  _onError(status) {\n    this._storedError ??= createResponseError(status, this._url);\n    for (const requestCapability of this._requests) {\n      requestCapability.reject(this._storedError);\n    }\n    this._requests.length = 0;\n    this._queuedChunk = null;\n  }\n  _onProgress(evt) {\n    if (!this.isStreamingSupported) {\n      this.onProgress?.({\n        loaded: evt.loaded\n      });\n    }\n  }\n  get isStreamingSupported() {\n    return false;\n  }\n  async read() {\n    if (this._storedError) {\n      throw this._storedError;\n    }\n    if (this._queuedChunk !== null) {\n      const chunk = this._queuedChunk;\n      this._queuedChunk = null;\n      return {\n        value: chunk,\n        done: false\n      };\n    }\n    if (this._done) {\n      return {\n        value: undefined,\n        done: true\n      };\n    }\n    const requestCapability = Promise.withResolvers();\n    this._requests.push(requestCapability);\n    return requestCapability.promise;\n  }\n  cancel(reason) {\n    this._done = true;\n    for (const requestCapability of this._requests) {\n      requestCapability.resolve({\n        value: undefined,\n        done: true\n      });\n    }\n    this._requests.length = 0;\n    if (this._manager.isPendingRequest(this._requestId)) {\n      this._manager.abortRequest(this._requestId);\n    }\n    this._close();\n  }\n}\n\n;// ./src/display/node_stream.js\n\n\nconst urlRegex = /^[a-z][a-z0-9\\-+.]+:/i;\nfunction parseUrlOrPath(sourceUrl) {\n  if (urlRegex.test(sourceUrl)) {\n    return new URL(sourceUrl);\n  }\n  const url = process.getBuiltinModule(\"url\");\n  return new URL(url.pathToFileURL(sourceUrl));\n}\nclass PDFNodeStream {\n  constructor(source) {\n    this.source = source;\n    this.url = parseUrlOrPath(source.url);\n    assert(this.url.protocol === \"file:\", \"PDFNodeStream only supports file:// URLs.\");\n    this._fullRequestReader = null;\n    this._rangeRequestReaders = [];\n  }\n  get _progressiveDataLength() {\n    return this._fullRequestReader?._loaded ?? 0;\n  }\n  getFullReader() {\n    assert(!this._fullRequestReader, \"PDFNodeStream.getFullReader can only be called once.\");\n    this._fullRequestReader = new PDFNodeStreamFsFullReader(this);\n    return this._fullRequestReader;\n  }\n  getRangeReader(start, end) {\n    if (end <= this._progressiveDataLength) {\n      return null;\n    }\n    const rangeReader = new PDFNodeStreamFsRangeReader(this, start, end);\n    this._rangeRequestReaders.push(rangeReader);\n    return rangeReader;\n  }\n  cancelAllRequests(reason) {\n    this._fullRequestReader?.cancel(reason);\n    for (const reader of this._rangeRequestReaders.slice(0)) {\n      reader.cancel(reason);\n    }\n  }\n}\nclass PDFNodeStreamFsFullReader {\n  constructor(stream) {\n    this._url = stream.url;\n    this._done = false;\n    this._storedError = null;\n    this.onProgress = null;\n    const source = stream.source;\n    this._contentLength = source.length;\n    this._loaded = 0;\n    this._filename = null;\n    this._disableRange = source.disableRange || false;\n    this._rangeChunkSize = source.rangeChunkSize;\n    if (!this._rangeChunkSize && !this._disableRange) {\n      this._disableRange = true;\n    }\n    this._isStreamingSupported = !source.disableStream;\n    this._isRangeSupported = !source.disableRange;\n    this._readableStream = null;\n    this._readCapability = Promise.withResolvers();\n    this._headersCapability = Promise.withResolvers();\n    const fs = process.getBuiltinModule(\"fs\");\n    fs.promises.lstat(this._url).then(stat => {\n      this._contentLength = stat.size;\n      this._setReadableStream(fs.createReadStream(this._url));\n      this._headersCapability.resolve();\n    }, error => {\n      if (error.code === \"ENOENT\") {\n        error = createResponseError(0, this._url.href);\n      }\n      this._storedError = error;\n      this._headersCapability.reject(error);\n    });\n  }\n  get headersReady() {\n    return this._headersCapability.promise;\n  }\n  get filename() {\n    return this._filename;\n  }\n  get contentLength() {\n    return this._contentLength;\n  }\n  get isRangeSupported() {\n    return this._isRangeSupported;\n  }\n  get isStreamingSupported() {\n    return this._isStreamingSupported;\n  }\n  async read() {\n    await this._readCapability.promise;\n    if (this._done) {\n      return {\n        value: undefined,\n        done: true\n      };\n    }\n    if (this._storedError) {\n      throw this._storedError;\n    }\n    const chunk = this._readableStream.read();\n    if (chunk === null) {\n      this._readCapability = Promise.withResolvers();\n      return this.read();\n    }\n    this._loaded += chunk.length;\n    this.onProgress?.({\n      loaded: this._loaded,\n      total: this._contentLength\n    });\n    const buffer = new Uint8Array(chunk).buffer;\n    return {\n      value: buffer,\n      done: false\n    };\n  }\n  cancel(reason) {\n    if (!this._readableStream) {\n      this._error(reason);\n      return;\n    }\n    this._readableStream.destroy(reason);\n  }\n  _error(reason) {\n    this._storedError = reason;\n    this._readCapability.resolve();\n  }\n  _setReadableStream(readableStream) {\n    this._readableStream = readableStream;\n    readableStream.on(\"readable\", () => {\n      this._readCapability.resolve();\n    });\n    readableStream.on(\"end\", () => {\n      readableStream.destroy();\n      this._done = true;\n      this._readCapability.resolve();\n    });\n    readableStream.on(\"error\", reason => {\n      this._error(reason);\n    });\n    if (!this._isStreamingSupported && this._isRangeSupported) {\n      this._error(new AbortException(\"streaming is disabled\"));\n    }\n    if (this._storedError) {\n      this._readableStream.destroy(this._storedError);\n    }\n  }\n}\nclass PDFNodeStreamFsRangeReader {\n  constructor(stream, start, end) {\n    this._url = stream.url;\n    this._done = false;\n    this._storedError = null;\n    this.onProgress = null;\n    this._loaded = 0;\n    this._readableStream = null;\n    this._readCapability = Promise.withResolvers();\n    const source = stream.source;\n    this._isStreamingSupported = !source.disableStream;\n    const fs = process.getBuiltinModule(\"fs\");\n    this._setReadableStream(fs.createReadStream(this._url, {\n      start,\n      end: end - 1\n    }));\n  }\n  get isStreamingSupported() {\n    return this._isStreamingSupported;\n  }\n  async read() {\n    await this._readCapability.promise;\n    if (this._done) {\n      return {\n        value: undefined,\n        done: true\n      };\n    }\n    if (this._storedError) {\n      throw this._storedError;\n    }\n    const chunk = this._readableStream.read();\n    if (chunk === null) {\n      this._readCapability = Promise.withResolvers();\n      return this.read();\n    }\n    this._loaded += chunk.length;\n    this.onProgress?.({\n      loaded: this._loaded\n    });\n    const buffer = new Uint8Array(chunk).buffer;\n    return {\n      value: buffer,\n      done: false\n    };\n  }\n  cancel(reason) {\n    if (!this._readableStream) {\n      this._error(reason);\n      return;\n    }\n    this._readableStream.destroy(reason);\n  }\n  _error(reason) {\n    this._storedError = reason;\n    this._readCapability.resolve();\n  }\n  _setReadableStream(readableStream) {\n    this._readableStream = readableStream;\n    readableStream.on(\"readable\", () => {\n      this._readCapability.resolve();\n    });\n    readableStream.on(\"end\", () => {\n      readableStream.destroy();\n      this._done = true;\n      this._readCapability.resolve();\n    });\n    readableStream.on(\"error\", reason => {\n      this._error(reason);\n    });\n    if (this._storedError) {\n      this._readableStream.destroy(this._storedError);\n    }\n  }\n}\n\n;// ./src/display/pdf_objects.js\nconst INITIAL_DATA = Symbol(\"INITIAL_DATA\");\nclass PDFObjects {\n  #objs = Object.create(null);\n  #ensureObj(objId) {\n    return this.#objs[objId] ||= {\n      ...Promise.withResolvers(),\n      data: INITIAL_DATA\n    };\n  }\n  get(objId, callback = null) {\n    if (callback) {\n      const obj = this.#ensureObj(objId);\n      obj.promise.then(() => callback(obj.data));\n      return null;\n    }\n    const obj = this.#objs[objId];\n    if (!obj || obj.data === INITIAL_DATA) {\n      throw new Error(`Requesting object that isn't resolved yet ${objId}.`);\n    }\n    return obj.data;\n  }\n  has(objId) {\n    const obj = this.#objs[objId];\n    return !!obj && obj.data !== INITIAL_DATA;\n  }\n  delete(objId) {\n    const obj = this.#objs[objId];\n    if (!obj || obj.data === INITIAL_DATA) {\n      return false;\n    }\n    delete this.#objs[objId];\n    return true;\n  }\n  resolve(objId, data = null) {\n    const obj = this.#ensureObj(objId);\n    obj.data = data;\n    obj.resolve();\n  }\n  clear() {\n    for (const objId in this.#objs) {\n      const {\n        data\n      } = this.#objs[objId];\n      data?.bitmap?.close();\n    }\n    this.#objs = Object.create(null);\n  }\n  *[Symbol.iterator]() {\n    for (const objId in this.#objs) {\n      const {\n        data\n      } = this.#objs[objId];\n      if (data === INITIAL_DATA) {\n        continue;\n      }\n      yield [objId, data];\n    }\n  }\n}\n\n;// ./src/display/text_layer.js\n\n\nconst MAX_TEXT_DIVS_TO_RENDER = 100000;\nconst DEFAULT_FONT_SIZE = 30;\nclass TextLayer {\n  #capability = Promise.withResolvers();\n  #container = null;\n  #disableProcessItems = false;\n  #fontInspectorEnabled = !!globalThis.FontInspector?.enabled;\n  #lang = null;\n  #layoutTextParams = null;\n  #pageHeight = 0;\n  #pageWidth = 0;\n  #reader = null;\n  #rootContainer = null;\n  #rotation = 0;\n  #scale = 0;\n  #styleCache = Object.create(null);\n  #textContentItemsStr = [];\n  #textContentSource = null;\n  #textDivs = [];\n  #textDivProperties = new WeakMap();\n  #transform = null;\n  static #ascentCache = new Map();\n  static #canvasContexts = new Map();\n  static #canvasCtxFonts = new WeakMap();\n  static #minFontSize = null;\n  static #pendingTextLayers = new Set();\n  constructor({\n    textContentSource,\n    container,\n    viewport\n  }) {\n    if (textContentSource instanceof ReadableStream) {\n      this.#textContentSource = textContentSource;\n    } else if (typeof textContentSource === \"object\") {\n      this.#textContentSource = new ReadableStream({\n        start(controller) {\n          controller.enqueue(textContentSource);\n          controller.close();\n        }\n      });\n    } else {\n      throw new Error('No \"textContentSource\" parameter specified.');\n    }\n    this.#container = this.#rootContainer = container;\n    this.#scale = viewport.scale * OutputScale.pixelRatio;\n    this.#rotation = viewport.rotation;\n    this.#layoutTextParams = {\n      div: null,\n      properties: null,\n      ctx: null\n    };\n    const {\n      pageWidth,\n      pageHeight,\n      pageX,\n      pageY\n    } = viewport.rawDims;\n    this.#transform = [1, 0, 0, -1, -pageX, pageY + pageHeight];\n    this.#pageWidth = pageWidth;\n    this.#pageHeight = pageHeight;\n    TextLayer.#ensureMinFontSizeComputed();\n    container.style.setProperty(\"--min-font-size\", TextLayer.#minFontSize);\n    setLayerDimensions(container, viewport);\n    this.#capability.promise.finally(() => {\n      TextLayer.#pendingTextLayers.delete(this);\n      this.#layoutTextParams = null;\n      this.#styleCache = null;\n    }).catch(() => {});\n  }\n  static get fontFamilyMap() {\n    const {\n      isWindows,\n      isFirefox\n    } = util_FeatureTest.platform;\n    return shadow(this, \"fontFamilyMap\", new Map([[\"sans-serif\", `${isWindows && isFirefox ? \"Calibri, \" : \"\"}sans-serif`], [\"monospace\", `${isWindows && isFirefox ? \"Lucida Console, \" : \"\"}monospace`]]));\n  }\n  render() {\n    const pump = () => {\n      this.#reader.read().then(({\n        value,\n        done\n      }) => {\n        if (done) {\n          this.#capability.resolve();\n          return;\n        }\n        this.#lang ??= value.lang;\n        Object.assign(this.#styleCache, value.styles);\n        this.#processItems(value.items);\n        pump();\n      }, this.#capability.reject);\n    };\n    this.#reader = this.#textContentSource.getReader();\n    TextLayer.#pendingTextLayers.add(this);\n    pump();\n    return this.#capability.promise;\n  }\n  update({\n    viewport,\n    onBefore = null\n  }) {\n    const scale = viewport.scale * OutputScale.pixelRatio;\n    const rotation = viewport.rotation;\n    if (rotation !== this.#rotation) {\n      onBefore?.();\n      this.#rotation = rotation;\n      setLayerDimensions(this.#rootContainer, {\n        rotation\n      });\n    }\n    if (scale !== this.#scale) {\n      onBefore?.();\n      this.#scale = scale;\n      const params = {\n        div: null,\n        properties: null,\n        ctx: TextLayer.#getCtx(this.#lang)\n      };\n      for (const div of this.#textDivs) {\n        params.properties = this.#textDivProperties.get(div);\n        params.div = div;\n        this.#layout(params);\n      }\n    }\n  }\n  cancel() {\n    const abortEx = new AbortException(\"TextLayer task cancelled.\");\n    this.#reader?.cancel(abortEx).catch(() => {});\n    this.#reader = null;\n    this.#capability.reject(abortEx);\n  }\n  get textDivs() {\n    return this.#textDivs;\n  }\n  get textContentItemsStr() {\n    return this.#textContentItemsStr;\n  }\n  #processItems(items) {\n    if (this.#disableProcessItems) {\n      return;\n    }\n    this.#layoutTextParams.ctx ??= TextLayer.#getCtx(this.#lang);\n    const textDivs = this.#textDivs,\n      textContentItemsStr = this.#textContentItemsStr;\n    for (const item of items) {\n      if (textDivs.length > MAX_TEXT_DIVS_TO_RENDER) {\n        warn(\"Ignoring additional textDivs for performance reasons.\");\n        this.#disableProcessItems = true;\n        return;\n      }\n      if (item.str === undefined) {\n        if (item.type === \"beginMarkedContentProps\" || item.type === \"beginMarkedContent\") {\n          const parent = this.#container;\n          this.#container = document.createElement(\"span\");\n          this.#container.classList.add(\"markedContent\");\n          if (item.id) {\n            this.#container.setAttribute(\"id\", `${item.id}`);\n          }\n          parent.append(this.#container);\n        } else if (item.type === \"endMarkedContent\") {\n          this.#container = this.#container.parentNode;\n        }\n        continue;\n      }\n      textContentItemsStr.push(item.str);\n      this.#appendText(item);\n    }\n  }\n  #appendText(geom) {\n    const textDiv = document.createElement(\"span\");\n    const textDivProperties = {\n      angle: 0,\n      canvasWidth: 0,\n      hasText: geom.str !== \"\",\n      hasEOL: geom.hasEOL,\n      fontSize: 0\n    };\n    this.#textDivs.push(textDiv);\n    const tx = Util.transform(this.#transform, geom.transform);\n    let angle = Math.atan2(tx[1], tx[0]);\n    const style = this.#styleCache[geom.fontName];\n    if (style.vertical) {\n      angle += Math.PI / 2;\n    }\n    let fontFamily = this.#fontInspectorEnabled && style.fontSubstitution || style.fontFamily;\n    fontFamily = TextLayer.fontFamilyMap.get(fontFamily) || fontFamily;\n    const fontHeight = Math.hypot(tx[2], tx[3]);\n    const fontAscent = fontHeight * TextLayer.#getAscent(fontFamily, style, this.#lang);\n    let left, top;\n    if (angle === 0) {\n      left = tx[4];\n      top = tx[5] - fontAscent;\n    } else {\n      left = tx[4] + fontAscent * Math.sin(angle);\n      top = tx[5] - fontAscent * Math.cos(angle);\n    }\n    const divStyle = textDiv.style;\n    divStyle.left = `${(100 * left / this.#pageWidth).toFixed(2)}%`;\n    divStyle.top = `${(100 * top / this.#pageHeight).toFixed(2)}%`;\n    divStyle.setProperty(\"--font-height\", `${fontHeight.toFixed(2)}px`);\n    divStyle.fontFamily = fontFamily;\n    textDivProperties.fontSize = fontHeight;\n    textDiv.setAttribute(\"role\", \"presentation\");\n    textDiv.textContent = geom.str;\n    textDiv.dir = geom.dir;\n    if (this.#fontInspectorEnabled) {\n      textDiv.dataset.fontName = style.fontSubstitutionLoadedName || geom.fontName;\n    }\n    if (angle !== 0) {\n      textDivProperties.angle = angle * (180 / Math.PI);\n    }\n    let shouldScaleText = false;\n    if (geom.str.length > 1) {\n      shouldScaleText = true;\n    } else if (geom.str !== \" \" && geom.transform[0] !== geom.transform[3]) {\n      const absScaleX = Math.abs(geom.transform[0]),\n        absScaleY = Math.abs(geom.transform[3]);\n      if (absScaleX !== absScaleY && Math.max(absScaleX, absScaleY) / Math.min(absScaleX, absScaleY) > 1.5) {\n        shouldScaleText = true;\n      }\n    }\n    if (shouldScaleText) {\n      textDivProperties.canvasWidth = style.vertical ? geom.height : geom.width;\n    }\n    this.#textDivProperties.set(textDiv, textDivProperties);\n    this.#layoutTextParams.div = textDiv;\n    this.#layoutTextParams.properties = textDivProperties;\n    this.#layout(this.#layoutTextParams);\n    if (textDivProperties.hasText) {\n      this.#container.append(textDiv);\n    }\n    if (textDivProperties.hasEOL) {\n      const br = document.createElement(\"br\");\n      br.setAttribute(\"role\", \"presentation\");\n      this.#container.append(br);\n    }\n  }\n  #layout(params) {\n    const {\n      div,\n      properties,\n      ctx\n    } = params;\n    const {\n      style\n    } = div;\n    if (properties.canvasWidth !== 0 && properties.hasText) {\n      const {\n        fontFamily\n      } = style;\n      const {\n        canvasWidth,\n        fontSize\n      } = properties;\n      TextLayer.#ensureCtxFont(ctx, fontSize * this.#scale, fontFamily);\n      const {\n        width\n      } = ctx.measureText(div.textContent);\n      if (width > 0) {\n        style.setProperty(\"--scale-x\", canvasWidth * this.#scale / width);\n      }\n    }\n    if (properties.angle !== 0) {\n      style.setProperty(\"--rotate\", `${properties.angle}deg`);\n    }\n  }\n  static cleanup() {\n    if (this.#pendingTextLayers.size > 0) {\n      return;\n    }\n    this.#ascentCache.clear();\n    for (const {\n      canvas\n    } of this.#canvasContexts.values()) {\n      canvas.remove();\n    }\n    this.#canvasContexts.clear();\n  }\n  static #getCtx(lang = null) {\n    let ctx = this.#canvasContexts.get(lang ||= \"\");\n    if (!ctx) {\n      const canvas = document.createElement(\"canvas\");\n      canvas.className = \"hiddenCanvasElement\";\n      canvas.lang = lang;\n      document.body.append(canvas);\n      ctx = canvas.getContext(\"2d\", {\n        alpha: false,\n        willReadFrequently: true\n      });\n      this.#canvasContexts.set(lang, ctx);\n      this.#canvasCtxFonts.set(ctx, {\n        size: 0,\n        family: \"\"\n      });\n    }\n    return ctx;\n  }\n  static #ensureCtxFont(ctx, size, family) {\n    const cached = this.#canvasCtxFonts.get(ctx);\n    if (size === cached.size && family === cached.family) {\n      return;\n    }\n    ctx.font = `${size}px ${family}`;\n    cached.size = size;\n    cached.family = family;\n  }\n  static #ensureMinFontSizeComputed() {\n    if (this.#minFontSize !== null) {\n      return;\n    }\n    const div = document.createElement(\"div\");\n    div.style.opacity = 0;\n    div.style.lineHeight = 1;\n    div.style.fontSize = \"1px\";\n    div.style.position = \"absolute\";\n    div.textContent = \"X\";\n    document.body.append(div);\n    this.#minFontSize = div.getBoundingClientRect().height;\n    div.remove();\n  }\n  static #getAscent(fontFamily, style, lang) {\n    const cachedAscent = this.#ascentCache.get(fontFamily);\n    if (cachedAscent) {\n      return cachedAscent;\n    }\n    const ctx = this.#getCtx(lang);\n    ctx.canvas.width = ctx.canvas.height = DEFAULT_FONT_SIZE;\n    this.#ensureCtxFont(ctx, DEFAULT_FONT_SIZE, fontFamily);\n    const metrics = ctx.measureText(\"\");\n    const ascent = metrics.fontBoundingBoxAscent;\n    const descent = Math.abs(metrics.fontBoundingBoxDescent);\n    ctx.canvas.width = ctx.canvas.height = 0;\n    let ratio = 0.8;\n    if (ascent) {\n      ratio = ascent / (ascent + descent);\n    } else {\n      if (util_FeatureTest.platform.isFirefox) {\n        warn(\"Enable the `dom.textMetrics.fontBoundingBox.enabled` preference \" + \"in `about:config` to improve TextLayer rendering.\");\n      }\n      if (style.ascent) {\n        ratio = style.ascent;\n      } else if (style.descent) {\n        ratio = 1 + style.descent;\n      }\n    }\n    this.#ascentCache.set(fontFamily, ratio);\n    return ratio;\n  }\n}\n\n;// ./src/display/api.js\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst RENDERING_CANCELLED_TIMEOUT = 100;\nfunction getDocument(src = {}) {\n  if (typeof src === \"string\" || src instanceof URL) {\n    src = {\n      url: src\n    };\n  } else if (src instanceof ArrayBuffer || ArrayBuffer.isView(src)) {\n    src = {\n      data: src\n    };\n  }\n  const task = new PDFDocumentLoadingTask();\n  const {\n    docId\n  } = task;\n  const url = src.url ? getUrlProp(src.url) : null;\n  const data = src.data ? getDataProp(src.data) : null;\n  const httpHeaders = src.httpHeaders || null;\n  const withCredentials = src.withCredentials === true;\n  const password = src.password ?? null;\n  const rangeTransport = src.range instanceof PDFDataRangeTransport ? src.range : null;\n  const rangeChunkSize = Number.isInteger(src.rangeChunkSize) && src.rangeChunkSize > 0 ? src.rangeChunkSize : 2 ** 16;\n  let worker = src.worker instanceof PDFWorker ? src.worker : null;\n  const verbosity = src.verbosity;\n  const docBaseUrl = typeof src.docBaseUrl === \"string\" && !isDataScheme(src.docBaseUrl) ? src.docBaseUrl : null;\n  const cMapUrl = getFactoryUrlProp(src.cMapUrl);\n  const cMapPacked = src.cMapPacked !== false;\n  const CMapReaderFactory = src.CMapReaderFactory || (isNodeJS ? NodeCMapReaderFactory : DOMCMapReaderFactory);\n  const iccUrl = getFactoryUrlProp(src.iccUrl);\n  const standardFontDataUrl = getFactoryUrlProp(src.standardFontDataUrl);\n  const StandardFontDataFactory = src.StandardFontDataFactory || (isNodeJS ? NodeStandardFontDataFactory : DOMStandardFontDataFactory);\n  const wasmUrl = getFactoryUrlProp(src.wasmUrl);\n  const WasmFactory = src.WasmFactory || (isNodeJS ? NodeWasmFactory : DOMWasmFactory);\n  const ignoreErrors = src.stopAtErrors !== true;\n  const maxImageSize = Number.isInteger(src.maxImageSize) && src.maxImageSize > -1 ? src.maxImageSize : -1;\n  const isEvalSupported = src.isEvalSupported !== false;\n  const isOffscreenCanvasSupported = typeof src.isOffscreenCanvasSupported === \"boolean\" ? src.isOffscreenCanvasSupported : !isNodeJS;\n  const isImageDecoderSupported = typeof src.isImageDecoderSupported === \"boolean\" ? src.isImageDecoderSupported : !isNodeJS && (util_FeatureTest.platform.isFirefox || !globalThis.chrome);\n  const canvasMaxAreaInBytes = Number.isInteger(src.canvasMaxAreaInBytes) ? src.canvasMaxAreaInBytes : -1;\n  const disableFontFace = typeof src.disableFontFace === \"boolean\" ? src.disableFontFace : isNodeJS;\n  const fontExtraProperties = src.fontExtraProperties === true;\n  const enableXfa = src.enableXfa === true;\n  const ownerDocument = src.ownerDocument || globalThis.document;\n  const disableRange = src.disableRange === true;\n  const disableStream = src.disableStream === true;\n  const disableAutoFetch = src.disableAutoFetch === true;\n  const pdfBug = src.pdfBug === true;\n  const CanvasFactory = src.CanvasFactory || (isNodeJS ? NodeCanvasFactory : DOMCanvasFactory);\n  const FilterFactory = src.FilterFactory || (isNodeJS ? NodeFilterFactory : DOMFilterFactory);\n  const enableHWA = src.enableHWA === true;\n  const useWasm = src.useWasm !== false;\n  const length = rangeTransport ? rangeTransport.length : src.length ?? NaN;\n  const useSystemFonts = typeof src.useSystemFonts === \"boolean\" ? src.useSystemFonts : !isNodeJS && !disableFontFace;\n  const useWorkerFetch = typeof src.useWorkerFetch === \"boolean\" ? src.useWorkerFetch : !!(CMapReaderFactory === DOMCMapReaderFactory && StandardFontDataFactory === DOMStandardFontDataFactory && WasmFactory === DOMWasmFactory && cMapUrl && standardFontDataUrl && wasmUrl && isValidFetchUrl(cMapUrl, document.baseURI) && isValidFetchUrl(standardFontDataUrl, document.baseURI) && isValidFetchUrl(wasmUrl, document.baseURI));\n  const styleElement = null;\n  setVerbosityLevel(verbosity);\n  const transportFactory = {\n    canvasFactory: new CanvasFactory({\n      ownerDocument,\n      enableHWA\n    }),\n    filterFactory: new FilterFactory({\n      docId,\n      ownerDocument\n    }),\n    cMapReaderFactory: useWorkerFetch ? null : new CMapReaderFactory({\n      baseUrl: cMapUrl,\n      isCompressed: cMapPacked\n    }),\n    standardFontDataFactory: useWorkerFetch ? null : new StandardFontDataFactory({\n      baseUrl: standardFontDataUrl\n    }),\n    wasmFactory: useWorkerFetch ? null : new WasmFactory({\n      baseUrl: wasmUrl\n    })\n  };\n  if (!worker) {\n    worker = PDFWorker.create({\n      verbosity,\n      port: GlobalWorkerOptions.workerPort\n    });\n    task._worker = worker;\n  }\n  const docParams = {\n    docId,\n    apiVersion: \"5.4.530\",\n    data,\n    password,\n    disableAutoFetch,\n    rangeChunkSize,\n    length,\n    docBaseUrl,\n    enableXfa,\n    evaluatorOptions: {\n      maxImageSize,\n      disableFontFace,\n      ignoreErrors,\n      isEvalSupported,\n      isOffscreenCanvasSupported,\n      isImageDecoderSupported,\n      canvasMaxAreaInBytes,\n      fontExtraProperties,\n      useSystemFonts,\n      useWasm,\n      useWorkerFetch,\n      cMapUrl,\n      iccUrl,\n      standardFontDataUrl,\n      wasmUrl\n    }\n  };\n  const transportParams = {\n    ownerDocument,\n    pdfBug,\n    styleElement,\n    loadingParams: {\n      disableAutoFetch,\n      enableXfa\n    }\n  };\n  worker.promise.then(function () {\n    if (task.destroyed) {\n      throw new Error(\"Loading aborted\");\n    }\n    if (worker.destroyed) {\n      throw new Error(\"Worker was destroyed\");\n    }\n    const workerIdPromise = worker.messageHandler.sendWithPromise(\"GetDocRequest\", docParams, data ? [data.buffer] : null);\n    let networkStream;\n    if (rangeTransport) {\n      networkStream = new PDFDataTransportStream(rangeTransport, {\n        disableRange,\n        disableStream\n      });\n    } else if (!data) {\n      if (!url) {\n        throw new Error(\"getDocument - no `url` parameter provided.\");\n      }\n      const NetworkStream = isValidFetchUrl(url) ? PDFFetchStream : isNodeJS ? PDFNodeStream : PDFNetworkStream;\n      networkStream = new NetworkStream({\n        url,\n        length,\n        httpHeaders,\n        withCredentials,\n        rangeChunkSize,\n        disableRange,\n        disableStream\n      });\n    }\n    return workerIdPromise.then(workerId => {\n      if (task.destroyed) {\n        throw new Error(\"Loading aborted\");\n      }\n      if (worker.destroyed) {\n        throw new Error(\"Worker was destroyed\");\n      }\n      const messageHandler = new MessageHandler(docId, workerId, worker.port);\n      const transport = new WorkerTransport(messageHandler, task, networkStream, transportParams, transportFactory, enableHWA);\n      task._transport = transport;\n      messageHandler.send(\"Ready\", null);\n    });\n  }).catch(task._capability.reject);\n  return task;\n}\nclass PDFDocumentLoadingTask {\n  static #docId = 0;\n  _capability = Promise.withResolvers();\n  _transport = null;\n  _worker = null;\n  docId = `d${PDFDocumentLoadingTask.#docId++}`;\n  destroyed = false;\n  onPassword = null;\n  onProgress = null;\n  get promise() {\n    return this._capability.promise;\n  }\n  async destroy() {\n    this.destroyed = true;\n    try {\n      if (this._worker?.port) {\n        this._worker._pendingDestroy = true;\n      }\n      await this._transport?.destroy();\n    } catch (ex) {\n      if (this._worker?.port) {\n        delete this._worker._pendingDestroy;\n      }\n      throw ex;\n    }\n    this._transport = null;\n    this._worker?.destroy();\n    this._worker = null;\n  }\n  async getData() {\n    return this._transport.getData();\n  }\n}\nclass PDFDataRangeTransport {\n  #capability = Promise.withResolvers();\n  #progressiveDoneListeners = [];\n  #progressiveReadListeners = [];\n  #progressListeners = [];\n  #rangeListeners = [];\n  constructor(length, initialData, progressiveDone = false, contentDispositionFilename = null) {\n    this.length = length;\n    this.initialData = initialData;\n    this.progressiveDone = progressiveDone;\n    this.contentDispositionFilename = contentDispositionFilename;\n  }\n  addRangeListener(listener) {\n    this.#rangeListeners.push(listener);\n  }\n  addProgressListener(listener) {\n    this.#progressListeners.push(listener);\n  }\n  addProgressiveReadListener(listener) {\n    this.#progressiveReadListeners.push(listener);\n  }\n  addProgressiveDoneListener(listener) {\n    this.#progressiveDoneListeners.push(listener);\n  }\n  onDataRange(begin, chunk) {\n    for (const listener of this.#rangeListeners) {\n      listener(begin, chunk);\n    }\n  }\n  onDataProgress(loaded, total) {\n    this.#capability.promise.then(() => {\n      for (const listener of this.#progressListeners) {\n        listener(loaded, total);\n      }\n    });\n  }\n  onDataProgressiveRead(chunk) {\n    this.#capability.promise.then(() => {\n      for (const listener of this.#progressiveReadListeners) {\n        listener(chunk);\n      }\n    });\n  }\n  onDataProgressiveDone() {\n    this.#capability.promise.then(() => {\n      for (const listener of this.#progressiveDoneListeners) {\n        listener();\n      }\n    });\n  }\n  transportReady() {\n    this.#capability.resolve();\n  }\n  requestDataRange(begin, end) {\n    unreachable(\"Abstract method PDFDataRangeTransport.requestDataRange\");\n  }\n  abort() {}\n}\nclass PDFDocumentProxy {\n  constructor(pdfInfo, transport) {\n    this._pdfInfo = pdfInfo;\n    this._transport = transport;\n  }\n  get annotationStorage() {\n    return this._transport.annotationStorage;\n  }\n  get canvasFactory() {\n    return this._transport.canvasFactory;\n  }\n  get filterFactory() {\n    return this._transport.filterFactory;\n  }\n  get numPages() {\n    return this._pdfInfo.numPages;\n  }\n  get fingerprints() {\n    return this._pdfInfo.fingerprints;\n  }\n  get isPureXfa() {\n    return shadow(this, \"isPureXfa\", !!this._transport._htmlForXfa);\n  }\n  get allXfaHtml() {\n    return this._transport._htmlForXfa;\n  }\n  getPage(pageNumber) {\n    return this._transport.getPage(pageNumber);\n  }\n  getPageIndex(ref) {\n    return this._transport.getPageIndex(ref);\n  }\n  getDestinations() {\n    return this._transport.getDestinations();\n  }\n  getDestination(id) {\n    return this._transport.getDestination(id);\n  }\n  getPageLabels() {\n    return this._transport.getPageLabels();\n  }\n  getPageLayout() {\n    return this._transport.getPageLayout();\n  }\n  getPageMode() {\n    return this._transport.getPageMode();\n  }\n  getViewerPreferences() {\n    return this._transport.getViewerPreferences();\n  }\n  getOpenAction() {\n    return this._transport.getOpenAction();\n  }\n  getAttachments() {\n    return this._transport.getAttachments();\n  }\n  getAnnotationsByType(types, pageIndexesToSkip) {\n    return this._transport.getAnnotationsByType(types, pageIndexesToSkip);\n  }\n  getJSActions() {\n    return this._transport.getDocJSActions();\n  }\n  getOutline() {\n    return this._transport.getOutline();\n  }\n  getOptionalContentConfig({\n    intent = \"display\"\n  } = {}) {\n    const {\n      renderingIntent\n    } = this._transport.getRenderingIntent(intent);\n    return this._transport.getOptionalContentConfig(renderingIntent);\n  }\n  getPermissions() {\n    return this._transport.getPermissions();\n  }\n  getMetadata() {\n    return this._transport.getMetadata();\n  }\n  getMarkInfo() {\n    return this._transport.getMarkInfo();\n  }\n  getData() {\n    return this._transport.getData();\n  }\n  saveDocument() {\n    return this._transport.saveDocument();\n  }\n  extractPages(pageInfos) {\n    return this._transport.extractPages(pageInfos);\n  }\n  getDownloadInfo() {\n    return this._transport.downloadInfoCapability.promise;\n  }\n  cleanup(keepLoadedFonts = false) {\n    return this._transport.startCleanup(keepLoadedFonts || this.isPureXfa);\n  }\n  destroy() {\n    return this.loadingTask.destroy();\n  }\n  cachedPageNumber(ref) {\n    return this._transport.cachedPageNumber(ref);\n  }\n  get loadingParams() {\n    return this._transport.loadingParams;\n  }\n  get loadingTask() {\n    return this._transport.loadingTask;\n  }\n  getFieldObjects() {\n    return this._transport.getFieldObjects();\n  }\n  hasJSActions() {\n    return this._transport.hasJSActions();\n  }\n  getCalculationOrderIds() {\n    return this._transport.getCalculationOrderIds();\n  }\n}\nclass PDFPageProxy {\n  #pendingCleanup = false;\n  constructor(pageIndex, pageInfo, transport, pdfBug = false) {\n    this._pageIndex = pageIndex;\n    this._pageInfo = pageInfo;\n    this._transport = transport;\n    this._stats = pdfBug ? new StatTimer() : null;\n    this._pdfBug = pdfBug;\n    this.commonObjs = transport.commonObjs;\n    this.objs = new PDFObjects();\n    this._intentStates = new Map();\n    this.destroyed = false;\n    this.recordedBBoxes = null;\n  }\n  get pageNumber() {\n    return this._pageIndex + 1;\n  }\n  get rotate() {\n    return this._pageInfo.rotate;\n  }\n  get ref() {\n    return this._pageInfo.ref;\n  }\n  get userUnit() {\n    return this._pageInfo.userUnit;\n  }\n  get view() {\n    return this._pageInfo.view;\n  }\n  getViewport({\n    scale,\n    rotation = this.rotate,\n    offsetX = 0,\n    offsetY = 0,\n    dontFlip = false\n  } = {}) {\n    return new PageViewport({\n      viewBox: this.view,\n      userUnit: this.userUnit,\n      scale,\n      rotation,\n      offsetX,\n      offsetY,\n      dontFlip\n    });\n  }\n  getAnnotations({\n    intent = \"display\"\n  } = {}) {\n    const {\n      renderingIntent\n    } = this._transport.getRenderingIntent(intent);\n    return this._transport.getAnnotations(this._pageIndex, renderingIntent);\n  }\n  getJSActions() {\n    return this._transport.getPageJSActions(this._pageIndex);\n  }\n  get filterFactory() {\n    return this._transport.filterFactory;\n  }\n  get isPureXfa() {\n    return shadow(this, \"isPureXfa\", !!this._transport._htmlForXfa);\n  }\n  async getXfa() {\n    return this._transport._htmlForXfa?.children[this._pageIndex] || null;\n  }\n  render({\n    canvasContext,\n    canvas = canvasContext.canvas,\n    viewport,\n    intent = \"display\",\n    annotationMode = AnnotationMode.ENABLE,\n    transform = null,\n    background = null,\n    optionalContentConfigPromise = null,\n    annotationCanvasMap = null,\n    pageColors = null,\n    printAnnotationStorage = null,\n    isEditing = false,\n    recordOperations = false,\n    operationsFilter = null\n  }) {\n    this._stats?.time(\"Overall\");\n    const intentArgs = this._transport.getRenderingIntent(intent, annotationMode, printAnnotationStorage, isEditing);\n    const {\n      renderingIntent,\n      cacheKey\n    } = intentArgs;\n    this.#pendingCleanup = false;\n    optionalContentConfigPromise ||= this._transport.getOptionalContentConfig(renderingIntent);\n    let intentState = this._intentStates.get(cacheKey);\n    if (!intentState) {\n      intentState = Object.create(null);\n      this._intentStates.set(cacheKey, intentState);\n    }\n    if (intentState.streamReaderCancelTimeout) {\n      clearTimeout(intentState.streamReaderCancelTimeout);\n      intentState.streamReaderCancelTimeout = null;\n    }\n    const intentPrint = !!(renderingIntent & RenderingIntentFlag.PRINT);\n    if (!intentState.displayReadyCapability) {\n      intentState.displayReadyCapability = Promise.withResolvers();\n      intentState.operatorList = {\n        fnArray: [],\n        argsArray: [],\n        lastChunk: false,\n        separateAnnots: null\n      };\n      this._stats?.time(\"Page Request\");\n      this._pumpOperatorList(intentArgs);\n    }\n    const recordForDebugger = Boolean(this._pdfBug && globalThis.StepperManager?.enabled);\n    const shouldRecordOperations = !this.recordedBBoxes && (recordOperations || recordForDebugger);\n    const complete = error => {\n      intentState.renderTasks.delete(internalRenderTask);\n      if (shouldRecordOperations) {\n        const recordedBBoxes = internalRenderTask.gfx?.dependencyTracker.take();\n        if (recordedBBoxes) {\n          if (internalRenderTask.stepper) {\n            internalRenderTask.stepper.setOperatorBBoxes(recordedBBoxes, internalRenderTask.gfx.dependencyTracker.takeDebugMetadata());\n          }\n          if (recordOperations) {\n            this.recordedBBoxes = recordedBBoxes;\n          }\n        }\n      }\n      if (intentPrint) {\n        this.#pendingCleanup = true;\n      }\n      this.#tryCleanup();\n      if (error) {\n        internalRenderTask.capability.reject(error);\n        this._abortOperatorList({\n          intentState,\n          reason: error instanceof Error ? error : new Error(error)\n        });\n      } else {\n        internalRenderTask.capability.resolve();\n      }\n      if (this._stats) {\n        this._stats.timeEnd(\"Rendering\");\n        this._stats.timeEnd(\"Overall\");\n        if (globalThis.Stats?.enabled) {\n          globalThis.Stats.add(this.pageNumber, this._stats);\n        }\n      }\n    };\n    const internalRenderTask = new InternalRenderTask({\n      callback: complete,\n      params: {\n        canvas,\n        canvasContext,\n        dependencyTracker: shouldRecordOperations ? new CanvasDependencyTracker(canvas, intentState.operatorList.length, recordForDebugger) : null,\n        viewport,\n        transform,\n        background\n      },\n      objs: this.objs,\n      commonObjs: this.commonObjs,\n      annotationCanvasMap,\n      operatorList: intentState.operatorList,\n      pageIndex: this._pageIndex,\n      canvasFactory: this._transport.canvasFactory,\n      filterFactory: this._transport.filterFactory,\n      useRequestAnimationFrame: !intentPrint,\n      pdfBug: this._pdfBug,\n      pageColors,\n      enableHWA: this._transport.enableHWA,\n      operationsFilter\n    });\n    (intentState.renderTasks ||= new Set()).add(internalRenderTask);\n    const renderTask = internalRenderTask.task;\n    Promise.all([intentState.displayReadyCapability.promise, optionalContentConfigPromise]).then(([transparency, optionalContentConfig]) => {\n      if (this.destroyed) {\n        complete();\n        return;\n      }\n      this._stats?.time(\"Rendering\");\n      if (!(optionalContentConfig.renderingIntent & renderingIntent)) {\n        throw new Error(\"Must use the same `intent`-argument when calling the `PDFPageProxy.render` \" + \"and `PDFDocumentProxy.getOptionalContentConfig` methods.\");\n      }\n      internalRenderTask.initializeGraphics({\n        transparency,\n        optionalContentConfig\n      });\n      internalRenderTask.operatorListChanged();\n    }).catch(complete);\n    return renderTask;\n  }\n  getOperatorList({\n    intent = \"display\",\n    annotationMode = AnnotationMode.ENABLE,\n    printAnnotationStorage = null,\n    isEditing = false\n  } = {}) {\n    function operatorListChanged() {\n      if (intentState.operatorList.lastChunk) {\n        intentState.opListReadCapability.resolve(intentState.operatorList);\n        intentState.renderTasks.delete(opListTask);\n      }\n    }\n    const intentArgs = this._transport.getRenderingIntent(intent, annotationMode, printAnnotationStorage, isEditing, true);\n    let intentState = this._intentStates.get(intentArgs.cacheKey);\n    if (!intentState) {\n      intentState = Object.create(null);\n      this._intentStates.set(intentArgs.cacheKey, intentState);\n    }\n    let opListTask;\n    if (!intentState.opListReadCapability) {\n      opListTask = Object.create(null);\n      opListTask.operatorListChanged = operatorListChanged;\n      intentState.opListReadCapability = Promise.withResolvers();\n      (intentState.renderTasks ||= new Set()).add(opListTask);\n      intentState.operatorList = {\n        fnArray: [],\n        argsArray: [],\n        lastChunk: false,\n        separateAnnots: null\n      };\n      this._stats?.time(\"Page Request\");\n      this._pumpOperatorList(intentArgs);\n    }\n    return intentState.opListReadCapability.promise;\n  }\n  streamTextContent({\n    includeMarkedContent = false,\n    disableNormalization = false\n  } = {}) {\n    const TEXT_CONTENT_CHUNK_SIZE = 100;\n    return this._transport.messageHandler.sendWithStream(\"GetTextContent\", {\n      pageIndex: this._pageIndex,\n      includeMarkedContent: includeMarkedContent === true,\n      disableNormalization: disableNormalization === true\n    }, {\n      highWaterMark: TEXT_CONTENT_CHUNK_SIZE,\n      size(textContent) {\n        return textContent.items.length;\n      }\n    });\n  }\n  getTextContent(params = {}) {\n    if (this._transport._htmlForXfa) {\n      return this.getXfa().then(xfa => XfaText.textContent(xfa));\n    }\n    const readableStream = this.streamTextContent(params);\n    return new Promise(function (resolve, reject) {\n      function pump() {\n        reader.read().then(function ({\n          value,\n          done\n        }) {\n          if (done) {\n            resolve(textContent);\n            return;\n          }\n          textContent.lang ??= value.lang;\n          Object.assign(textContent.styles, value.styles);\n          textContent.items.push(...value.items);\n          pump();\n        }, reject);\n      }\n      const reader = readableStream.getReader();\n      const textContent = {\n        items: [],\n        styles: Object.create(null),\n        lang: null\n      };\n      pump();\n    });\n  }\n  getStructTree() {\n    return this._transport.getStructTree(this._pageIndex);\n  }\n  _destroy() {\n    this.destroyed = true;\n    const waitOn = [];\n    for (const intentState of this._intentStates.values()) {\n      this._abortOperatorList({\n        intentState,\n        reason: new Error(\"Page was destroyed.\"),\n        force: true\n      });\n      if (intentState.opListReadCapability) {\n        continue;\n      }\n      for (const internalRenderTask of intentState.renderTasks) {\n        waitOn.push(internalRenderTask.completed);\n        internalRenderTask.cancel();\n      }\n    }\n    this.objs.clear();\n    this.#pendingCleanup = false;\n    return Promise.all(waitOn);\n  }\n  cleanup(resetStats = false) {\n    this.#pendingCleanup = true;\n    const success = this.#tryCleanup();\n    if (resetStats && success) {\n      this._stats &&= new StatTimer();\n    }\n    return success;\n  }\n  #tryCleanup() {\n    if (!this.#pendingCleanup || this.destroyed) {\n      return false;\n    }\n    for (const {\n      renderTasks,\n      operatorList\n    } of this._intentStates.values()) {\n      if (renderTasks.size > 0 || !operatorList.lastChunk) {\n        return false;\n      }\n    }\n    this._intentStates.clear();\n    this.objs.clear();\n    this.#pendingCleanup = false;\n    return true;\n  }\n  _startRenderPage(transparency, cacheKey) {\n    const intentState = this._intentStates.get(cacheKey);\n    if (!intentState) {\n      return;\n    }\n    this._stats?.timeEnd(\"Page Request\");\n    intentState.displayReadyCapability?.resolve(transparency);\n  }\n  _renderPageChunk(operatorListChunk, intentState) {\n    for (let i = 0, ii = operatorListChunk.length; i < ii; i++) {\n      intentState.operatorList.fnArray.push(operatorListChunk.fnArray[i]);\n      intentState.operatorList.argsArray.push(operatorListChunk.argsArray[i]);\n    }\n    intentState.operatorList.lastChunk = operatorListChunk.lastChunk;\n    intentState.operatorList.separateAnnots = operatorListChunk.separateAnnots;\n    for (const internalRenderTask of intentState.renderTasks) {\n      internalRenderTask.operatorListChanged();\n    }\n    if (operatorListChunk.lastChunk) {\n      this.#tryCleanup();\n    }\n  }\n  _pumpOperatorList({\n    renderingIntent,\n    cacheKey,\n    annotationStorageSerializable,\n    modifiedIds\n  }) {\n    const {\n      map,\n      transfer\n    } = annotationStorageSerializable;\n    const readableStream = this._transport.messageHandler.sendWithStream(\"GetOperatorList\", {\n      pageIndex: this._pageIndex,\n      intent: renderingIntent,\n      cacheKey,\n      annotationStorage: map,\n      modifiedIds\n    }, transfer);\n    const reader = readableStream.getReader();\n    const intentState = this._intentStates.get(cacheKey);\n    intentState.streamReader = reader;\n    const pump = () => {\n      reader.read().then(({\n        value,\n        done\n      }) => {\n        if (done) {\n          intentState.streamReader = null;\n          return;\n        }\n        if (this._transport.destroyed) {\n          return;\n        }\n        this._renderPageChunk(value, intentState);\n        pump();\n      }, reason => {\n        intentState.streamReader = null;\n        if (this._transport.destroyed) {\n          return;\n        }\n        if (intentState.operatorList) {\n          intentState.operatorList.lastChunk = true;\n          for (const internalRenderTask of intentState.renderTasks) {\n            internalRenderTask.operatorListChanged();\n          }\n          this.#tryCleanup();\n        }\n        if (intentState.displayReadyCapability) {\n          intentState.displayReadyCapability.reject(reason);\n        } else if (intentState.opListReadCapability) {\n          intentState.opListReadCapability.reject(reason);\n        } else {\n          throw reason;\n        }\n      });\n    };\n    pump();\n  }\n  _abortOperatorList({\n    intentState,\n    reason,\n    force = false\n  }) {\n    if (!intentState.streamReader) {\n      return;\n    }\n    if (intentState.streamReaderCancelTimeout) {\n      clearTimeout(intentState.streamReaderCancelTimeout);\n      intentState.streamReaderCancelTimeout = null;\n    }\n    if (!force) {\n      if (intentState.renderTasks.size > 0) {\n        return;\n      }\n      if (reason instanceof RenderingCancelledException) {\n        let delay = RENDERING_CANCELLED_TIMEOUT;\n        if (reason.extraDelay > 0 && reason.extraDelay < 1000) {\n          delay += reason.extraDelay;\n        }\n        intentState.streamReaderCancelTimeout = setTimeout(() => {\n          intentState.streamReaderCancelTimeout = null;\n          this._abortOperatorList({\n            intentState,\n            reason,\n            force: true\n          });\n        }, delay);\n        return;\n      }\n    }\n    intentState.streamReader.cancel(new AbortException(reason.message)).catch(() => {});\n    intentState.streamReader = null;\n    if (this._transport.destroyed) {\n      return;\n    }\n    for (const [curCacheKey, curIntentState] of this._intentStates) {\n      if (curIntentState === intentState) {\n        this._intentStates.delete(curCacheKey);\n        break;\n      }\n    }\n    this.cleanup();\n  }\n  get stats() {\n    return this._stats;\n  }\n}\nclass PDFWorker {\n  #capability = Promise.withResolvers();\n  #messageHandler = null;\n  #port = null;\n  #webWorker = null;\n  static #fakeWorkerId = 0;\n  static #isWorkerDisabled = false;\n  static #workerPorts = new WeakMap();\n  static {\n    if (isNodeJS) {\n      this.#isWorkerDisabled = true;\n      GlobalWorkerOptions.workerSrc ||= \"./pdf.worker.mjs\";\n    }\n    this._isSameOrigin = (baseUrl, otherUrl) => {\n      const base = URL.parse(baseUrl);\n      if (!base?.origin || base.origin === \"null\") {\n        return false;\n      }\n      const other = new URL(otherUrl, base);\n      return base.origin === other.origin;\n    };\n    this._createCDNWrapper = url => {\n      const wrapper = `await import(\"${url}\");`;\n      return URL.createObjectURL(new Blob([wrapper], {\n        type: \"text/javascript\"\n      }));\n    };\n    this.fromPort = params => {\n      deprecated(\"`PDFWorker.fromPort` - please use `PDFWorker.create` instead.\");\n      if (!params?.port) {\n        throw new Error(\"PDFWorker.fromPort - invalid method signature.\");\n      }\n      return this.create(params);\n    };\n  }\n  constructor({\n    name = null,\n    port = null,\n    verbosity = getVerbosityLevel()\n  } = {}) {\n    this.name = name;\n    this.destroyed = false;\n    this.verbosity = verbosity;\n    if (port) {\n      if (PDFWorker.#workerPorts.has(port)) {\n        throw new Error(\"Cannot use more than one PDFWorker per port.\");\n      }\n      PDFWorker.#workerPorts.set(port, this);\n      this.#initializeFromPort(port);\n    } else {\n      this.#initialize();\n    }\n  }\n  get promise() {\n    return this.#capability.promise;\n  }\n  #resolve() {\n    this.#capability.resolve();\n    this.#messageHandler.send(\"configure\", {\n      verbosity: this.verbosity\n    });\n  }\n  get port() {\n    return this.#port;\n  }\n  get messageHandler() {\n    return this.#messageHandler;\n  }\n  #initializeFromPort(port) {\n    this.#port = port;\n    this.#messageHandler = new MessageHandler(\"main\", \"worker\", port);\n    this.#messageHandler.on(\"ready\", () => {});\n    this.#resolve();\n  }\n  #initialize() {\n    if (PDFWorker.#isWorkerDisabled || PDFWorker.#mainThreadWorkerMessageHandler) {\n      this.#setupFakeWorker();\n      return;\n    }\n    let {\n      workerSrc\n    } = PDFWorker;\n    try {\n      if (!PDFWorker._isSameOrigin(window.location, workerSrc)) {\n        workerSrc = PDFWorker._createCDNWrapper(new URL(workerSrc, window.location).href);\n      }\n      const worker = new Worker(workerSrc, {\n        type: \"module\"\n      });\n      const messageHandler = new MessageHandler(\"main\", \"worker\", worker);\n      const terminateEarly = () => {\n        ac.abort();\n        messageHandler.destroy();\n        worker.terminate();\n        if (this.destroyed) {\n          this.#capability.reject(new Error(\"Worker was destroyed\"));\n        } else {\n          this.#setupFakeWorker();\n        }\n      };\n      const ac = new AbortController();\n      worker.addEventListener(\"error\", () => {\n        if (!this.#webWorker) {\n          terminateEarly();\n        }\n      }, {\n        signal: ac.signal\n      });\n      messageHandler.on(\"test\", data => {\n        ac.abort();\n        if (this.destroyed || !data) {\n          terminateEarly();\n          return;\n        }\n        this.#messageHandler = messageHandler;\n        this.#port = worker;\n        this.#webWorker = worker;\n        this.#resolve();\n      });\n      messageHandler.on(\"ready\", data => {\n        ac.abort();\n        if (this.destroyed) {\n          terminateEarly();\n          return;\n        }\n        try {\n          sendTest();\n        } catch {\n          this.#setupFakeWorker();\n        }\n      });\n      const sendTest = () => {\n        const testObj = new Uint8Array();\n        messageHandler.send(\"test\", testObj, [testObj.buffer]);\n      };\n      sendTest();\n      return;\n    } catch {\n      info(\"The worker has been disabled.\");\n    }\n    this.#setupFakeWorker();\n  }\n  #setupFakeWorker() {\n    if (!PDFWorker.#isWorkerDisabled) {\n      warn(\"Setting up fake worker.\");\n      PDFWorker.#isWorkerDisabled = true;\n    }\n    PDFWorker._setupFakeWorkerGlobal.then(WorkerMessageHandler => {\n      if (this.destroyed) {\n        this.#capability.reject(new Error(\"Worker was destroyed\"));\n        return;\n      }\n      const port = new LoopbackPort();\n      this.#port = port;\n      const id = `fake${PDFWorker.#fakeWorkerId++}`;\n      const workerHandler = new MessageHandler(id + \"_worker\", id, port);\n      WorkerMessageHandler.setup(workerHandler, port);\n      this.#messageHandler = new MessageHandler(id, id + \"_worker\", port);\n      this.#resolve();\n    }).catch(reason => {\n      this.#capability.reject(new Error(`Setting up fake worker failed: \"${reason.message}\".`));\n    });\n  }\n  destroy() {\n    this.destroyed = true;\n    this.#webWorker?.terminate();\n    this.#webWorker = null;\n    PDFWorker.#workerPorts.delete(this.#port);\n    this.#port = null;\n    this.#messageHandler?.destroy();\n    this.#messageHandler = null;\n  }\n  static create(params) {\n    const cachedPort = this.#workerPorts.get(params?.port);\n    if (cachedPort) {\n      if (cachedPort._pendingDestroy) {\n        throw new Error(\"PDFWorker.create - the worker is being destroyed.\\n\" + \"Please remember to await `PDFDocumentLoadingTask.destroy()`-calls.\");\n      }\n      return cachedPort;\n    }\n    return new PDFWorker(params);\n  }\n  static get workerSrc() {\n    if (GlobalWorkerOptions.workerSrc) {\n      return GlobalWorkerOptions.workerSrc;\n    }\n    throw new Error('No \"GlobalWorkerOptions.workerSrc\" specified.');\n  }\n  static get #mainThreadWorkerMessageHandler() {\n    try {\n      return globalThis.pdfjsWorker?.WorkerMessageHandler || null;\n    } catch {\n      return null;\n    }\n  }\n  static get _setupFakeWorkerGlobal() {\n    const loader = async () => {\n      if (this.#mainThreadWorkerMessageHandler) {\n        return this.#mainThreadWorkerMessageHandler;\n      }\n      const worker = await import(\n      /*webpackIgnore: true*/\n      /*@vite-ignore*/\n      this.workerSrc);\n      return worker.WorkerMessageHandler;\n    };\n    return shadow(this, \"_setupFakeWorkerGlobal\", loader());\n  }\n}\nclass WorkerTransport {\n  #methodPromises = new Map();\n  #pageCache = new Map();\n  #pagePromises = new Map();\n  #pageRefCache = new Map();\n  #passwordCapability = null;\n  constructor(messageHandler, loadingTask, networkStream, params, factory, enableHWA) {\n    this.messageHandler = messageHandler;\n    this.loadingTask = loadingTask;\n    this.commonObjs = new PDFObjects();\n    this.fontLoader = new FontLoader({\n      ownerDocument: params.ownerDocument,\n      styleElement: params.styleElement\n    });\n    this.loadingParams = params.loadingParams;\n    this._params = params;\n    this.canvasFactory = factory.canvasFactory;\n    this.filterFactory = factory.filterFactory;\n    this.cMapReaderFactory = factory.cMapReaderFactory;\n    this.standardFontDataFactory = factory.standardFontDataFactory;\n    this.wasmFactory = factory.wasmFactory;\n    this.destroyed = false;\n    this.destroyCapability = null;\n    this._networkStream = networkStream;\n    this._fullReader = null;\n    this._lastProgress = null;\n    this.downloadInfoCapability = Promise.withResolvers();\n    this.enableHWA = enableHWA;\n    this.setupMessageHandler();\n  }\n  #cacheSimpleMethod(name, data = null) {\n    const cachedPromise = this.#methodPromises.get(name);\n    if (cachedPromise) {\n      return cachedPromise;\n    }\n    const promise = this.messageHandler.sendWithPromise(name, data);\n    this.#methodPromises.set(name, promise);\n    return promise;\n  }\n  get annotationStorage() {\n    return shadow(this, \"annotationStorage\", new AnnotationStorage());\n  }\n  getRenderingIntent(intent, annotationMode = AnnotationMode.ENABLE, printAnnotationStorage = null, isEditing = false, isOpList = false) {\n    let renderingIntent = RenderingIntentFlag.DISPLAY;\n    let annotationStorageSerializable = SerializableEmpty;\n    switch (intent) {\n      case \"any\":\n        renderingIntent = RenderingIntentFlag.ANY;\n        break;\n      case \"display\":\n        break;\n      case \"print\":\n        renderingIntent = RenderingIntentFlag.PRINT;\n        break;\n      default:\n        warn(`getRenderingIntent - invalid intent: ${intent}`);\n    }\n    const annotationStorage = renderingIntent & RenderingIntentFlag.PRINT && printAnnotationStorage instanceof PrintAnnotationStorage ? printAnnotationStorage : this.annotationStorage;\n    switch (annotationMode) {\n      case AnnotationMode.DISABLE:\n        renderingIntent += RenderingIntentFlag.ANNOTATIONS_DISABLE;\n        break;\n      case AnnotationMode.ENABLE:\n        break;\n      case AnnotationMode.ENABLE_FORMS:\n        renderingIntent += RenderingIntentFlag.ANNOTATIONS_FORMS;\n        break;\n      case AnnotationMode.ENABLE_STORAGE:\n        renderingIntent += RenderingIntentFlag.ANNOTATIONS_STORAGE;\n        annotationStorageSerializable = annotationStorage.serializable;\n        break;\n      default:\n        warn(`getRenderingIntent - invalid annotationMode: ${annotationMode}`);\n    }\n    if (isEditing) {\n      renderingIntent += RenderingIntentFlag.IS_EDITING;\n    }\n    if (isOpList) {\n      renderingIntent += RenderingIntentFlag.OPLIST;\n    }\n    const {\n      ids: modifiedIds,\n      hash: modifiedIdsHash\n    } = annotationStorage.modifiedIds;\n    const cacheKeyBuf = [renderingIntent, annotationStorageSerializable.hash, modifiedIdsHash];\n    return {\n      renderingIntent,\n      cacheKey: cacheKeyBuf.join(\"_\"),\n      annotationStorageSerializable,\n      modifiedIds\n    };\n  }\n  destroy() {\n    if (this.destroyCapability) {\n      return this.destroyCapability.promise;\n    }\n    this.destroyed = true;\n    this.destroyCapability = Promise.withResolvers();\n    this.#passwordCapability?.reject(new Error(\"Worker was destroyed during onPassword callback\"));\n    const waitOn = [];\n    for (const page of this.#pageCache.values()) {\n      waitOn.push(page._destroy());\n    }\n    this.#pageCache.clear();\n    this.#pagePromises.clear();\n    this.#pageRefCache.clear();\n    if (this.hasOwnProperty(\"annotationStorage\")) {\n      this.annotationStorage.resetModified();\n    }\n    const terminated = this.messageHandler.sendWithPromise(\"Terminate\", null);\n    waitOn.push(terminated);\n    Promise.all(waitOn).then(() => {\n      this.commonObjs.clear();\n      this.fontLoader.clear();\n      this.#methodPromises.clear();\n      this.filterFactory.destroy();\n      TextLayer.cleanup();\n      this._networkStream?.cancelAllRequests(new AbortException(\"Worker was terminated.\"));\n      this.messageHandler?.destroy();\n      this.messageHandler = null;\n      this.destroyCapability.resolve();\n    }, this.destroyCapability.reject);\n    return this.destroyCapability.promise;\n  }\n  setupMessageHandler() {\n    const {\n      messageHandler,\n      loadingTask\n    } = this;\n    messageHandler.on(\"GetReader\", (data, sink) => {\n      assert(this._networkStream, \"GetReader - no `IPDFStream` instance available.\");\n      this._fullReader = this._networkStream.getFullReader();\n      this._fullReader.onProgress = evt => {\n        this._lastProgress = {\n          loaded: evt.loaded,\n          total: evt.total\n        };\n      };\n      sink.onPull = () => {\n        this._fullReader.read().then(function ({\n          value,\n          done\n        }) {\n          if (done) {\n            sink.close();\n            return;\n          }\n          assert(value instanceof ArrayBuffer, \"GetReader - expected an ArrayBuffer.\");\n          sink.enqueue(new Uint8Array(value), 1, [value]);\n        }).catch(reason => {\n          sink.error(reason);\n        });\n      };\n      sink.onCancel = reason => {\n        this._fullReader.cancel(reason);\n        sink.ready.catch(readyReason => {\n          if (this.destroyed) {\n            return;\n          }\n          throw readyReason;\n        });\n      };\n    });\n    messageHandler.on(\"ReaderHeadersReady\", async data => {\n      await this._fullReader.headersReady;\n      const {\n        isStreamingSupported,\n        isRangeSupported,\n        contentLength\n      } = this._fullReader;\n      if (!isStreamingSupported || !isRangeSupported) {\n        if (this._lastProgress) {\n          loadingTask.onProgress?.(this._lastProgress);\n        }\n        this._fullReader.onProgress = evt => {\n          loadingTask.onProgress?.({\n            loaded: evt.loaded,\n            total: evt.total\n          });\n        };\n      }\n      return {\n        isStreamingSupported,\n        isRangeSupported,\n        contentLength\n      };\n    });\n    messageHandler.on(\"GetRangeReader\", (data, sink) => {\n      assert(this._networkStream, \"GetRangeReader - no `IPDFStream` instance available.\");\n      const rangeReader = this._networkStream.getRangeReader(data.begin, data.end);\n      if (!rangeReader) {\n        sink.close();\n        return;\n      }\n      sink.onPull = () => {\n        rangeReader.read().then(function ({\n          value,\n          done\n        }) {\n          if (done) {\n            sink.close();\n            return;\n          }\n          assert(value instanceof ArrayBuffer, \"GetRangeReader - expected an ArrayBuffer.\");\n          sink.enqueue(new Uint8Array(value), 1, [value]);\n        }).catch(reason => {\n          sink.error(reason);\n        });\n      };\n      sink.onCancel = reason => {\n        rangeReader.cancel(reason);\n        sink.ready.catch(readyReason => {\n          if (this.destroyed) {\n            return;\n          }\n          throw readyReason;\n        });\n      };\n    });\n    messageHandler.on(\"GetDoc\", ({\n      pdfInfo\n    }) => {\n      this._numPages = pdfInfo.numPages;\n      this._htmlForXfa = pdfInfo.htmlForXfa;\n      delete pdfInfo.htmlForXfa;\n      loadingTask._capability.resolve(new PDFDocumentProxy(pdfInfo, this));\n    });\n    messageHandler.on(\"DocException\", ex => {\n      loadingTask._capability.reject(wrapReason(ex));\n    });\n    messageHandler.on(\"PasswordRequest\", ex => {\n      this.#passwordCapability = Promise.withResolvers();\n      try {\n        if (!loadingTask.onPassword) {\n          throw wrapReason(ex);\n        }\n        const updatePassword = password => {\n          if (password instanceof Error) {\n            this.#passwordCapability.reject(password);\n          } else {\n            this.#passwordCapability.resolve({\n              password\n            });\n          }\n        };\n        loadingTask.onPassword(updatePassword, ex.code);\n      } catch (err) {\n        this.#passwordCapability.reject(err);\n      }\n      return this.#passwordCapability.promise;\n    });\n    messageHandler.on(\"DataLoaded\", data => {\n      loadingTask.onProgress?.({\n        loaded: data.length,\n        total: data.length\n      });\n      this.downloadInfoCapability.resolve(data);\n    });\n    messageHandler.on(\"StartRenderPage\", data => {\n      if (this.destroyed) {\n        return;\n      }\n      const page = this.#pageCache.get(data.pageIndex);\n      page._startRenderPage(data.transparency, data.cacheKey);\n    });\n    messageHandler.on(\"commonobj\", ([id, type, exportedData]) => {\n      if (this.destroyed) {\n        return null;\n      }\n      if (this.commonObjs.has(id)) {\n        return null;\n      }\n      switch (type) {\n        case \"Font\":\n          if (\"error\" in exportedData) {\n            const exportedError = exportedData.error;\n            warn(`Error during font loading: ${exportedError}`);\n            this.commonObjs.resolve(id, exportedError);\n            break;\n          }\n          const fontData = new FontInfo(exportedData);\n          const inspectFont = this._params.pdfBug && globalThis.FontInspector?.enabled ? (font, url) => globalThis.FontInspector.fontAdded(font, url) : null;\n          const font = new FontFaceObject(fontData, inspectFont, exportedData.extra, exportedData.charProcOperatorList);\n          this.fontLoader.bind(font).catch(() => messageHandler.sendWithPromise(\"FontFallback\", {\n            id\n          })).finally(() => {\n            if (!font.fontExtraProperties && font.data) {\n              font.clearData();\n            }\n            this.commonObjs.resolve(id, font);\n          });\n          break;\n        case \"CopyLocalImage\":\n          const {\n            imageRef\n          } = exportedData;\n          assert(imageRef, \"The imageRef must be defined.\");\n          for (const pageProxy of this.#pageCache.values()) {\n            for (const [, data] of pageProxy.objs) {\n              if (data?.ref !== imageRef) {\n                continue;\n              }\n              if (!data.dataLen) {\n                return null;\n              }\n              this.commonObjs.resolve(id, structuredClone(data));\n              return data.dataLen;\n            }\n          }\n          break;\n        case \"FontPath\":\n          this.commonObjs.resolve(id, new FontPathInfo(exportedData));\n          break;\n        case \"Image\":\n          this.commonObjs.resolve(id, exportedData);\n          break;\n        case \"Pattern\":\n          const pattern = new PatternInfo(exportedData);\n          this.commonObjs.resolve(id, pattern.getIR());\n          break;\n        default:\n          throw new Error(`Got unknown common object type ${type}`);\n      }\n      return null;\n    });\n    messageHandler.on(\"obj\", ([id, pageIndex, type, imageData]) => {\n      if (this.destroyed) {\n        return;\n      }\n      const pageProxy = this.#pageCache.get(pageIndex);\n      if (pageProxy.objs.has(id)) {\n        return;\n      }\n      if (pageProxy._intentStates.size === 0) {\n        imageData?.bitmap?.close();\n        return;\n      }\n      switch (type) {\n        case \"Image\":\n        case \"Pattern\":\n          pageProxy.objs.resolve(id, imageData);\n          break;\n        default:\n          throw new Error(`Got unknown object type ${type}`);\n      }\n    });\n    messageHandler.on(\"DocProgress\", data => {\n      if (this.destroyed) {\n        return;\n      }\n      loadingTask.onProgress?.({\n        loaded: data.loaded,\n        total: data.total\n      });\n    });\n    messageHandler.on(\"FetchBinaryData\", async data => {\n      if (this.destroyed) {\n        throw new Error(\"Worker was destroyed.\");\n      }\n      const factory = this[data.type];\n      if (!factory) {\n        throw new Error(`${data.type} not initialized, see the \\`useWorkerFetch\\` parameter.`);\n      }\n      return factory.fetch(data);\n    });\n  }\n  getData() {\n    return this.messageHandler.sendWithPromise(\"GetData\", null);\n  }\n  saveDocument() {\n    if (this.annotationStorage.size <= 0) {\n      warn(\"saveDocument called while `annotationStorage` is empty, \" + \"please use the getData-method instead.\");\n    }\n    const {\n      map,\n      transfer\n    } = this.annotationStorage.serializable;\n    return this.messageHandler.sendWithPromise(\"SaveDocument\", {\n      isPureXfa: !!this._htmlForXfa,\n      numPages: this._numPages,\n      annotationStorage: map,\n      filename: this._fullReader?.filename ?? null\n    }, transfer).finally(() => {\n      this.annotationStorage.resetModified();\n    });\n  }\n  extractPages(pageInfos) {\n    return this.messageHandler.sendWithPromise(\"ExtractPages\", {\n      pageInfos\n    });\n  }\n  getPage(pageNumber) {\n    if (!Number.isInteger(pageNumber) || pageNumber <= 0 || pageNumber > this._numPages) {\n      return Promise.reject(new Error(\"Invalid page request.\"));\n    }\n    const pageIndex = pageNumber - 1,\n      cachedPromise = this.#pagePromises.get(pageIndex);\n    if (cachedPromise) {\n      return cachedPromise;\n    }\n    const promise = this.messageHandler.sendWithPromise(\"GetPage\", {\n      pageIndex\n    }).then(pageInfo => {\n      if (this.destroyed) {\n        throw new Error(\"Transport destroyed\");\n      }\n      if (pageInfo.refStr) {\n        this.#pageRefCache.set(pageInfo.refStr, pageNumber);\n      }\n      const page = new PDFPageProxy(pageIndex, pageInfo, this, this._params.pdfBug);\n      this.#pageCache.set(pageIndex, page);\n      return page;\n    });\n    this.#pagePromises.set(pageIndex, promise);\n    return promise;\n  }\n  getPageIndex(ref) {\n    if (!isRefProxy(ref)) {\n      return Promise.reject(new Error(\"Invalid pageIndex request.\"));\n    }\n    return this.messageHandler.sendWithPromise(\"GetPageIndex\", {\n      num: ref.num,\n      gen: ref.gen\n    });\n  }\n  getAnnotations(pageIndex, intent) {\n    return this.messageHandler.sendWithPromise(\"GetAnnotations\", {\n      pageIndex,\n      intent\n    });\n  }\n  getFieldObjects() {\n    return this.#cacheSimpleMethod(\"GetFieldObjects\");\n  }\n  hasJSActions() {\n    return this.#cacheSimpleMethod(\"HasJSActions\");\n  }\n  getCalculationOrderIds() {\n    return this.messageHandler.sendWithPromise(\"GetCalculationOrderIds\", null);\n  }\n  getDestinations() {\n    return this.messageHandler.sendWithPromise(\"GetDestinations\", null);\n  }\n  getDestination(id) {\n    if (typeof id !== \"string\") {\n      return Promise.reject(new Error(\"Invalid destination request.\"));\n    }\n    return this.messageHandler.sendWithPromise(\"GetDestination\", {\n      id\n    });\n  }\n  getPageLabels() {\n    return this.messageHandler.sendWithPromise(\"GetPageLabels\", null);\n  }\n  getPageLayout() {\n    return this.messageHandler.sendWithPromise(\"GetPageLayout\", null);\n  }\n  getPageMode() {\n    return this.messageHandler.sendWithPromise(\"GetPageMode\", null);\n  }\n  getViewerPreferences() {\n    return this.messageHandler.sendWithPromise(\"GetViewerPreferences\", null);\n  }\n  getOpenAction() {\n    return this.messageHandler.sendWithPromise(\"GetOpenAction\", null);\n  }\n  getAttachments() {\n    return this.messageHandler.sendWithPromise(\"GetAttachments\", null);\n  }\n  getAnnotationsByType(types, pageIndexesToSkip) {\n    return this.messageHandler.sendWithPromise(\"GetAnnotationsByType\", {\n      types,\n      pageIndexesToSkip\n    });\n  }\n  getDocJSActions() {\n    return this.#cacheSimpleMethod(\"GetDocJSActions\");\n  }\n  getPageJSActions(pageIndex) {\n    return this.messageHandler.sendWithPromise(\"GetPageJSActions\", {\n      pageIndex\n    });\n  }\n  getStructTree(pageIndex) {\n    return this.messageHandler.sendWithPromise(\"GetStructTree\", {\n      pageIndex\n    });\n  }\n  getOutline() {\n    return this.messageHandler.sendWithPromise(\"GetOutline\", null);\n  }\n  getOptionalContentConfig(renderingIntent) {\n    return this.#cacheSimpleMethod(\"GetOptionalContentConfig\").then(data => new OptionalContentConfig(data, renderingIntent));\n  }\n  getPermissions() {\n    return this.messageHandler.sendWithPromise(\"GetPermissions\", null);\n  }\n  getMetadata() {\n    const name = \"GetMetadata\",\n      cachedPromise = this.#methodPromises.get(name);\n    if (cachedPromise) {\n      return cachedPromise;\n    }\n    const promise = this.messageHandler.sendWithPromise(name, null).then(results => ({\n      info: results[0],\n      metadata: results[1] ? new Metadata(results[1]) : null,\n      contentDispositionFilename: this._fullReader?.filename ?? null,\n      contentLength: this._fullReader?.contentLength ?? null,\n      hasStructTree: results[2]\n    }));\n    this.#methodPromises.set(name, promise);\n    return promise;\n  }\n  getMarkInfo() {\n    return this.messageHandler.sendWithPromise(\"GetMarkInfo\", null);\n  }\n  async startCleanup(keepLoadedFonts = false) {\n    if (this.destroyed) {\n      return;\n    }\n    await this.messageHandler.sendWithPromise(\"Cleanup\", null);\n    for (const page of this.#pageCache.values()) {\n      const cleanupSuccessful = page.cleanup();\n      if (!cleanupSuccessful) {\n        throw new Error(`startCleanup: Page ${page.pageNumber} is currently rendering.`);\n      }\n    }\n    this.commonObjs.clear();\n    if (!keepLoadedFonts) {\n      this.fontLoader.clear();\n    }\n    this.#methodPromises.clear();\n    this.filterFactory.destroy(true);\n    TextLayer.cleanup();\n  }\n  cachedPageNumber(ref) {\n    if (!isRefProxy(ref)) {\n      return null;\n    }\n    const refStr = ref.gen === 0 ? `${ref.num}R` : `${ref.num}R${ref.gen}`;\n    return this.#pageRefCache.get(refStr) ?? null;\n  }\n}\nclass RenderTask {\n  #internalRenderTask = null;\n  onContinue = null;\n  onError = null;\n  constructor(internalRenderTask) {\n    this.#internalRenderTask = internalRenderTask;\n  }\n  get promise() {\n    return this.#internalRenderTask.capability.promise;\n  }\n  cancel(extraDelay = 0) {\n    this.#internalRenderTask.cancel(null, extraDelay);\n  }\n  get separateAnnots() {\n    const {\n      separateAnnots\n    } = this.#internalRenderTask.operatorList;\n    if (!separateAnnots) {\n      return false;\n    }\n    const {\n      annotationCanvasMap\n    } = this.#internalRenderTask;\n    return separateAnnots.form || separateAnnots.canvas && annotationCanvasMap?.size > 0;\n  }\n}\nclass InternalRenderTask {\n  #rAF = null;\n  static #canvasInUse = new WeakSet();\n  constructor({\n    callback,\n    params,\n    objs,\n    commonObjs,\n    annotationCanvasMap,\n    operatorList,\n    pageIndex,\n    canvasFactory,\n    filterFactory,\n    useRequestAnimationFrame = false,\n    pdfBug = false,\n    pageColors = null,\n    enableHWA = false,\n    operationsFilter = null\n  }) {\n    this.callback = callback;\n    this.params = params;\n    this.objs = objs;\n    this.commonObjs = commonObjs;\n    this.annotationCanvasMap = annotationCanvasMap;\n    this.operatorListIdx = null;\n    this.operatorList = operatorList;\n    this._pageIndex = pageIndex;\n    this.canvasFactory = canvasFactory;\n    this.filterFactory = filterFactory;\n    this._pdfBug = pdfBug;\n    this.pageColors = pageColors;\n    this.running = false;\n    this.graphicsReadyCallback = null;\n    this.graphicsReady = false;\n    this._useRequestAnimationFrame = useRequestAnimationFrame === true && typeof window !== \"undefined\";\n    this.cancelled = false;\n    this.capability = Promise.withResolvers();\n    this.task = new RenderTask(this);\n    this._cancelBound = this.cancel.bind(this);\n    this._continueBound = this._continue.bind(this);\n    this._scheduleNextBound = this._scheduleNext.bind(this);\n    this._nextBound = this._next.bind(this);\n    this._canvas = params.canvas;\n    this._canvasContext = params.canvas ? null : params.canvasContext;\n    this._enableHWA = enableHWA;\n    this._dependencyTracker = params.dependencyTracker;\n    this._operationsFilter = operationsFilter;\n  }\n  get completed() {\n    return this.capability.promise.catch(function () {});\n  }\n  initializeGraphics({\n    transparency = false,\n    optionalContentConfig\n  }) {\n    if (this.cancelled) {\n      return;\n    }\n    if (this._canvas) {\n      if (InternalRenderTask.#canvasInUse.has(this._canvas)) {\n        throw new Error(\"Cannot use the same canvas during multiple render() operations. \" + \"Use different canvas or ensure previous operations were \" + \"cancelled or completed.\");\n      }\n      InternalRenderTask.#canvasInUse.add(this._canvas);\n    }\n    if (this._pdfBug && globalThis.StepperManager?.enabled) {\n      this.stepper = globalThis.StepperManager.create(this._pageIndex);\n      this.stepper.init(this.operatorList);\n      this.stepper.nextBreakPoint = this.stepper.getNextBreakPoint();\n    }\n    const {\n      viewport,\n      transform,\n      background,\n      dependencyTracker\n    } = this.params;\n    const canvasContext = this._canvasContext || this._canvas.getContext(\"2d\", {\n      alpha: false,\n      willReadFrequently: !this._enableHWA\n    });\n    this.gfx = new CanvasGraphics(canvasContext, this.commonObjs, this.objs, this.canvasFactory, this.filterFactory, {\n      optionalContentConfig\n    }, this.annotationCanvasMap, this.pageColors, dependencyTracker);\n    this.gfx.beginDrawing({\n      transform,\n      viewport,\n      transparency,\n      background\n    });\n    this.operatorListIdx = 0;\n    this.graphicsReady = true;\n    this.graphicsReadyCallback?.();\n  }\n  cancel(error = null, extraDelay = 0) {\n    this.running = false;\n    this.cancelled = true;\n    this.gfx?.endDrawing();\n    if (this.#rAF) {\n      window.cancelAnimationFrame(this.#rAF);\n      this.#rAF = null;\n    }\n    InternalRenderTask.#canvasInUse.delete(this._canvas);\n    error ||= new RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex + 1}`, extraDelay);\n    this.callback(error);\n    this.task.onError?.(error);\n  }\n  operatorListChanged() {\n    if (!this.graphicsReady) {\n      this.graphicsReadyCallback ||= this._continueBound;\n      return;\n    }\n    this.gfx.dependencyTracker?.growOperationsCount(this.operatorList.fnArray.length);\n    this.stepper?.updateOperatorList(this.operatorList);\n    if (this.running) {\n      return;\n    }\n    this._continue();\n  }\n  _continue() {\n    this.running = true;\n    if (this.cancelled) {\n      return;\n    }\n    if (this.task.onContinue) {\n      this.task.onContinue(this._scheduleNextBound);\n    } else {\n      this._scheduleNext();\n    }\n  }\n  _scheduleNext() {\n    if (this._useRequestAnimationFrame) {\n      this.#rAF = window.requestAnimationFrame(() => {\n        this.#rAF = null;\n        this._nextBound().catch(this._cancelBound);\n      });\n    } else {\n      Promise.resolve().then(this._nextBound).catch(this._cancelBound);\n    }\n  }\n  async _next() {\n    if (this.cancelled) {\n      return;\n    }\n    this.operatorListIdx = this.gfx.executeOperatorList(this.operatorList, this.operatorListIdx, this._continueBound, this.stepper, this._operationsFilter);\n    if (this.operatorListIdx === this.operatorList.argsArray.length) {\n      this.running = false;\n      if (this.operatorList.lastChunk) {\n        this.gfx.endDrawing();\n        InternalRenderTask.#canvasInUse.delete(this._canvas);\n        this.callback();\n      }\n    }\n  }\n}\nconst version = \"5.4.530\";\nconst build = \"50cc4adac\";\n\n;// ./src/display/editor/color_picker.js\n\n\n\nclass ColorPicker {\n  #button = null;\n  #buttonSwatch = null;\n  #defaultColor;\n  #dropdown = null;\n  #dropdownWasFromKeyboard = false;\n  #isMainColorPicker = false;\n  #editor = null;\n  #eventBus;\n  #openDropdownAC = null;\n  #uiManager = null;\n  static #l10nColor = null;\n  static get _keyboardManager() {\n    return shadow(this, \"_keyboardManager\", new KeyboardManager([[[\"Escape\", \"mac+Escape\"], ColorPicker.prototype._hideDropdownFromKeyboard], [[\" \", \"mac+ \"], ColorPicker.prototype._colorSelectFromKeyboard], [[\"ArrowDown\", \"ArrowRight\", \"mac+ArrowDown\", \"mac+ArrowRight\"], ColorPicker.prototype._moveToNext], [[\"ArrowUp\", \"ArrowLeft\", \"mac+ArrowUp\", \"mac+ArrowLeft\"], ColorPicker.prototype._moveToPrevious], [[\"Home\", \"mac+Home\"], ColorPicker.prototype._moveToBeginning], [[\"End\", \"mac+End\"], ColorPicker.prototype._moveToEnd]]));\n  }\n  constructor({\n    editor = null,\n    uiManager = null\n  }) {\n    if (editor) {\n      this.#isMainColorPicker = false;\n      this.#editor = editor;\n    } else {\n      this.#isMainColorPicker = true;\n    }\n    this.#uiManager = editor?._uiManager || uiManager;\n    this.#eventBus = this.#uiManager._eventBus;\n    this.#defaultColor = editor?.color?.toUpperCase() || this.#uiManager?.highlightColors.values().next().value || \"#FFFF98\";\n    ColorPicker.#l10nColor ||= Object.freeze({\n      blue: \"pdfjs-editor-colorpicker-blue\",\n      green: \"pdfjs-editor-colorpicker-green\",\n      pink: \"pdfjs-editor-colorpicker-pink\",\n      red: \"pdfjs-editor-colorpicker-red\",\n      yellow: \"pdfjs-editor-colorpicker-yellow\"\n    });\n  }\n  renderButton() {\n    const button = this.#button = document.createElement(\"button\");\n    button.className = \"colorPicker\";\n    button.tabIndex = \"0\";\n    button.setAttribute(\"data-l10n-id\", \"pdfjs-editor-colorpicker-button\");\n    button.ariaHasPopup = \"true\";\n    if (this.#editor) {\n      button.ariaControls = `${this.#editor.id}_colorpicker_dropdown`;\n    }\n    const signal = this.#uiManager._signal;\n    button.addEventListener(\"click\", this.#openDropdown.bind(this), {\n      signal\n    });\n    button.addEventListener(\"keydown\", this.#keyDown.bind(this), {\n      signal\n    });\n    const swatch = this.#buttonSwatch = document.createElement(\"span\");\n    swatch.className = \"swatch\";\n    swatch.ariaHidden = \"true\";\n    swatch.style.backgroundColor = this.#defaultColor;\n    button.append(swatch);\n    return button;\n  }\n  renderMainDropdown() {\n    const dropdown = this.#dropdown = this.#getDropdownRoot();\n    dropdown.ariaOrientation = \"horizontal\";\n    dropdown.ariaLabelledBy = \"highlightColorPickerLabel\";\n    return dropdown;\n  }\n  #getDropdownRoot() {\n    const div = document.createElement(\"div\");\n    const signal = this.#uiManager._signal;\n    div.addEventListener(\"contextmenu\", noContextMenu, {\n      signal\n    });\n    div.className = \"dropdown\";\n    div.role = \"listbox\";\n    div.ariaMultiSelectable = \"false\";\n    div.ariaOrientation = \"vertical\";\n    div.setAttribute(\"data-l10n-id\", \"pdfjs-editor-colorpicker-dropdown\");\n    if (this.#editor) {\n      div.id = `${this.#editor.id}_colorpicker_dropdown`;\n    }\n    for (const [name, color] of this.#uiManager.highlightColors) {\n      const button = document.createElement(\"button\");\n      button.tabIndex = \"0\";\n      button.role = \"option\";\n      button.setAttribute(\"data-color\", color);\n      button.title = name;\n      button.setAttribute(\"data-l10n-id\", ColorPicker.#l10nColor[name]);\n      const swatch = document.createElement(\"span\");\n      button.append(swatch);\n      swatch.className = \"swatch\";\n      swatch.style.backgroundColor = color;\n      button.ariaSelected = color === this.#defaultColor;\n      button.addEventListener(\"click\", this.#colorSelect.bind(this, color), {\n        signal\n      });\n      div.append(button);\n    }\n    div.addEventListener(\"keydown\", this.#keyDown.bind(this), {\n      signal\n    });\n    return div;\n  }\n  #colorSelect(color, event) {\n    event.stopPropagation();\n    this.#eventBus.dispatch(\"switchannotationeditorparams\", {\n      source: this,\n      type: AnnotationEditorParamsType.HIGHLIGHT_COLOR,\n      value: color\n    });\n    this.updateColor(color);\n  }\n  _colorSelectFromKeyboard(event) {\n    if (event.target === this.#button) {\n      this.#openDropdown(event);\n      return;\n    }\n    const color = event.target.getAttribute(\"data-color\");\n    if (!color) {\n      return;\n    }\n    this.#colorSelect(color, event);\n  }\n  _moveToNext(event) {\n    if (!this.#isDropdownVisible) {\n      this.#openDropdown(event);\n      return;\n    }\n    if (event.target === this.#button) {\n      this.#dropdown.firstElementChild?.focus();\n      return;\n    }\n    event.target.nextSibling?.focus();\n  }\n  _moveToPrevious(event) {\n    if (event.target === this.#dropdown?.firstElementChild || event.target === this.#button) {\n      if (this.#isDropdownVisible) {\n        this._hideDropdownFromKeyboard();\n      }\n      return;\n    }\n    if (!this.#isDropdownVisible) {\n      this.#openDropdown(event);\n    }\n    event.target.previousSibling?.focus();\n  }\n  _moveToBeginning(event) {\n    if (!this.#isDropdownVisible) {\n      this.#openDropdown(event);\n      return;\n    }\n    this.#dropdown.firstElementChild?.focus();\n  }\n  _moveToEnd(event) {\n    if (!this.#isDropdownVisible) {\n      this.#openDropdown(event);\n      return;\n    }\n    this.#dropdown.lastElementChild?.focus();\n  }\n  #keyDown(event) {\n    ColorPicker._keyboardManager.exec(this, event);\n  }\n  #openDropdown(event) {\n    if (this.#isDropdownVisible) {\n      this.hideDropdown();\n      return;\n    }\n    this.#dropdownWasFromKeyboard = event.detail === 0;\n    if (!this.#openDropdownAC) {\n      this.#openDropdownAC = new AbortController();\n      window.addEventListener(\"pointerdown\", this.#pointerDown.bind(this), {\n        signal: this.#uiManager.combinedSignal(this.#openDropdownAC)\n      });\n    }\n    this.#button.ariaExpanded = \"true\";\n    if (this.#dropdown) {\n      this.#dropdown.classList.remove(\"hidden\");\n      return;\n    }\n    const root = this.#dropdown = this.#getDropdownRoot();\n    this.#button.append(root);\n  }\n  #pointerDown(event) {\n    if (this.#dropdown?.contains(event.target)) {\n      return;\n    }\n    this.hideDropdown();\n  }\n  hideDropdown() {\n    this.#dropdown?.classList.add(\"hidden\");\n    this.#button.ariaExpanded = \"false\";\n    this.#openDropdownAC?.abort();\n    this.#openDropdownAC = null;\n  }\n  get #isDropdownVisible() {\n    return this.#dropdown && !this.#dropdown.classList.contains(\"hidden\");\n  }\n  _hideDropdownFromKeyboard() {\n    if (this.#isMainColorPicker) {\n      return;\n    }\n    if (!this.#isDropdownVisible) {\n      this.#editor?.unselect();\n      return;\n    }\n    this.hideDropdown();\n    this.#button.focus({\n      preventScroll: true,\n      focusVisible: this.#dropdownWasFromKeyboard\n    });\n  }\n  updateColor(color) {\n    if (this.#buttonSwatch) {\n      this.#buttonSwatch.style.backgroundColor = color;\n    }\n    if (!this.#dropdown) {\n      return;\n    }\n    const i = this.#uiManager.highlightColors.values();\n    for (const child of this.#dropdown.children) {\n      child.ariaSelected = i.next().value === color.toUpperCase();\n    }\n  }\n  destroy() {\n    this.#button?.remove();\n    this.#button = null;\n    this.#buttonSwatch = null;\n    this.#dropdown?.remove();\n    this.#dropdown = null;\n  }\n}\nclass BasicColorPicker {\n  #input = null;\n  #editor = null;\n  #uiManager = null;\n  static #l10nColor = null;\n  constructor(editor) {\n    this.#editor = editor;\n    this.#uiManager = editor._uiManager;\n    BasicColorPicker.#l10nColor ||= Object.freeze({\n      freetext: \"pdfjs-editor-color-picker-free-text-input\",\n      ink: \"pdfjs-editor-color-picker-ink-input\"\n    });\n  }\n  renderButton() {\n    if (this.#input) {\n      return this.#input;\n    }\n    const {\n      editorType,\n      colorType,\n      color\n    } = this.#editor;\n    const input = this.#input = document.createElement(\"input\");\n    input.type = \"color\";\n    input.value = color || \"#000000\";\n    input.className = \"basicColorPicker\";\n    input.tabIndex = 0;\n    input.setAttribute(\"data-l10n-id\", BasicColorPicker.#l10nColor[editorType]);\n    input.addEventListener(\"input\", () => {\n      this.#uiManager.updateParams(colorType, input.value);\n    }, {\n      signal: this.#uiManager._signal\n    });\n    return input;\n  }\n  update(value) {\n    if (!this.#input) {\n      return;\n    }\n    this.#input.value = value;\n  }\n  destroy() {\n    this.#input?.remove();\n    this.#input = null;\n  }\n  hideDropdown() {}\n}\n\n;// ./src/shared/scripting_utils.js\nfunction makeColorComp(n) {\n  return Math.floor(Math.max(0, Math.min(1, n)) * 255).toString(16).padStart(2, \"0\");\n}\nfunction scaleAndClamp(x) {\n  return Math.max(0, Math.min(255, 255 * x));\n}\nclass ColorConverters {\n  static CMYK_G([c, y, m, k]) {\n    return [\"G\", 1 - Math.min(1, 0.3 * c + 0.59 * m + 0.11 * y + k)];\n  }\n  static G_CMYK([g]) {\n    return [\"CMYK\", 0, 0, 0, 1 - g];\n  }\n  static G_RGB([g]) {\n    return [\"RGB\", g, g, g];\n  }\n  static G_rgb([g]) {\n    g = scaleAndClamp(g);\n    return [g, g, g];\n  }\n  static G_HTML([g]) {\n    const G = makeColorComp(g);\n    return `#${G}${G}${G}`;\n  }\n  static RGB_G([r, g, b]) {\n    return [\"G\", 0.3 * r + 0.59 * g + 0.11 * b];\n  }\n  static RGB_rgb(color) {\n    return color.map(scaleAndClamp);\n  }\n  static RGB_HTML(color) {\n    return `#${color.map(makeColorComp).join(\"\")}`;\n  }\n  static T_HTML() {\n    return \"#00000000\";\n  }\n  static T_rgb() {\n    return [null];\n  }\n  static CMYK_RGB([c, y, m, k]) {\n    return [\"RGB\", 1 - Math.min(1, c + k), 1 - Math.min(1, m + k), 1 - Math.min(1, y + k)];\n  }\n  static CMYK_rgb([c, y, m, k]) {\n    return [scaleAndClamp(1 - Math.min(1, c + k)), scaleAndClamp(1 - Math.min(1, m + k)), scaleAndClamp(1 - Math.min(1, y + k))];\n  }\n  static CMYK_HTML(components) {\n    const rgb = this.CMYK_RGB(components).slice(1);\n    return this.RGB_HTML(rgb);\n  }\n  static RGB_CMYK([r, g, b]) {\n    const c = 1 - r;\n    const m = 1 - g;\n    const y = 1 - b;\n    const k = Math.min(c, m, y);\n    return [\"CMYK\", c, m, y, k];\n  }\n}\nconst DateFormats = (/* unused pure expression or super */ null && ([\"m/d\", \"m/d/yy\", \"mm/dd/yy\", \"mm/yy\", \"d-mmm\", \"d-mmm-yy\", \"dd-mmm-yy\", \"yy-mm-dd\", \"mmm-yy\", \"mmmm-yy\", \"mmm d, yyyy\", \"mmmm d, yyyy\", \"m/d/yy h:MM tt\", \"m/d/yy HH:MM\"]));\nconst TimeFormats = (/* unused pure expression or super */ null && ([\"HH:MM\", \"h:MM tt\", \"HH:MM:ss\", \"h:MM:ss tt\"]));\n\n;// ./src/display/svg_factory.js\n\n\nclass BaseSVGFactory {\n  create(width, height, skipDimensions = false) {\n    if (width <= 0 || height <= 0) {\n      throw new Error(\"Invalid SVG dimensions\");\n    }\n    const svg = this._createSVG(\"svg:svg\");\n    svg.setAttribute(\"version\", \"1.1\");\n    if (!skipDimensions) {\n      svg.setAttribute(\"width\", `${width}px`);\n      svg.setAttribute(\"height\", `${height}px`);\n    }\n    svg.setAttribute(\"preserveAspectRatio\", \"none\");\n    svg.setAttribute(\"viewBox\", `0 0 ${width} ${height}`);\n    return svg;\n  }\n  createElement(type) {\n    if (typeof type !== \"string\") {\n      throw new Error(\"Invalid SVG element type\");\n    }\n    return this._createSVG(type);\n  }\n  _createSVG(type) {\n    unreachable(\"Abstract method `_createSVG` called.\");\n  }\n}\nclass DOMSVGFactory extends BaseSVGFactory {\n  _createSVG(type) {\n    return document.createElementNS(SVG_NS, type);\n  }\n}\n\n;// ./src/display/annotation_layer.js\n\n\n\n\n\nconst annotation_layer_DEFAULT_FONT_SIZE = 9;\nconst GetElementsByNameSet = new WeakSet();\nconst TIMEZONE_OFFSET = new Date().getTimezoneOffset() * 60 * 1000;\nclass AnnotationElementFactory {\n  static create(parameters) {\n    const subtype = parameters.data.annotationType;\n    switch (subtype) {\n      case AnnotationType.LINK:\n        return new LinkAnnotationElement(parameters);\n      case AnnotationType.TEXT:\n        return new TextAnnotationElement(parameters);\n      case AnnotationType.WIDGET:\n        const fieldType = parameters.data.fieldType;\n        switch (fieldType) {\n          case \"Tx\":\n            return new TextWidgetAnnotationElement(parameters);\n          case \"Btn\":\n            if (parameters.data.radioButton) {\n              return new RadioButtonWidgetAnnotationElement(parameters);\n            } else if (parameters.data.checkBox) {\n              return new CheckboxWidgetAnnotationElement(parameters);\n            }\n            return new PushButtonWidgetAnnotationElement(parameters);\n          case \"Ch\":\n            return new ChoiceWidgetAnnotationElement(parameters);\n          case \"Sig\":\n            return new SignatureWidgetAnnotationElement(parameters);\n        }\n        return new WidgetAnnotationElement(parameters);\n      case AnnotationType.POPUP:\n        return new PopupAnnotationElement(parameters);\n      case AnnotationType.FREETEXT:\n        return new FreeTextAnnotationElement(parameters);\n      case AnnotationType.LINE:\n        return new LineAnnotationElement(parameters);\n      case AnnotationType.SQUARE:\n        return new SquareAnnotationElement(parameters);\n      case AnnotationType.CIRCLE:\n        return new CircleAnnotationElement(parameters);\n      case AnnotationType.POLYLINE:\n        return new PolylineAnnotationElement(parameters);\n      case AnnotationType.CARET:\n        return new CaretAnnotationElement(parameters);\n      case AnnotationType.INK:\n        return new InkAnnotationElement(parameters);\n      case AnnotationType.POLYGON:\n        return new PolygonAnnotationElement(parameters);\n      case AnnotationType.HIGHLIGHT:\n        return new HighlightAnnotationElement(parameters);\n      case AnnotationType.UNDERLINE:\n        return new UnderlineAnnotationElement(parameters);\n      case AnnotationType.SQUIGGLY:\n        return new SquigglyAnnotationElement(parameters);\n      case AnnotationType.STRIKEOUT:\n        return new StrikeOutAnnotationElement(parameters);\n      case AnnotationType.STAMP:\n        return new StampAnnotationElement(parameters);\n      case AnnotationType.FILEATTACHMENT:\n        return new FileAttachmentAnnotationElement(parameters);\n      default:\n        return new AnnotationElement(parameters);\n    }\n  }\n}\nclass AnnotationElement {\n  #updates = null;\n  #hasBorder = false;\n  #popupElement = null;\n  constructor(parameters, {\n    isRenderable = false,\n    ignoreBorder = false,\n    createQuadrilaterals = false\n  } = {}) {\n    this.isRenderable = isRenderable;\n    this.data = parameters.data;\n    this.layer = parameters.layer;\n    this.linkService = parameters.linkService;\n    this.downloadManager = parameters.downloadManager;\n    this.imageResourcesPath = parameters.imageResourcesPath;\n    this.renderForms = parameters.renderForms;\n    this.svgFactory = parameters.svgFactory;\n    this.annotationStorage = parameters.annotationStorage;\n    this.enableComment = parameters.enableComment;\n    this.enableScripting = parameters.enableScripting;\n    this.hasJSActions = parameters.hasJSActions;\n    this._fieldObjects = parameters.fieldObjects;\n    this.parent = parameters.parent;\n    this.hasOwnCommentButton = false;\n    if (isRenderable) {\n      this.contentElement = this.container = this._createContainer(ignoreBorder);\n    }\n    if (createQuadrilaterals) {\n      this._createQuadrilaterals();\n    }\n  }\n  static _hasPopupData({\n    contentsObj,\n    richText\n  }) {\n    return !!(contentsObj?.str || richText?.str);\n  }\n  get _isEditable() {\n    return this.data.isEditable;\n  }\n  get hasPopupData() {\n    return AnnotationElement._hasPopupData(this.data) || this.enableComment && !!this.commentText;\n  }\n  get commentData() {\n    const {\n      data\n    } = this;\n    const editor = this.annotationStorage?.getEditor(data.id);\n    if (editor) {\n      return editor.getData();\n    }\n    return data;\n  }\n  get hasCommentButton() {\n    return this.enableComment && this.hasPopupElement;\n  }\n  get commentButtonPosition() {\n    const editor = this.annotationStorage?.getEditor(this.data.id);\n    if (editor) {\n      return editor.commentButtonPositionInPage;\n    }\n    const {\n      quadPoints,\n      inkLists,\n      rect\n    } = this.data;\n    let maxX = -Infinity;\n    let maxY = -Infinity;\n    if (quadPoints?.length >= 8) {\n      for (let i = 0; i < quadPoints.length; i += 8) {\n        if (quadPoints[i + 1] > maxY) {\n          maxY = quadPoints[i + 1];\n          maxX = quadPoints[i + 2];\n        } else if (quadPoints[i + 1] === maxY) {\n          maxX = Math.max(maxX, quadPoints[i + 2]);\n        }\n      }\n      return [maxX, maxY];\n    }\n    if (inkLists?.length >= 1) {\n      for (const inkList of inkLists) {\n        for (let i = 0, ii = inkList.length; i < ii; i += 2) {\n          if (inkList[i + 1] > maxY) {\n            maxY = inkList[i + 1];\n            maxX = inkList[i];\n          } else if (inkList[i + 1] === maxY) {\n            maxX = Math.max(maxX, inkList[i]);\n          }\n        }\n      }\n      if (maxX !== Infinity) {\n        return [maxX, maxY];\n      }\n    }\n    if (rect) {\n      return [rect[2], rect[3]];\n    }\n    return null;\n  }\n  _normalizePoint(point) {\n    const {\n      page: {\n        view\n      },\n      viewport: {\n        rawDims: {\n          pageWidth,\n          pageHeight,\n          pageX,\n          pageY\n        }\n      }\n    } = this.parent;\n    point[1] = view[3] - point[1] + view[1];\n    point[0] = 100 * (point[0] - pageX) / pageWidth;\n    point[1] = 100 * (point[1] - pageY) / pageHeight;\n    return point;\n  }\n  get commentText() {\n    const {\n      data\n    } = this;\n    return this.annotationStorage.getRawValue(`${AnnotationEditorPrefix}${data.id}`)?.popup?.contents || data.contentsObj?.str || \"\";\n  }\n  set commentText(text) {\n    const {\n      data\n    } = this;\n    const popup = {\n      deleted: !text,\n      contents: text || \"\"\n    };\n    if (!this.annotationStorage.updateEditor(data.id, {\n      popup\n    })) {\n      this.annotationStorage.setValue(`${AnnotationEditorPrefix}${data.id}`, {\n        id: data.id,\n        annotationType: data.annotationType,\n        pageIndex: this.parent.page._pageIndex,\n        popup,\n        popupRef: data.popupRef,\n        modificationDate: new Date()\n      });\n    }\n    if (!text) {\n      this.removePopup();\n    }\n  }\n  removePopup() {\n    (this.#popupElement?.popup || this.popup)?.remove();\n    this.#popupElement = this.popup = null;\n  }\n  updateEdited(params) {\n    if (!this.container) {\n      return;\n    }\n    if (params.rect) {\n      this.#updates ||= {\n        rect: this.data.rect.slice(0)\n      };\n    }\n    const {\n      rect,\n      popup: newPopup\n    } = params;\n    if (rect) {\n      this.#setRectEdited(rect);\n    }\n    let popup = this.#popupElement?.popup || this.popup;\n    if (!popup && newPopup?.text) {\n      this._createPopup(newPopup);\n      popup = this.#popupElement.popup;\n    }\n    if (!popup) {\n      return;\n    }\n    popup.updateEdited(params);\n    if (newPopup?.deleted) {\n      popup.remove();\n      this.#popupElement = null;\n      this.popup = null;\n    }\n  }\n  resetEdited() {\n    if (!this.#updates) {\n      return;\n    }\n    this.#setRectEdited(this.#updates.rect);\n    this.#popupElement?.popup.resetEdited();\n    this.#updates = null;\n  }\n  #setRectEdited(rect) {\n    const {\n      container: {\n        style\n      },\n      data: {\n        rect: currentRect,\n        rotation\n      },\n      parent: {\n        viewport: {\n          rawDims: {\n            pageWidth,\n            pageHeight,\n            pageX,\n            pageY\n          }\n        }\n      }\n    } = this;\n    currentRect?.splice(0, 4, ...rect);\n    style.left = `${100 * (rect[0] - pageX) / pageWidth}%`;\n    style.top = `${100 * (pageHeight - rect[3] + pageY) / pageHeight}%`;\n    if (rotation === 0) {\n      style.width = `${100 * (rect[2] - rect[0]) / pageWidth}%`;\n      style.height = `${100 * (rect[3] - rect[1]) / pageHeight}%`;\n    } else {\n      this.setRotation(rotation);\n    }\n  }\n  _createContainer(ignoreBorder) {\n    const {\n      data,\n      parent: {\n        page,\n        viewport\n      }\n    } = this;\n    const container = document.createElement(\"section\");\n    container.setAttribute(\"data-annotation-id\", data.id);\n    if (!(this instanceof WidgetAnnotationElement) && !(this instanceof LinkAnnotationElement)) {\n      container.tabIndex = 0;\n    }\n    const {\n      style\n    } = container;\n    style.zIndex = this.parent.zIndex;\n    this.parent.zIndex += 2;\n    if (data.alternativeText) {\n      container.title = data.alternativeText;\n    }\n    if (data.noRotate) {\n      container.classList.add(\"norotate\");\n    }\n    if (!data.rect || this instanceof PopupAnnotationElement) {\n      const {\n        rotation\n      } = data;\n      if (!data.hasOwnCanvas && rotation !== 0) {\n        this.setRotation(rotation, container);\n      }\n      return container;\n    }\n    const {\n      width,\n      height\n    } = this;\n    if (!ignoreBorder && data.borderStyle.width > 0) {\n      style.borderWidth = `${data.borderStyle.width}px`;\n      const horizontalRadius = data.borderStyle.horizontalCornerRadius;\n      const verticalRadius = data.borderStyle.verticalCornerRadius;\n      if (horizontalRadius > 0 || verticalRadius > 0) {\n        const radius = `calc(${horizontalRadius}px * var(--total-scale-factor)) / calc(${verticalRadius}px * var(--total-scale-factor))`;\n        style.borderRadius = radius;\n      } else if (this instanceof RadioButtonWidgetAnnotationElement) {\n        const radius = `calc(${width}px * var(--total-scale-factor)) / calc(${height}px * var(--total-scale-factor))`;\n        style.borderRadius = radius;\n      }\n      switch (data.borderStyle.style) {\n        case AnnotationBorderStyleType.SOLID:\n          style.borderStyle = \"solid\";\n          break;\n        case AnnotationBorderStyleType.DASHED:\n          style.borderStyle = \"dashed\";\n          break;\n        case AnnotationBorderStyleType.BEVELED:\n          warn(\"Unimplemented border style: beveled\");\n          break;\n        case AnnotationBorderStyleType.INSET:\n          warn(\"Unimplemented border style: inset\");\n          break;\n        case AnnotationBorderStyleType.UNDERLINE:\n          style.borderBottomStyle = \"solid\";\n          break;\n        default:\n          break;\n      }\n      const borderColor = data.borderColor || null;\n      if (borderColor) {\n        this.#hasBorder = true;\n        style.borderColor = Util.makeHexColor(borderColor[0] | 0, borderColor[1] | 0, borderColor[2] | 0);\n      } else {\n        style.borderWidth = 0;\n      }\n    }\n    const rect = Util.normalizeRect([data.rect[0], page.view[3] - data.rect[1] + page.view[1], data.rect[2], page.view[3] - data.rect[3] + page.view[1]]);\n    const {\n      pageWidth,\n      pageHeight,\n      pageX,\n      pageY\n    } = viewport.rawDims;\n    style.left = `${100 * (rect[0] - pageX) / pageWidth}%`;\n    style.top = `${100 * (rect[1] - pageY) / pageHeight}%`;\n    const {\n      rotation\n    } = data;\n    if (data.hasOwnCanvas || rotation === 0) {\n      style.width = `${100 * width / pageWidth}%`;\n      style.height = `${100 * height / pageHeight}%`;\n    } else {\n      this.setRotation(rotation, container);\n    }\n    return container;\n  }\n  setRotation(angle, container = this.container) {\n    if (!this.data.rect) {\n      return;\n    }\n    const {\n      pageWidth,\n      pageHeight\n    } = this.parent.viewport.rawDims;\n    let {\n      width,\n      height\n    } = this;\n    if (angle % 180 !== 0) {\n      [width, height] = [height, width];\n    }\n    container.style.width = `${100 * width / pageWidth}%`;\n    container.style.height = `${100 * height / pageHeight}%`;\n    container.setAttribute(\"data-main-rotation\", (360 - angle) % 360);\n  }\n  get _commonActions() {\n    const setColor = (jsName, styleName, event) => {\n      const color = event.detail[jsName];\n      const colorType = color[0];\n      const colorArray = color.slice(1);\n      event.target.style[styleName] = ColorConverters[`${colorType}_HTML`](colorArray);\n      this.annotationStorage.setValue(this.data.id, {\n        [styleName]: ColorConverters[`${colorType}_rgb`](colorArray)\n      });\n    };\n    return shadow(this, \"_commonActions\", {\n      display: event => {\n        const {\n          display\n        } = event.detail;\n        const hidden = display % 2 === 1;\n        this.container.style.visibility = hidden ? \"hidden\" : \"visible\";\n        this.annotationStorage.setValue(this.data.id, {\n          noView: hidden,\n          noPrint: display === 1 || display === 2\n        });\n      },\n      print: event => {\n        this.annotationStorage.setValue(this.data.id, {\n          noPrint: !event.detail.print\n        });\n      },\n      hidden: event => {\n        const {\n          hidden\n        } = event.detail;\n        this.container.style.visibility = hidden ? \"hidden\" : \"visible\";\n        this.annotationStorage.setValue(this.data.id, {\n          noPrint: hidden,\n          noView: hidden\n        });\n      },\n      focus: event => {\n        setTimeout(() => event.target.focus({\n          preventScroll: false\n        }), 0);\n      },\n      userName: event => {\n        event.target.title = event.detail.userName;\n      },\n      readonly: event => {\n        event.target.disabled = event.detail.readonly;\n      },\n      required: event => {\n        this._setRequired(event.target, event.detail.required);\n      },\n      bgColor: event => {\n        setColor(\"bgColor\", \"backgroundColor\", event);\n      },\n      fillColor: event => {\n        setColor(\"fillColor\", \"backgroundColor\", event);\n      },\n      fgColor: event => {\n        setColor(\"fgColor\", \"color\", event);\n      },\n      textColor: event => {\n        setColor(\"textColor\", \"color\", event);\n      },\n      borderColor: event => {\n        setColor(\"borderColor\", \"borderColor\", event);\n      },\n      strokeColor: event => {\n        setColor(\"strokeColor\", \"borderColor\", event);\n      },\n      rotation: event => {\n        const angle = event.detail.rotation;\n        this.setRotation(angle);\n        this.annotationStorage.setValue(this.data.id, {\n          rotation: angle\n        });\n      }\n    });\n  }\n  _dispatchEventFromSandbox(actions, jsEvent) {\n    const commonActions = this._commonActions;\n    for (const name of Object.keys(jsEvent.detail)) {\n      const action = actions[name] || commonActions[name];\n      action?.(jsEvent);\n    }\n  }\n  _setDefaultPropertiesFromJS(element) {\n    if (!this.enableScripting) {\n      return;\n    }\n    const storedData = this.annotationStorage.getRawValue(this.data.id);\n    if (!storedData) {\n      return;\n    }\n    const commonActions = this._commonActions;\n    for (const [actionName, detail] of Object.entries(storedData)) {\n      const action = commonActions[actionName];\n      if (action) {\n        const eventProxy = {\n          detail: {\n            [actionName]: detail\n          },\n          target: element\n        };\n        action(eventProxy);\n        delete storedData[actionName];\n      }\n    }\n  }\n  _createQuadrilaterals() {\n    if (!this.container) {\n      return;\n    }\n    const {\n      quadPoints\n    } = this.data;\n    if (!quadPoints) {\n      return;\n    }\n    const [rectBlX, rectBlY, rectTrX, rectTrY] = this.data.rect.map(x => Math.fround(x));\n    if (quadPoints.length === 8) {\n      const [trX, trY, blX, blY] = quadPoints.subarray(2, 6);\n      if (rectTrX === trX && rectTrY === trY && rectBlX === blX && rectBlY === blY) {\n        return;\n      }\n    }\n    const {\n      style\n    } = this.container;\n    let svgBuffer;\n    if (this.#hasBorder) {\n      const {\n        borderColor,\n        borderWidth\n      } = style;\n      style.borderWidth = 0;\n      svgBuffer = [\"url('data:image/svg+xml;utf8,\", `<svg xmlns=\"http://www.w3.org/2000/svg\"`, ` preserveAspectRatio=\"none\" viewBox=\"0 0 1 1\">`, `<g fill=\"transparent\" stroke=\"${borderColor}\" stroke-width=\"${borderWidth}\">`];\n      this.container.classList.add(\"hasBorder\");\n    }\n    const width = rectTrX - rectBlX;\n    const height = rectTrY - rectBlY;\n    const {\n      svgFactory\n    } = this;\n    const svg = svgFactory.createElement(\"svg\");\n    svg.classList.add(\"quadrilateralsContainer\");\n    svg.setAttribute(\"width\", 0);\n    svg.setAttribute(\"height\", 0);\n    svg.role = \"none\";\n    const defs = svgFactory.createElement(\"defs\");\n    svg.append(defs);\n    const clipPath = svgFactory.createElement(\"clipPath\");\n    const id = `clippath_${this.data.id}`;\n    clipPath.setAttribute(\"id\", id);\n    clipPath.setAttribute(\"clipPathUnits\", \"objectBoundingBox\");\n    defs.append(clipPath);\n    for (let i = 2, ii = quadPoints.length; i < ii; i += 8) {\n      const trX = quadPoints[i];\n      const trY = quadPoints[i + 1];\n      const blX = quadPoints[i + 2];\n      const blY = quadPoints[i + 3];\n      const rect = svgFactory.createElement(\"rect\");\n      const x = (blX - rectBlX) / width;\n      const y = (rectTrY - trY) / height;\n      const rectWidth = (trX - blX) / width;\n      const rectHeight = (trY - blY) / height;\n      rect.setAttribute(\"x\", x);\n      rect.setAttribute(\"y\", y);\n      rect.setAttribute(\"width\", rectWidth);\n      rect.setAttribute(\"height\", rectHeight);\n      clipPath.append(rect);\n      svgBuffer?.push(`<rect vector-effect=\"non-scaling-stroke\" x=\"${x}\" y=\"${y}\" width=\"${rectWidth}\" height=\"${rectHeight}\"/>`);\n    }\n    if (this.#hasBorder) {\n      svgBuffer.push(`</g></svg>')`);\n      style.backgroundImage = svgBuffer.join(\"\");\n    }\n    this.container.append(svg);\n    this.container.style.clipPath = `url(#${id})`;\n  }\n  _createPopup(popupData = null) {\n    const {\n      data\n    } = this;\n    let contentsObj, modificationDate;\n    if (popupData) {\n      contentsObj = {\n        str: popupData.text\n      };\n      modificationDate = popupData.date;\n    } else {\n      contentsObj = data.contentsObj;\n      modificationDate = data.modificationDate;\n    }\n    this.#popupElement = new PopupAnnotationElement({\n      data: {\n        color: data.color,\n        titleObj: data.titleObj,\n        modificationDate,\n        contentsObj,\n        richText: data.richText,\n        parentRect: data.rect,\n        borderStyle: 0,\n        id: `popup_${data.id}`,\n        rotation: data.rotation,\n        noRotate: true\n      },\n      linkService: this.linkService,\n      parent: this.parent,\n      elements: [this]\n    });\n  }\n  get hasPopupElement() {\n    return !!(this.#popupElement || this.popup || this.data.popupRef);\n  }\n  get extraPopupElement() {\n    return this.#popupElement;\n  }\n  render() {\n    unreachable(\"Abstract method `AnnotationElement.render` called\");\n  }\n  _getElementsByName(name, skipId = null) {\n    const fields = [];\n    if (this._fieldObjects) {\n      const fieldObj = this._fieldObjects[name];\n      if (fieldObj) {\n        for (const {\n          page,\n          id,\n          exportValues\n        } of fieldObj) {\n          if (page === -1) {\n            continue;\n          }\n          if (id === skipId) {\n            continue;\n          }\n          const exportValue = typeof exportValues === \"string\" ? exportValues : null;\n          const domElement = document.querySelector(`[data-element-id=\"${id}\"]`);\n          if (domElement && !GetElementsByNameSet.has(domElement)) {\n            warn(`_getElementsByName - element not allowed: ${id}`);\n            continue;\n          }\n          fields.push({\n            id,\n            exportValue,\n            domElement\n          });\n        }\n      }\n      return fields;\n    }\n    for (const domElement of document.getElementsByName(name)) {\n      const {\n        exportValue\n      } = domElement;\n      const id = domElement.getAttribute(\"data-element-id\");\n      if (id === skipId) {\n        continue;\n      }\n      if (!GetElementsByNameSet.has(domElement)) {\n        continue;\n      }\n      fields.push({\n        id,\n        exportValue,\n        domElement\n      });\n    }\n    return fields;\n  }\n  show() {\n    if (this.container) {\n      this.container.hidden = false;\n    }\n    this.popup?.maybeShow();\n  }\n  hide() {\n    if (this.container) {\n      this.container.hidden = true;\n    }\n    this.popup?.forceHide();\n  }\n  getElementsToTriggerPopup() {\n    return this.container;\n  }\n  addHighlightArea() {\n    const triggers = this.getElementsToTriggerPopup();\n    if (Array.isArray(triggers)) {\n      for (const element of triggers) {\n        element.classList.add(\"highlightArea\");\n      }\n    } else {\n      triggers.classList.add(\"highlightArea\");\n    }\n  }\n  _editOnDoubleClick() {\n    if (!this._isEditable) {\n      return;\n    }\n    const {\n      annotationEditorType: mode,\n      data: {\n        id: editId\n      }\n    } = this;\n    this.container.addEventListener(\"dblclick\", () => {\n      this.linkService.eventBus?.dispatch(\"switchannotationeditormode\", {\n        source: this,\n        mode,\n        editId,\n        mustEnterInEditMode: true\n      });\n    });\n  }\n  get width() {\n    return this.data.rect[2] - this.data.rect[0];\n  }\n  get height() {\n    return this.data.rect[3] - this.data.rect[1];\n  }\n}\nclass EditorAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: true,\n      ignoreBorder: true\n    });\n    this.editor = parameters.editor;\n  }\n  render() {\n    this.container.className = \"editorAnnotation\";\n    return this.container;\n  }\n  createOrUpdatePopup() {\n    const {\n      editor\n    } = this;\n    if (!editor.hasComment) {\n      return;\n    }\n    this._createPopup(editor.comment);\n  }\n  get hasCommentButton() {\n    return this.enableComment && this.editor.hasComment;\n  }\n  get commentButtonPosition() {\n    return this.editor.commentButtonPositionInPage;\n  }\n  get commentText() {\n    return this.editor.comment.text;\n  }\n  set commentText(text) {\n    this.editor.comment = text;\n    if (!text) {\n      this.removePopup();\n    }\n  }\n  get commentData() {\n    return this.editor.getData();\n  }\n  remove() {\n    this.parent.removeAnnotation(this.data.id);\n    this.container.remove();\n    this.container = null;\n    this.removePopup();\n  }\n}\nclass LinkAnnotationElement extends AnnotationElement {\n  constructor(parameters, options = null) {\n    super(parameters, {\n      isRenderable: true,\n      ignoreBorder: !!options?.ignoreBorder,\n      createQuadrilaterals: true\n    });\n    this.isTooltipOnly = parameters.data.isTooltipOnly;\n  }\n  render() {\n    const {\n      data,\n      linkService\n    } = this;\n    const link = document.createElement(\"a\");\n    link.setAttribute(\"data-element-id\", data.id);\n    let isBound = false;\n    if (data.url) {\n      linkService.addLinkAttributes(link, data.url, data.newWindow);\n      isBound = true;\n    } else if (data.action) {\n      this._bindNamedAction(link, data.action, data.overlaidText);\n      isBound = true;\n    } else if (data.attachment) {\n      this.#bindAttachment(link, data.attachment, data.overlaidText, data.attachmentDest);\n      isBound = true;\n    } else if (data.setOCGState) {\n      this.#bindSetOCGState(link, data.setOCGState, data.overlaidText);\n      isBound = true;\n    } else if (data.dest) {\n      this._bindLink(link, data.dest, data.overlaidText);\n      isBound = true;\n    } else {\n      if (data.actions && (data.actions.Action || data.actions[\"Mouse Up\"] || data.actions[\"Mouse Down\"]) && this.enableScripting && this.hasJSActions) {\n        this._bindJSAction(link, data);\n        isBound = true;\n      }\n      if (data.resetForm) {\n        this._bindResetFormAction(link, data.resetForm);\n        isBound = true;\n      } else if (this.isTooltipOnly && !isBound) {\n        this._bindLink(link, \"\");\n        isBound = true;\n      }\n    }\n    this.container.classList.add(\"linkAnnotation\");\n    if (isBound) {\n      this.contentElement = link;\n      this.container.append(link);\n    }\n    return this.container;\n  }\n  #setInternalLink() {\n    this.container.setAttribute(\"data-internal-link\", \"\");\n  }\n  _bindLink(link, destination, overlaidText = \"\") {\n    link.href = this.linkService.getDestinationHash(destination);\n    link.onclick = () => {\n      if (destination) {\n        this.linkService.goToDestination(destination);\n      }\n      return false;\n    };\n    if (destination || destination === \"\") {\n      this.#setInternalLink();\n    }\n    if (overlaidText) {\n      link.title = overlaidText;\n    }\n  }\n  _bindNamedAction(link, action, overlaidText = \"\") {\n    link.href = this.linkService.getAnchorUrl(\"\");\n    link.onclick = () => {\n      this.linkService.executeNamedAction(action);\n      return false;\n    };\n    if (overlaidText) {\n      link.title = overlaidText;\n    }\n    this.#setInternalLink();\n  }\n  #bindAttachment(link, attachment, overlaidText = \"\", dest = null) {\n    link.href = this.linkService.getAnchorUrl(\"\");\n    if (attachment.description) {\n      link.title = attachment.description;\n    } else if (overlaidText) {\n      link.title = overlaidText;\n    }\n    link.onclick = () => {\n      this.downloadManager?.openOrDownloadData(attachment.content, attachment.filename, dest);\n      return false;\n    };\n    this.#setInternalLink();\n  }\n  #bindSetOCGState(link, action, overlaidText = \"\") {\n    link.href = this.linkService.getAnchorUrl(\"\");\n    link.onclick = () => {\n      this.linkService.executeSetOCGState(action);\n      return false;\n    };\n    if (overlaidText) {\n      link.title = overlaidText;\n    }\n    this.#setInternalLink();\n  }\n  _bindJSAction(link, data) {\n    link.href = this.linkService.getAnchorUrl(\"\");\n    const map = new Map([[\"Action\", \"onclick\"], [\"Mouse Up\", \"onmouseup\"], [\"Mouse Down\", \"onmousedown\"]]);\n    for (const name of Object.keys(data.actions)) {\n      const jsName = map.get(name);\n      if (!jsName) {\n        continue;\n      }\n      link[jsName] = () => {\n        this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n          source: this,\n          detail: {\n            id: data.id,\n            name\n          }\n        });\n        return false;\n      };\n    }\n    if (data.overlaidText) {\n      link.title = data.overlaidText;\n    }\n    if (!link.onclick) {\n      link.onclick = () => false;\n    }\n    this.#setInternalLink();\n  }\n  _bindResetFormAction(link, resetForm) {\n    const otherClickAction = link.onclick;\n    if (!otherClickAction) {\n      link.href = this.linkService.getAnchorUrl(\"\");\n    }\n    this.#setInternalLink();\n    if (!this._fieldObjects) {\n      warn(`_bindResetFormAction - \"resetForm\" action not supported, ` + \"ensure that the `fieldObjects` parameter is provided.\");\n      if (!otherClickAction) {\n        link.onclick = () => false;\n      }\n      return;\n    }\n    link.onclick = () => {\n      otherClickAction?.();\n      const {\n        fields: resetFormFields,\n        refs: resetFormRefs,\n        include\n      } = resetForm;\n      const allFields = [];\n      if (resetFormFields.length !== 0 || resetFormRefs.length !== 0) {\n        const fieldIds = new Set(resetFormRefs);\n        for (const fieldName of resetFormFields) {\n          const fields = this._fieldObjects[fieldName] || [];\n          for (const {\n            id\n          } of fields) {\n            fieldIds.add(id);\n          }\n        }\n        for (const fields of Object.values(this._fieldObjects)) {\n          for (const field of fields) {\n            if (fieldIds.has(field.id) === include) {\n              allFields.push(field);\n            }\n          }\n        }\n      } else {\n        for (const fields of Object.values(this._fieldObjects)) {\n          allFields.push(...fields);\n        }\n      }\n      const storage = this.annotationStorage;\n      const allIds = [];\n      for (const field of allFields) {\n        const {\n          id\n        } = field;\n        allIds.push(id);\n        switch (field.type) {\n          case \"text\":\n            {\n              const value = field.defaultValue || \"\";\n              storage.setValue(id, {\n                value\n              });\n              break;\n            }\n          case \"checkbox\":\n          case \"radiobutton\":\n            {\n              const value = field.defaultValue === field.exportValues;\n              storage.setValue(id, {\n                value\n              });\n              break;\n            }\n          case \"combobox\":\n          case \"listbox\":\n            {\n              const value = field.defaultValue || \"\";\n              storage.setValue(id, {\n                value\n              });\n              break;\n            }\n          default:\n            continue;\n        }\n        const domElement = document.querySelector(`[data-element-id=\"${id}\"]`);\n        if (!domElement) {\n          continue;\n        } else if (!GetElementsByNameSet.has(domElement)) {\n          warn(`_bindResetFormAction - element not allowed: ${id}`);\n          continue;\n        }\n        domElement.dispatchEvent(new Event(\"resetform\"));\n      }\n      if (this.enableScripting) {\n        this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n          source: this,\n          detail: {\n            id: \"app\",\n            ids: allIds,\n            name: \"ResetForm\"\n          }\n        });\n      }\n      return false;\n    };\n  }\n}\nclass TextAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: true\n    });\n  }\n  render() {\n    this.container.classList.add(\"textAnnotation\");\n    const image = document.createElement(\"img\");\n    image.src = this.imageResourcesPath + \"annotation-\" + this.data.name.toLowerCase() + \".svg\";\n    image.setAttribute(\"data-l10n-id\", \"pdfjs-text-annotation-type\");\n    image.setAttribute(\"data-l10n-args\", JSON.stringify({\n      type: this.data.name\n    }));\n    if (!this.data.popupRef && this.hasPopupData) {\n      this.hasOwnCommentButton = true;\n      this._createPopup();\n    }\n    this.container.append(image);\n    return this.container;\n  }\n}\nclass WidgetAnnotationElement extends AnnotationElement {\n  render() {\n    return this.container;\n  }\n  showElementAndHideCanvas(element) {\n    if (this.data.hasOwnCanvas) {\n      if (element.previousSibling?.nodeName === \"CANVAS\") {\n        element.previousSibling.hidden = true;\n      }\n      element.hidden = false;\n    }\n  }\n  _getKeyModifier(event) {\n    return util_FeatureTest.platform.isMac ? event.metaKey : event.ctrlKey;\n  }\n  _setEventListener(element, elementData, baseName, eventName, valueGetter) {\n    if (baseName.includes(\"mouse\")) {\n      element.addEventListener(baseName, event => {\n        this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n          source: this,\n          detail: {\n            id: this.data.id,\n            name: eventName,\n            value: valueGetter(event),\n            shift: event.shiftKey,\n            modifier: this._getKeyModifier(event)\n          }\n        });\n      });\n    } else {\n      element.addEventListener(baseName, event => {\n        if (baseName === \"blur\") {\n          if (!elementData.focused || !event.relatedTarget) {\n            return;\n          }\n          elementData.focused = false;\n        } else if (baseName === \"focus\") {\n          if (elementData.focused) {\n            return;\n          }\n          elementData.focused = true;\n        }\n        if (!valueGetter) {\n          return;\n        }\n        this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n          source: this,\n          detail: {\n            id: this.data.id,\n            name: eventName,\n            value: valueGetter(event)\n          }\n        });\n      });\n    }\n  }\n  _setEventListeners(element, elementData, names, getter) {\n    for (const [baseName, eventName] of names) {\n      if (eventName === \"Action\" || this.data.actions?.[eventName]) {\n        if (eventName === \"Focus\" || eventName === \"Blur\") {\n          elementData ||= {\n            focused: false\n          };\n        }\n        this._setEventListener(element, elementData, baseName, eventName, getter);\n        if (eventName === \"Focus\" && !this.data.actions?.Blur) {\n          this._setEventListener(element, elementData, \"blur\", \"Blur\", null);\n        } else if (eventName === \"Blur\" && !this.data.actions?.Focus) {\n          this._setEventListener(element, elementData, \"focus\", \"Focus\", null);\n        }\n      }\n    }\n  }\n  _setBackgroundColor(element) {\n    const color = this.data.backgroundColor || null;\n    element.style.backgroundColor = color === null ? \"transparent\" : Util.makeHexColor(color[0], color[1], color[2]);\n  }\n  _setTextStyle(element) {\n    const TEXT_ALIGNMENT = [\"left\", \"center\", \"right\"];\n    const {\n      fontColor\n    } = this.data.defaultAppearanceData;\n    const fontSize = this.data.defaultAppearanceData.fontSize || annotation_layer_DEFAULT_FONT_SIZE;\n    const style = element.style;\n    let computedFontSize;\n    const BORDER_SIZE = 2;\n    const roundToOneDecimal = x => Math.round(10 * x) / 10;\n    if (this.data.multiLine) {\n      const height = Math.abs(this.data.rect[3] - this.data.rect[1] - BORDER_SIZE);\n      const numberOfLines = Math.round(height / (LINE_FACTOR * fontSize)) || 1;\n      const lineHeight = height / numberOfLines;\n      computedFontSize = Math.min(fontSize, roundToOneDecimal(lineHeight / LINE_FACTOR));\n    } else {\n      const height = Math.abs(this.data.rect[3] - this.data.rect[1] - BORDER_SIZE);\n      computedFontSize = Math.min(fontSize, roundToOneDecimal(height / LINE_FACTOR));\n    }\n    style.fontSize = `calc(${computedFontSize}px * var(--total-scale-factor))`;\n    style.color = Util.makeHexColor(fontColor[0], fontColor[1], fontColor[2]);\n    if (this.data.textAlignment !== null) {\n      style.textAlign = TEXT_ALIGNMENT[this.data.textAlignment];\n    }\n  }\n  _setRequired(element, isRequired) {\n    if (isRequired) {\n      element.setAttribute(\"required\", true);\n    } else {\n      element.removeAttribute(\"required\");\n    }\n    element.setAttribute(\"aria-required\", isRequired);\n  }\n}\nclass TextWidgetAnnotationElement extends WidgetAnnotationElement {\n  constructor(parameters) {\n    const isRenderable = parameters.renderForms || parameters.data.hasOwnCanvas || !parameters.data.hasAppearance && !!parameters.data.fieldValue;\n    super(parameters, {\n      isRenderable\n    });\n  }\n  setPropertyOnSiblings(base, key, value, keyInStorage) {\n    const storage = this.annotationStorage;\n    for (const element of this._getElementsByName(base.name, base.id)) {\n      if (element.domElement) {\n        element.domElement[key] = value;\n      }\n      storage.setValue(element.id, {\n        [keyInStorage]: value\n      });\n    }\n  }\n  render() {\n    const storage = this.annotationStorage;\n    const id = this.data.id;\n    this.container.classList.add(\"textWidgetAnnotation\");\n    let element = null;\n    if (this.renderForms) {\n      const storedData = storage.getValue(id, {\n        value: this.data.fieldValue\n      });\n      let textContent = storedData.value || \"\";\n      const maxLen = storage.getValue(id, {\n        charLimit: this.data.maxLen\n      }).charLimit;\n      if (maxLen && textContent.length > maxLen) {\n        textContent = textContent.slice(0, maxLen);\n      }\n      let fieldFormattedValues = storedData.formattedValue || this.data.textContent?.join(\"\\n\") || null;\n      if (fieldFormattedValues && this.data.comb) {\n        fieldFormattedValues = fieldFormattedValues.replaceAll(/\\s+/g, \"\");\n      }\n      const elementData = {\n        userValue: textContent,\n        formattedValue: fieldFormattedValues,\n        lastCommittedValue: null,\n        commitKey: 1,\n        focused: false\n      };\n      if (this.data.multiLine) {\n        element = document.createElement(\"textarea\");\n        element.textContent = fieldFormattedValues ?? textContent;\n        if (this.data.doNotScroll) {\n          element.style.overflowY = \"hidden\";\n        }\n      } else {\n        element = document.createElement(\"input\");\n        element.type = this.data.password ? \"password\" : \"text\";\n        element.setAttribute(\"value\", fieldFormattedValues ?? textContent);\n        if (this.data.doNotScroll) {\n          element.style.overflowX = \"hidden\";\n        }\n      }\n      if (this.data.hasOwnCanvas) {\n        element.hidden = true;\n      }\n      GetElementsByNameSet.add(element);\n      this.contentElement = element;\n      element.setAttribute(\"data-element-id\", id);\n      element.disabled = this.data.readOnly;\n      element.name = this.data.fieldName;\n      element.tabIndex = 0;\n      const {\n        datetimeFormat,\n        datetimeType,\n        timeStep\n      } = this.data;\n      const hasDateOrTime = !!datetimeType && this.enableScripting;\n      if (datetimeFormat) {\n        element.title = datetimeFormat;\n      }\n      this._setRequired(element, this.data.required);\n      if (maxLen) {\n        element.maxLength = maxLen;\n      }\n      element.addEventListener(\"input\", event => {\n        storage.setValue(id, {\n          value: event.target.value\n        });\n        this.setPropertyOnSiblings(element, \"value\", event.target.value, \"value\");\n        elementData.formattedValue = null;\n      });\n      element.addEventListener(\"resetform\", event => {\n        const defaultValue = this.data.defaultFieldValue ?? \"\";\n        element.value = elementData.userValue = defaultValue;\n        elementData.formattedValue = null;\n      });\n      let blurListener = event => {\n        const {\n          formattedValue\n        } = elementData;\n        if (formattedValue !== null && formattedValue !== undefined) {\n          event.target.value = formattedValue;\n        }\n        event.target.scrollLeft = 0;\n      };\n      if (this.enableScripting && this.hasJSActions) {\n        element.addEventListener(\"focus\", event => {\n          if (elementData.focused) {\n            return;\n          }\n          const {\n            target\n          } = event;\n          if (hasDateOrTime) {\n            target.type = datetimeType;\n            if (timeStep) {\n              target.step = timeStep;\n            }\n          }\n          if (elementData.userValue) {\n            const value = elementData.userValue;\n            if (hasDateOrTime) {\n              if (datetimeType === \"time\") {\n                const date = new Date(value);\n                const parts = [date.getHours(), date.getMinutes(), date.getSeconds()];\n                target.value = parts.map(v => v.toString().padStart(2, \"0\")).join(\":\");\n              } else {\n                target.value = new Date(value - TIMEZONE_OFFSET).toISOString().split(datetimeType === \"date\" ? \"T\" : \".\", 1)[0];\n              }\n            } else {\n              target.value = value;\n            }\n          }\n          elementData.lastCommittedValue = target.value;\n          elementData.commitKey = 1;\n          if (!this.data.actions?.Focus) {\n            elementData.focused = true;\n          }\n        });\n        element.addEventListener(\"updatefromsandbox\", jsEvent => {\n          this.showElementAndHideCanvas(jsEvent.target);\n          const actions = {\n            value(event) {\n              elementData.userValue = event.detail.value ?? \"\";\n              if (!hasDateOrTime) {\n                storage.setValue(id, {\n                  value: elementData.userValue.toString()\n                });\n              }\n              event.target.value = elementData.userValue;\n            },\n            formattedValue(event) {\n              const {\n                formattedValue\n              } = event.detail;\n              elementData.formattedValue = formattedValue;\n              if (formattedValue !== null && formattedValue !== undefined && event.target !== document.activeElement) {\n                event.target.value = formattedValue;\n              }\n              const data = {\n                formattedValue\n              };\n              if (hasDateOrTime) {\n                data.value = formattedValue;\n              }\n              storage.setValue(id, data);\n            },\n            selRange(event) {\n              event.target.setSelectionRange(...event.detail.selRange);\n            },\n            charLimit: event => {\n              const {\n                charLimit\n              } = event.detail;\n              const {\n                target\n              } = event;\n              if (charLimit === 0) {\n                target.removeAttribute(\"maxLength\");\n                return;\n              }\n              target.setAttribute(\"maxLength\", charLimit);\n              let value = elementData.userValue;\n              if (!value || value.length <= charLimit) {\n                return;\n              }\n              value = value.slice(0, charLimit);\n              target.value = elementData.userValue = value;\n              storage.setValue(id, {\n                value\n              });\n              this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n                source: this,\n                detail: {\n                  id,\n                  name: \"Keystroke\",\n                  value,\n                  willCommit: true,\n                  commitKey: 1,\n                  selStart: target.selectionStart,\n                  selEnd: target.selectionEnd\n                }\n              });\n            }\n          };\n          this._dispatchEventFromSandbox(actions, jsEvent);\n        });\n        element.addEventListener(\"keydown\", event => {\n          elementData.commitKey = 1;\n          let commitKey = -1;\n          if (event.key === \"Escape\") {\n            commitKey = 0;\n          } else if (event.key === \"Enter\" && !this.data.multiLine) {\n            commitKey = 2;\n          } else if (event.key === \"Tab\") {\n            elementData.commitKey = 3;\n          }\n          if (commitKey === -1) {\n            return;\n          }\n          const {\n            value\n          } = event.target;\n          if (elementData.lastCommittedValue === value) {\n            return;\n          }\n          elementData.lastCommittedValue = value;\n          elementData.userValue = value;\n          this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n            source: this,\n            detail: {\n              id,\n              name: \"Keystroke\",\n              value,\n              willCommit: true,\n              commitKey,\n              selStart: event.target.selectionStart,\n              selEnd: event.target.selectionEnd\n            }\n          });\n        });\n        const _blurListener = blurListener;\n        blurListener = null;\n        element.addEventListener(\"blur\", event => {\n          if (!elementData.focused || !event.relatedTarget) {\n            return;\n          }\n          if (!this.data.actions?.Blur) {\n            elementData.focused = false;\n          }\n          const {\n            target\n          } = event;\n          let {\n            value\n          } = target;\n          if (hasDateOrTime) {\n            if (value && datetimeType === \"time\") {\n              const parts = value.split(\":\").map(v => parseInt(v, 10));\n              value = new Date(2000, 0, 1, parts[0], parts[1], parts[2] || 0).valueOf();\n              target.step = \"\";\n            } else {\n              if (!value.includes(\"T\")) {\n                value = `${value}T00:00`;\n              }\n              value = new Date(value).valueOf();\n            }\n            target.type = \"text\";\n          }\n          elementData.userValue = value;\n          if (elementData.lastCommittedValue !== value) {\n            this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n              source: this,\n              detail: {\n                id,\n                name: \"Keystroke\",\n                value,\n                willCommit: true,\n                commitKey: elementData.commitKey,\n                selStart: event.target.selectionStart,\n                selEnd: event.target.selectionEnd\n              }\n            });\n          }\n          _blurListener(event);\n        });\n        if (this.data.actions?.Keystroke) {\n          element.addEventListener(\"beforeinput\", event => {\n            elementData.lastCommittedValue = null;\n            const {\n              data,\n              target\n            } = event;\n            const {\n              value,\n              selectionStart,\n              selectionEnd\n            } = target;\n            let selStart = selectionStart,\n              selEnd = selectionEnd;\n            switch (event.inputType) {\n              case \"deleteWordBackward\":\n                {\n                  const match = value.substring(0, selectionStart).match(/\\w*[^\\w]*$/);\n                  if (match) {\n                    selStart -= match[0].length;\n                  }\n                  break;\n                }\n              case \"deleteWordForward\":\n                {\n                  const match = value.substring(selectionStart).match(/^[^\\w]*\\w*/);\n                  if (match) {\n                    selEnd += match[0].length;\n                  }\n                  break;\n                }\n              case \"deleteContentBackward\":\n                if (selectionStart === selectionEnd) {\n                  selStart -= 1;\n                }\n                break;\n              case \"deleteContentForward\":\n                if (selectionStart === selectionEnd) {\n                  selEnd += 1;\n                }\n                break;\n            }\n            event.preventDefault();\n            this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n              source: this,\n              detail: {\n                id,\n                name: \"Keystroke\",\n                value,\n                change: data || \"\",\n                willCommit: false,\n                selStart,\n                selEnd\n              }\n            });\n          });\n        }\n        this._setEventListeners(element, elementData, [[\"focus\", \"Focus\"], [\"blur\", \"Blur\"], [\"mousedown\", \"Mouse Down\"], [\"mouseenter\", \"Mouse Enter\"], [\"mouseleave\", \"Mouse Exit\"], [\"mouseup\", \"Mouse Up\"]], event => event.target.value);\n      }\n      if (blurListener) {\n        element.addEventListener(\"blur\", blurListener);\n      }\n      if (this.data.comb) {\n        const fieldWidth = this.data.rect[2] - this.data.rect[0];\n        const combWidth = fieldWidth / maxLen;\n        element.classList.add(\"comb\");\n        element.style.letterSpacing = `calc(${combWidth}px * var(--total-scale-factor) - 1ch)`;\n      }\n    } else {\n      element = document.createElement(\"div\");\n      element.textContent = this.data.fieldValue;\n      element.style.verticalAlign = \"middle\";\n      element.style.display = \"table-cell\";\n      if (this.data.hasOwnCanvas) {\n        element.hidden = true;\n      }\n    }\n    this._setTextStyle(element);\n    this._setBackgroundColor(element);\n    this._setDefaultPropertiesFromJS(element);\n    this.container.append(element);\n    return this.container;\n  }\n}\nclass SignatureWidgetAnnotationElement extends WidgetAnnotationElement {\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: !!parameters.data.hasOwnCanvas\n    });\n  }\n}\nclass CheckboxWidgetAnnotationElement extends WidgetAnnotationElement {\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: parameters.renderForms\n    });\n  }\n  render() {\n    const storage = this.annotationStorage;\n    const data = this.data;\n    const id = data.id;\n    let value = storage.getValue(id, {\n      value: data.exportValue === data.fieldValue\n    }).value;\n    if (typeof value === \"string\") {\n      value = value !== \"Off\";\n      storage.setValue(id, {\n        value\n      });\n    }\n    this.container.classList.add(\"buttonWidgetAnnotation\", \"checkBox\");\n    const element = document.createElement(\"input\");\n    GetElementsByNameSet.add(element);\n    element.setAttribute(\"data-element-id\", id);\n    element.disabled = data.readOnly;\n    this._setRequired(element, this.data.required);\n    element.type = \"checkbox\";\n    element.name = data.fieldName;\n    if (value) {\n      element.setAttribute(\"checked\", true);\n    }\n    element.setAttribute(\"exportValue\", data.exportValue);\n    element.tabIndex = 0;\n    element.addEventListener(\"change\", event => {\n      const {\n        name,\n        checked\n      } = event.target;\n      for (const checkbox of this._getElementsByName(name, id)) {\n        const curChecked = checked && checkbox.exportValue === data.exportValue;\n        if (checkbox.domElement) {\n          checkbox.domElement.checked = curChecked;\n        }\n        storage.setValue(checkbox.id, {\n          value: curChecked\n        });\n      }\n      storage.setValue(id, {\n        value: checked\n      });\n    });\n    element.addEventListener(\"resetform\", event => {\n      const defaultValue = data.defaultFieldValue || \"Off\";\n      event.target.checked = defaultValue === data.exportValue;\n    });\n    if (this.enableScripting && this.hasJSActions) {\n      element.addEventListener(\"updatefromsandbox\", jsEvent => {\n        const actions = {\n          value(event) {\n            event.target.checked = event.detail.value !== \"Off\";\n            storage.setValue(id, {\n              value: event.target.checked\n            });\n          }\n        };\n        this._dispatchEventFromSandbox(actions, jsEvent);\n      });\n      this._setEventListeners(element, null, [[\"change\", \"Validate\"], [\"change\", \"Action\"], [\"focus\", \"Focus\"], [\"blur\", \"Blur\"], [\"mousedown\", \"Mouse Down\"], [\"mouseenter\", \"Mouse Enter\"], [\"mouseleave\", \"Mouse Exit\"], [\"mouseup\", \"Mouse Up\"]], event => event.target.checked);\n    }\n    this._setBackgroundColor(element);\n    this._setDefaultPropertiesFromJS(element);\n    this.container.append(element);\n    return this.container;\n  }\n}\nclass RadioButtonWidgetAnnotationElement extends WidgetAnnotationElement {\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: parameters.renderForms\n    });\n  }\n  render() {\n    this.container.classList.add(\"buttonWidgetAnnotation\", \"radioButton\");\n    const storage = this.annotationStorage;\n    const data = this.data;\n    const id = data.id;\n    let value = storage.getValue(id, {\n      value: data.fieldValue === data.buttonValue\n    }).value;\n    if (typeof value === \"string\") {\n      value = value !== data.buttonValue;\n      storage.setValue(id, {\n        value\n      });\n    }\n    if (value) {\n      for (const radio of this._getElementsByName(data.fieldName, id)) {\n        storage.setValue(radio.id, {\n          value: false\n        });\n      }\n    }\n    const element = document.createElement(\"input\");\n    GetElementsByNameSet.add(element);\n    element.setAttribute(\"data-element-id\", id);\n    element.disabled = data.readOnly;\n    this._setRequired(element, this.data.required);\n    element.type = \"radio\";\n    element.name = data.fieldName;\n    if (value) {\n      element.setAttribute(\"checked\", true);\n    }\n    element.tabIndex = 0;\n    element.addEventListener(\"change\", event => {\n      const {\n        name,\n        checked\n      } = event.target;\n      for (const radio of this._getElementsByName(name, id)) {\n        storage.setValue(radio.id, {\n          value: false\n        });\n      }\n      storage.setValue(id, {\n        value: checked\n      });\n    });\n    element.addEventListener(\"resetform\", event => {\n      const defaultValue = data.defaultFieldValue;\n      event.target.checked = defaultValue !== null && defaultValue !== undefined && defaultValue === data.buttonValue;\n    });\n    if (this.enableScripting && this.hasJSActions) {\n      const pdfButtonValue = data.buttonValue;\n      element.addEventListener(\"updatefromsandbox\", jsEvent => {\n        const actions = {\n          value: event => {\n            const checked = pdfButtonValue === event.detail.value;\n            for (const radio of this._getElementsByName(event.target.name)) {\n              const curChecked = checked && radio.id === id;\n              if (radio.domElement) {\n                radio.domElement.checked = curChecked;\n              }\n              storage.setValue(radio.id, {\n                value: curChecked\n              });\n            }\n          }\n        };\n        this._dispatchEventFromSandbox(actions, jsEvent);\n      });\n      this._setEventListeners(element, null, [[\"change\", \"Validate\"], [\"change\", \"Action\"], [\"focus\", \"Focus\"], [\"blur\", \"Blur\"], [\"mousedown\", \"Mouse Down\"], [\"mouseenter\", \"Mouse Enter\"], [\"mouseleave\", \"Mouse Exit\"], [\"mouseup\", \"Mouse Up\"]], event => event.target.checked);\n    }\n    this._setBackgroundColor(element);\n    this._setDefaultPropertiesFromJS(element);\n    this.container.append(element);\n    return this.container;\n  }\n}\nclass PushButtonWidgetAnnotationElement extends LinkAnnotationElement {\n  constructor(parameters) {\n    super(parameters, {\n      ignoreBorder: parameters.data.hasAppearance\n    });\n  }\n  render() {\n    const container = super.render();\n    container.classList.add(\"buttonWidgetAnnotation\", \"pushButton\");\n    const linkElement = container.lastChild;\n    if (this.enableScripting && this.hasJSActions && linkElement) {\n      this._setDefaultPropertiesFromJS(linkElement);\n      linkElement.addEventListener(\"updatefromsandbox\", jsEvent => {\n        this._dispatchEventFromSandbox({}, jsEvent);\n      });\n    }\n    return container;\n  }\n}\nclass ChoiceWidgetAnnotationElement extends WidgetAnnotationElement {\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: parameters.renderForms\n    });\n  }\n  render() {\n    this.container.classList.add(\"choiceWidgetAnnotation\");\n    const storage = this.annotationStorage;\n    const id = this.data.id;\n    const storedData = storage.getValue(id, {\n      value: this.data.fieldValue\n    });\n    const selectElement = document.createElement(\"select\");\n    GetElementsByNameSet.add(selectElement);\n    selectElement.setAttribute(\"data-element-id\", id);\n    selectElement.disabled = this.data.readOnly;\n    this._setRequired(selectElement, this.data.required);\n    selectElement.name = this.data.fieldName;\n    selectElement.tabIndex = 0;\n    let addAnEmptyEntry = this.data.combo && this.data.options.length > 0;\n    if (!this.data.combo) {\n      selectElement.size = this.data.options.length;\n      if (this.data.multiSelect) {\n        selectElement.multiple = true;\n      }\n    }\n    selectElement.addEventListener(\"resetform\", event => {\n      const defaultValue = this.data.defaultFieldValue;\n      for (const option of selectElement.options) {\n        option.selected = option.value === defaultValue;\n      }\n    });\n    for (const option of this.data.options) {\n      const optionElement = document.createElement(\"option\");\n      optionElement.textContent = option.displayValue;\n      optionElement.value = option.exportValue;\n      if (storedData.value.includes(option.exportValue)) {\n        optionElement.setAttribute(\"selected\", true);\n        addAnEmptyEntry = false;\n      }\n      selectElement.append(optionElement);\n    }\n    let removeEmptyEntry = null;\n    if (addAnEmptyEntry) {\n      const noneOptionElement = document.createElement(\"option\");\n      noneOptionElement.value = \" \";\n      noneOptionElement.setAttribute(\"hidden\", true);\n      noneOptionElement.setAttribute(\"selected\", true);\n      selectElement.prepend(noneOptionElement);\n      removeEmptyEntry = () => {\n        noneOptionElement.remove();\n        selectElement.removeEventListener(\"input\", removeEmptyEntry);\n        removeEmptyEntry = null;\n      };\n      selectElement.addEventListener(\"input\", removeEmptyEntry);\n    }\n    const getValue = isExport => {\n      const name = isExport ? \"value\" : \"textContent\";\n      const {\n        options,\n        multiple\n      } = selectElement;\n      if (!multiple) {\n        return options.selectedIndex === -1 ? null : options[options.selectedIndex][name];\n      }\n      return Array.prototype.filter.call(options, option => option.selected).map(option => option[name]);\n    };\n    let selectedValues = getValue(false);\n    const getItems = event => {\n      const options = event.target.options;\n      return Array.prototype.map.call(options, option => ({\n        displayValue: option.textContent,\n        exportValue: option.value\n      }));\n    };\n    if (this.enableScripting && this.hasJSActions) {\n      selectElement.addEventListener(\"updatefromsandbox\", jsEvent => {\n        const actions = {\n          value(event) {\n            removeEmptyEntry?.();\n            const value = event.detail.value;\n            const values = new Set(Array.isArray(value) ? value : [value]);\n            for (const option of selectElement.options) {\n              option.selected = values.has(option.value);\n            }\n            storage.setValue(id, {\n              value: getValue(true)\n            });\n            selectedValues = getValue(false);\n          },\n          multipleSelection(event) {\n            selectElement.multiple = true;\n          },\n          remove(event) {\n            const options = selectElement.options;\n            const index = event.detail.remove;\n            options[index].selected = false;\n            selectElement.remove(index);\n            if (options.length > 0) {\n              const i = Array.prototype.findIndex.call(options, option => option.selected);\n              if (i === -1) {\n                options[0].selected = true;\n              }\n            }\n            storage.setValue(id, {\n              value: getValue(true),\n              items: getItems(event)\n            });\n            selectedValues = getValue(false);\n          },\n          clear(event) {\n            while (selectElement.length !== 0) {\n              selectElement.remove(0);\n            }\n            storage.setValue(id, {\n              value: null,\n              items: []\n            });\n            selectedValues = getValue(false);\n          },\n          insert(event) {\n            const {\n              index,\n              displayValue,\n              exportValue\n            } = event.detail.insert;\n            const selectChild = selectElement.children[index];\n            const optionElement = document.createElement(\"option\");\n            optionElement.textContent = displayValue;\n            optionElement.value = exportValue;\n            if (selectChild) {\n              selectChild.before(optionElement);\n            } else {\n              selectElement.append(optionElement);\n            }\n            storage.setValue(id, {\n              value: getValue(true),\n              items: getItems(event)\n            });\n            selectedValues = getValue(false);\n          },\n          items(event) {\n            const {\n              items\n            } = event.detail;\n            while (selectElement.length !== 0) {\n              selectElement.remove(0);\n            }\n            for (const item of items) {\n              const {\n                displayValue,\n                exportValue\n              } = item;\n              const optionElement = document.createElement(\"option\");\n              optionElement.textContent = displayValue;\n              optionElement.value = exportValue;\n              selectElement.append(optionElement);\n            }\n            if (selectElement.options.length > 0) {\n              selectElement.options[0].selected = true;\n            }\n            storage.setValue(id, {\n              value: getValue(true),\n              items: getItems(event)\n            });\n            selectedValues = getValue(false);\n          },\n          indices(event) {\n            const indices = new Set(event.detail.indices);\n            for (const option of event.target.options) {\n              option.selected = indices.has(option.index);\n            }\n            storage.setValue(id, {\n              value: getValue(true)\n            });\n            selectedValues = getValue(false);\n          },\n          editable(event) {\n            event.target.disabled = !event.detail.editable;\n          }\n        };\n        this._dispatchEventFromSandbox(actions, jsEvent);\n      });\n      selectElement.addEventListener(\"input\", event => {\n        const exportValue = getValue(true);\n        const change = getValue(false);\n        storage.setValue(id, {\n          value: exportValue\n        });\n        event.preventDefault();\n        this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n          source: this,\n          detail: {\n            id,\n            name: \"Keystroke\",\n            value: selectedValues,\n            change,\n            changeEx: exportValue,\n            willCommit: false,\n            commitKey: 1,\n            keyDown: false\n          }\n        });\n      });\n      this._setEventListeners(selectElement, null, [[\"focus\", \"Focus\"], [\"blur\", \"Blur\"], [\"mousedown\", \"Mouse Down\"], [\"mouseenter\", \"Mouse Enter\"], [\"mouseleave\", \"Mouse Exit\"], [\"mouseup\", \"Mouse Up\"], [\"input\", \"Action\"], [\"input\", \"Validate\"]], event => event.target.value);\n    } else {\n      selectElement.addEventListener(\"input\", function (event) {\n        storage.setValue(id, {\n          value: getValue(true)\n        });\n      });\n    }\n    if (this.data.combo) {\n      this._setTextStyle(selectElement);\n    } else {}\n    this._setBackgroundColor(selectElement);\n    this._setDefaultPropertiesFromJS(selectElement);\n    this.container.append(selectElement);\n    return this.container;\n  }\n}\nclass PopupAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    const {\n      data,\n      elements,\n      parent\n    } = parameters;\n    const hasCommentManager = !!parent._commentManager;\n    super(parameters, {\n      isRenderable: !hasCommentManager && AnnotationElement._hasPopupData(data)\n    });\n    this.elements = elements;\n    if (hasCommentManager && AnnotationElement._hasPopupData(data)) {\n      const popup = this.popup = this.#createPopup();\n      for (const element of elements) {\n        element.popup = popup;\n      }\n    } else {\n      this.popup = null;\n    }\n  }\n  #createPopup() {\n    return new PopupElement({\n      container: this.container,\n      color: this.data.color,\n      titleObj: this.data.titleObj,\n      modificationDate: this.data.modificationDate || this.data.creationDate,\n      contentsObj: this.data.contentsObj,\n      richText: this.data.richText,\n      rect: this.data.rect,\n      parentRect: this.data.parentRect || null,\n      parent: this.parent,\n      elements: this.elements,\n      open: this.data.open,\n      commentManager: this.parent._commentManager\n    });\n  }\n  render() {\n    const {\n      container\n    } = this;\n    container.classList.add(\"popupAnnotation\");\n    container.role = \"comment\";\n    const popup = this.popup = this.#createPopup();\n    const elementIds = [];\n    for (const element of this.elements) {\n      element.popup = popup;\n      element.container.ariaHasPopup = \"dialog\";\n      elementIds.push(element.data.id);\n      element.addHighlightArea();\n    }\n    this.container.setAttribute(\"aria-controls\", elementIds.map(id => `${AnnotationPrefix}${id}`).join(\",\"));\n    return this.container;\n  }\n}\nclass PopupElement {\n  #commentManager = null;\n  #boundKeyDown = this.#keyDown.bind(this);\n  #boundHide = this.#hide.bind(this);\n  #boundShow = this.#show.bind(this);\n  #boundToggle = this.#toggle.bind(this);\n  #color = null;\n  #container = null;\n  #contentsObj = null;\n  #dateObj = null;\n  #elements = null;\n  #parent = null;\n  #parentRect = null;\n  #pinned = false;\n  #popup = null;\n  #popupAbortController = null;\n  #position = null;\n  #commentButton = null;\n  #commentButtonPosition = null;\n  #popupPosition = null;\n  #rect = null;\n  #richText = null;\n  #titleObj = null;\n  #updates = null;\n  #wasVisible = false;\n  #firstElement = null;\n  #commentText = null;\n  constructor({\n    container,\n    color,\n    elements,\n    titleObj,\n    modificationDate,\n    contentsObj,\n    richText,\n    parent,\n    rect,\n    parentRect,\n    open,\n    commentManager = null\n  }) {\n    this.#container = container;\n    this.#titleObj = titleObj;\n    this.#contentsObj = contentsObj;\n    this.#richText = richText;\n    this.#parent = parent;\n    this.#color = color;\n    this.#rect = rect;\n    this.#parentRect = parentRect;\n    this.#elements = elements;\n    this.#commentManager = commentManager;\n    this.#firstElement = elements[0];\n    this.#dateObj = PDFDateString.toDateObject(modificationDate);\n    this.trigger = elements.flatMap(e => e.getElementsToTriggerPopup());\n    if (!commentManager) {\n      this.#addEventListeners();\n      this.#container.hidden = true;\n      if (open) {\n        this.#toggle();\n      }\n    }\n  }\n  #addEventListeners() {\n    if (this.#popupAbortController) {\n      return;\n    }\n    this.#popupAbortController = new AbortController();\n    const {\n      signal\n    } = this.#popupAbortController;\n    for (const element of this.trigger) {\n      element.addEventListener(\"click\", this.#boundToggle, {\n        signal\n      });\n      element.addEventListener(\"pointerenter\", this.#boundShow, {\n        signal\n      });\n      element.addEventListener(\"pointerleave\", this.#boundHide, {\n        signal\n      });\n      element.classList.add(\"popupTriggerArea\");\n    }\n    for (const element of this.#elements) {\n      element.container?.addEventListener(\"keydown\", this.#boundKeyDown, {\n        signal\n      });\n    }\n  }\n  #setCommentButtonPosition() {\n    const element = this.#elements.find(e => e.hasCommentButton);\n    if (!element) {\n      return;\n    }\n    this.#commentButtonPosition = element._normalizePoint(element.commentButtonPosition);\n  }\n  renderCommentButton() {\n    if (this.#commentButton) {\n      if (!this.#commentButton.parentNode) {\n        this.#firstElement.container.after(this.#commentButton);\n      }\n      return;\n    }\n    if (!this.#commentButtonPosition) {\n      this.#setCommentButtonPosition();\n    }\n    if (!this.#commentButtonPosition) {\n      return;\n    }\n    const {\n      signal\n    } = this.#popupAbortController = new AbortController();\n    const hasOwnButton = this.#firstElement.hasOwnCommentButton;\n    const togglePopup = () => {\n      this.#commentManager.toggleCommentPopup(this, true, undefined, !hasOwnButton);\n    };\n    const showPopup = () => {\n      this.#commentManager.toggleCommentPopup(this, false, true, !hasOwnButton);\n    };\n    const hidePopup = () => {\n      this.#commentManager.toggleCommentPopup(this, false, false);\n    };\n    if (!hasOwnButton) {\n      const button = this.#commentButton = document.createElement(\"button\");\n      button.className = \"annotationCommentButton\";\n      const parentContainer = this.#firstElement.container;\n      button.style.zIndex = parentContainer.style.zIndex + 1;\n      button.tabIndex = 0;\n      button.ariaHasPopup = \"dialog\";\n      button.ariaControls = \"commentPopup\";\n      button.setAttribute(\"data-l10n-id\", \"pdfjs-show-comment-button\");\n      this.#updateColor();\n      this.#updateCommentButtonPosition();\n      button.addEventListener(\"keydown\", this.#boundKeyDown, {\n        signal\n      });\n      button.addEventListener(\"click\", togglePopup, {\n        signal\n      });\n      button.addEventListener(\"pointerenter\", showPopup, {\n        signal\n      });\n      button.addEventListener(\"pointerleave\", hidePopup, {\n        signal\n      });\n      parentContainer.after(button);\n    } else {\n      this.#commentButton = this.#firstElement.container;\n      for (const element of this.trigger) {\n        element.ariaHasPopup = \"dialog\";\n        element.ariaControls = \"commentPopup\";\n        element.addEventListener(\"keydown\", this.#boundKeyDown, {\n          signal\n        });\n        element.addEventListener(\"click\", togglePopup, {\n          signal\n        });\n        element.addEventListener(\"pointerenter\", showPopup, {\n          signal\n        });\n        element.addEventListener(\"pointerleave\", hidePopup, {\n          signal\n        });\n        element.classList.add(\"popupTriggerArea\");\n      }\n    }\n  }\n  #updateCommentButtonPosition() {\n    if (this.#firstElement.extraPopupElement && !this.#firstElement.editor) {\n      return;\n    }\n    if (!this.#commentButton) {\n      this.renderCommentButton();\n    }\n    const [x, y] = this.#commentButtonPosition;\n    const {\n      style\n    } = this.#commentButton;\n    style.left = `calc(${x}%)`;\n    style.top = `calc(${y}% - var(--comment-button-dim))`;\n  }\n  #updateColor() {\n    if (this.#firstElement.extraPopupElement) {\n      return;\n    }\n    if (!this.#commentButton) {\n      this.renderCommentButton();\n    }\n    this.#commentButton.style.backgroundColor = this.commentButtonColor || \"\";\n  }\n  get commentButtonColor() {\n    const {\n      color,\n      opacity\n    } = this.#firstElement.commentData;\n    if (!color) {\n      return null;\n    }\n    return this.#parent._commentManager.makeCommentColor(color, opacity);\n  }\n  focusCommentButton() {\n    setTimeout(() => {\n      this.#commentButton?.focus();\n    }, 0);\n  }\n  getData() {\n    const {\n      richText,\n      color,\n      opacity,\n      creationDate,\n      modificationDate\n    } = this.#firstElement.commentData;\n    return {\n      contentsObj: {\n        str: this.comment\n      },\n      richText,\n      color,\n      opacity,\n      creationDate,\n      modificationDate\n    };\n  }\n  get elementBeforePopup() {\n    return this.#commentButton;\n  }\n  get comment() {\n    this.#commentText ||= this.#firstElement.commentText;\n    return this.#commentText;\n  }\n  set comment(text) {\n    if (text === this.comment) {\n      return;\n    }\n    this.#firstElement.commentText = this.#commentText = text;\n  }\n  focus() {\n    this.#firstElement.container?.focus();\n  }\n  get parentBoundingClientRect() {\n    return this.#firstElement.layer.getBoundingClientRect();\n  }\n  setCommentButtonStates({\n    selected,\n    hasPopup\n  }) {\n    if (!this.#commentButton) {\n      return;\n    }\n    this.#commentButton.classList.toggle(\"selected\", selected);\n    this.#commentButton.ariaExpanded = hasPopup;\n  }\n  setSelectedCommentButton(selected) {\n    this.#commentButton.classList.toggle(\"selected\", selected);\n  }\n  get commentPopupPosition() {\n    if (this.#popupPosition) {\n      return this.#popupPosition;\n    }\n    const {\n      x,\n      y,\n      height\n    } = this.#commentButton.getBoundingClientRect();\n    const {\n      x: parentX,\n      y: parentY,\n      width: parentWidth,\n      height: parentHeight\n    } = this.#firstElement.layer.getBoundingClientRect();\n    return [(x - parentX) / parentWidth, (y + height - parentY) / parentHeight];\n  }\n  set commentPopupPosition(pos) {\n    this.#popupPosition = pos;\n  }\n  hasDefaultPopupPosition() {\n    return this.#popupPosition === null;\n  }\n  get commentButtonPosition() {\n    return this.#commentButtonPosition;\n  }\n  get commentButtonWidth() {\n    return this.#commentButton.getBoundingClientRect().width / this.parentBoundingClientRect.width;\n  }\n  editComment(options) {\n    const [posX, posY] = this.#popupPosition || this.commentButtonPosition.map(x => x / 100);\n    const parentDimensions = this.parentBoundingClientRect;\n    const {\n      x: parentX,\n      y: parentY,\n      width: parentWidth,\n      height: parentHeight\n    } = parentDimensions;\n    this.#commentManager.showDialog(null, this, parentX + posX * parentWidth, parentY + posY * parentHeight, {\n      ...options,\n      parentDimensions\n    });\n  }\n  render() {\n    if (this.#popup) {\n      return;\n    }\n    const popup = this.#popup = document.createElement(\"div\");\n    popup.className = \"popup\";\n    if (this.#color) {\n      const baseColor = popup.style.outlineColor = Util.makeHexColor(...this.#color);\n      popup.style.backgroundColor = `color-mix(in srgb, ${baseColor} 30%, white)`;\n    }\n    const header = document.createElement(\"span\");\n    header.className = \"header\";\n    if (this.#titleObj?.str) {\n      const title = document.createElement(\"span\");\n      title.className = \"title\";\n      header.append(title);\n      ({\n        dir: title.dir,\n        str: title.textContent\n      } = this.#titleObj);\n    }\n    popup.append(header);\n    if (this.#dateObj) {\n      const modificationDate = document.createElement(\"time\");\n      modificationDate.className = \"popupDate\";\n      modificationDate.setAttribute(\"data-l10n-id\", \"pdfjs-annotation-date-time-string\");\n      modificationDate.setAttribute(\"data-l10n-args\", JSON.stringify({\n        dateObj: this.#dateObj.valueOf()\n      }));\n      modificationDate.dateTime = this.#dateObj.toISOString();\n      header.append(modificationDate);\n    }\n    renderRichText({\n      html: this.#html || this.#contentsObj.str,\n      dir: this.#contentsObj?.dir,\n      className: \"popupContent\"\n    }, popup);\n    this.#container.append(popup);\n  }\n  get #html() {\n    const richText = this.#richText;\n    const contentsObj = this.#contentsObj;\n    if (richText?.str && (!contentsObj?.str || contentsObj.str === richText.str)) {\n      return this.#richText.html || null;\n    }\n    return null;\n  }\n  get #fontSize() {\n    return this.#html?.attributes?.style?.fontSize || 0;\n  }\n  get #fontColor() {\n    return this.#html?.attributes?.style?.color || null;\n  }\n  #makePopupContent(text) {\n    const popupLines = [];\n    const popupContent = {\n      str: text,\n      html: {\n        name: \"div\",\n        attributes: {\n          dir: \"auto\"\n        },\n        children: [{\n          name: \"p\",\n          children: popupLines\n        }]\n      }\n    };\n    const lineAttributes = {\n      style: {\n        color: this.#fontColor,\n        fontSize: this.#fontSize ? `calc(${this.#fontSize}px * var(--total-scale-factor))` : \"\"\n      }\n    };\n    for (const line of text.split(\"\\n\")) {\n      popupLines.push({\n        name: \"span\",\n        value: line,\n        attributes: lineAttributes\n      });\n    }\n    return popupContent;\n  }\n  #keyDown(event) {\n    if (event.altKey || event.shiftKey || event.ctrlKey || event.metaKey) {\n      return;\n    }\n    if (event.key === \"Enter\" || event.key === \"Escape\" && this.#pinned) {\n      this.#toggle();\n    }\n  }\n  updateEdited({\n    rect,\n    popup,\n    deleted\n  }) {\n    if (this.#commentManager) {\n      if (deleted) {\n        this.remove();\n        this.#commentText = null;\n      } else if (popup) {\n        if (popup.deleted) {\n          this.remove();\n        } else {\n          this.#updateColor();\n          this.#commentText = popup.text;\n        }\n      }\n      if (rect) {\n        this.#commentButtonPosition = null;\n        this.#setCommentButtonPosition();\n        this.#updateCommentButtonPosition();\n      }\n      return;\n    }\n    if (deleted || popup?.deleted) {\n      this.remove();\n      return;\n    }\n    this.#addEventListeners();\n    this.#updates ||= {\n      contentsObj: this.#contentsObj,\n      richText: this.#richText\n    };\n    if (rect) {\n      this.#position = null;\n    }\n    if (popup && popup.text) {\n      this.#richText = this.#makePopupContent(popup.text);\n      this.#dateObj = PDFDateString.toDateObject(popup.date);\n      this.#contentsObj = null;\n    }\n    this.#popup?.remove();\n    this.#popup = null;\n  }\n  resetEdited() {\n    if (!this.#updates) {\n      return;\n    }\n    ({\n      contentsObj: this.#contentsObj,\n      richText: this.#richText\n    } = this.#updates);\n    this.#updates = null;\n    this.#popup?.remove();\n    this.#popup = null;\n    this.#position = null;\n  }\n  remove() {\n    this.#popupAbortController?.abort();\n    this.#popupAbortController = null;\n    this.#popup?.remove();\n    this.#popup = null;\n    this.#wasVisible = false;\n    this.#pinned = false;\n    this.#commentButton?.remove();\n    this.#commentButton = null;\n    if (this.trigger) {\n      for (const element of this.trigger) {\n        element.classList.remove(\"popupTriggerArea\");\n      }\n    }\n  }\n  #setPosition() {\n    if (this.#position !== null) {\n      return;\n    }\n    const {\n      page: {\n        view\n      },\n      viewport: {\n        rawDims: {\n          pageWidth,\n          pageHeight,\n          pageX,\n          pageY\n        }\n      }\n    } = this.#parent;\n    let useParentRect = !!this.#parentRect;\n    let rect = useParentRect ? this.#parentRect : this.#rect;\n    for (const element of this.#elements) {\n      if (!rect || Util.intersect(element.data.rect, rect) !== null) {\n        rect = element.data.rect;\n        useParentRect = true;\n        break;\n      }\n    }\n    const normalizedRect = Util.normalizeRect([rect[0], view[3] - rect[1] + view[1], rect[2], view[3] - rect[3] + view[1]]);\n    const HORIZONTAL_SPACE_AFTER_ANNOTATION = 5;\n    const parentWidth = useParentRect ? rect[2] - rect[0] + HORIZONTAL_SPACE_AFTER_ANNOTATION : 0;\n    const popupLeft = normalizedRect[0] + parentWidth;\n    const popupTop = normalizedRect[1];\n    this.#position = [100 * (popupLeft - pageX) / pageWidth, 100 * (popupTop - pageY) / pageHeight];\n    const {\n      style\n    } = this.#container;\n    style.left = `${this.#position[0]}%`;\n    style.top = `${this.#position[1]}%`;\n  }\n  #toggle() {\n    if (this.#commentManager) {\n      this.#commentManager.toggleCommentPopup(this, false);\n      return;\n    }\n    this.#pinned = !this.#pinned;\n    if (this.#pinned) {\n      this.#show();\n      this.#container.addEventListener(\"click\", this.#boundToggle);\n      this.#container.addEventListener(\"keydown\", this.#boundKeyDown);\n    } else {\n      this.#hide();\n      this.#container.removeEventListener(\"click\", this.#boundToggle);\n      this.#container.removeEventListener(\"keydown\", this.#boundKeyDown);\n    }\n  }\n  #show() {\n    if (!this.#popup) {\n      this.render();\n    }\n    if (!this.isVisible) {\n      this.#setPosition();\n      this.#container.hidden = false;\n      this.#container.style.zIndex = parseInt(this.#container.style.zIndex) + 1000;\n    } else if (this.#pinned) {\n      this.#container.classList.add(\"focused\");\n    }\n  }\n  #hide() {\n    this.#container.classList.remove(\"focused\");\n    if (this.#pinned || !this.isVisible) {\n      return;\n    }\n    this.#container.hidden = true;\n    this.#container.style.zIndex = parseInt(this.#container.style.zIndex) - 1000;\n  }\n  forceHide() {\n    this.#wasVisible = this.isVisible;\n    if (!this.#wasVisible) {\n      return;\n    }\n    this.#container.hidden = true;\n  }\n  maybeShow() {\n    if (this.#commentManager) {\n      return;\n    }\n    this.#addEventListeners();\n    if (!this.#wasVisible) {\n      return;\n    }\n    if (!this.#popup) {\n      this.#show();\n    }\n    this.#wasVisible = false;\n    this.#container.hidden = false;\n  }\n  get isVisible() {\n    if (this.#commentManager) {\n      return false;\n    }\n    return this.#container.hidden === false;\n  }\n}\nclass FreeTextAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: true,\n      ignoreBorder: true\n    });\n    this.textContent = parameters.data.textContent;\n    this.textPosition = parameters.data.textPosition;\n    this.annotationEditorType = AnnotationEditorType.FREETEXT;\n  }\n  render() {\n    this.container.classList.add(\"freeTextAnnotation\");\n    if (this.textContent) {\n      const content = this.contentElement = document.createElement(\"div\");\n      content.classList.add(\"annotationTextContent\");\n      content.setAttribute(\"role\", \"comment\");\n      for (const line of this.textContent) {\n        const lineSpan = document.createElement(\"span\");\n        lineSpan.textContent = line;\n        content.append(lineSpan);\n      }\n      this.container.append(content);\n    }\n    if (!this.data.popupRef && this.hasPopupData) {\n      this.hasOwnCommentButton = true;\n      this._createPopup();\n    }\n    this._editOnDoubleClick();\n    return this.container;\n  }\n}\nclass LineAnnotationElement extends AnnotationElement {\n  #line = null;\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: true,\n      ignoreBorder: true\n    });\n  }\n  render() {\n    this.container.classList.add(\"lineAnnotation\");\n    const {\n      data,\n      width,\n      height\n    } = this;\n    const svg = this.svgFactory.create(width, height, true);\n    const line = this.#line = this.svgFactory.createElement(\"svg:line\");\n    line.setAttribute(\"x1\", data.rect[2] - data.lineCoordinates[0]);\n    line.setAttribute(\"y1\", data.rect[3] - data.lineCoordinates[1]);\n    line.setAttribute(\"x2\", data.rect[2] - data.lineCoordinates[2]);\n    line.setAttribute(\"y2\", data.rect[3] - data.lineCoordinates[3]);\n    line.setAttribute(\"stroke-width\", data.borderStyle.width || 1);\n    line.setAttribute(\"stroke\", \"transparent\");\n    line.setAttribute(\"fill\", \"transparent\");\n    svg.append(line);\n    this.container.append(svg);\n    if (!data.popupRef && this.hasPopupData) {\n      this.hasOwnCommentButton = true;\n      this._createPopup();\n    }\n    return this.container;\n  }\n  getElementsToTriggerPopup() {\n    return this.#line;\n  }\n  addHighlightArea() {\n    this.container.classList.add(\"highlightArea\");\n  }\n}\nclass SquareAnnotationElement extends AnnotationElement {\n  #square = null;\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: true,\n      ignoreBorder: true\n    });\n  }\n  render() {\n    this.container.classList.add(\"squareAnnotation\");\n    const {\n      data,\n      width,\n      height\n    } = this;\n    const svg = this.svgFactory.create(width, height, true);\n    const borderWidth = data.borderStyle.width;\n    const square = this.#square = this.svgFactory.createElement(\"svg:rect\");\n    square.setAttribute(\"x\", borderWidth / 2);\n    square.setAttribute(\"y\", borderWidth / 2);\n    square.setAttribute(\"width\", width - borderWidth);\n    square.setAttribute(\"height\", height - borderWidth);\n    square.setAttribute(\"stroke-width\", borderWidth || 1);\n    square.setAttribute(\"stroke\", \"transparent\");\n    square.setAttribute(\"fill\", \"transparent\");\n    svg.append(square);\n    this.container.append(svg);\n    if (!data.popupRef && this.hasPopupData) {\n      this.hasOwnCommentButton = true;\n      this._createPopup();\n    }\n    return this.container;\n  }\n  getElementsToTriggerPopup() {\n    return this.#square;\n  }\n  addHighlightArea() {\n    this.container.classList.add(\"highlightArea\");\n  }\n}\nclass CircleAnnotationElement extends AnnotationElement {\n  #circle = null;\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: true,\n      ignoreBorder: true\n    });\n  }\n  render() {\n    this.container.classList.add(\"circleAnnotation\");\n    const {\n      data,\n      width,\n      height\n    } = this;\n    const svg = this.svgFactory.create(width, height, true);\n    const borderWidth = data.borderStyle.width;\n    const circle = this.#circle = this.svgFactory.createElement(\"svg:ellipse\");\n    circle.setAttribute(\"cx\", width / 2);\n    circle.setAttribute(\"cy\", height / 2);\n    circle.setAttribute(\"rx\", width / 2 - borderWidth / 2);\n    circle.setAttribute(\"ry\", height / 2 - borderWidth / 2);\n    circle.setAttribute(\"stroke-width\", borderWidth || 1);\n    circle.setAttribute(\"stroke\", \"transparent\");\n    circle.setAttribute(\"fill\", \"transparent\");\n    svg.append(circle);\n    this.container.append(svg);\n    if (!data.popupRef && this.hasPopupData) {\n      this.hasOwnCommentButton = true;\n      this._createPopup();\n    }\n    return this.container;\n  }\n  getElementsToTriggerPopup() {\n    return this.#circle;\n  }\n  addHighlightArea() {\n    this.container.classList.add(\"highlightArea\");\n  }\n}\nclass PolylineAnnotationElement extends AnnotationElement {\n  #polyline = null;\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: true,\n      ignoreBorder: true\n    });\n    this.containerClassName = \"polylineAnnotation\";\n    this.svgElementName = \"svg:polyline\";\n  }\n  render() {\n    this.container.classList.add(this.containerClassName);\n    const {\n      data: {\n        rect,\n        vertices,\n        borderStyle,\n        popupRef\n      },\n      width,\n      height\n    } = this;\n    if (!vertices) {\n      return this.container;\n    }\n    const svg = this.svgFactory.create(width, height, true);\n    let points = [];\n    for (let i = 0, ii = vertices.length; i < ii; i += 2) {\n      const x = vertices[i] - rect[0];\n      const y = rect[3] - vertices[i + 1];\n      points.push(`${x},${y}`);\n    }\n    points = points.join(\" \");\n    const polyline = this.#polyline = this.svgFactory.createElement(this.svgElementName);\n    polyline.setAttribute(\"points\", points);\n    polyline.setAttribute(\"stroke-width\", borderStyle.width || 1);\n    polyline.setAttribute(\"stroke\", \"transparent\");\n    polyline.setAttribute(\"fill\", \"transparent\");\n    svg.append(polyline);\n    this.container.append(svg);\n    if (!popupRef && this.hasPopupData) {\n      this.hasOwnCommentButton = true;\n      this._createPopup();\n    }\n    return this.container;\n  }\n  getElementsToTriggerPopup() {\n    return this.#polyline;\n  }\n  addHighlightArea() {\n    this.container.classList.add(\"highlightArea\");\n  }\n}\nclass PolygonAnnotationElement extends PolylineAnnotationElement {\n  constructor(parameters) {\n    super(parameters);\n    this.containerClassName = \"polygonAnnotation\";\n    this.svgElementName = \"svg:polygon\";\n  }\n}\nclass CaretAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: true,\n      ignoreBorder: true\n    });\n  }\n  render() {\n    this.container.classList.add(\"caretAnnotation\");\n    if (!this.data.popupRef && this.hasPopupData) {\n      this.hasOwnCommentButton = true;\n      this._createPopup();\n    }\n    return this.container;\n  }\n}\nclass InkAnnotationElement extends AnnotationElement {\n  #polylinesGroupElement = null;\n  #polylines = [];\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: true,\n      ignoreBorder: true\n    });\n    this.containerClassName = \"inkAnnotation\";\n    this.svgElementName = \"svg:polyline\";\n    this.annotationEditorType = this.data.it === \"InkHighlight\" ? AnnotationEditorType.HIGHLIGHT : AnnotationEditorType.INK;\n  }\n  #getTransform(rotation, rect) {\n    switch (rotation) {\n      case 90:\n        return {\n          transform: `rotate(90) translate(${-rect[0]},${rect[1]}) scale(1,-1)`,\n          width: rect[3] - rect[1],\n          height: rect[2] - rect[0]\n        };\n      case 180:\n        return {\n          transform: `rotate(180) translate(${-rect[2]},${rect[1]}) scale(1,-1)`,\n          width: rect[2] - rect[0],\n          height: rect[3] - rect[1]\n        };\n      case 270:\n        return {\n          transform: `rotate(270) translate(${-rect[2]},${rect[3]}) scale(1,-1)`,\n          width: rect[3] - rect[1],\n          height: rect[2] - rect[0]\n        };\n      default:\n        return {\n          transform: `translate(${-rect[0]},${rect[3]}) scale(1,-1)`,\n          width: rect[2] - rect[0],\n          height: rect[3] - rect[1]\n        };\n    }\n  }\n  render() {\n    this.container.classList.add(this.containerClassName);\n    const {\n      data: {\n        rect,\n        rotation,\n        inkLists,\n        borderStyle,\n        popupRef\n      }\n    } = this;\n    const {\n      transform,\n      width,\n      height\n    } = this.#getTransform(rotation, rect);\n    const svg = this.svgFactory.create(width, height, true);\n    const g = this.#polylinesGroupElement = this.svgFactory.createElement(\"svg:g\");\n    svg.append(g);\n    g.setAttribute(\"stroke-width\", borderStyle.width || 1);\n    g.setAttribute(\"stroke-linecap\", \"round\");\n    g.setAttribute(\"stroke-linejoin\", \"round\");\n    g.setAttribute(\"stroke-miterlimit\", 10);\n    g.setAttribute(\"stroke\", \"transparent\");\n    g.setAttribute(\"fill\", \"transparent\");\n    g.setAttribute(\"transform\", transform);\n    for (let i = 0, ii = inkLists.length; i < ii; i++) {\n      const polyline = this.svgFactory.createElement(this.svgElementName);\n      this.#polylines.push(polyline);\n      polyline.setAttribute(\"points\", inkLists[i].join(\",\"));\n      g.append(polyline);\n    }\n    if (!popupRef && this.hasPopupData) {\n      this.hasOwnCommentButton = true;\n      this._createPopup();\n    }\n    this.container.append(svg);\n    this._editOnDoubleClick();\n    return this.container;\n  }\n  updateEdited(params) {\n    super.updateEdited(params);\n    const {\n      thickness,\n      points,\n      rect\n    } = params;\n    const g = this.#polylinesGroupElement;\n    if (thickness >= 0) {\n      g.setAttribute(\"stroke-width\", thickness || 1);\n    }\n    if (points) {\n      for (let i = 0, ii = this.#polylines.length; i < ii; i++) {\n        this.#polylines[i].setAttribute(\"points\", points[i].join(\",\"));\n      }\n    }\n    if (rect) {\n      const {\n        transform,\n        width,\n        height\n      } = this.#getTransform(this.data.rotation, rect);\n      const root = g.parentElement;\n      root.setAttribute(\"viewBox\", `0 0 ${width} ${height}`);\n      g.setAttribute(\"transform\", transform);\n    }\n  }\n  getElementsToTriggerPopup() {\n    return this.#polylines;\n  }\n  addHighlightArea() {\n    this.container.classList.add(\"highlightArea\");\n  }\n}\nclass HighlightAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: true,\n      ignoreBorder: true,\n      createQuadrilaterals: true\n    });\n    this.annotationEditorType = AnnotationEditorType.HIGHLIGHT;\n  }\n  render() {\n    const {\n      data: {\n        overlaidText,\n        popupRef\n      }\n    } = this;\n    if (!popupRef && this.hasPopupData) {\n      this.hasOwnCommentButton = true;\n      this._createPopup();\n    }\n    this.container.classList.add(\"highlightAnnotation\");\n    this._editOnDoubleClick();\n    if (overlaidText) {\n      const mark = document.createElement(\"mark\");\n      mark.classList.add(\"overlaidText\");\n      mark.textContent = overlaidText;\n      this.container.append(mark);\n    }\n    return this.container;\n  }\n}\nclass UnderlineAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: true,\n      ignoreBorder: true,\n      createQuadrilaterals: true\n    });\n  }\n  render() {\n    const {\n      data: {\n        overlaidText,\n        popupRef\n      }\n    } = this;\n    if (!popupRef && this.hasPopupData) {\n      this.hasOwnCommentButton = true;\n      this._createPopup();\n    }\n    this.container.classList.add(\"underlineAnnotation\");\n    if (overlaidText) {\n      const underline = document.createElement(\"u\");\n      underline.classList.add(\"overlaidText\");\n      underline.textContent = overlaidText;\n      this.container.append(underline);\n    }\n    return this.container;\n  }\n}\nclass SquigglyAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: true,\n      ignoreBorder: true,\n      createQuadrilaterals: true\n    });\n  }\n  render() {\n    const {\n      data: {\n        overlaidText,\n        popupRef\n      }\n    } = this;\n    if (!popupRef && this.hasPopupData) {\n      this.hasOwnCommentButton = true;\n      this._createPopup();\n    }\n    this.container.classList.add(\"squigglyAnnotation\");\n    if (overlaidText) {\n      const underline = document.createElement(\"u\");\n      underline.classList.add(\"overlaidText\");\n      underline.textContent = overlaidText;\n      this.container.append(underline);\n    }\n    return this.container;\n  }\n}\nclass StrikeOutAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: true,\n      ignoreBorder: true,\n      createQuadrilaterals: true\n    });\n  }\n  render() {\n    const {\n      data: {\n        overlaidText,\n        popupRef\n      }\n    } = this;\n    if (!popupRef && this.hasPopupData) {\n      this.hasOwnCommentButton = true;\n      this._createPopup();\n    }\n    this.container.classList.add(\"strikeoutAnnotation\");\n    if (overlaidText) {\n      const strikeout = document.createElement(\"s\");\n      strikeout.classList.add(\"overlaidText\");\n      strikeout.textContent = overlaidText;\n      this.container.append(strikeout);\n    }\n    return this.container;\n  }\n}\nclass StampAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: true,\n      ignoreBorder: true\n    });\n    this.annotationEditorType = AnnotationEditorType.STAMP;\n  }\n  render() {\n    this.container.classList.add(\"stampAnnotation\");\n    this.container.setAttribute(\"role\", \"img\");\n    if (!this.data.popupRef && this.hasPopupData) {\n      this.hasOwnCommentButton = true;\n      this._createPopup();\n    }\n    this._editOnDoubleClick();\n    return this.container;\n  }\n}\nclass FileAttachmentAnnotationElement extends AnnotationElement {\n  #trigger = null;\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: true\n    });\n    const {\n      file\n    } = this.data;\n    this.filename = file.filename;\n    this.content = file.content;\n    this.linkService.eventBus?.dispatch(\"fileattachmentannotation\", {\n      source: this,\n      ...file\n    });\n  }\n  render() {\n    this.container.classList.add(\"fileAttachmentAnnotation\");\n    const {\n      container,\n      data\n    } = this;\n    let trigger;\n    if (data.hasAppearance || data.fillAlpha === 0) {\n      trigger = document.createElement(\"div\");\n    } else {\n      trigger = document.createElement(\"img\");\n      trigger.src = `${this.imageResourcesPath}annotation-${/paperclip/i.test(data.name) ? \"paperclip\" : \"pushpin\"}.svg`;\n      if (data.fillAlpha && data.fillAlpha < 1) {\n        trigger.style = `filter: opacity(${Math.round(data.fillAlpha * 100)}%);`;\n      }\n    }\n    trigger.addEventListener(\"dblclick\", this.#download.bind(this));\n    this.#trigger = trigger;\n    const {\n      isMac\n    } = util_FeatureTest.platform;\n    container.addEventListener(\"keydown\", evt => {\n      if (evt.key === \"Enter\" && (isMac ? evt.metaKey : evt.ctrlKey)) {\n        this.#download();\n      }\n    });\n    if (!data.popupRef && this.hasPopupData) {\n      this.hasOwnCommentButton = true;\n      this._createPopup();\n    } else {\n      trigger.classList.add(\"popupTriggerArea\");\n    }\n    container.append(trigger);\n    return container;\n  }\n  getElementsToTriggerPopup() {\n    return this.#trigger;\n  }\n  addHighlightArea() {\n    this.container.classList.add(\"highlightArea\");\n  }\n  #download() {\n    this.downloadManager?.openOrDownloadData(this.content, this.filename);\n  }\n}\nclass AnnotationLayer {\n  #accessibilityManager = null;\n  #annotationCanvasMap = null;\n  #annotationStorage = null;\n  #editableAnnotations = new Map();\n  #structTreeLayer = null;\n  #linkService = null;\n  #elements = [];\n  #hasAriaAttributesFromStructTree = false;\n  constructor({\n    div,\n    accessibilityManager,\n    annotationCanvasMap,\n    annotationEditorUIManager,\n    page,\n    viewport,\n    structTreeLayer,\n    commentManager,\n    linkService,\n    annotationStorage\n  }) {\n    this.div = div;\n    this.#accessibilityManager = accessibilityManager;\n    this.#annotationCanvasMap = annotationCanvasMap;\n    this.#structTreeLayer = structTreeLayer || null;\n    this.#linkService = linkService || null;\n    this.#annotationStorage = annotationStorage || new AnnotationStorage();\n    this.page = page;\n    this.viewport = viewport;\n    this.zIndex = 0;\n    this._annotationEditorUIManager = annotationEditorUIManager;\n    this._commentManager = commentManager || null;\n  }\n  hasEditableAnnotations() {\n    return this.#editableAnnotations.size > 0;\n  }\n  async render(params) {\n    const {\n      annotations\n    } = params;\n    const layer = this.div;\n    setLayerDimensions(layer, this.viewport);\n    const popupToElements = new Map();\n    const popupAnnotations = [];\n    const elementParams = {\n      data: null,\n      layer,\n      linkService: this.#linkService,\n      downloadManager: params.downloadManager,\n      imageResourcesPath: params.imageResourcesPath || \"\",\n      renderForms: params.renderForms !== false,\n      svgFactory: new DOMSVGFactory(),\n      annotationStorage: this.#annotationStorage,\n      enableComment: params.enableComment === true,\n      enableScripting: params.enableScripting === true,\n      hasJSActions: params.hasJSActions,\n      fieldObjects: params.fieldObjects,\n      parent: this,\n      elements: null\n    };\n    for (const data of annotations) {\n      if (data.noHTML) {\n        continue;\n      }\n      const isPopupAnnotation = data.annotationType === AnnotationType.POPUP;\n      if (!isPopupAnnotation) {\n        if (data.rect[2] === data.rect[0] || data.rect[3] === data.rect[1]) {\n          continue;\n        }\n      } else {\n        const elements = popupToElements.get(data.id);\n        if (!elements) {\n          continue;\n        }\n        if (!this._commentManager) {\n          popupAnnotations.push(data);\n          continue;\n        }\n        elementParams.elements = elements;\n      }\n      elementParams.data = data;\n      const element = AnnotationElementFactory.create(elementParams);\n      if (!element.isRenderable) {\n        continue;\n      }\n      if (!isPopupAnnotation) {\n        this.#elements.push(element);\n        if (data.popupRef) {\n          const elements = popupToElements.get(data.popupRef);\n          if (!elements) {\n            popupToElements.set(data.popupRef, [element]);\n          } else {\n            elements.push(element);\n          }\n        }\n      }\n      const rendered = element.render();\n      if (data.hidden) {\n        rendered.style.visibility = \"hidden\";\n      }\n      if (element._isEditable) {\n        this.#editableAnnotations.set(element.data.id, element);\n        this._annotationEditorUIManager?.renderAnnotationElement(element);\n      }\n    }\n    await this.#addElementsToDOM();\n    for (const data of popupAnnotations) {\n      const elements = elementParams.elements = popupToElements.get(data.id);\n      elementParams.data = data;\n      const element = AnnotationElementFactory.create(elementParams);\n      if (!element.isRenderable) {\n        continue;\n      }\n      const rendered = element.render();\n      element.contentElement.id = `${AnnotationPrefix}${data.id}`;\n      if (data.hidden) {\n        rendered.style.visibility = \"hidden\";\n      }\n      elements.at(-1).container.after(rendered);\n    }\n    this.#setAnnotationCanvasMap();\n  }\n  async #addElementsToDOM() {\n    if (this.#elements.length === 0) {\n      return;\n    }\n    this.div.replaceChildren();\n    const promises = [];\n    if (!this.#hasAriaAttributesFromStructTree) {\n      this.#hasAriaAttributesFromStructTree = true;\n      for (const {\n        contentElement,\n        data: {\n          id\n        }\n      } of this.#elements) {\n        const annotationId = contentElement.id = `${AnnotationPrefix}${id}`;\n        promises.push(this.#structTreeLayer?.getAriaAttributes(annotationId).then(ariaAttributes => {\n          if (ariaAttributes) {\n            for (const [key, value] of ariaAttributes) {\n              contentElement.setAttribute(key, value);\n            }\n          }\n        }));\n      }\n    }\n    this.#elements.sort(({\n      data: {\n        rect: [a0, a1, a2, a3]\n      }\n    }, {\n      data: {\n        rect: [b0, b1, b2, b3]\n      }\n    }) => {\n      if (a0 === a2 && a1 === a3) {\n        return +1;\n      }\n      if (b0 === b2 && b1 === b3) {\n        return -1;\n      }\n      const top1 = a3;\n      const bot1 = a1;\n      const mid1 = (a1 + a3) / 2;\n      const top2 = b3;\n      const bot2 = b1;\n      const mid2 = (b1 + b3) / 2;\n      if (mid1 >= top2 && mid2 <= bot1) {\n        return -1;\n      }\n      if (mid2 >= top1 && mid1 <= bot2) {\n        return +1;\n      }\n      const centerX1 = (a0 + a2) / 2;\n      const centerX2 = (b0 + b2) / 2;\n      return centerX1 - centerX2;\n    });\n    const fragment = document.createDocumentFragment();\n    for (const element of this.#elements) {\n      fragment.append(element.container);\n      if (this._commentManager) {\n        (element.extraPopupElement?.popup || element.popup)?.renderCommentButton();\n      } else if (element.extraPopupElement) {\n        fragment.append(element.extraPopupElement.render());\n      }\n    }\n    this.div.append(fragment);\n    await Promise.all(promises);\n    if (this.#accessibilityManager) {\n      for (const element of this.#elements) {\n        this.#accessibilityManager.addPointerInTextLayer(element.contentElement, false);\n      }\n    }\n  }\n  async addLinkAnnotations(annotations) {\n    const elementParams = {\n      data: null,\n      layer: this.div,\n      linkService: this.#linkService,\n      svgFactory: new DOMSVGFactory(),\n      parent: this\n    };\n    for (const data of annotations) {\n      data.borderStyle ||= AnnotationLayer._defaultBorderStyle;\n      elementParams.data = data;\n      const element = AnnotationElementFactory.create(elementParams);\n      if (!element.isRenderable) {\n        continue;\n      }\n      element.render();\n      element.contentElement.id = `${AnnotationPrefix}${data.id}`;\n      this.#elements.push(element);\n    }\n    await this.#addElementsToDOM();\n  }\n  update({\n    viewport\n  }) {\n    const layer = this.div;\n    this.viewport = viewport;\n    setLayerDimensions(layer, {\n      rotation: viewport.rotation\n    });\n    this.#setAnnotationCanvasMap();\n    layer.hidden = false;\n  }\n  #setAnnotationCanvasMap() {\n    if (!this.#annotationCanvasMap) {\n      return;\n    }\n    const layer = this.div;\n    for (const [id, canvas] of this.#annotationCanvasMap) {\n      const element = layer.querySelector(`[data-annotation-id=\"${id}\"]`);\n      if (!element) {\n        continue;\n      }\n      canvas.className = \"annotationContent\";\n      const {\n        firstChild\n      } = element;\n      if (!firstChild) {\n        element.append(canvas);\n      } else if (firstChild.nodeName === \"CANVAS\") {\n        firstChild.replaceWith(canvas);\n      } else if (!firstChild.classList.contains(\"annotationContent\")) {\n        firstChild.before(canvas);\n      } else {\n        firstChild.after(canvas);\n      }\n      const editableAnnotation = this.#editableAnnotations.get(id);\n      if (!editableAnnotation) {\n        continue;\n      }\n      if (editableAnnotation._hasNoCanvas) {\n        this._annotationEditorUIManager?.setMissingCanvas(id, element.id, canvas);\n        editableAnnotation._hasNoCanvas = false;\n      } else {\n        editableAnnotation.canvas = canvas;\n      }\n    }\n    this.#annotationCanvasMap.clear();\n  }\n  getEditableAnnotations() {\n    return Array.from(this.#editableAnnotations.values());\n  }\n  getEditableAnnotation(id) {\n    return this.#editableAnnotations.get(id);\n  }\n  addFakeAnnotation(editor) {\n    const {\n      div\n    } = this;\n    const {\n      id,\n      rotation\n    } = editor;\n    const element = new EditorAnnotationElement({\n      data: {\n        id,\n        rect: editor.getPDFRect(),\n        rotation\n      },\n      editor,\n      layer: div,\n      parent: this,\n      enableComment: !!this._commentManager,\n      linkService: this.#linkService,\n      annotationStorage: this.#annotationStorage\n    });\n    element.render();\n    element.contentElement.id = `${AnnotationPrefix}${id}`;\n    element.createOrUpdatePopup();\n    this.#elements.push(element);\n    return element;\n  }\n  removeAnnotation(id) {\n    const index = this.#elements.findIndex(el => el.data.id === id);\n    if (index < 0) {\n      return;\n    }\n    const [element] = this.#elements.splice(index, 1);\n    this.#accessibilityManager?.removePointerInTextLayer(element.contentElement);\n  }\n  updateFakeAnnotations(editors) {\n    if (editors.length === 0) {\n      return;\n    }\n    for (const editor of editors) {\n      editor.updateFakeAnnotationElement(this);\n    }\n    this.#addElementsToDOM();\n  }\n  togglePointerEvents(enabled = false) {\n    this.div.classList.toggle(\"disabled\", !enabled);\n  }\n  static get _defaultBorderStyle() {\n    return shadow(this, \"_defaultBorderStyle\", Object.freeze({\n      width: 1,\n      rawWidth: 1,\n      style: AnnotationBorderStyleType.SOLID,\n      dashArray: [3],\n      horizontalCornerRadius: 0,\n      verticalCornerRadius: 0\n    }));\n  }\n}\n\n;// ./src/display/editor/freetext.js\n\n\n\n\n\nconst EOL_PATTERN = /\\r\\n?|\\n/g;\nclass FreeTextEditor extends AnnotationEditor {\n  #content = \"\";\n  #editorDivId = `${this.id}-editor`;\n  #editModeAC = null;\n  #fontSize;\n  _colorPicker = null;\n  static _freeTextDefaultContent = \"\";\n  static _internalPadding = 0;\n  static _defaultColor = null;\n  static _defaultFontSize = 10;\n  static get _keyboardManager() {\n    const proto = FreeTextEditor.prototype;\n    const arrowChecker = self => self.isEmpty();\n    const small = AnnotationEditorUIManager.TRANSLATE_SMALL;\n    const big = AnnotationEditorUIManager.TRANSLATE_BIG;\n    return shadow(this, \"_keyboardManager\", new KeyboardManager([[[\"ctrl+s\", \"mac+meta+s\", \"ctrl+p\", \"mac+meta+p\"], proto.commitOrRemove, {\n      bubbles: true\n    }], [[\"ctrl+Enter\", \"mac+meta+Enter\", \"Escape\", \"mac+Escape\"], proto.commitOrRemove], [[\"ArrowLeft\", \"mac+ArrowLeft\"], proto._translateEmpty, {\n      args: [-small, 0],\n      checker: arrowChecker\n    }], [[\"ctrl+ArrowLeft\", \"mac+shift+ArrowLeft\"], proto._translateEmpty, {\n      args: [-big, 0],\n      checker: arrowChecker\n    }], [[\"ArrowRight\", \"mac+ArrowRight\"], proto._translateEmpty, {\n      args: [small, 0],\n      checker: arrowChecker\n    }], [[\"ctrl+ArrowRight\", \"mac+shift+ArrowRight\"], proto._translateEmpty, {\n      args: [big, 0],\n      checker: arrowChecker\n    }], [[\"ArrowUp\", \"mac+ArrowUp\"], proto._translateEmpty, {\n      args: [0, -small],\n      checker: arrowChecker\n    }], [[\"ctrl+ArrowUp\", \"mac+shift+ArrowUp\"], proto._translateEmpty, {\n      args: [0, -big],\n      checker: arrowChecker\n    }], [[\"ArrowDown\", \"mac+ArrowDown\"], proto._translateEmpty, {\n      args: [0, small],\n      checker: arrowChecker\n    }], [[\"ctrl+ArrowDown\", \"mac+shift+ArrowDown\"], proto._translateEmpty, {\n      args: [0, big],\n      checker: arrowChecker\n    }]]));\n  }\n  static _type = \"freetext\";\n  static _editorType = AnnotationEditorType.FREETEXT;\n  constructor(params) {\n    super({\n      ...params,\n      name: \"freeTextEditor\"\n    });\n    this.color = params.color || FreeTextEditor._defaultColor || AnnotationEditor._defaultLineColor;\n    this.#fontSize = params.fontSize || FreeTextEditor._defaultFontSize;\n    if (!this.annotationElementId) {\n      this._uiManager.a11yAlert(\"pdfjs-editor-freetext-added-alert\");\n    }\n    this.canAddComment = false;\n  }\n  static initialize(l10n, uiManager) {\n    AnnotationEditor.initialize(l10n, uiManager);\n    const style = getComputedStyle(document.documentElement);\n    this._internalPadding = parseFloat(style.getPropertyValue(\"--freetext-padding\"));\n  }\n  static updateDefaultParams(type, value) {\n    switch (type) {\n      case AnnotationEditorParamsType.FREETEXT_SIZE:\n        FreeTextEditor._defaultFontSize = value;\n        break;\n      case AnnotationEditorParamsType.FREETEXT_COLOR:\n        FreeTextEditor._defaultColor = value;\n        break;\n    }\n  }\n  updateParams(type, value) {\n    switch (type) {\n      case AnnotationEditorParamsType.FREETEXT_SIZE:\n        this.#updateFontSize(value);\n        break;\n      case AnnotationEditorParamsType.FREETEXT_COLOR:\n        this.#updateColor(value);\n        break;\n    }\n  }\n  static get defaultPropertiesToUpdate() {\n    return [[AnnotationEditorParamsType.FREETEXT_SIZE, FreeTextEditor._defaultFontSize], [AnnotationEditorParamsType.FREETEXT_COLOR, FreeTextEditor._defaultColor || AnnotationEditor._defaultLineColor]];\n  }\n  get propertiesToUpdate() {\n    return [[AnnotationEditorParamsType.FREETEXT_SIZE, this.#fontSize], [AnnotationEditorParamsType.FREETEXT_COLOR, this.color]];\n  }\n  get toolbarButtons() {\n    this._colorPicker ||= new BasicColorPicker(this);\n    return [[\"colorPicker\", this._colorPicker]];\n  }\n  get colorType() {\n    return AnnotationEditorParamsType.FREETEXT_COLOR;\n  }\n  #updateFontSize(fontSize) {\n    const setFontsize = size => {\n      this.editorDiv.style.fontSize = `calc(${size}px * var(--total-scale-factor))`;\n      this.translate(0, -(size - this.#fontSize) * this.parentScale);\n      this.#fontSize = size;\n      this.#setEditorDimensions();\n    };\n    const savedFontsize = this.#fontSize;\n    this.addCommands({\n      cmd: setFontsize.bind(this, fontSize),\n      undo: setFontsize.bind(this, savedFontsize),\n      post: this._uiManager.updateUI.bind(this._uiManager, this),\n      mustExec: true,\n      type: AnnotationEditorParamsType.FREETEXT_SIZE,\n      overwriteIfSameType: true,\n      keepUndo: true\n    });\n  }\n  onUpdatedColor() {\n    this.editorDiv.style.color = this.color;\n    this._colorPicker?.update(this.color);\n    super.onUpdatedColor();\n  }\n  #updateColor(color) {\n    const setColor = col => {\n      this.color = col;\n      this.onUpdatedColor();\n    };\n    const savedColor = this.color;\n    this.addCommands({\n      cmd: setColor.bind(this, color),\n      undo: setColor.bind(this, savedColor),\n      post: this._uiManager.updateUI.bind(this._uiManager, this),\n      mustExec: true,\n      type: AnnotationEditorParamsType.FREETEXT_COLOR,\n      overwriteIfSameType: true,\n      keepUndo: true\n    });\n  }\n  _translateEmpty(x, y) {\n    this._uiManager.translateSelectedEditors(x, y, true);\n  }\n  getInitialTranslation() {\n    const scale = this.parentScale;\n    return [-FreeTextEditor._internalPadding * scale, -(FreeTextEditor._internalPadding + this.#fontSize) * scale];\n  }\n  rebuild() {\n    if (!this.parent) {\n      return;\n    }\n    super.rebuild();\n    if (this.div === null) {\n      return;\n    }\n    if (!this.isAttachedToDOM) {\n      this.parent.add(this);\n    }\n  }\n  enableEditMode() {\n    if (!super.enableEditMode()) {\n      return false;\n    }\n    this.overlayDiv.classList.remove(\"enabled\");\n    this.editorDiv.contentEditable = true;\n    this._isDraggable = false;\n    this.div.removeAttribute(\"aria-activedescendant\");\n    this.#editModeAC = new AbortController();\n    const signal = this._uiManager.combinedSignal(this.#editModeAC);\n    this.editorDiv.addEventListener(\"keydown\", this.editorDivKeydown.bind(this), {\n      signal\n    });\n    this.editorDiv.addEventListener(\"focus\", this.editorDivFocus.bind(this), {\n      signal\n    });\n    this.editorDiv.addEventListener(\"blur\", this.editorDivBlur.bind(this), {\n      signal\n    });\n    this.editorDiv.addEventListener(\"input\", this.editorDivInput.bind(this), {\n      signal\n    });\n    this.editorDiv.addEventListener(\"paste\", this.editorDivPaste.bind(this), {\n      signal\n    });\n    return true;\n  }\n  disableEditMode() {\n    if (!super.disableEditMode()) {\n      return false;\n    }\n    this.overlayDiv.classList.add(\"enabled\");\n    this.editorDiv.contentEditable = false;\n    this.div.setAttribute(\"aria-activedescendant\", this.#editorDivId);\n    this._isDraggable = true;\n    this.#editModeAC?.abort();\n    this.#editModeAC = null;\n    this.div.focus({\n      preventScroll: true\n    });\n    this.isEditing = false;\n    this.parent.div.classList.add(\"freetextEditing\");\n    return true;\n  }\n  focusin(event) {\n    if (!this._focusEventsAllowed) {\n      return;\n    }\n    super.focusin(event);\n    if (event.target !== this.editorDiv) {\n      this.editorDiv.focus();\n    }\n  }\n  onceAdded(focus) {\n    if (this.width) {\n      return;\n    }\n    this.enableEditMode();\n    if (focus) {\n      this.editorDiv.focus();\n    }\n    if (this._initialOptions?.isCentered) {\n      this.center();\n    }\n    this._initialOptions = null;\n  }\n  isEmpty() {\n    return !this.editorDiv || this.editorDiv.innerText.trim() === \"\";\n  }\n  remove() {\n    this.isEditing = false;\n    if (this.parent) {\n      this.parent.setEditingState(true);\n      this.parent.div.classList.add(\"freetextEditing\");\n    }\n    super.remove();\n  }\n  #extractText() {\n    const buffer = [];\n    this.editorDiv.normalize();\n    let prevChild = null;\n    for (const child of this.editorDiv.childNodes) {\n      if (prevChild?.nodeType === Node.TEXT_NODE && child.nodeName === \"BR\") {\n        continue;\n      }\n      buffer.push(FreeTextEditor.#getNodeContent(child));\n      prevChild = child;\n    }\n    return buffer.join(\"\\n\");\n  }\n  #setEditorDimensions() {\n    const [parentWidth, parentHeight] = this.parentDimensions;\n    let rect;\n    if (this.isAttachedToDOM) {\n      rect = this.div.getBoundingClientRect();\n    } else {\n      const {\n        currentLayer,\n        div\n      } = this;\n      const savedDisplay = div.style.display;\n      const savedVisibility = div.classList.contains(\"hidden\");\n      div.classList.remove(\"hidden\");\n      div.style.display = \"hidden\";\n      currentLayer.div.append(this.div);\n      rect = div.getBoundingClientRect();\n      div.remove();\n      div.style.display = savedDisplay;\n      div.classList.toggle(\"hidden\", savedVisibility);\n    }\n    if (this.rotation % 180 === this.parentRotation % 180) {\n      this.width = rect.width / parentWidth;\n      this.height = rect.height / parentHeight;\n    } else {\n      this.width = rect.height / parentWidth;\n      this.height = rect.width / parentHeight;\n    }\n    this.fixAndSetPosition();\n  }\n  commit() {\n    if (!this.isInEditMode()) {\n      return;\n    }\n    super.commit();\n    this.disableEditMode();\n    const savedText = this.#content;\n    const newText = this.#content = this.#extractText().trimEnd();\n    if (savedText === newText) {\n      return;\n    }\n    const setText = text => {\n      this.#content = text;\n      if (!text) {\n        this.remove();\n        return;\n      }\n      this.#setContent();\n      this._uiManager.rebuild(this);\n      this.#setEditorDimensions();\n    };\n    this.addCommands({\n      cmd: () => {\n        setText(newText);\n      },\n      undo: () => {\n        setText(savedText);\n      },\n      mustExec: false\n    });\n    this.#setEditorDimensions();\n  }\n  shouldGetKeyboardEvents() {\n    return this.isInEditMode();\n  }\n  enterInEditMode() {\n    this.enableEditMode();\n    this.editorDiv.focus();\n  }\n  keydown(event) {\n    if (event.target === this.div && event.key === \"Enter\") {\n      this.enterInEditMode();\n      event.preventDefault();\n    }\n  }\n  editorDivKeydown(event) {\n    FreeTextEditor._keyboardManager.exec(this, event);\n  }\n  editorDivFocus(event) {\n    this.isEditing = true;\n  }\n  editorDivBlur(event) {\n    this.isEditing = false;\n  }\n  editorDivInput(event) {\n    this.parent.div.classList.toggle(\"freetextEditing\", this.isEmpty());\n  }\n  disableEditing() {\n    this.editorDiv.setAttribute(\"role\", \"comment\");\n    this.editorDiv.removeAttribute(\"aria-multiline\");\n  }\n  enableEditing() {\n    this.editorDiv.setAttribute(\"role\", \"textbox\");\n    this.editorDiv.setAttribute(\"aria-multiline\", true);\n  }\n  get canChangeContent() {\n    return true;\n  }\n  render() {\n    if (this.div) {\n      return this.div;\n    }\n    let baseX, baseY;\n    if (this._isCopy || this.annotationElementId) {\n      baseX = this.x;\n      baseY = this.y;\n    }\n    super.render();\n    this.editorDiv = document.createElement(\"div\");\n    this.editorDiv.className = \"internal\";\n    this.editorDiv.setAttribute(\"id\", this.#editorDivId);\n    this.editorDiv.setAttribute(\"data-l10n-id\", \"pdfjs-free-text2\");\n    this.editorDiv.setAttribute(\"data-l10n-attrs\", \"default-content\");\n    this.enableEditing();\n    this.editorDiv.contentEditable = true;\n    const {\n      style\n    } = this.editorDiv;\n    style.fontSize = `calc(${this.#fontSize}px * var(--total-scale-factor))`;\n    style.color = this.color;\n    this.div.append(this.editorDiv);\n    this.overlayDiv = document.createElement(\"div\");\n    this.overlayDiv.classList.add(\"overlay\", \"enabled\");\n    this.div.append(this.overlayDiv);\n    if (this._isCopy || this.annotationElementId) {\n      const [parentWidth, parentHeight] = this.parentDimensions;\n      if (this.annotationElementId) {\n        const {\n          position\n        } = this._initialData;\n        let [tx, ty] = this.getInitialTranslation();\n        [tx, ty] = this.pageTranslationToScreen(tx, ty);\n        const [pageWidth, pageHeight] = this.pageDimensions;\n        const [pageX, pageY] = this.pageTranslation;\n        let posX, posY;\n        switch (this.rotation) {\n          case 0:\n            posX = baseX + (position[0] - pageX) / pageWidth;\n            posY = baseY + this.height - (position[1] - pageY) / pageHeight;\n            break;\n          case 90:\n            posX = baseX + (position[0] - pageX) / pageWidth;\n            posY = baseY - (position[1] - pageY) / pageHeight;\n            [tx, ty] = [ty, -tx];\n            break;\n          case 180:\n            posX = baseX - this.width + (position[0] - pageX) / pageWidth;\n            posY = baseY - (position[1] - pageY) / pageHeight;\n            [tx, ty] = [-tx, -ty];\n            break;\n          case 270:\n            posX = baseX + (position[0] - pageX - this.height * pageHeight) / pageWidth;\n            posY = baseY + (position[1] - pageY - this.width * pageWidth) / pageHeight;\n            [tx, ty] = [-ty, tx];\n            break;\n        }\n        this.setAt(posX * parentWidth, posY * parentHeight, tx, ty);\n      } else {\n        this._moveAfterPaste(baseX, baseY);\n      }\n      this.#setContent();\n      this._isDraggable = true;\n      this.editorDiv.contentEditable = false;\n    } else {\n      this._isDraggable = false;\n      this.editorDiv.contentEditable = true;\n    }\n    return this.div;\n  }\n  static #getNodeContent(node) {\n    return (node.nodeType === Node.TEXT_NODE ? node.nodeValue : node.innerText).replaceAll(EOL_PATTERN, \"\");\n  }\n  editorDivPaste(event) {\n    const clipboardData = event.clipboardData || window.clipboardData;\n    const {\n      types\n    } = clipboardData;\n    if (types.length === 1 && types[0] === \"text/plain\") {\n      return;\n    }\n    event.preventDefault();\n    const paste = FreeTextEditor.#deserializeContent(clipboardData.getData(\"text\") || \"\").replaceAll(EOL_PATTERN, \"\\n\");\n    if (!paste) {\n      return;\n    }\n    const selection = window.getSelection();\n    if (!selection.rangeCount) {\n      return;\n    }\n    this.editorDiv.normalize();\n    selection.deleteFromDocument();\n    const range = selection.getRangeAt(0);\n    if (!paste.includes(\"\\n\")) {\n      range.insertNode(document.createTextNode(paste));\n      this.editorDiv.normalize();\n      selection.collapseToStart();\n      return;\n    }\n    const {\n      startContainer,\n      startOffset\n    } = range;\n    const bufferBefore = [];\n    const bufferAfter = [];\n    if (startContainer.nodeType === Node.TEXT_NODE) {\n      const parent = startContainer.parentElement;\n      bufferAfter.push(startContainer.nodeValue.slice(startOffset).replaceAll(EOL_PATTERN, \"\"));\n      if (parent !== this.editorDiv) {\n        let buffer = bufferBefore;\n        for (const child of this.editorDiv.childNodes) {\n          if (child === parent) {\n            buffer = bufferAfter;\n            continue;\n          }\n          buffer.push(FreeTextEditor.#getNodeContent(child));\n        }\n      }\n      bufferBefore.push(startContainer.nodeValue.slice(0, startOffset).replaceAll(EOL_PATTERN, \"\"));\n    } else if (startContainer === this.editorDiv) {\n      let buffer = bufferBefore;\n      let i = 0;\n      for (const child of this.editorDiv.childNodes) {\n        if (i++ === startOffset) {\n          buffer = bufferAfter;\n        }\n        buffer.push(FreeTextEditor.#getNodeContent(child));\n      }\n    }\n    this.#content = `${bufferBefore.join(\"\\n\")}${paste}${bufferAfter.join(\"\\n\")}`;\n    this.#setContent();\n    const newRange = new Range();\n    let beforeLength = Math.sumPrecise(bufferBefore.map(line => line.length));\n    for (const {\n      firstChild\n    } of this.editorDiv.childNodes) {\n      if (firstChild.nodeType === Node.TEXT_NODE) {\n        const length = firstChild.nodeValue.length;\n        if (beforeLength <= length) {\n          newRange.setStart(firstChild, beforeLength);\n          newRange.setEnd(firstChild, beforeLength);\n          break;\n        }\n        beforeLength -= length;\n      }\n    }\n    selection.removeAllRanges();\n    selection.addRange(newRange);\n  }\n  #setContent() {\n    this.editorDiv.replaceChildren();\n    if (!this.#content) {\n      return;\n    }\n    for (const line of this.#content.split(\"\\n\")) {\n      const div = document.createElement(\"div\");\n      div.append(line ? document.createTextNode(line) : document.createElement(\"br\"));\n      this.editorDiv.append(div);\n    }\n  }\n  #serializeContent() {\n    return this.#content.replaceAll(\"\\xa0\", \" \");\n  }\n  static #deserializeContent(content) {\n    return content.replaceAll(\" \", \"\\xa0\");\n  }\n  get contentDiv() {\n    return this.editorDiv;\n  }\n  getPDFRect() {\n    const padding = FreeTextEditor._internalPadding * this.parentScale;\n    return this.getRect(padding, padding);\n  }\n  static async deserialize(data, parent, uiManager) {\n    let initialData = null;\n    if (data instanceof FreeTextAnnotationElement) {\n      const {\n        data: {\n          defaultAppearanceData: {\n            fontSize,\n            fontColor\n          },\n          rect,\n          rotation,\n          id,\n          popupRef,\n          richText,\n          contentsObj,\n          creationDate,\n          modificationDate\n        },\n        textContent,\n        textPosition,\n        parent: {\n          page: {\n            pageNumber\n          }\n        }\n      } = data;\n      if (!textContent || textContent.length === 0) {\n        return null;\n      }\n      initialData = data = {\n        annotationType: AnnotationEditorType.FREETEXT,\n        color: Array.from(fontColor),\n        fontSize,\n        value: textContent.join(\"\\n\"),\n        position: textPosition,\n        pageIndex: pageNumber - 1,\n        rect: rect.slice(0),\n        rotation,\n        annotationElementId: id,\n        id,\n        deleted: false,\n        popupRef,\n        comment: contentsObj?.str || null,\n        richText,\n        creationDate,\n        modificationDate\n      };\n    }\n    const editor = await super.deserialize(data, parent, uiManager);\n    editor.#fontSize = data.fontSize;\n    editor.color = Util.makeHexColor(...data.color);\n    editor.#content = FreeTextEditor.#deserializeContent(data.value);\n    editor._initialData = initialData;\n    if (data.comment) {\n      editor.setCommentData(data);\n    }\n    return editor;\n  }\n  serialize(isForCopying = false) {\n    if (this.isEmpty()) {\n      return null;\n    }\n    if (this.deleted) {\n      return this.serializeDeleted();\n    }\n    const color = AnnotationEditor._colorManager.convert(this.isAttachedToDOM ? getComputedStyle(this.editorDiv).color : this.color);\n    const serialized = Object.assign(super.serialize(isForCopying), {\n      color,\n      fontSize: this.#fontSize,\n      value: this.#serializeContent()\n    });\n    this.addComment(serialized);\n    if (isForCopying) {\n      serialized.isCopy = true;\n      return serialized;\n    }\n    if (this.annotationElementId && !this.#hasElementChanged(serialized)) {\n      return null;\n    }\n    serialized.id = this.annotationElementId;\n    return serialized;\n  }\n  #hasElementChanged(serialized) {\n    const {\n      value,\n      fontSize,\n      color,\n      pageIndex\n    } = this._initialData;\n    return this.hasEditedComment || this._hasBeenMoved || serialized.value !== value || serialized.fontSize !== fontSize || serialized.color.some((c, i) => c !== color[i]) || serialized.pageIndex !== pageIndex;\n  }\n  renderAnnotationElement(annotation) {\n    const content = super.renderAnnotationElement(annotation);\n    if (!content) {\n      return null;\n    }\n    const {\n      style\n    } = content;\n    style.fontSize = `calc(${this.#fontSize}px * var(--total-scale-factor))`;\n    style.color = this.color;\n    content.replaceChildren();\n    for (const line of this.#content.split(\"\\n\")) {\n      const div = document.createElement(\"div\");\n      div.append(line ? document.createTextNode(line) : document.createElement(\"br\"));\n      content.append(div);\n    }\n    annotation.updateEdited({\n      rect: this.getPDFRect(),\n      popup: this._uiManager.hasCommentManager() || this.hasEditedComment ? this.comment : {\n        text: this.#content\n      }\n    });\n    return content;\n  }\n  resetAnnotationElement(annotation) {\n    super.resetAnnotationElement(annotation);\n    annotation.resetEdited();\n  }\n}\n\n;// ./src/display/editor/drawers/outline.js\n\nclass Outline {\n  static PRECISION = 1e-4;\n  toSVGPath() {\n    unreachable(\"Abstract method `toSVGPath` must be implemented.\");\n  }\n  get box() {\n    unreachable(\"Abstract getter `box` must be implemented.\");\n  }\n  serialize(_bbox, _rotation) {\n    unreachable(\"Abstract method `serialize` must be implemented.\");\n  }\n  static _rescale(src, tx, ty, sx, sy, dest) {\n    dest ||= new Float32Array(src.length);\n    for (let i = 0, ii = src.length; i < ii; i += 2) {\n      dest[i] = tx + src[i] * sx;\n      dest[i + 1] = ty + src[i + 1] * sy;\n    }\n    return dest;\n  }\n  static _rescaleAndSwap(src, tx, ty, sx, sy, dest) {\n    dest ||= new Float32Array(src.length);\n    for (let i = 0, ii = src.length; i < ii; i += 2) {\n      dest[i] = tx + src[i + 1] * sx;\n      dest[i + 1] = ty + src[i] * sy;\n    }\n    return dest;\n  }\n  static _translate(src, tx, ty, dest) {\n    dest ||= new Float32Array(src.length);\n    for (let i = 0, ii = src.length; i < ii; i += 2) {\n      dest[i] = tx + src[i];\n      dest[i + 1] = ty + src[i + 1];\n    }\n    return dest;\n  }\n  static svgRound(x) {\n    return Math.round(x * 10000);\n  }\n  static _normalizePoint(x, y, parentWidth, parentHeight, rotation) {\n    switch (rotation) {\n      case 90:\n        return [1 - y / parentWidth, x / parentHeight];\n      case 180:\n        return [1 - x / parentWidth, 1 - y / parentHeight];\n      case 270:\n        return [y / parentWidth, 1 - x / parentHeight];\n      default:\n        return [x / parentWidth, y / parentHeight];\n    }\n  }\n  static _normalizePagePoint(x, y, rotation) {\n    switch (rotation) {\n      case 90:\n        return [1 - y, x];\n      case 180:\n        return [1 - x, 1 - y];\n      case 270:\n        return [y, 1 - x];\n      default:\n        return [x, y];\n    }\n  }\n  static createBezierPoints(x1, y1, x2, y2, x3, y3) {\n    return [(x1 + 5 * x2) / 6, (y1 + 5 * y2) / 6, (5 * x2 + x3) / 6, (5 * y2 + y3) / 6, (x2 + x3) / 2, (y2 + y3) / 2];\n  }\n}\n\n;// ./src/display/editor/drawers/freedraw.js\n\n\nclass FreeDrawOutliner {\n  #box;\n  #bottom = [];\n  #innerMargin;\n  #isLTR;\n  #top = [];\n  #last = new Float32Array(18);\n  #lastX;\n  #lastY;\n  #min;\n  #min_dist;\n  #scaleFactor;\n  #thickness;\n  #points = [];\n  static #MIN_DIST = 8;\n  static #MIN_DIFF = 2;\n  static #MIN = FreeDrawOutliner.#MIN_DIST + FreeDrawOutliner.#MIN_DIFF;\n  constructor({\n    x,\n    y\n  }, box, scaleFactor, thickness, isLTR, innerMargin = 0) {\n    this.#box = box;\n    this.#thickness = thickness * scaleFactor;\n    this.#isLTR = isLTR;\n    this.#last.set([NaN, NaN, NaN, NaN, x, y], 6);\n    this.#innerMargin = innerMargin;\n    this.#min_dist = FreeDrawOutliner.#MIN_DIST * scaleFactor;\n    this.#min = FreeDrawOutliner.#MIN * scaleFactor;\n    this.#scaleFactor = scaleFactor;\n    this.#points.push(x, y);\n  }\n  isEmpty() {\n    return isNaN(this.#last[8]);\n  }\n  #getLastCoords() {\n    const lastTop = this.#last.subarray(4, 6);\n    const lastBottom = this.#last.subarray(16, 18);\n    const [x, y, width, height] = this.#box;\n    return [(this.#lastX + (lastTop[0] - lastBottom[0]) / 2 - x) / width, (this.#lastY + (lastTop[1] - lastBottom[1]) / 2 - y) / height, (this.#lastX + (lastBottom[0] - lastTop[0]) / 2 - x) / width, (this.#lastY + (lastBottom[1] - lastTop[1]) / 2 - y) / height];\n  }\n  add({\n    x,\n    y\n  }) {\n    this.#lastX = x;\n    this.#lastY = y;\n    const [layerX, layerY, layerWidth, layerHeight] = this.#box;\n    let [x1, y1, x2, y2] = this.#last.subarray(8, 12);\n    const diffX = x - x2;\n    const diffY = y - y2;\n    const d = Math.hypot(diffX, diffY);\n    if (d < this.#min) {\n      return false;\n    }\n    const diffD = d - this.#min_dist;\n    const K = diffD / d;\n    const shiftX = K * diffX;\n    const shiftY = K * diffY;\n    let x0 = x1;\n    let y0 = y1;\n    x1 = x2;\n    y1 = y2;\n    x2 += shiftX;\n    y2 += shiftY;\n    this.#points?.push(x, y);\n    const nX = -shiftY / diffD;\n    const nY = shiftX / diffD;\n    const thX = nX * this.#thickness;\n    const thY = nY * this.#thickness;\n    this.#last.set(this.#last.subarray(2, 8), 0);\n    this.#last.set([x2 + thX, y2 + thY], 4);\n    this.#last.set(this.#last.subarray(14, 18), 12);\n    this.#last.set([x2 - thX, y2 - thY], 16);\n    if (isNaN(this.#last[6])) {\n      if (this.#top.length === 0) {\n        this.#last.set([x1 + thX, y1 + thY], 2);\n        this.#top.push(NaN, NaN, NaN, NaN, (x1 + thX - layerX) / layerWidth, (y1 + thY - layerY) / layerHeight);\n        this.#last.set([x1 - thX, y1 - thY], 14);\n        this.#bottom.push(NaN, NaN, NaN, NaN, (x1 - thX - layerX) / layerWidth, (y1 - thY - layerY) / layerHeight);\n      }\n      this.#last.set([x0, y0, x1, y1, x2, y2], 6);\n      return !this.isEmpty();\n    }\n    this.#last.set([x0, y0, x1, y1, x2, y2], 6);\n    const angle = Math.abs(Math.atan2(y0 - y1, x0 - x1) - Math.atan2(shiftY, shiftX));\n    if (angle < Math.PI / 2) {\n      [x1, y1, x2, y2] = this.#last.subarray(2, 6);\n      this.#top.push(NaN, NaN, NaN, NaN, ((x1 + x2) / 2 - layerX) / layerWidth, ((y1 + y2) / 2 - layerY) / layerHeight);\n      [x1, y1, x0, y0] = this.#last.subarray(14, 18);\n      this.#bottom.push(NaN, NaN, NaN, NaN, ((x0 + x1) / 2 - layerX) / layerWidth, ((y0 + y1) / 2 - layerY) / layerHeight);\n      return true;\n    }\n    [x0, y0, x1, y1, x2, y2] = this.#last.subarray(0, 6);\n    this.#top.push(((x0 + 5 * x1) / 6 - layerX) / layerWidth, ((y0 + 5 * y1) / 6 - layerY) / layerHeight, ((5 * x1 + x2) / 6 - layerX) / layerWidth, ((5 * y1 + y2) / 6 - layerY) / layerHeight, ((x1 + x2) / 2 - layerX) / layerWidth, ((y1 + y2) / 2 - layerY) / layerHeight);\n    [x2, y2, x1, y1, x0, y0] = this.#last.subarray(12, 18);\n    this.#bottom.push(((x0 + 5 * x1) / 6 - layerX) / layerWidth, ((y0 + 5 * y1) / 6 - layerY) / layerHeight, ((5 * x1 + x2) / 6 - layerX) / layerWidth, ((5 * y1 + y2) / 6 - layerY) / layerHeight, ((x1 + x2) / 2 - layerX) / layerWidth, ((y1 + y2) / 2 - layerY) / layerHeight);\n    return true;\n  }\n  toSVGPath() {\n    if (this.isEmpty()) {\n      return \"\";\n    }\n    const top = this.#top;\n    const bottom = this.#bottom;\n    if (isNaN(this.#last[6]) && !this.isEmpty()) {\n      return this.#toSVGPathTwoPoints();\n    }\n    const buffer = [];\n    buffer.push(`M${top[4]} ${top[5]}`);\n    for (let i = 6; i < top.length; i += 6) {\n      if (isNaN(top[i])) {\n        buffer.push(`L${top[i + 4]} ${top[i + 5]}`);\n      } else {\n        buffer.push(`C${top[i]} ${top[i + 1]} ${top[i + 2]} ${top[i + 3]} ${top[i + 4]} ${top[i + 5]}`);\n      }\n    }\n    this.#toSVGPathEnd(buffer);\n    for (let i = bottom.length - 6; i >= 6; i -= 6) {\n      if (isNaN(bottom[i])) {\n        buffer.push(`L${bottom[i + 4]} ${bottom[i + 5]}`);\n      } else {\n        buffer.push(`C${bottom[i]} ${bottom[i + 1]} ${bottom[i + 2]} ${bottom[i + 3]} ${bottom[i + 4]} ${bottom[i + 5]}`);\n      }\n    }\n    this.#toSVGPathStart(buffer);\n    return buffer.join(\" \");\n  }\n  #toSVGPathTwoPoints() {\n    const [x, y, width, height] = this.#box;\n    const [lastTopX, lastTopY, lastBottomX, lastBottomY] = this.#getLastCoords();\n    return `M${(this.#last[2] - x) / width} ${(this.#last[3] - y) / height} L${(this.#last[4] - x) / width} ${(this.#last[5] - y) / height} L${lastTopX} ${lastTopY} L${lastBottomX} ${lastBottomY} L${(this.#last[16] - x) / width} ${(this.#last[17] - y) / height} L${(this.#last[14] - x) / width} ${(this.#last[15] - y) / height} Z`;\n  }\n  #toSVGPathStart(buffer) {\n    const bottom = this.#bottom;\n    buffer.push(`L${bottom[4]} ${bottom[5]} Z`);\n  }\n  #toSVGPathEnd(buffer) {\n    const [x, y, width, height] = this.#box;\n    const lastTop = this.#last.subarray(4, 6);\n    const lastBottom = this.#last.subarray(16, 18);\n    const [lastTopX, lastTopY, lastBottomX, lastBottomY] = this.#getLastCoords();\n    buffer.push(`L${(lastTop[0] - x) / width} ${(lastTop[1] - y) / height} L${lastTopX} ${lastTopY} L${lastBottomX} ${lastBottomY} L${(lastBottom[0] - x) / width} ${(lastBottom[1] - y) / height}`);\n  }\n  newFreeDrawOutline(outline, points, box, scaleFactor, innerMargin, isLTR) {\n    return new FreeDrawOutline(outline, points, box, scaleFactor, innerMargin, isLTR);\n  }\n  getOutlines() {\n    const top = this.#top;\n    const bottom = this.#bottom;\n    const last = this.#last;\n    const [layerX, layerY, layerWidth, layerHeight] = this.#box;\n    const points = new Float32Array((this.#points?.length ?? 0) + 2);\n    for (let i = 0, ii = points.length - 2; i < ii; i += 2) {\n      points[i] = (this.#points[i] - layerX) / layerWidth;\n      points[i + 1] = (this.#points[i + 1] - layerY) / layerHeight;\n    }\n    points[points.length - 2] = (this.#lastX - layerX) / layerWidth;\n    points[points.length - 1] = (this.#lastY - layerY) / layerHeight;\n    if (isNaN(last[6]) && !this.isEmpty()) {\n      return this.#getOutlineTwoPoints(points);\n    }\n    const outline = new Float32Array(this.#top.length + 24 + this.#bottom.length);\n    let N = top.length;\n    for (let i = 0; i < N; i += 2) {\n      if (isNaN(top[i])) {\n        outline[i] = outline[i + 1] = NaN;\n        continue;\n      }\n      outline[i] = top[i];\n      outline[i + 1] = top[i + 1];\n    }\n    N = this.#getOutlineEnd(outline, N);\n    for (let i = bottom.length - 6; i >= 6; i -= 6) {\n      for (let j = 0; j < 6; j += 2) {\n        if (isNaN(bottom[i + j])) {\n          outline[N] = outline[N + 1] = NaN;\n          N += 2;\n          continue;\n        }\n        outline[N] = bottom[i + j];\n        outline[N + 1] = bottom[i + j + 1];\n        N += 2;\n      }\n    }\n    this.#getOutlineStart(outline, N);\n    return this.newFreeDrawOutline(outline, points, this.#box, this.#scaleFactor, this.#innerMargin, this.#isLTR);\n  }\n  #getOutlineTwoPoints(points) {\n    const last = this.#last;\n    const [layerX, layerY, layerWidth, layerHeight] = this.#box;\n    const [lastTopX, lastTopY, lastBottomX, lastBottomY] = this.#getLastCoords();\n    const outline = new Float32Array(36);\n    outline.set([NaN, NaN, NaN, NaN, (last[2] - layerX) / layerWidth, (last[3] - layerY) / layerHeight, NaN, NaN, NaN, NaN, (last[4] - layerX) / layerWidth, (last[5] - layerY) / layerHeight, NaN, NaN, NaN, NaN, lastTopX, lastTopY, NaN, NaN, NaN, NaN, lastBottomX, lastBottomY, NaN, NaN, NaN, NaN, (last[16] - layerX) / layerWidth, (last[17] - layerY) / layerHeight, NaN, NaN, NaN, NaN, (last[14] - layerX) / layerWidth, (last[15] - layerY) / layerHeight], 0);\n    return this.newFreeDrawOutline(outline, points, this.#box, this.#scaleFactor, this.#innerMargin, this.#isLTR);\n  }\n  #getOutlineStart(outline, pos) {\n    const bottom = this.#bottom;\n    outline.set([NaN, NaN, NaN, NaN, bottom[4], bottom[5]], pos);\n    return pos += 6;\n  }\n  #getOutlineEnd(outline, pos) {\n    const lastTop = this.#last.subarray(4, 6);\n    const lastBottom = this.#last.subarray(16, 18);\n    const [layerX, layerY, layerWidth, layerHeight] = this.#box;\n    const [lastTopX, lastTopY, lastBottomX, lastBottomY] = this.#getLastCoords();\n    outline.set([NaN, NaN, NaN, NaN, (lastTop[0] - layerX) / layerWidth, (lastTop[1] - layerY) / layerHeight, NaN, NaN, NaN, NaN, lastTopX, lastTopY, NaN, NaN, NaN, NaN, lastBottomX, lastBottomY, NaN, NaN, NaN, NaN, (lastBottom[0] - layerX) / layerWidth, (lastBottom[1] - layerY) / layerHeight], pos);\n    return pos += 24;\n  }\n}\nclass FreeDrawOutline extends Outline {\n  #box;\n  #bbox = new Float32Array(4);\n  #innerMargin;\n  #isLTR;\n  #points;\n  #scaleFactor;\n  #outline;\n  constructor(outline, points, box, scaleFactor, innerMargin, isLTR) {\n    super();\n    this.#outline = outline;\n    this.#points = points;\n    this.#box = box;\n    this.#scaleFactor = scaleFactor;\n    this.#innerMargin = innerMargin;\n    this.#isLTR = isLTR;\n    this.firstPoint = [NaN, NaN];\n    this.lastPoint = [NaN, NaN];\n    this.#computeMinMax(isLTR);\n    const [x, y, width, height] = this.#bbox;\n    for (let i = 0, ii = outline.length; i < ii; i += 2) {\n      outline[i] = (outline[i] - x) / width;\n      outline[i + 1] = (outline[i + 1] - y) / height;\n    }\n    for (let i = 0, ii = points.length; i < ii; i += 2) {\n      points[i] = (points[i] - x) / width;\n      points[i + 1] = (points[i + 1] - y) / height;\n    }\n  }\n  toSVGPath() {\n    const buffer = [`M${this.#outline[4]} ${this.#outline[5]}`];\n    for (let i = 6, ii = this.#outline.length; i < ii; i += 6) {\n      if (isNaN(this.#outline[i])) {\n        buffer.push(`L${this.#outline[i + 4]} ${this.#outline[i + 5]}`);\n        continue;\n      }\n      buffer.push(`C${this.#outline[i]} ${this.#outline[i + 1]} ${this.#outline[i + 2]} ${this.#outline[i + 3]} ${this.#outline[i + 4]} ${this.#outline[i + 5]}`);\n    }\n    buffer.push(\"Z\");\n    return buffer.join(\" \");\n  }\n  serialize([blX, blY, trX, trY], rotation) {\n    const width = trX - blX;\n    const height = trY - blY;\n    let outline;\n    let points;\n    switch (rotation) {\n      case 0:\n        outline = Outline._rescale(this.#outline, blX, trY, width, -height);\n        points = Outline._rescale(this.#points, blX, trY, width, -height);\n        break;\n      case 90:\n        outline = Outline._rescaleAndSwap(this.#outline, blX, blY, width, height);\n        points = Outline._rescaleAndSwap(this.#points, blX, blY, width, height);\n        break;\n      case 180:\n        outline = Outline._rescale(this.#outline, trX, blY, -width, height);\n        points = Outline._rescale(this.#points, trX, blY, -width, height);\n        break;\n      case 270:\n        outline = Outline._rescaleAndSwap(this.#outline, trX, trY, -width, -height);\n        points = Outline._rescaleAndSwap(this.#points, trX, trY, -width, -height);\n        break;\n    }\n    return {\n      outline: Array.from(outline),\n      points: [Array.from(points)]\n    };\n  }\n  #computeMinMax(isLTR) {\n    const outline = this.#outline;\n    let lastX = outline[4];\n    let lastY = outline[5];\n    const minMax = [lastX, lastY, lastX, lastY];\n    let firstPointX = lastX;\n    let firstPointY = lastY;\n    let lastPointX = lastX;\n    let lastPointY = lastY;\n    const ltrCallback = isLTR ? Math.max : Math.min;\n    const bezierBbox = new Float32Array(4);\n    for (let i = 6, ii = outline.length; i < ii; i += 6) {\n      const x = outline[i + 4],\n        y = outline[i + 5];\n      if (isNaN(outline[i])) {\n        Util.pointBoundingBox(x, y, minMax);\n        if (firstPointY > y) {\n          firstPointX = x;\n          firstPointY = y;\n        } else if (firstPointY === y) {\n          firstPointX = ltrCallback(firstPointX, x);\n        }\n        if (lastPointY < y) {\n          lastPointX = x;\n          lastPointY = y;\n        } else if (lastPointY === y) {\n          lastPointX = ltrCallback(lastPointX, x);\n        }\n      } else {\n        bezierBbox[0] = bezierBbox[1] = Infinity;\n        bezierBbox[2] = bezierBbox[3] = -Infinity;\n        Util.bezierBoundingBox(lastX, lastY, ...outline.slice(i, i + 6), bezierBbox);\n        Util.rectBoundingBox(bezierBbox[0], bezierBbox[1], bezierBbox[2], bezierBbox[3], minMax);\n        if (firstPointY > bezierBbox[1]) {\n          firstPointX = bezierBbox[0];\n          firstPointY = bezierBbox[1];\n        } else if (firstPointY === bezierBbox[1]) {\n          firstPointX = ltrCallback(firstPointX, bezierBbox[0]);\n        }\n        if (lastPointY < bezierBbox[3]) {\n          lastPointX = bezierBbox[2];\n          lastPointY = bezierBbox[3];\n        } else if (lastPointY === bezierBbox[3]) {\n          lastPointX = ltrCallback(lastPointX, bezierBbox[2]);\n        }\n      }\n      lastX = x;\n      lastY = y;\n    }\n    const bbox = this.#bbox;\n    bbox[0] = minMax[0] - this.#innerMargin;\n    bbox[1] = minMax[1] - this.#innerMargin;\n    bbox[2] = minMax[2] - minMax[0] + 2 * this.#innerMargin;\n    bbox[3] = minMax[3] - minMax[1] + 2 * this.#innerMargin;\n    this.firstPoint = [firstPointX, firstPointY];\n    this.lastPoint = [lastPointX, lastPointY];\n  }\n  get box() {\n    return this.#bbox;\n  }\n  newOutliner(point, box, scaleFactor, thickness, isLTR, innerMargin = 0) {\n    return new FreeDrawOutliner(point, box, scaleFactor, thickness, isLTR, innerMargin);\n  }\n  getNewOutline(thickness, innerMargin) {\n    const [x, y, width, height] = this.#bbox;\n    const [layerX, layerY, layerWidth, layerHeight] = this.#box;\n    const sx = width * layerWidth;\n    const sy = height * layerHeight;\n    const tx = x * layerWidth + layerX;\n    const ty = y * layerHeight + layerY;\n    const outliner = this.newOutliner({\n      x: this.#points[0] * sx + tx,\n      y: this.#points[1] * sy + ty\n    }, this.#box, this.#scaleFactor, thickness, this.#isLTR, innerMargin ?? this.#innerMargin);\n    for (let i = 2; i < this.#points.length; i += 2) {\n      outliner.add({\n        x: this.#points[i] * sx + tx,\n        y: this.#points[i + 1] * sy + ty\n      });\n    }\n    return outliner.getOutlines();\n  }\n}\n\n;// ./src/display/editor/drawers/highlight.js\n\n\n\nclass HighlightOutliner {\n  #box;\n  #firstPoint;\n  #lastPoint;\n  #verticalEdges = [];\n  #intervals = [];\n  constructor(boxes, borderWidth = 0, innerMargin = 0, isLTR = true) {\n    const minMax = [Infinity, Infinity, -Infinity, -Infinity];\n    const NUMBER_OF_DIGITS = 4;\n    const EPSILON = 10 ** -NUMBER_OF_DIGITS;\n    for (const {\n      x,\n      y,\n      width,\n      height\n    } of boxes) {\n      const x1 = Math.floor((x - borderWidth) / EPSILON) * EPSILON;\n      const x2 = Math.ceil((x + width + borderWidth) / EPSILON) * EPSILON;\n      const y1 = Math.floor((y - borderWidth) / EPSILON) * EPSILON;\n      const y2 = Math.ceil((y + height + borderWidth) / EPSILON) * EPSILON;\n      const left = [x1, y1, y2, true];\n      const right = [x2, y1, y2, false];\n      this.#verticalEdges.push(left, right);\n      Util.rectBoundingBox(x1, y1, x2, y2, minMax);\n    }\n    const bboxWidth = minMax[2] - minMax[0] + 2 * innerMargin;\n    const bboxHeight = minMax[3] - minMax[1] + 2 * innerMargin;\n    const shiftedMinX = minMax[0] - innerMargin;\n    const shiftedMinY = minMax[1] - innerMargin;\n    let firstPointX = isLTR ? -Infinity : Infinity;\n    let firstPointY = Infinity;\n    const lastEdge = this.#verticalEdges.at(isLTR ? -1 : -2);\n    const lastPoint = [lastEdge[0], lastEdge[2]];\n    for (const edge of this.#verticalEdges) {\n      const [x, y1, y2, left] = edge;\n      if (!left && isLTR) {\n        if (y1 < firstPointY) {\n          firstPointY = y1;\n          firstPointX = x;\n        } else if (y1 === firstPointY) {\n          firstPointX = Math.max(firstPointX, x);\n        }\n      } else if (left && !isLTR) {\n        if (y1 < firstPointY) {\n          firstPointY = y1;\n          firstPointX = x;\n        } else if (y1 === firstPointY) {\n          firstPointX = Math.min(firstPointX, x);\n        }\n      }\n      edge[0] = (x - shiftedMinX) / bboxWidth;\n      edge[1] = (y1 - shiftedMinY) / bboxHeight;\n      edge[2] = (y2 - shiftedMinY) / bboxHeight;\n    }\n    this.#box = new Float32Array([shiftedMinX, shiftedMinY, bboxWidth, bboxHeight]);\n    this.#firstPoint = [firstPointX, firstPointY];\n    this.#lastPoint = lastPoint;\n  }\n  getOutlines() {\n    this.#verticalEdges.sort((a, b) => a[0] - b[0] || a[1] - b[1] || a[2] - b[2]);\n    const outlineVerticalEdges = [];\n    for (const edge of this.#verticalEdges) {\n      if (edge[3]) {\n        outlineVerticalEdges.push(...this.#breakEdge(edge));\n        this.#insert(edge);\n      } else {\n        this.#remove(edge);\n        outlineVerticalEdges.push(...this.#breakEdge(edge));\n      }\n    }\n    return this.#getOutlines(outlineVerticalEdges);\n  }\n  #getOutlines(outlineVerticalEdges) {\n    const edges = [];\n    const allEdges = new Set();\n    for (const edge of outlineVerticalEdges) {\n      const [x, y1, y2] = edge;\n      edges.push([x, y1, edge], [x, y2, edge]);\n    }\n    edges.sort((a, b) => a[1] - b[1] || a[0] - b[0]);\n    for (let i = 0, ii = edges.length; i < ii; i += 2) {\n      const edge1 = edges[i][2];\n      const edge2 = edges[i + 1][2];\n      edge1.push(edge2);\n      edge2.push(edge1);\n      allEdges.add(edge1);\n      allEdges.add(edge2);\n    }\n    const outlines = [];\n    let outline;\n    while (allEdges.size > 0) {\n      const edge = allEdges.values().next().value;\n      let [x, y1, y2, edge1, edge2] = edge;\n      allEdges.delete(edge);\n      let lastPointX = x;\n      let lastPointY = y1;\n      outline = [x, y2];\n      outlines.push(outline);\n      while (true) {\n        let e;\n        if (allEdges.has(edge1)) {\n          e = edge1;\n        } else if (allEdges.has(edge2)) {\n          e = edge2;\n        } else {\n          break;\n        }\n        allEdges.delete(e);\n        [x, y1, y2, edge1, edge2] = e;\n        if (lastPointX !== x) {\n          outline.push(lastPointX, lastPointY, x, lastPointY === y1 ? y1 : y2);\n          lastPointX = x;\n        }\n        lastPointY = lastPointY === y1 ? y2 : y1;\n      }\n      outline.push(lastPointX, lastPointY);\n    }\n    return new HighlightOutline(outlines, this.#box, this.#firstPoint, this.#lastPoint);\n  }\n  #binarySearch(y) {\n    const array = this.#intervals;\n    let start = 0;\n    let end = array.length - 1;\n    while (start <= end) {\n      const middle = start + end >> 1;\n      const y1 = array[middle][0];\n      if (y1 === y) {\n        return middle;\n      }\n      if (y1 < y) {\n        start = middle + 1;\n      } else {\n        end = middle - 1;\n      }\n    }\n    return end + 1;\n  }\n  #insert([, y1, y2]) {\n    const index = this.#binarySearch(y1);\n    this.#intervals.splice(index, 0, [y1, y2]);\n  }\n  #remove([, y1, y2]) {\n    const index = this.#binarySearch(y1);\n    for (let i = index; i < this.#intervals.length; i++) {\n      const [start, end] = this.#intervals[i];\n      if (start !== y1) {\n        break;\n      }\n      if (start === y1 && end === y2) {\n        this.#intervals.splice(i, 1);\n        return;\n      }\n    }\n    for (let i = index - 1; i >= 0; i--) {\n      const [start, end] = this.#intervals[i];\n      if (start !== y1) {\n        break;\n      }\n      if (start === y1 && end === y2) {\n        this.#intervals.splice(i, 1);\n        return;\n      }\n    }\n  }\n  #breakEdge(edge) {\n    const [x, y1, y2] = edge;\n    const results = [[x, y1, y2]];\n    const index = this.#binarySearch(y2);\n    for (let i = 0; i < index; i++) {\n      const [start, end] = this.#intervals[i];\n      for (let j = 0, jj = results.length; j < jj; j++) {\n        const [, y3, y4] = results[j];\n        if (end <= y3 || y4 <= start) {\n          continue;\n        }\n        if (y3 >= start) {\n          if (y4 > end) {\n            results[j][1] = end;\n          } else {\n            if (jj === 1) {\n              return [];\n            }\n            results.splice(j, 1);\n            j--;\n            jj--;\n          }\n          continue;\n        }\n        results[j][2] = start;\n        if (y4 > end) {\n          results.push([x, end, y4]);\n        }\n      }\n    }\n    return results;\n  }\n}\nclass HighlightOutline extends Outline {\n  #box;\n  #outlines;\n  constructor(outlines, box, firstPoint, lastPoint) {\n    super();\n    this.#outlines = outlines;\n    this.#box = box;\n    this.firstPoint = firstPoint;\n    this.lastPoint = lastPoint;\n  }\n  toSVGPath() {\n    const buffer = [];\n    for (const polygon of this.#outlines) {\n      let [prevX, prevY] = polygon;\n      buffer.push(`M${prevX} ${prevY}`);\n      for (let i = 2; i < polygon.length; i += 2) {\n        const x = polygon[i];\n        const y = polygon[i + 1];\n        if (x === prevX) {\n          buffer.push(`V${y}`);\n          prevY = y;\n        } else if (y === prevY) {\n          buffer.push(`H${x}`);\n          prevX = x;\n        }\n      }\n      buffer.push(\"Z\");\n    }\n    return buffer.join(\" \");\n  }\n  serialize([blX, blY, trX, trY], _rotation) {\n    const outlines = [];\n    const width = trX - blX;\n    const height = trY - blY;\n    for (const outline of this.#outlines) {\n      const points = new Array(outline.length);\n      for (let i = 0; i < outline.length; i += 2) {\n        points[i] = blX + outline[i] * width;\n        points[i + 1] = trY - outline[i + 1] * height;\n      }\n      outlines.push(points);\n    }\n    return outlines;\n  }\n  get box() {\n    return this.#box;\n  }\n  get classNamesForOutlining() {\n    return [\"highlightOutline\"];\n  }\n}\nclass FreeHighlightOutliner extends FreeDrawOutliner {\n  newFreeDrawOutline(outline, points, box, scaleFactor, innerMargin, isLTR) {\n    return new FreeHighlightOutline(outline, points, box, scaleFactor, innerMargin, isLTR);\n  }\n}\nclass FreeHighlightOutline extends FreeDrawOutline {\n  newOutliner(point, box, scaleFactor, thickness, isLTR, innerMargin = 0) {\n    return new FreeHighlightOutliner(point, box, scaleFactor, thickness, isLTR, innerMargin);\n  }\n}\n\n;// ./src/display/editor/highlight.js\n\n\n\n\n\n\n\nclass HighlightEditor extends AnnotationEditor {\n  #anchorNode = null;\n  #anchorOffset = 0;\n  #boxes;\n  #clipPathId = null;\n  #colorPicker = null;\n  #focusOutlines = null;\n  #focusNode = null;\n  #focusOffset = 0;\n  #highlightDiv = null;\n  #highlightOutlines = null;\n  #id = null;\n  #isFreeHighlight = false;\n  #firstPoint = null;\n  #lastPoint = null;\n  #outlineId = null;\n  #text = \"\";\n  #thickness;\n  #methodOfCreation = \"\";\n  static _defaultColor = null;\n  static _defaultOpacity = 1;\n  static _defaultThickness = 12;\n  static _type = \"highlight\";\n  static _editorType = AnnotationEditorType.HIGHLIGHT;\n  static _freeHighlightId = -1;\n  static _freeHighlight = null;\n  static _freeHighlightClipId = \"\";\n  static get _keyboardManager() {\n    const proto = HighlightEditor.prototype;\n    return shadow(this, \"_keyboardManager\", new KeyboardManager([[[\"ArrowLeft\", \"mac+ArrowLeft\"], proto._moveCaret, {\n      args: [0]\n    }], [[\"ArrowRight\", \"mac+ArrowRight\"], proto._moveCaret, {\n      args: [1]\n    }], [[\"ArrowUp\", \"mac+ArrowUp\"], proto._moveCaret, {\n      args: [2]\n    }], [[\"ArrowDown\", \"mac+ArrowDown\"], proto._moveCaret, {\n      args: [3]\n    }]]));\n  }\n  constructor(params) {\n    super({\n      ...params,\n      name: \"highlightEditor\"\n    });\n    this.color = params.color || HighlightEditor._defaultColor;\n    this.#thickness = params.thickness || HighlightEditor._defaultThickness;\n    this.opacity = params.opacity || HighlightEditor._defaultOpacity;\n    this.#boxes = params.boxes || null;\n    this.#methodOfCreation = params.methodOfCreation || \"\";\n    this.#text = params.text || \"\";\n    this._isDraggable = false;\n    this.defaultL10nId = \"pdfjs-editor-highlight-editor\";\n    if (params.highlightId > -1) {\n      this.#isFreeHighlight = true;\n      this.#createFreeOutlines(params);\n      this.#addToDrawLayer();\n    } else if (this.#boxes) {\n      this.#anchorNode = params.anchorNode;\n      this.#anchorOffset = params.anchorOffset;\n      this.#focusNode = params.focusNode;\n      this.#focusOffset = params.focusOffset;\n      this.#createOutlines();\n      this.#addToDrawLayer();\n      this.rotate(this.rotation);\n    }\n    if (!this.annotationElementId) {\n      this._uiManager.a11yAlert(\"pdfjs-editor-highlight-added-alert\");\n    }\n  }\n  get telemetryInitialData() {\n    return {\n      action: \"added\",\n      type: this.#isFreeHighlight ? \"free_highlight\" : \"highlight\",\n      color: this._uiManager.getNonHCMColorName(this.color),\n      thickness: this.#thickness,\n      methodOfCreation: this.#methodOfCreation\n    };\n  }\n  get telemetryFinalData() {\n    return {\n      type: \"highlight\",\n      color: this._uiManager.getNonHCMColorName(this.color)\n    };\n  }\n  static computeTelemetryFinalData(data) {\n    return {\n      numberOfColors: data.get(\"color\").size\n    };\n  }\n  #createOutlines() {\n    const outliner = new HighlightOutliner(this.#boxes, 0.001);\n    this.#highlightOutlines = outliner.getOutlines();\n    [this.x, this.y, this.width, this.height] = this.#highlightOutlines.box;\n    const outlinerForOutline = new HighlightOutliner(this.#boxes, 0.0025, 0.001, this._uiManager.direction === \"ltr\");\n    this.#focusOutlines = outlinerForOutline.getOutlines();\n    const {\n      firstPoint\n    } = this.#highlightOutlines;\n    this.#firstPoint = [(firstPoint[0] - this.x) / this.width, (firstPoint[1] - this.y) / this.height];\n    const {\n      lastPoint\n    } = this.#focusOutlines;\n    this.#lastPoint = [(lastPoint[0] - this.x) / this.width, (lastPoint[1] - this.y) / this.height];\n  }\n  #createFreeOutlines({\n    highlightOutlines,\n    highlightId,\n    clipPathId\n  }) {\n    this.#highlightOutlines = highlightOutlines;\n    const extraThickness = 1.5;\n    this.#focusOutlines = highlightOutlines.getNewOutline(this.#thickness / 2 + extraThickness, 0.0025);\n    if (highlightId >= 0) {\n      this.#id = highlightId;\n      this.#clipPathId = clipPathId;\n      this.parent.drawLayer.finalizeDraw(highlightId, {\n        bbox: highlightOutlines.box,\n        path: {\n          d: highlightOutlines.toSVGPath()\n        }\n      });\n      this.#outlineId = this.parent.drawLayer.drawOutline({\n        rootClass: {\n          highlightOutline: true,\n          free: true\n        },\n        bbox: this.#focusOutlines.box,\n        path: {\n          d: this.#focusOutlines.toSVGPath()\n        }\n      }, true);\n    } else if (this.parent) {\n      const angle = this.parent.viewport.rotation;\n      this.parent.drawLayer.updateProperties(this.#id, {\n        bbox: HighlightEditor.#rotateBbox(this.#highlightOutlines.box, (angle - this.rotation + 360) % 360),\n        path: {\n          d: highlightOutlines.toSVGPath()\n        }\n      });\n      this.parent.drawLayer.updateProperties(this.#outlineId, {\n        bbox: HighlightEditor.#rotateBbox(this.#focusOutlines.box, angle),\n        path: {\n          d: this.#focusOutlines.toSVGPath()\n        }\n      });\n    }\n    const [x, y, width, height] = highlightOutlines.box;\n    switch (this.rotation) {\n      case 0:\n        this.x = x;\n        this.y = y;\n        this.width = width;\n        this.height = height;\n        break;\n      case 90:\n        {\n          const [pageWidth, pageHeight] = this.parentDimensions;\n          this.x = y;\n          this.y = 1 - x;\n          this.width = width * pageHeight / pageWidth;\n          this.height = height * pageWidth / pageHeight;\n          break;\n        }\n      case 180:\n        this.x = 1 - x;\n        this.y = 1 - y;\n        this.width = width;\n        this.height = height;\n        break;\n      case 270:\n        {\n          const [pageWidth, pageHeight] = this.parentDimensions;\n          this.x = 1 - y;\n          this.y = x;\n          this.width = width * pageHeight / pageWidth;\n          this.height = height * pageWidth / pageHeight;\n          break;\n        }\n    }\n    const {\n      firstPoint\n    } = highlightOutlines;\n    this.#firstPoint = [(firstPoint[0] - x) / width, (firstPoint[1] - y) / height];\n    const {\n      lastPoint\n    } = this.#focusOutlines;\n    this.#lastPoint = [(lastPoint[0] - x) / width, (lastPoint[1] - y) / height];\n  }\n  static initialize(l10n, uiManager) {\n    AnnotationEditor.initialize(l10n, uiManager);\n    HighlightEditor._defaultColor ||= uiManager.highlightColors?.values().next().value || \"#fff066\";\n  }\n  static updateDefaultParams(type, value) {\n    switch (type) {\n      case AnnotationEditorParamsType.HIGHLIGHT_COLOR:\n        HighlightEditor._defaultColor = value;\n        break;\n      case AnnotationEditorParamsType.HIGHLIGHT_THICKNESS:\n        HighlightEditor._defaultThickness = value;\n        break;\n    }\n  }\n  translateInPage(x, y) {}\n  get toolbarPosition() {\n    return this.#lastPoint;\n  }\n  get commentButtonPosition() {\n    return this.#firstPoint;\n  }\n  updateParams(type, value) {\n    switch (type) {\n      case AnnotationEditorParamsType.HIGHLIGHT_COLOR:\n        this.#updateColor(value);\n        break;\n      case AnnotationEditorParamsType.HIGHLIGHT_THICKNESS:\n        this.#updateThickness(value);\n        break;\n    }\n  }\n  static get defaultPropertiesToUpdate() {\n    return [[AnnotationEditorParamsType.HIGHLIGHT_COLOR, HighlightEditor._defaultColor], [AnnotationEditorParamsType.HIGHLIGHT_THICKNESS, HighlightEditor._defaultThickness]];\n  }\n  get propertiesToUpdate() {\n    return [[AnnotationEditorParamsType.HIGHLIGHT_COLOR, this.color || HighlightEditor._defaultColor], [AnnotationEditorParamsType.HIGHLIGHT_THICKNESS, this.#thickness || HighlightEditor._defaultThickness], [AnnotationEditorParamsType.HIGHLIGHT_FREE, this.#isFreeHighlight]];\n  }\n  onUpdatedColor() {\n    this.parent?.drawLayer.updateProperties(this.#id, {\n      root: {\n        fill: this.color,\n        \"fill-opacity\": this.opacity\n      }\n    });\n    this.#colorPicker?.updateColor(this.color);\n    super.onUpdatedColor();\n  }\n  #updateColor(color) {\n    const setColorAndOpacity = (col, opa) => {\n      this.color = col;\n      this.opacity = opa;\n      this.onUpdatedColor();\n    };\n    const savedColor = this.color;\n    const savedOpacity = this.opacity;\n    this.addCommands({\n      cmd: setColorAndOpacity.bind(this, color, HighlightEditor._defaultOpacity),\n      undo: setColorAndOpacity.bind(this, savedColor, savedOpacity),\n      post: this._uiManager.updateUI.bind(this._uiManager, this),\n      mustExec: true,\n      type: AnnotationEditorParamsType.HIGHLIGHT_COLOR,\n      overwriteIfSameType: true,\n      keepUndo: true\n    });\n    this._reportTelemetry({\n      action: \"color_changed\",\n      color: this._uiManager.getNonHCMColorName(color)\n    }, true);\n  }\n  #updateThickness(thickness) {\n    const savedThickness = this.#thickness;\n    const setThickness = th => {\n      this.#thickness = th;\n      this.#changeThickness(th);\n    };\n    this.addCommands({\n      cmd: setThickness.bind(this, thickness),\n      undo: setThickness.bind(this, savedThickness),\n      post: this._uiManager.updateUI.bind(this._uiManager, this),\n      mustExec: true,\n      type: AnnotationEditorParamsType.INK_THICKNESS,\n      overwriteIfSameType: true,\n      keepUndo: true\n    });\n    this._reportTelemetry({\n      action: \"thickness_changed\",\n      thickness\n    }, true);\n  }\n  get toolbarButtons() {\n    if (this._uiManager.highlightColors) {\n      const colorPicker = this.#colorPicker = new ColorPicker({\n        editor: this\n      });\n      return [[\"colorPicker\", colorPicker]];\n    }\n    return super.toolbarButtons;\n  }\n  disableEditing() {\n    super.disableEditing();\n    this.div.classList.toggle(\"disabled\", true);\n  }\n  enableEditing() {\n    super.enableEditing();\n    this.div.classList.toggle(\"disabled\", false);\n  }\n  fixAndSetPosition() {\n    return super.fixAndSetPosition(this.#getRotation());\n  }\n  getBaseTranslation() {\n    return [0, 0];\n  }\n  getRect(tx, ty) {\n    return super.getRect(tx, ty, this.#getRotation());\n  }\n  onceAdded(focus) {\n    if (!this.annotationElementId) {\n      this.parent.addUndoableEditor(this);\n    }\n    if (focus) {\n      this.div.focus();\n    }\n  }\n  remove() {\n    this.#cleanDrawLayer();\n    this._reportTelemetry({\n      action: \"deleted\"\n    });\n    super.remove();\n  }\n  rebuild() {\n    if (!this.parent) {\n      return;\n    }\n    super.rebuild();\n    if (this.div === null) {\n      return;\n    }\n    this.#addToDrawLayer();\n    if (!this.isAttachedToDOM) {\n      this.parent.add(this);\n    }\n  }\n  setParent(parent) {\n    let mustBeSelected = false;\n    if (this.parent && !parent) {\n      this.#cleanDrawLayer();\n    } else if (parent) {\n      this.#addToDrawLayer(parent);\n      mustBeSelected = !this.parent && this.div?.classList.contains(\"selectedEditor\");\n    }\n    super.setParent(parent);\n    this.show(this._isVisible);\n    if (mustBeSelected) {\n      this.select();\n    }\n  }\n  #changeThickness(thickness) {\n    if (!this.#isFreeHighlight) {\n      return;\n    }\n    this.#createFreeOutlines({\n      highlightOutlines: this.#highlightOutlines.getNewOutline(thickness / 2)\n    });\n    this.fixAndSetPosition();\n    this.setDims();\n  }\n  #cleanDrawLayer() {\n    if (this.#id === null || !this.parent) {\n      return;\n    }\n    this.parent.drawLayer.remove(this.#id);\n    this.#id = null;\n    this.parent.drawLayer.remove(this.#outlineId);\n    this.#outlineId = null;\n  }\n  #addToDrawLayer(parent = this.parent) {\n    if (this.#id !== null) {\n      return;\n    }\n    ({\n      id: this.#id,\n      clipPathId: this.#clipPathId\n    } = parent.drawLayer.draw({\n      bbox: this.#highlightOutlines.box,\n      root: {\n        viewBox: \"0 0 1 1\",\n        fill: this.color,\n        \"fill-opacity\": this.opacity\n      },\n      rootClass: {\n        highlight: true,\n        free: this.#isFreeHighlight\n      },\n      path: {\n        d: this.#highlightOutlines.toSVGPath()\n      }\n    }, false, true));\n    this.#outlineId = parent.drawLayer.drawOutline({\n      rootClass: {\n        highlightOutline: true,\n        free: this.#isFreeHighlight\n      },\n      bbox: this.#focusOutlines.box,\n      path: {\n        d: this.#focusOutlines.toSVGPath()\n      }\n    }, this.#isFreeHighlight);\n    if (this.#highlightDiv) {\n      this.#highlightDiv.style.clipPath = this.#clipPathId;\n    }\n  }\n  static #rotateBbox([x, y, width, height], angle) {\n    switch (angle) {\n      case 90:\n        return [1 - y - height, x, height, width];\n      case 180:\n        return [1 - x - width, 1 - y - height, width, height];\n      case 270:\n        return [y, 1 - x - width, height, width];\n    }\n    return [x, y, width, height];\n  }\n  rotate(angle) {\n    const {\n      drawLayer\n    } = this.parent;\n    let box;\n    if (this.#isFreeHighlight) {\n      angle = (angle - this.rotation + 360) % 360;\n      box = HighlightEditor.#rotateBbox(this.#highlightOutlines.box, angle);\n    } else {\n      box = HighlightEditor.#rotateBbox([this.x, this.y, this.width, this.height], angle);\n    }\n    drawLayer.updateProperties(this.#id, {\n      bbox: box,\n      root: {\n        \"data-main-rotation\": angle\n      }\n    });\n    drawLayer.updateProperties(this.#outlineId, {\n      bbox: HighlightEditor.#rotateBbox(this.#focusOutlines.box, angle),\n      root: {\n        \"data-main-rotation\": angle\n      }\n    });\n  }\n  render() {\n    if (this.div) {\n      return this.div;\n    }\n    const div = super.render();\n    if (this.#text) {\n      div.setAttribute(\"aria-label\", this.#text);\n      div.setAttribute(\"role\", \"mark\");\n    }\n    if (this.#isFreeHighlight) {\n      div.classList.add(\"free\");\n    } else {\n      this.div.addEventListener(\"keydown\", this.#keydown.bind(this), {\n        signal: this._uiManager._signal\n      });\n    }\n    const highlightDiv = this.#highlightDiv = document.createElement(\"div\");\n    div.append(highlightDiv);\n    highlightDiv.setAttribute(\"aria-hidden\", \"true\");\n    highlightDiv.className = \"internal\";\n    highlightDiv.style.clipPath = this.#clipPathId;\n    this.setDims();\n    bindEvents(this, this.#highlightDiv, [\"pointerover\", \"pointerleave\"]);\n    this.enableEditing();\n    return div;\n  }\n  pointerover() {\n    if (!this.isSelected) {\n      this.parent?.drawLayer.updateProperties(this.#outlineId, {\n        rootClass: {\n          hovered: true\n        }\n      });\n    }\n  }\n  pointerleave() {\n    if (!this.isSelected) {\n      this.parent?.drawLayer.updateProperties(this.#outlineId, {\n        rootClass: {\n          hovered: false\n        }\n      });\n    }\n  }\n  #keydown(event) {\n    HighlightEditor._keyboardManager.exec(this, event);\n  }\n  _moveCaret(direction) {\n    this.parent.unselect(this);\n    switch (direction) {\n      case 0:\n      case 2:\n        this.#setCaret(true);\n        break;\n      case 1:\n      case 3:\n        this.#setCaret(false);\n        break;\n    }\n  }\n  #setCaret(start) {\n    if (!this.#anchorNode) {\n      return;\n    }\n    const selection = window.getSelection();\n    if (start) {\n      selection.setPosition(this.#anchorNode, this.#anchorOffset);\n    } else {\n      selection.setPosition(this.#focusNode, this.#focusOffset);\n    }\n  }\n  select() {\n    super.select();\n    if (!this.#outlineId) {\n      return;\n    }\n    this.parent?.drawLayer.updateProperties(this.#outlineId, {\n      rootClass: {\n        hovered: false,\n        selected: true\n      }\n    });\n  }\n  unselect() {\n    super.unselect();\n    if (!this.#outlineId) {\n      return;\n    }\n    this.parent?.drawLayer.updateProperties(this.#outlineId, {\n      rootClass: {\n        selected: false\n      }\n    });\n    if (!this.#isFreeHighlight) {\n      this.#setCaret(false);\n    }\n  }\n  get _mustFixPosition() {\n    return !this.#isFreeHighlight;\n  }\n  show(visible = this._isVisible) {\n    super.show(visible);\n    if (this.parent) {\n      this.parent.drawLayer.updateProperties(this.#id, {\n        rootClass: {\n          hidden: !visible\n        }\n      });\n      this.parent.drawLayer.updateProperties(this.#outlineId, {\n        rootClass: {\n          hidden: !visible\n        }\n      });\n    }\n  }\n  #getRotation() {\n    return this.#isFreeHighlight ? this.rotation : 0;\n  }\n  #serializeBoxes() {\n    if (this.#isFreeHighlight) {\n      return null;\n    }\n    const [pageWidth, pageHeight] = this.pageDimensions;\n    const [pageX, pageY] = this.pageTranslation;\n    const boxes = this.#boxes;\n    const quadPoints = new Float32Array(boxes.length * 8);\n    let i = 0;\n    for (const {\n      x,\n      y,\n      width,\n      height\n    } of boxes) {\n      const sx = x * pageWidth + pageX;\n      const sy = (1 - y) * pageHeight + pageY;\n      quadPoints[i] = quadPoints[i + 4] = sx;\n      quadPoints[i + 1] = quadPoints[i + 3] = sy;\n      quadPoints[i + 2] = quadPoints[i + 6] = sx + width * pageWidth;\n      quadPoints[i + 5] = quadPoints[i + 7] = sy - height * pageHeight;\n      i += 8;\n    }\n    return quadPoints;\n  }\n  #serializeOutlines(rect) {\n    return this.#highlightOutlines.serialize(rect, this.#getRotation());\n  }\n  static startHighlighting(parent, isLTR, {\n    target: textLayer,\n    x,\n    y\n  }) {\n    const {\n      x: layerX,\n      y: layerY,\n      width: parentWidth,\n      height: parentHeight\n    } = textLayer.getBoundingClientRect();\n    const ac = new AbortController();\n    const signal = parent.combinedSignal(ac);\n    const pointerUpCallback = e => {\n      ac.abort();\n      this.#endHighlight(parent, e);\n    };\n    window.addEventListener(\"blur\", pointerUpCallback, {\n      signal\n    });\n    window.addEventListener(\"pointerup\", pointerUpCallback, {\n      signal\n    });\n    window.addEventListener(\"pointerdown\", stopEvent, {\n      capture: true,\n      passive: false,\n      signal\n    });\n    window.addEventListener(\"contextmenu\", noContextMenu, {\n      signal\n    });\n    textLayer.addEventListener(\"pointermove\", this.#highlightMove.bind(this, parent), {\n      signal\n    });\n    this._freeHighlight = new FreeHighlightOutliner({\n      x,\n      y\n    }, [layerX, layerY, parentWidth, parentHeight], parent.scale, this._defaultThickness / 2, isLTR, 0.001);\n    ({\n      id: this._freeHighlightId,\n      clipPathId: this._freeHighlightClipId\n    } = parent.drawLayer.draw({\n      bbox: [0, 0, 1, 1],\n      root: {\n        viewBox: \"0 0 1 1\",\n        fill: this._defaultColor,\n        \"fill-opacity\": this._defaultOpacity\n      },\n      rootClass: {\n        highlight: true,\n        free: true\n      },\n      path: {\n        d: this._freeHighlight.toSVGPath()\n      }\n    }, true, true));\n  }\n  static #highlightMove(parent, event) {\n    if (this._freeHighlight.add(event)) {\n      parent.drawLayer.updateProperties(this._freeHighlightId, {\n        path: {\n          d: this._freeHighlight.toSVGPath()\n        }\n      });\n    }\n  }\n  static #endHighlight(parent, event) {\n    if (!this._freeHighlight.isEmpty()) {\n      parent.createAndAddNewEditor(event, false, {\n        highlightId: this._freeHighlightId,\n        highlightOutlines: this._freeHighlight.getOutlines(),\n        clipPathId: this._freeHighlightClipId,\n        methodOfCreation: \"main_toolbar\"\n      });\n    } else {\n      parent.drawLayer.remove(this._freeHighlightId);\n    }\n    this._freeHighlightId = -1;\n    this._freeHighlight = null;\n    this._freeHighlightClipId = \"\";\n  }\n  static async deserialize(data, parent, uiManager) {\n    let initialData = null;\n    if (data instanceof HighlightAnnotationElement) {\n      const {\n        data: {\n          quadPoints,\n          rect,\n          rotation,\n          id,\n          color,\n          opacity,\n          popupRef,\n          richText,\n          contentsObj,\n          creationDate,\n          modificationDate\n        },\n        parent: {\n          page: {\n            pageNumber\n          }\n        }\n      } = data;\n      initialData = data = {\n        annotationType: AnnotationEditorType.HIGHLIGHT,\n        color: Array.from(color),\n        opacity,\n        quadPoints,\n        boxes: null,\n        pageIndex: pageNumber - 1,\n        rect: rect.slice(0),\n        rotation,\n        annotationElementId: id,\n        id,\n        deleted: false,\n        popupRef,\n        richText,\n        comment: contentsObj?.str || null,\n        creationDate,\n        modificationDate\n      };\n    } else if (data instanceof InkAnnotationElement) {\n      const {\n        data: {\n          inkLists,\n          rect,\n          rotation,\n          id,\n          color,\n          borderStyle: {\n            rawWidth: thickness\n          },\n          popupRef,\n          richText,\n          contentsObj,\n          creationDate,\n          modificationDate\n        },\n        parent: {\n          page: {\n            pageNumber\n          }\n        }\n      } = data;\n      initialData = data = {\n        annotationType: AnnotationEditorType.HIGHLIGHT,\n        color: Array.from(color),\n        thickness,\n        inkLists,\n        boxes: null,\n        pageIndex: pageNumber - 1,\n        rect: rect.slice(0),\n        rotation,\n        annotationElementId: id,\n        id,\n        deleted: false,\n        popupRef,\n        richText,\n        comment: contentsObj?.str || null,\n        creationDate,\n        modificationDate\n      };\n    }\n    const {\n      color,\n      quadPoints,\n      inkLists,\n      opacity\n    } = data;\n    const editor = await super.deserialize(data, parent, uiManager);\n    editor.color = Util.makeHexColor(...color);\n    editor.opacity = opacity || 1;\n    if (inkLists) {\n      editor.#thickness = data.thickness;\n    }\n    editor._initialData = initialData;\n    if (data.comment) {\n      editor.setCommentData(data);\n    }\n    const [pageWidth, pageHeight] = editor.pageDimensions;\n    const [pageX, pageY] = editor.pageTranslation;\n    if (quadPoints) {\n      const boxes = editor.#boxes = [];\n      for (let i = 0; i < quadPoints.length; i += 8) {\n        boxes.push({\n          x: (quadPoints[i] - pageX) / pageWidth,\n          y: 1 - (quadPoints[i + 1] - pageY) / pageHeight,\n          width: (quadPoints[i + 2] - quadPoints[i]) / pageWidth,\n          height: (quadPoints[i + 1] - quadPoints[i + 5]) / pageHeight\n        });\n      }\n      editor.#createOutlines();\n      editor.#addToDrawLayer();\n      editor.rotate(editor.rotation);\n    } else if (inkLists) {\n      editor.#isFreeHighlight = true;\n      const points = inkLists[0];\n      const point = {\n        x: points[0] - pageX,\n        y: pageHeight - (points[1] - pageY)\n      };\n      const outliner = new FreeHighlightOutliner(point, [0, 0, pageWidth, pageHeight], 1, editor.#thickness / 2, true, 0.001);\n      for (let i = 0, ii = points.length; i < ii; i += 2) {\n        point.x = points[i] - pageX;\n        point.y = pageHeight - (points[i + 1] - pageY);\n        outliner.add(point);\n      }\n      const {\n        id,\n        clipPathId\n      } = parent.drawLayer.draw({\n        bbox: [0, 0, 1, 1],\n        root: {\n          viewBox: \"0 0 1 1\",\n          fill: editor.color,\n          \"fill-opacity\": editor._defaultOpacity\n        },\n        rootClass: {\n          highlight: true,\n          free: true\n        },\n        path: {\n          d: outliner.toSVGPath()\n        }\n      }, true, true);\n      editor.#createFreeOutlines({\n        highlightOutlines: outliner.getOutlines(),\n        highlightId: id,\n        clipPathId\n      });\n      editor.#addToDrawLayer();\n      editor.rotate(editor.parentRotation);\n    }\n    return editor;\n  }\n  serialize(isForCopying = false) {\n    if (this.isEmpty() || isForCopying) {\n      return null;\n    }\n    if (this.deleted) {\n      return this.serializeDeleted();\n    }\n    const color = AnnotationEditor._colorManager.convert(this._uiManager.getNonHCMColor(this.color));\n    const serialized = super.serialize(isForCopying);\n    Object.assign(serialized, {\n      color,\n      opacity: this.opacity,\n      thickness: this.#thickness,\n      quadPoints: this.#serializeBoxes(),\n      outlines: this.#serializeOutlines(serialized.rect)\n    });\n    this.addComment(serialized);\n    if (this.annotationElementId && !this.#hasElementChanged(serialized)) {\n      return null;\n    }\n    serialized.id = this.annotationElementId;\n    return serialized;\n  }\n  #hasElementChanged(serialized) {\n    const {\n      color\n    } = this._initialData;\n    return this.hasEditedComment || serialized.color.some((c, i) => c !== color[i]);\n  }\n  renderAnnotationElement(annotation) {\n    if (this.deleted) {\n      annotation.hide();\n      return null;\n    }\n    annotation.updateEdited({\n      rect: this.getPDFRect(),\n      popup: this.comment\n    });\n    return null;\n  }\n  static canCreateNewEmptyEditor() {\n    return false;\n  }\n}\n\n;// ./src/display/editor/draw.js\n\n\n\n\nclass DrawingOptions {\n  #svgProperties = Object.create(null);\n  updateProperty(name, value) {\n    this[name] = value;\n    this.updateSVGProperty(name, value);\n  }\n  updateProperties(properties) {\n    if (!properties) {\n      return;\n    }\n    for (const [name, value] of Object.entries(properties)) {\n      if (!name.startsWith(\"_\")) {\n        this.updateProperty(name, value);\n      }\n    }\n  }\n  updateSVGProperty(name, value) {\n    this.#svgProperties[name] = value;\n  }\n  toSVGProperties() {\n    const root = this.#svgProperties;\n    this.#svgProperties = Object.create(null);\n    return {\n      root\n    };\n  }\n  reset() {\n    this.#svgProperties = Object.create(null);\n  }\n  updateAll(options = this) {\n    this.updateProperties(options);\n  }\n  clone() {\n    unreachable(\"Not implemented\");\n  }\n}\nclass DrawingEditor extends AnnotationEditor {\n  #drawOutlines = null;\n  #mustBeCommitted;\n  _colorPicker = null;\n  _drawId = null;\n  static _currentDrawId = -1;\n  static _currentParent = null;\n  static #currentDraw = null;\n  static #currentDrawingAC = null;\n  static #currentDrawingOptions = null;\n  static _INNER_MARGIN = 3;\n  constructor(params) {\n    super(params);\n    this.#mustBeCommitted = params.mustBeCommitted || false;\n    this._addOutlines(params);\n  }\n  onUpdatedColor() {\n    this._colorPicker?.update(this.color);\n    super.onUpdatedColor();\n  }\n  _addOutlines(params) {\n    if (params.drawOutlines) {\n      this.#createDrawOutlines(params);\n      this.#addToDrawLayer();\n    }\n  }\n  #createDrawOutlines({\n    drawOutlines,\n    drawId,\n    drawingOptions\n  }) {\n    this.#drawOutlines = drawOutlines;\n    this._drawingOptions ||= drawingOptions;\n    if (!this.annotationElementId) {\n      this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`);\n    }\n    if (drawId >= 0) {\n      this._drawId = drawId;\n      this.parent.drawLayer.finalizeDraw(drawId, drawOutlines.defaultProperties);\n    } else {\n      this._drawId = this.#createDrawing(drawOutlines, this.parent);\n    }\n    this.#updateBbox(drawOutlines.box);\n  }\n  #createDrawing(drawOutlines, parent) {\n    const {\n      id\n    } = parent.drawLayer.draw(DrawingEditor._mergeSVGProperties(this._drawingOptions.toSVGProperties(), drawOutlines.defaultSVGProperties), false, false);\n    return id;\n  }\n  static _mergeSVGProperties(p1, p2) {\n    const p1Keys = new Set(Object.keys(p1));\n    for (const [key, value] of Object.entries(p2)) {\n      if (p1Keys.has(key)) {\n        Object.assign(p1[key], value);\n      } else {\n        p1[key] = value;\n      }\n    }\n    return p1;\n  }\n  static getDefaultDrawingOptions(_options) {\n    unreachable(\"Not implemented\");\n  }\n  static get typesMap() {\n    unreachable(\"Not implemented\");\n  }\n  static get isDrawer() {\n    return true;\n  }\n  static get supportMultipleDrawings() {\n    return false;\n  }\n  static updateDefaultParams(type, value) {\n    const propertyName = this.typesMap.get(type);\n    if (propertyName) {\n      this._defaultDrawingOptions.updateProperty(propertyName, value);\n    }\n    if (this._currentParent) {\n      DrawingEditor.#currentDraw.updateProperty(propertyName, value);\n      this._currentParent.drawLayer.updateProperties(this._currentDrawId, this._defaultDrawingOptions.toSVGProperties());\n    }\n  }\n  updateParams(type, value) {\n    const propertyName = this.constructor.typesMap.get(type);\n    if (propertyName) {\n      this._updateProperty(type, propertyName, value);\n    }\n  }\n  static get defaultPropertiesToUpdate() {\n    const properties = [];\n    const options = this._defaultDrawingOptions;\n    for (const [type, name] of this.typesMap) {\n      properties.push([type, options[name]]);\n    }\n    return properties;\n  }\n  get propertiesToUpdate() {\n    const properties = [];\n    const {\n      _drawingOptions\n    } = this;\n    for (const [type, name] of this.constructor.typesMap) {\n      properties.push([type, _drawingOptions[name]]);\n    }\n    return properties;\n  }\n  _updateProperty(type, name, value) {\n    const options = this._drawingOptions;\n    const savedValue = options[name];\n    const setter = val => {\n      options.updateProperty(name, val);\n      const bbox = this.#drawOutlines.updateProperty(name, val);\n      if (bbox) {\n        this.#updateBbox(bbox);\n      }\n      this.parent?.drawLayer.updateProperties(this._drawId, options.toSVGProperties());\n      if (type === this.colorType) {\n        this.onUpdatedColor();\n      }\n    };\n    this.addCommands({\n      cmd: setter.bind(this, value),\n      undo: setter.bind(this, savedValue),\n      post: this._uiManager.updateUI.bind(this._uiManager, this),\n      mustExec: true,\n      type,\n      overwriteIfSameType: true,\n      keepUndo: true\n    });\n  }\n  _onResizing() {\n    this.parent?.drawLayer.updateProperties(this._drawId, DrawingEditor._mergeSVGProperties(this.#drawOutlines.getPathResizingSVGProperties(this.#convertToDrawSpace()), {\n      bbox: this.#rotateBox()\n    }));\n  }\n  _onResized() {\n    this.parent?.drawLayer.updateProperties(this._drawId, DrawingEditor._mergeSVGProperties(this.#drawOutlines.getPathResizedSVGProperties(this.#convertToDrawSpace()), {\n      bbox: this.#rotateBox()\n    }));\n  }\n  _onTranslating(_x, _y) {\n    this.parent?.drawLayer.updateProperties(this._drawId, {\n      bbox: this.#rotateBox()\n    });\n  }\n  _onTranslated() {\n    this.parent?.drawLayer.updateProperties(this._drawId, DrawingEditor._mergeSVGProperties(this.#drawOutlines.getPathTranslatedSVGProperties(this.#convertToDrawSpace(), this.parentDimensions), {\n      bbox: this.#rotateBox()\n    }));\n  }\n  _onStartDragging() {\n    this.parent?.drawLayer.updateProperties(this._drawId, {\n      rootClass: {\n        moving: true\n      }\n    });\n  }\n  _onStopDragging() {\n    this.parent?.drawLayer.updateProperties(this._drawId, {\n      rootClass: {\n        moving: false\n      }\n    });\n  }\n  commit() {\n    super.commit();\n    this.disableEditMode();\n    this.disableEditing();\n  }\n  disableEditing() {\n    super.disableEditing();\n    this.div.classList.toggle(\"disabled\", true);\n  }\n  enableEditing() {\n    super.enableEditing();\n    this.div.classList.toggle(\"disabled\", false);\n  }\n  getBaseTranslation() {\n    return [0, 0];\n  }\n  get isResizable() {\n    return true;\n  }\n  onceAdded(focus) {\n    if (!this.annotationElementId) {\n      this.parent.addUndoableEditor(this);\n    }\n    this._isDraggable = true;\n    if (this.#mustBeCommitted) {\n      this.#mustBeCommitted = false;\n      this.commit();\n      this.parent.setSelected(this);\n      if (focus && this.isOnScreen) {\n        this.div.focus();\n      }\n    }\n  }\n  remove() {\n    this.#cleanDrawLayer();\n    super.remove();\n  }\n  rebuild() {\n    if (!this.parent) {\n      return;\n    }\n    super.rebuild();\n    if (this.div === null) {\n      return;\n    }\n    this.#addToDrawLayer();\n    this.#updateBbox(this.#drawOutlines.box);\n    if (!this.isAttachedToDOM) {\n      this.parent.add(this);\n    }\n  }\n  setParent(parent) {\n    let mustBeSelected = false;\n    if (this.parent && !parent) {\n      this._uiManager.removeShouldRescale(this);\n      this.#cleanDrawLayer();\n    } else if (parent) {\n      this._uiManager.addShouldRescale(this);\n      this.#addToDrawLayer(parent);\n      mustBeSelected = !this.parent && this.div?.classList.contains(\"selectedEditor\");\n    }\n    super.setParent(parent);\n    if (mustBeSelected) {\n      this.select();\n    }\n  }\n  #cleanDrawLayer() {\n    if (this._drawId === null || !this.parent) {\n      return;\n    }\n    this.parent.drawLayer.remove(this._drawId);\n    this._drawId = null;\n    this._drawingOptions.reset();\n  }\n  #addToDrawLayer(parent = this.parent) {\n    if (this._drawId !== null && this.parent === parent) {\n      return;\n    }\n    if (this._drawId !== null) {\n      this.parent.drawLayer.updateParent(this._drawId, parent.drawLayer);\n      return;\n    }\n    this._drawingOptions.updateAll();\n    this._drawId = this.#createDrawing(this.#drawOutlines, parent);\n  }\n  #convertToParentSpace([x, y, width, height]) {\n    const {\n      parentDimensions: [pW, pH],\n      rotation\n    } = this;\n    switch (rotation) {\n      case 90:\n        return [y, 1 - x, width * (pH / pW), height * (pW / pH)];\n      case 180:\n        return [1 - x, 1 - y, width, height];\n      case 270:\n        return [1 - y, x, width * (pH / pW), height * (pW / pH)];\n      default:\n        return [x, y, width, height];\n    }\n  }\n  #convertToDrawSpace() {\n    const {\n      x,\n      y,\n      width,\n      height,\n      parentDimensions: [pW, pH],\n      rotation\n    } = this;\n    switch (rotation) {\n      case 90:\n        return [1 - y, x, width * (pW / pH), height * (pH / pW)];\n      case 180:\n        return [1 - x, 1 - y, width, height];\n      case 270:\n        return [y, 1 - x, width * (pW / pH), height * (pH / pW)];\n      default:\n        return [x, y, width, height];\n    }\n  }\n  #updateBbox(bbox) {\n    [this.x, this.y, this.width, this.height] = this.#convertToParentSpace(bbox);\n    if (this.div) {\n      this.fixAndSetPosition();\n      this.setDims();\n    }\n    this._onResized();\n  }\n  #rotateBox() {\n    const {\n      x,\n      y,\n      width,\n      height,\n      rotation,\n      parentRotation,\n      parentDimensions: [pW, pH]\n    } = this;\n    switch ((rotation * 4 + parentRotation) / 90) {\n      case 1:\n        return [1 - y - height, x, height, width];\n      case 2:\n        return [1 - x - width, 1 - y - height, width, height];\n      case 3:\n        return [y, 1 - x - width, height, width];\n      case 4:\n        return [x, y - width * (pW / pH), height * (pH / pW), width * (pW / pH)];\n      case 5:\n        return [1 - y, x, width * (pW / pH), height * (pH / pW)];\n      case 6:\n        return [1 - x - height * (pH / pW), 1 - y, height * (pH / pW), width * (pW / pH)];\n      case 7:\n        return [y - width * (pW / pH), 1 - x - height * (pH / pW), width * (pW / pH), height * (pH / pW)];\n      case 8:\n        return [x - width, y - height, width, height];\n      case 9:\n        return [1 - y, x - width, height, width];\n      case 10:\n        return [1 - x, 1 - y, width, height];\n      case 11:\n        return [y - height, 1 - x, height, width];\n      case 12:\n        return [x - height * (pH / pW), y, height * (pH / pW), width * (pW / pH)];\n      case 13:\n        return [1 - y - width * (pW / pH), x - height * (pH / pW), width * (pW / pH), height * (pH / pW)];\n      case 14:\n        return [1 - x, 1 - y - width * (pW / pH), height * (pH / pW), width * (pW / pH)];\n      case 15:\n        return [y, 1 - x, width * (pW / pH), height * (pH / pW)];\n      default:\n        return [x, y, width, height];\n    }\n  }\n  rotate() {\n    if (!this.parent) {\n      return;\n    }\n    this.parent.drawLayer.updateProperties(this._drawId, DrawingEditor._mergeSVGProperties({\n      bbox: this.#rotateBox()\n    }, this.#drawOutlines.updateRotation((this.parentRotation - this.rotation + 360) % 360)));\n  }\n  onScaleChanging() {\n    if (!this.parent) {\n      return;\n    }\n    this.#updateBbox(this.#drawOutlines.updateParentDimensions(this.parentDimensions, this.parent.scale));\n  }\n  static onScaleChangingWhenDrawing() {}\n  render() {\n    if (this.div) {\n      return this.div;\n    }\n    let baseX, baseY;\n    if (this._isCopy) {\n      baseX = this.x;\n      baseY = this.y;\n    }\n    const div = super.render();\n    div.classList.add(\"draw\");\n    const drawDiv = document.createElement(\"div\");\n    div.append(drawDiv);\n    drawDiv.setAttribute(\"aria-hidden\", \"true\");\n    drawDiv.className = \"internal\";\n    this.setDims();\n    this._uiManager.addShouldRescale(this);\n    this.disableEditing();\n    if (this._isCopy) {\n      this._moveAfterPaste(baseX, baseY);\n    }\n    return div;\n  }\n  static createDrawerInstance(_x, _y, _parentWidth, _parentHeight, _rotation) {\n    unreachable(\"Not implemented\");\n  }\n  static startDrawing(parent, uiManager, _isLTR, event) {\n    const {\n      target,\n      offsetX: x,\n      offsetY: y,\n      pointerId,\n      pointerType\n    } = event;\n    if (CurrentPointers.isInitializedAndDifferentPointerType(pointerType)) {\n      return;\n    }\n    const {\n      viewport: {\n        rotation\n      }\n    } = parent;\n    const {\n      width: parentWidth,\n      height: parentHeight\n    } = target.getBoundingClientRect();\n    const ac = DrawingEditor.#currentDrawingAC = new AbortController();\n    const signal = parent.combinedSignal(ac);\n    CurrentPointers.setPointer(pointerType, pointerId);\n    window.addEventListener(\"pointerup\", e => {\n      if (CurrentPointers.isSamePointerIdOrRemove(e.pointerId)) {\n        this._endDraw(e);\n      }\n    }, {\n      signal\n    });\n    window.addEventListener(\"pointercancel\", e => {\n      if (CurrentPointers.isSamePointerIdOrRemove(e.pointerId)) {\n        this._currentParent.endDrawingSession();\n      }\n    }, {\n      signal\n    });\n    window.addEventListener(\"pointerdown\", e => {\n      if (!CurrentPointers.isSamePointerType(e.pointerType)) {\n        return;\n      }\n      CurrentPointers.initializeAndAddPointerId(e.pointerId);\n      if (DrawingEditor.#currentDraw.isCancellable()) {\n        DrawingEditor.#currentDraw.removeLastElement();\n        if (DrawingEditor.#currentDraw.isEmpty()) {\n          this._currentParent.endDrawingSession(true);\n        } else {\n          this._endDraw(null);\n        }\n      }\n    }, {\n      capture: true,\n      passive: false,\n      signal\n    });\n    window.addEventListener(\"contextmenu\", noContextMenu, {\n      signal\n    });\n    target.addEventListener(\"pointermove\", this._drawMove.bind(this), {\n      signal\n    });\n    target.addEventListener(\"touchmove\", e => {\n      if (CurrentPointers.isSameTimeStamp(e.timeStamp)) {\n        stopEvent(e);\n      }\n    }, {\n      signal\n    });\n    parent.toggleDrawing();\n    uiManager._editorUndoBar?.hide();\n    if (DrawingEditor.#currentDraw) {\n      parent.drawLayer.updateProperties(this._currentDrawId, DrawingEditor.#currentDraw.startNew(x, y, parentWidth, parentHeight, rotation));\n      return;\n    }\n    uiManager.updateUIForDefaultProperties(this);\n    DrawingEditor.#currentDraw = this.createDrawerInstance(x, y, parentWidth, parentHeight, rotation);\n    DrawingEditor.#currentDrawingOptions = this.getDefaultDrawingOptions();\n    this._currentParent = parent;\n    ({\n      id: this._currentDrawId\n    } = parent.drawLayer.draw(this._mergeSVGProperties(DrawingEditor.#currentDrawingOptions.toSVGProperties(), DrawingEditor.#currentDraw.defaultSVGProperties), true, false));\n  }\n  static _drawMove(event) {\n    CurrentPointers.isSameTimeStamp(event.timeStamp);\n    if (!DrawingEditor.#currentDraw) {\n      return;\n    }\n    const {\n      offsetX,\n      offsetY,\n      pointerId\n    } = event;\n    if (!CurrentPointers.isSamePointerId(pointerId)) {\n      return;\n    }\n    if (CurrentPointers.isUsingMultiplePointers()) {\n      this._endDraw(event);\n      return;\n    }\n    this._currentParent.drawLayer.updateProperties(this._currentDrawId, DrawingEditor.#currentDraw.add(offsetX, offsetY));\n    CurrentPointers.setTimeStamp(event.timeStamp);\n    stopEvent(event);\n  }\n  static _cleanup(all) {\n    if (all) {\n      this._currentDrawId = -1;\n      this._currentParent = null;\n      DrawingEditor.#currentDraw = null;\n      DrawingEditor.#currentDrawingOptions = null;\n      CurrentPointers.clearTimeStamp();\n    }\n    if (DrawingEditor.#currentDrawingAC) {\n      DrawingEditor.#currentDrawingAC.abort();\n      DrawingEditor.#currentDrawingAC = null;\n      CurrentPointers.clearPointerIds();\n    }\n  }\n  static _endDraw(event) {\n    const parent = this._currentParent;\n    if (!parent) {\n      return;\n    }\n    parent.toggleDrawing(true);\n    this._cleanup(false);\n    if (event?.target === parent.div) {\n      parent.drawLayer.updateProperties(this._currentDrawId, DrawingEditor.#currentDraw.end(event.offsetX, event.offsetY));\n    }\n    if (this.supportMultipleDrawings) {\n      const draw = DrawingEditor.#currentDraw;\n      const drawId = this._currentDrawId;\n      const lastElement = draw.getLastElement();\n      parent.addCommands({\n        cmd: () => {\n          parent.drawLayer.updateProperties(drawId, draw.setLastElement(lastElement));\n        },\n        undo: () => {\n          parent.drawLayer.updateProperties(drawId, draw.removeLastElement());\n        },\n        mustExec: false,\n        type: AnnotationEditorParamsType.DRAW_STEP\n      });\n      return;\n    }\n    this.endDrawing(false);\n  }\n  static endDrawing(isAborted) {\n    const parent = this._currentParent;\n    if (!parent) {\n      return null;\n    }\n    parent.toggleDrawing(true);\n    parent.cleanUndoStack(AnnotationEditorParamsType.DRAW_STEP);\n    if (!DrawingEditor.#currentDraw.isEmpty()) {\n      const {\n        pageDimensions: [pageWidth, pageHeight],\n        scale\n      } = parent;\n      const editor = parent.createAndAddNewEditor({\n        offsetX: 0,\n        offsetY: 0\n      }, false, {\n        drawId: this._currentDrawId,\n        drawOutlines: DrawingEditor.#currentDraw.getOutlines(pageWidth * scale, pageHeight * scale, scale, this._INNER_MARGIN),\n        drawingOptions: DrawingEditor.#currentDrawingOptions,\n        mustBeCommitted: !isAborted\n      });\n      this._cleanup(true);\n      return editor;\n    }\n    parent.drawLayer.remove(this._currentDrawId);\n    this._cleanup(true);\n    return null;\n  }\n  createDrawingOptions(_data) {}\n  static deserializeDraw(_pageX, _pageY, _pageWidth, _pageHeight, _innerWidth, _data) {\n    unreachable(\"Not implemented\");\n  }\n  static async deserialize(data, parent, uiManager) {\n    const {\n      rawDims: {\n        pageWidth,\n        pageHeight,\n        pageX,\n        pageY\n      }\n    } = parent.viewport;\n    const drawOutlines = this.deserializeDraw(pageX, pageY, pageWidth, pageHeight, this._INNER_MARGIN, data);\n    const editor = await super.deserialize(data, parent, uiManager);\n    editor.createDrawingOptions(data);\n    editor.#createDrawOutlines({\n      drawOutlines\n    });\n    editor.#addToDrawLayer();\n    editor.onScaleChanging();\n    editor.rotate();\n    return editor;\n  }\n  serializeDraw(isForCopying) {\n    const [pageX, pageY] = this.pageTranslation;\n    const [pageWidth, pageHeight] = this.pageDimensions;\n    return this.#drawOutlines.serialize([pageX, pageY, pageWidth, pageHeight], isForCopying);\n  }\n  renderAnnotationElement(annotation) {\n    annotation.updateEdited({\n      rect: this.getPDFRect()\n    });\n    return null;\n  }\n  static canCreateNewEmptyEditor() {\n    return false;\n  }\n}\n\n;// ./src/display/editor/drawers/inkdraw.js\n\n\nclass InkDrawOutliner {\n  #last = new Float64Array(6);\n  #line;\n  #lines;\n  #rotation;\n  #thickness;\n  #points;\n  #lastSVGPath = \"\";\n  #lastIndex = 0;\n  #outlines = new InkDrawOutline();\n  #parentWidth;\n  #parentHeight;\n  constructor(x, y, parentWidth, parentHeight, rotation, thickness) {\n    this.#parentWidth = parentWidth;\n    this.#parentHeight = parentHeight;\n    this.#rotation = rotation;\n    this.#thickness = thickness;\n    [x, y] = this.#normalizePoint(x, y);\n    const line = this.#line = [NaN, NaN, NaN, NaN, x, y];\n    this.#points = [x, y];\n    this.#lines = [{\n      line,\n      points: this.#points\n    }];\n    this.#last.set(line, 0);\n  }\n  updateProperty(name, value) {\n    if (name === \"stroke-width\") {\n      this.#thickness = value;\n    }\n  }\n  #normalizePoint(x, y) {\n    return Outline._normalizePoint(x, y, this.#parentWidth, this.#parentHeight, this.#rotation);\n  }\n  isEmpty() {\n    return !this.#lines || this.#lines.length === 0;\n  }\n  isCancellable() {\n    return this.#points.length <= 10;\n  }\n  add(x, y) {\n    [x, y] = this.#normalizePoint(x, y);\n    const [x1, y1, x2, y2] = this.#last.subarray(2, 6);\n    const diffX = x - x2;\n    const diffY = y - y2;\n    const d = Math.hypot(this.#parentWidth * diffX, this.#parentHeight * diffY);\n    if (d <= 2) {\n      return null;\n    }\n    this.#points.push(x, y);\n    if (isNaN(x1)) {\n      this.#last.set([x2, y2, x, y], 2);\n      this.#line.push(NaN, NaN, NaN, NaN, x, y);\n      return {\n        path: {\n          d: this.toSVGPath()\n        }\n      };\n    }\n    if (isNaN(this.#last[0])) {\n      this.#line.splice(6, 6);\n    }\n    this.#last.set([x1, y1, x2, y2, x, y], 0);\n    this.#line.push(...Outline.createBezierPoints(x1, y1, x2, y2, x, y));\n    return {\n      path: {\n        d: this.toSVGPath()\n      }\n    };\n  }\n  end(x, y) {\n    const change = this.add(x, y);\n    if (change) {\n      return change;\n    }\n    if (this.#points.length === 2) {\n      return {\n        path: {\n          d: this.toSVGPath()\n        }\n      };\n    }\n    return null;\n  }\n  startNew(x, y, parentWidth, parentHeight, rotation) {\n    this.#parentWidth = parentWidth;\n    this.#parentHeight = parentHeight;\n    this.#rotation = rotation;\n    [x, y] = this.#normalizePoint(x, y);\n    const line = this.#line = [NaN, NaN, NaN, NaN, x, y];\n    this.#points = [x, y];\n    const last = this.#lines.at(-1);\n    if (last) {\n      last.line = new Float32Array(last.line);\n      last.points = new Float32Array(last.points);\n    }\n    this.#lines.push({\n      line,\n      points: this.#points\n    });\n    this.#last.set(line, 0);\n    this.#lastIndex = 0;\n    this.toSVGPath();\n    return null;\n  }\n  getLastElement() {\n    return this.#lines.at(-1);\n  }\n  setLastElement(element) {\n    if (!this.#lines) {\n      return this.#outlines.setLastElement(element);\n    }\n    this.#lines.push(element);\n    this.#line = element.line;\n    this.#points = element.points;\n    this.#lastIndex = 0;\n    return {\n      path: {\n        d: this.toSVGPath()\n      }\n    };\n  }\n  removeLastElement() {\n    if (!this.#lines) {\n      return this.#outlines.removeLastElement();\n    }\n    this.#lines.pop();\n    this.#lastSVGPath = \"\";\n    for (let i = 0, ii = this.#lines.length; i < ii; i++) {\n      const {\n        line,\n        points\n      } = this.#lines[i];\n      this.#line = line;\n      this.#points = points;\n      this.#lastIndex = 0;\n      this.toSVGPath();\n    }\n    return {\n      path: {\n        d: this.#lastSVGPath\n      }\n    };\n  }\n  toSVGPath() {\n    const firstX = Outline.svgRound(this.#line[4]);\n    const firstY = Outline.svgRound(this.#line[5]);\n    if (this.#points.length === 2) {\n      this.#lastSVGPath = `${this.#lastSVGPath} M ${firstX} ${firstY} Z`;\n      return this.#lastSVGPath;\n    }\n    if (this.#points.length <= 6) {\n      const i = this.#lastSVGPath.lastIndexOf(\"M\");\n      this.#lastSVGPath = `${this.#lastSVGPath.slice(0, i)} M ${firstX} ${firstY}`;\n      this.#lastIndex = 6;\n    }\n    if (this.#points.length === 4) {\n      const secondX = Outline.svgRound(this.#line[10]);\n      const secondY = Outline.svgRound(this.#line[11]);\n      this.#lastSVGPath = `${this.#lastSVGPath} L ${secondX} ${secondY}`;\n      this.#lastIndex = 12;\n      return this.#lastSVGPath;\n    }\n    const buffer = [];\n    if (this.#lastIndex === 0) {\n      buffer.push(`M ${firstX} ${firstY}`);\n      this.#lastIndex = 6;\n    }\n    for (let i = this.#lastIndex, ii = this.#line.length; i < ii; i += 6) {\n      const [c1x, c1y, c2x, c2y, x, y] = this.#line.slice(i, i + 6).map(Outline.svgRound);\n      buffer.push(`C${c1x} ${c1y} ${c2x} ${c2y} ${x} ${y}`);\n    }\n    this.#lastSVGPath += buffer.join(\" \");\n    this.#lastIndex = this.#line.length;\n    return this.#lastSVGPath;\n  }\n  getOutlines(parentWidth, parentHeight, scale, innerMargin) {\n    const last = this.#lines.at(-1);\n    last.line = new Float32Array(last.line);\n    last.points = new Float32Array(last.points);\n    this.#outlines.build(this.#lines, parentWidth, parentHeight, scale, this.#rotation, this.#thickness, innerMargin);\n    this.#last = null;\n    this.#line = null;\n    this.#lines = null;\n    this.#lastSVGPath = null;\n    return this.#outlines;\n  }\n  get defaultSVGProperties() {\n    return {\n      root: {\n        viewBox: \"0 0 10000 10000\"\n      },\n      rootClass: {\n        draw: true\n      },\n      bbox: [0, 0, 1, 1]\n    };\n  }\n}\nclass InkDrawOutline extends Outline {\n  #bbox;\n  #currentRotation = 0;\n  #innerMargin;\n  #lines;\n  #parentWidth;\n  #parentHeight;\n  #parentScale;\n  #rotation;\n  #thickness;\n  build(lines, parentWidth, parentHeight, parentScale, rotation, thickness, innerMargin) {\n    this.#parentWidth = parentWidth;\n    this.#parentHeight = parentHeight;\n    this.#parentScale = parentScale;\n    this.#rotation = rotation;\n    this.#thickness = thickness;\n    this.#innerMargin = innerMargin ?? 0;\n    this.#lines = lines;\n    this.#computeBbox();\n  }\n  get thickness() {\n    return this.#thickness;\n  }\n  setLastElement(element) {\n    this.#lines.push(element);\n    return {\n      path: {\n        d: this.toSVGPath()\n      }\n    };\n  }\n  removeLastElement() {\n    this.#lines.pop();\n    return {\n      path: {\n        d: this.toSVGPath()\n      }\n    };\n  }\n  toSVGPath() {\n    const buffer = [];\n    for (const {\n      line\n    } of this.#lines) {\n      buffer.push(`M${Outline.svgRound(line[4])} ${Outline.svgRound(line[5])}`);\n      if (line.length === 6) {\n        buffer.push(\"Z\");\n        continue;\n      }\n      if (line.length === 12 && isNaN(line[6])) {\n        buffer.push(`L${Outline.svgRound(line[10])} ${Outline.svgRound(line[11])}`);\n        continue;\n      }\n      for (let i = 6, ii = line.length; i < ii; i += 6) {\n        const [c1x, c1y, c2x, c2y, x, y] = line.subarray(i, i + 6).map(Outline.svgRound);\n        buffer.push(`C${c1x} ${c1y} ${c2x} ${c2y} ${x} ${y}`);\n      }\n    }\n    return buffer.join(\"\");\n  }\n  serialize([pageX, pageY, pageWidth, pageHeight], isForCopying) {\n    const serializedLines = [];\n    const serializedPoints = [];\n    const [x, y, width, height] = this.#getBBoxWithNoMargin();\n    let tx, ty, sx, sy, x1, y1, x2, y2, rescaleFn;\n    switch (this.#rotation) {\n      case 0:\n        rescaleFn = Outline._rescale;\n        tx = pageX;\n        ty = pageY + pageHeight;\n        sx = pageWidth;\n        sy = -pageHeight;\n        x1 = pageX + x * pageWidth;\n        y1 = pageY + (1 - y - height) * pageHeight;\n        x2 = pageX + (x + width) * pageWidth;\n        y2 = pageY + (1 - y) * pageHeight;\n        break;\n      case 90:\n        rescaleFn = Outline._rescaleAndSwap;\n        tx = pageX;\n        ty = pageY;\n        sx = pageWidth;\n        sy = pageHeight;\n        x1 = pageX + y * pageWidth;\n        y1 = pageY + x * pageHeight;\n        x2 = pageX + (y + height) * pageWidth;\n        y2 = pageY + (x + width) * pageHeight;\n        break;\n      case 180:\n        rescaleFn = Outline._rescale;\n        tx = pageX + pageWidth;\n        ty = pageY;\n        sx = -pageWidth;\n        sy = pageHeight;\n        x1 = pageX + (1 - x - width) * pageWidth;\n        y1 = pageY + y * pageHeight;\n        x2 = pageX + (1 - x) * pageWidth;\n        y2 = pageY + (y + height) * pageHeight;\n        break;\n      case 270:\n        rescaleFn = Outline._rescaleAndSwap;\n        tx = pageX + pageWidth;\n        ty = pageY + pageHeight;\n        sx = -pageWidth;\n        sy = -pageHeight;\n        x1 = pageX + (1 - y - height) * pageWidth;\n        y1 = pageY + (1 - x - width) * pageHeight;\n        x2 = pageX + (1 - y) * pageWidth;\n        y2 = pageY + (1 - x) * pageHeight;\n        break;\n    }\n    for (const {\n      line,\n      points\n    } of this.#lines) {\n      serializedLines.push(rescaleFn(line, tx, ty, sx, sy, isForCopying ? new Array(line.length) : null));\n      serializedPoints.push(rescaleFn(points, tx, ty, sx, sy, isForCopying ? new Array(points.length) : null));\n    }\n    return {\n      lines: serializedLines,\n      points: serializedPoints,\n      rect: [x1, y1, x2, y2]\n    };\n  }\n  static deserialize(pageX, pageY, pageWidth, pageHeight, innerMargin, {\n    paths: {\n      lines,\n      points\n    },\n    rotation,\n    thickness\n  }) {\n    const newLines = [];\n    let tx, ty, sx, sy, rescaleFn;\n    switch (rotation) {\n      case 0:\n        rescaleFn = Outline._rescale;\n        tx = -pageX / pageWidth;\n        ty = pageY / pageHeight + 1;\n        sx = 1 / pageWidth;\n        sy = -1 / pageHeight;\n        break;\n      case 90:\n        rescaleFn = Outline._rescaleAndSwap;\n        tx = -pageY / pageHeight;\n        ty = -pageX / pageWidth;\n        sx = 1 / pageHeight;\n        sy = 1 / pageWidth;\n        break;\n      case 180:\n        rescaleFn = Outline._rescale;\n        tx = pageX / pageWidth + 1;\n        ty = -pageY / pageHeight;\n        sx = -1 / pageWidth;\n        sy = 1 / pageHeight;\n        break;\n      case 270:\n        rescaleFn = Outline._rescaleAndSwap;\n        tx = pageY / pageHeight + 1;\n        ty = pageX / pageWidth + 1;\n        sx = -1 / pageHeight;\n        sy = -1 / pageWidth;\n        break;\n    }\n    if (!lines) {\n      lines = [];\n      for (const point of points) {\n        const len = point.length;\n        if (len === 2) {\n          lines.push(new Float32Array([NaN, NaN, NaN, NaN, point[0], point[1]]));\n          continue;\n        }\n        if (len === 4) {\n          lines.push(new Float32Array([NaN, NaN, NaN, NaN, point[0], point[1], NaN, NaN, NaN, NaN, point[2], point[3]]));\n          continue;\n        }\n        const line = new Float32Array(3 * (len - 2));\n        lines.push(line);\n        let [x1, y1, x2, y2] = point.subarray(0, 4);\n        line.set([NaN, NaN, NaN, NaN, x1, y1], 0);\n        for (let i = 4; i < len; i += 2) {\n          const x = point[i];\n          const y = point[i + 1];\n          line.set(Outline.createBezierPoints(x1, y1, x2, y2, x, y), (i - 2) * 3);\n          [x1, y1, x2, y2] = [x2, y2, x, y];\n        }\n      }\n    }\n    for (let i = 0, ii = lines.length; i < ii; i++) {\n      newLines.push({\n        line: rescaleFn(lines[i].map(x => x ?? NaN), tx, ty, sx, sy),\n        points: rescaleFn(points[i].map(x => x ?? NaN), tx, ty, sx, sy)\n      });\n    }\n    const outlines = new this.prototype.constructor();\n    outlines.build(newLines, pageWidth, pageHeight, 1, rotation, thickness, innerMargin);\n    return outlines;\n  }\n  #getMarginComponents(thickness = this.#thickness) {\n    const margin = this.#innerMargin + thickness / 2 * this.#parentScale;\n    return this.#rotation % 180 === 0 ? [margin / this.#parentWidth, margin / this.#parentHeight] : [margin / this.#parentHeight, margin / this.#parentWidth];\n  }\n  #getBBoxWithNoMargin() {\n    const [x, y, width, height] = this.#bbox;\n    const [marginX, marginY] = this.#getMarginComponents(0);\n    return [x + marginX, y + marginY, width - 2 * marginX, height - 2 * marginY];\n  }\n  #computeBbox() {\n    const bbox = this.#bbox = new Float32Array([Infinity, Infinity, -Infinity, -Infinity]);\n    for (const {\n      line\n    } of this.#lines) {\n      if (line.length <= 12) {\n        for (let i = 4, ii = line.length; i < ii; i += 6) {\n          Util.pointBoundingBox(line[i], line[i + 1], bbox);\n        }\n        continue;\n      }\n      let lastX = line[4],\n        lastY = line[5];\n      for (let i = 6, ii = line.length; i < ii; i += 6) {\n        const [c1x, c1y, c2x, c2y, x, y] = line.subarray(i, i + 6);\n        Util.bezierBoundingBox(lastX, lastY, c1x, c1y, c2x, c2y, x, y, bbox);\n        lastX = x;\n        lastY = y;\n      }\n    }\n    const [marginX, marginY] = this.#getMarginComponents();\n    bbox[0] = MathClamp(bbox[0] - marginX, 0, 1);\n    bbox[1] = MathClamp(bbox[1] - marginY, 0, 1);\n    bbox[2] = MathClamp(bbox[2] + marginX, 0, 1);\n    bbox[3] = MathClamp(bbox[3] + marginY, 0, 1);\n    bbox[2] -= bbox[0];\n    bbox[3] -= bbox[1];\n  }\n  get box() {\n    return this.#bbox;\n  }\n  updateProperty(name, value) {\n    if (name === \"stroke-width\") {\n      return this.#updateThickness(value);\n    }\n    return null;\n  }\n  #updateThickness(thickness) {\n    const [oldMarginX, oldMarginY] = this.#getMarginComponents();\n    this.#thickness = thickness;\n    const [newMarginX, newMarginY] = this.#getMarginComponents();\n    const [diffMarginX, diffMarginY] = [newMarginX - oldMarginX, newMarginY - oldMarginY];\n    const bbox = this.#bbox;\n    bbox[0] -= diffMarginX;\n    bbox[1] -= diffMarginY;\n    bbox[2] += 2 * diffMarginX;\n    bbox[3] += 2 * diffMarginY;\n    return bbox;\n  }\n  updateParentDimensions([width, height], scale) {\n    const [oldMarginX, oldMarginY] = this.#getMarginComponents();\n    this.#parentWidth = width;\n    this.#parentHeight = height;\n    this.#parentScale = scale;\n    const [newMarginX, newMarginY] = this.#getMarginComponents();\n    const diffMarginX = newMarginX - oldMarginX;\n    const diffMarginY = newMarginY - oldMarginY;\n    const bbox = this.#bbox;\n    bbox[0] -= diffMarginX;\n    bbox[1] -= diffMarginY;\n    bbox[2] += 2 * diffMarginX;\n    bbox[3] += 2 * diffMarginY;\n    return bbox;\n  }\n  updateRotation(rotation) {\n    this.#currentRotation = rotation;\n    return {\n      path: {\n        transform: this.rotationTransform\n      }\n    };\n  }\n  get viewBox() {\n    return this.#bbox.map(Outline.svgRound).join(\" \");\n  }\n  get defaultProperties() {\n    const [x, y] = this.#bbox;\n    return {\n      root: {\n        viewBox: this.viewBox\n      },\n      path: {\n        \"transform-origin\": `${Outline.svgRound(x)} ${Outline.svgRound(y)}`\n      }\n    };\n  }\n  get rotationTransform() {\n    const [,, width, height] = this.#bbox;\n    let a = 0,\n      b = 0,\n      c = 0,\n      d = 0,\n      e = 0,\n      f = 0;\n    switch (this.#currentRotation) {\n      case 90:\n        b = height / width;\n        c = -width / height;\n        e = width;\n        break;\n      case 180:\n        a = -1;\n        d = -1;\n        e = width;\n        f = height;\n        break;\n      case 270:\n        b = -height / width;\n        c = width / height;\n        f = height;\n        break;\n      default:\n        return \"\";\n    }\n    return `matrix(${a} ${b} ${c} ${d} ${Outline.svgRound(e)} ${Outline.svgRound(f)})`;\n  }\n  getPathResizingSVGProperties([newX, newY, newWidth, newHeight]) {\n    const [marginX, marginY] = this.#getMarginComponents();\n    const [x, y, width, height] = this.#bbox;\n    if (Math.abs(width - marginX) <= Outline.PRECISION || Math.abs(height - marginY) <= Outline.PRECISION) {\n      const tx = newX + newWidth / 2 - (x + width / 2);\n      const ty = newY + newHeight / 2 - (y + height / 2);\n      return {\n        path: {\n          \"transform-origin\": `${Outline.svgRound(newX)} ${Outline.svgRound(newY)}`,\n          transform: `${this.rotationTransform} translate(${tx} ${ty})`\n        }\n      };\n    }\n    const s1x = (newWidth - 2 * marginX) / (width - 2 * marginX);\n    const s1y = (newHeight - 2 * marginY) / (height - 2 * marginY);\n    const s2x = width / newWidth;\n    const s2y = height / newHeight;\n    return {\n      path: {\n        \"transform-origin\": `${Outline.svgRound(x)} ${Outline.svgRound(y)}`,\n        transform: `${this.rotationTransform} scale(${s2x} ${s2y}) ` + `translate(${Outline.svgRound(marginX)} ${Outline.svgRound(marginY)}) scale(${s1x} ${s1y}) ` + `translate(${Outline.svgRound(-marginX)} ${Outline.svgRound(-marginY)})`\n      }\n    };\n  }\n  getPathResizedSVGProperties([newX, newY, newWidth, newHeight]) {\n    const [marginX, marginY] = this.#getMarginComponents();\n    const bbox = this.#bbox;\n    const [x, y, width, height] = bbox;\n    bbox[0] = newX;\n    bbox[1] = newY;\n    bbox[2] = newWidth;\n    bbox[3] = newHeight;\n    if (Math.abs(width - marginX) <= Outline.PRECISION || Math.abs(height - marginY) <= Outline.PRECISION) {\n      const tx = newX + newWidth / 2 - (x + width / 2);\n      const ty = newY + newHeight / 2 - (y + height / 2);\n      for (const {\n        line,\n        points\n      } of this.#lines) {\n        Outline._translate(line, tx, ty, line);\n        Outline._translate(points, tx, ty, points);\n      }\n      return {\n        root: {\n          viewBox: this.viewBox\n        },\n        path: {\n          \"transform-origin\": `${Outline.svgRound(newX)} ${Outline.svgRound(newY)}`,\n          transform: this.rotationTransform || null,\n          d: this.toSVGPath()\n        }\n      };\n    }\n    const s1x = (newWidth - 2 * marginX) / (width - 2 * marginX);\n    const s1y = (newHeight - 2 * marginY) / (height - 2 * marginY);\n    const tx = -s1x * (x + marginX) + newX + marginX;\n    const ty = -s1y * (y + marginY) + newY + marginY;\n    if (s1x !== 1 || s1y !== 1 || tx !== 0 || ty !== 0) {\n      for (const {\n        line,\n        points\n      } of this.#lines) {\n        Outline._rescale(line, tx, ty, s1x, s1y, line);\n        Outline._rescale(points, tx, ty, s1x, s1y, points);\n      }\n    }\n    return {\n      root: {\n        viewBox: this.viewBox\n      },\n      path: {\n        \"transform-origin\": `${Outline.svgRound(newX)} ${Outline.svgRound(newY)}`,\n        transform: this.rotationTransform || null,\n        d: this.toSVGPath()\n      }\n    };\n  }\n  getPathTranslatedSVGProperties([newX, newY], parentDimensions) {\n    const [newParentWidth, newParentHeight] = parentDimensions;\n    const bbox = this.#bbox;\n    const tx = newX - bbox[0];\n    const ty = newY - bbox[1];\n    if (this.#parentWidth === newParentWidth && this.#parentHeight === newParentHeight) {\n      for (const {\n        line,\n        points\n      } of this.#lines) {\n        Outline._translate(line, tx, ty, line);\n        Outline._translate(points, tx, ty, points);\n      }\n    } else {\n      const sx = this.#parentWidth / newParentWidth;\n      const sy = this.#parentHeight / newParentHeight;\n      this.#parentWidth = newParentWidth;\n      this.#parentHeight = newParentHeight;\n      for (const {\n        line,\n        points\n      } of this.#lines) {\n        Outline._rescale(line, tx, ty, sx, sy, line);\n        Outline._rescale(points, tx, ty, sx, sy, points);\n      }\n      bbox[2] *= sx;\n      bbox[3] *= sy;\n    }\n    bbox[0] = newX;\n    bbox[1] = newY;\n    return {\n      root: {\n        viewBox: this.viewBox\n      },\n      path: {\n        d: this.toSVGPath(),\n        \"transform-origin\": `${Outline.svgRound(newX)} ${Outline.svgRound(newY)}`\n      }\n    };\n  }\n  get defaultSVGProperties() {\n    const bbox = this.#bbox;\n    return {\n      root: {\n        viewBox: this.viewBox\n      },\n      rootClass: {\n        draw: true\n      },\n      path: {\n        d: this.toSVGPath(),\n        \"transform-origin\": `${Outline.svgRound(bbox[0])} ${Outline.svgRound(bbox[1])}`,\n        transform: this.rotationTransform || null\n      },\n      bbox\n    };\n  }\n}\n\n;// ./src/display/editor/ink.js\n\n\n\n\n\n\nclass InkDrawingOptions extends DrawingOptions {\n  constructor(viewerParameters) {\n    super();\n    this._viewParameters = viewerParameters;\n    super.updateProperties({\n      fill: \"none\",\n      stroke: AnnotationEditor._defaultLineColor,\n      \"stroke-opacity\": 1,\n      \"stroke-width\": 1,\n      \"stroke-linecap\": \"round\",\n      \"stroke-linejoin\": \"round\",\n      \"stroke-miterlimit\": 10\n    });\n  }\n  updateSVGProperty(name, value) {\n    if (name === \"stroke-width\") {\n      value ??= this[\"stroke-width\"];\n      value *= this._viewParameters.realScale;\n    }\n    super.updateSVGProperty(name, value);\n  }\n  clone() {\n    const clone = new InkDrawingOptions(this._viewParameters);\n    clone.updateAll(this);\n    return clone;\n  }\n}\nclass InkEditor extends DrawingEditor {\n  static _type = \"ink\";\n  static _editorType = AnnotationEditorType.INK;\n  static _defaultDrawingOptions = null;\n  constructor(params) {\n    super({\n      ...params,\n      name: \"inkEditor\"\n    });\n    this._willKeepAspectRatio = true;\n    this.defaultL10nId = \"pdfjs-editor-ink-editor\";\n  }\n  static initialize(l10n, uiManager) {\n    AnnotationEditor.initialize(l10n, uiManager);\n    this._defaultDrawingOptions = new InkDrawingOptions(uiManager.viewParameters);\n  }\n  static getDefaultDrawingOptions(options) {\n    const clone = this._defaultDrawingOptions.clone();\n    clone.updateProperties(options);\n    return clone;\n  }\n  static get supportMultipleDrawings() {\n    return true;\n  }\n  static get typesMap() {\n    return shadow(this, \"typesMap\", new Map([[AnnotationEditorParamsType.INK_THICKNESS, \"stroke-width\"], [AnnotationEditorParamsType.INK_COLOR, \"stroke\"], [AnnotationEditorParamsType.INK_OPACITY, \"stroke-opacity\"]]));\n  }\n  static createDrawerInstance(x, y, parentWidth, parentHeight, rotation) {\n    return new InkDrawOutliner(x, y, parentWidth, parentHeight, rotation, this._defaultDrawingOptions[\"stroke-width\"]);\n  }\n  static deserializeDraw(pageX, pageY, pageWidth, pageHeight, innerMargin, data) {\n    return InkDrawOutline.deserialize(pageX, pageY, pageWidth, pageHeight, innerMargin, data);\n  }\n  static async deserialize(data, parent, uiManager) {\n    let initialData = null;\n    if (data instanceof InkAnnotationElement) {\n      const {\n        data: {\n          inkLists,\n          rect,\n          rotation,\n          id,\n          color,\n          opacity,\n          borderStyle: {\n            rawWidth: thickness\n          },\n          popupRef,\n          richText,\n          contentsObj,\n          creationDate,\n          modificationDate\n        },\n        parent: {\n          page: {\n            pageNumber\n          }\n        }\n      } = data;\n      initialData = data = {\n        annotationType: AnnotationEditorType.INK,\n        color: Array.from(color),\n        thickness,\n        opacity,\n        paths: {\n          points: inkLists\n        },\n        boxes: null,\n        pageIndex: pageNumber - 1,\n        rect: rect.slice(0),\n        rotation,\n        annotationElementId: id,\n        id,\n        deleted: false,\n        popupRef,\n        richText,\n        comment: contentsObj?.str || null,\n        creationDate,\n        modificationDate\n      };\n    }\n    const editor = await super.deserialize(data, parent, uiManager);\n    editor._initialData = initialData;\n    if (data.comment) {\n      editor.setCommentData(data);\n    }\n    return editor;\n  }\n  get toolbarButtons() {\n    this._colorPicker ||= new BasicColorPicker(this);\n    return [[\"colorPicker\", this._colorPicker]];\n  }\n  get colorType() {\n    return AnnotationEditorParamsType.INK_COLOR;\n  }\n  get color() {\n    return this._drawingOptions.stroke;\n  }\n  get opacity() {\n    return this._drawingOptions[\"stroke-opacity\"];\n  }\n  onScaleChanging() {\n    if (!this.parent) {\n      return;\n    }\n    super.onScaleChanging();\n    const {\n      _drawId,\n      _drawingOptions,\n      parent\n    } = this;\n    _drawingOptions.updateSVGProperty(\"stroke-width\");\n    parent.drawLayer.updateProperties(_drawId, _drawingOptions.toSVGProperties());\n  }\n  static onScaleChangingWhenDrawing() {\n    const parent = this._currentParent;\n    if (!parent) {\n      return;\n    }\n    super.onScaleChangingWhenDrawing();\n    this._defaultDrawingOptions.updateSVGProperty(\"stroke-width\");\n    parent.drawLayer.updateProperties(this._currentDrawId, this._defaultDrawingOptions.toSVGProperties());\n  }\n  createDrawingOptions({\n    color,\n    thickness,\n    opacity\n  }) {\n    this._drawingOptions = InkEditor.getDefaultDrawingOptions({\n      stroke: Util.makeHexColor(...color),\n      \"stroke-width\": thickness,\n      \"stroke-opacity\": opacity\n    });\n  }\n  serialize(isForCopying = false) {\n    if (this.isEmpty()) {\n      return null;\n    }\n    if (this.deleted) {\n      return this.serializeDeleted();\n    }\n    const {\n      lines,\n      points\n    } = this.serializeDraw(isForCopying);\n    const {\n      _drawingOptions: {\n        stroke,\n        \"stroke-opacity\": opacity,\n        \"stroke-width\": thickness\n      }\n    } = this;\n    const serialized = Object.assign(super.serialize(isForCopying), {\n      color: AnnotationEditor._colorManager.convert(stroke),\n      opacity,\n      thickness,\n      paths: {\n        lines,\n        points\n      }\n    });\n    this.addComment(serialized);\n    if (isForCopying) {\n      serialized.isCopy = true;\n      return serialized;\n    }\n    if (this.annotationElementId && !this.#hasElementChanged(serialized)) {\n      return null;\n    }\n    serialized.id = this.annotationElementId;\n    return serialized;\n  }\n  #hasElementChanged(serialized) {\n    const {\n      color,\n      thickness,\n      opacity,\n      pageIndex\n    } = this._initialData;\n    return this.hasEditedComment || this._hasBeenMoved || this._hasBeenResized || serialized.color.some((c, i) => c !== color[i]) || serialized.thickness !== thickness || serialized.opacity !== opacity || serialized.pageIndex !== pageIndex;\n  }\n  renderAnnotationElement(annotation) {\n    if (this.deleted) {\n      annotation.hide();\n      return null;\n    }\n    const {\n      points,\n      rect\n    } = this.serializeDraw(false);\n    annotation.updateEdited({\n      rect,\n      thickness: this._drawingOptions[\"stroke-width\"],\n      points,\n      popup: this.comment\n    });\n    return null;\n  }\n}\n\n;// ./src/display/editor/drawers/contour.js\n\nclass ContourDrawOutline extends InkDrawOutline {\n  toSVGPath() {\n    let path = super.toSVGPath();\n    if (!path.endsWith(\"Z\")) {\n      path += \"Z\";\n    }\n    return path;\n  }\n}\n\n;// ./src/display/editor/drawers/signaturedraw.js\n\n\n\n\nconst BASE_HEADER_LENGTH = 8;\nconst POINTS_PROPERTIES_NUMBER = 3;\nclass SignatureExtractor {\n  static #PARAMETERS = {\n    maxDim: 512,\n    sigmaSFactor: 0.02,\n    sigmaR: 25,\n    kernelSize: 16\n  };\n  static #neighborIndexToId(i0, j0, i, j) {\n    i -= i0;\n    j -= j0;\n    if (i === 0) {\n      return j > 0 ? 0 : 4;\n    }\n    if (i === 1) {\n      return j + 6;\n    }\n    return 2 - j;\n  }\n  static #neighborIdToIndex = new Int32Array([0, 1, -1, 1, -1, 0, -1, -1, 0, -1, 1, -1, 1, 0, 1, 1]);\n  static #clockwiseNonZero(buf, width, i0, j0, i, j, offset) {\n    const id = this.#neighborIndexToId(i0, j0, i, j);\n    for (let k = 0; k < 8; k++) {\n      const kk = (-k + id - offset + 16) % 8;\n      const shiftI = this.#neighborIdToIndex[2 * kk];\n      const shiftJ = this.#neighborIdToIndex[2 * kk + 1];\n      if (buf[(i0 + shiftI) * width + (j0 + shiftJ)] !== 0) {\n        return kk;\n      }\n    }\n    return -1;\n  }\n  static #counterClockwiseNonZero(buf, width, i0, j0, i, j, offset) {\n    const id = this.#neighborIndexToId(i0, j0, i, j);\n    for (let k = 0; k < 8; k++) {\n      const kk = (k + id + offset + 16) % 8;\n      const shiftI = this.#neighborIdToIndex[2 * kk];\n      const shiftJ = this.#neighborIdToIndex[2 * kk + 1];\n      if (buf[(i0 + shiftI) * width + (j0 + shiftJ)] !== 0) {\n        return kk;\n      }\n    }\n    return -1;\n  }\n  static #findContours(buf, width, height, threshold) {\n    const N = buf.length;\n    const types = new Int32Array(N);\n    for (let i = 0; i < N; i++) {\n      types[i] = buf[i] <= threshold ? 1 : 0;\n    }\n    for (let i = 1; i < height - 1; i++) {\n      types[i * width] = types[i * width + width - 1] = 0;\n    }\n    for (let i = 0; i < width; i++) {\n      types[i] = types[width * height - 1 - i] = 0;\n    }\n    let nbd = 1;\n    let lnbd;\n    const contours = [];\n    for (let i = 1; i < height - 1; i++) {\n      lnbd = 1;\n      for (let j = 1; j < width - 1; j++) {\n        const ij = i * width + j;\n        const pix = types[ij];\n        if (pix === 0) {\n          continue;\n        }\n        let i2 = i;\n        let j2 = j;\n        if (pix === 1 && types[ij - 1] === 0) {\n          nbd += 1;\n          j2 -= 1;\n        } else if (pix >= 1 && types[ij + 1] === 0) {\n          nbd += 1;\n          j2 += 1;\n          if (pix > 1) {\n            lnbd = pix;\n          }\n        } else {\n          if (pix !== 1) {\n            lnbd = Math.abs(pix);\n          }\n          continue;\n        }\n        const points = [j, i];\n        const isHole = j2 === j + 1;\n        const contour = {\n          isHole,\n          points,\n          id: nbd,\n          parent: 0\n        };\n        contours.push(contour);\n        let contour0;\n        for (const c of contours) {\n          if (c.id === lnbd) {\n            contour0 = c;\n            break;\n          }\n        }\n        if (!contour0) {\n          contour.parent = isHole ? lnbd : 0;\n        } else if (contour0.isHole) {\n          contour.parent = isHole ? contour0.parent : lnbd;\n        } else {\n          contour.parent = isHole ? lnbd : contour0.parent;\n        }\n        const k = this.#clockwiseNonZero(types, width, i, j, i2, j2, 0);\n        if (k === -1) {\n          types[ij] = -nbd;\n          if (types[ij] !== 1) {\n            lnbd = Math.abs(types[ij]);\n          }\n          continue;\n        }\n        let shiftI = this.#neighborIdToIndex[2 * k];\n        let shiftJ = this.#neighborIdToIndex[2 * k + 1];\n        const i1 = i + shiftI;\n        const j1 = j + shiftJ;\n        i2 = i1;\n        j2 = j1;\n        let i3 = i;\n        let j3 = j;\n        while (true) {\n          const kk = this.#counterClockwiseNonZero(types, width, i3, j3, i2, j2, 1);\n          shiftI = this.#neighborIdToIndex[2 * kk];\n          shiftJ = this.#neighborIdToIndex[2 * kk + 1];\n          const i4 = i3 + shiftI;\n          const j4 = j3 + shiftJ;\n          points.push(j4, i4);\n          const ij3 = i3 * width + j3;\n          if (types[ij3 + 1] === 0) {\n            types[ij3] = -nbd;\n          } else if (types[ij3] === 1) {\n            types[ij3] = nbd;\n          }\n          if (i4 === i && j4 === j && i3 === i1 && j3 === j1) {\n            if (types[ij] !== 1) {\n              lnbd = Math.abs(types[ij]);\n            }\n            break;\n          } else {\n            i2 = i3;\n            j2 = j3;\n            i3 = i4;\n            j3 = j4;\n          }\n        }\n      }\n    }\n    return contours;\n  }\n  static #douglasPeuckerHelper(points, start, end, output) {\n    if (end - start <= 4) {\n      for (let i = start; i < end - 2; i += 2) {\n        output.push(points[i], points[i + 1]);\n      }\n      return;\n    }\n    const ax = points[start];\n    const ay = points[start + 1];\n    const abx = points[end - 4] - ax;\n    const aby = points[end - 3] - ay;\n    const dist = Math.hypot(abx, aby);\n    const nabx = abx / dist;\n    const naby = aby / dist;\n    const aa = nabx * ay - naby * ax;\n    const m = aby / abx;\n    const invS = 1 / dist;\n    const phi = Math.atan(m);\n    const cosPhi = Math.cos(phi);\n    const sinPhi = Math.sin(phi);\n    const tmax = invS * (Math.abs(cosPhi) + Math.abs(sinPhi));\n    const poly = invS * (1 - tmax + tmax ** 2);\n    const partialPhi = Math.max(Math.atan(Math.abs(sinPhi + cosPhi) * poly), Math.atan(Math.abs(sinPhi - cosPhi) * poly));\n    let dmax = 0;\n    let index = start;\n    for (let i = start + 2; i < end - 2; i += 2) {\n      const d = Math.abs(aa - nabx * points[i + 1] + naby * points[i]);\n      if (d > dmax) {\n        index = i;\n        dmax = d;\n      }\n    }\n    if (dmax > (dist * partialPhi) ** 2) {\n      this.#douglasPeuckerHelper(points, start, index + 2, output);\n      this.#douglasPeuckerHelper(points, index, end, output);\n    } else {\n      output.push(ax, ay);\n    }\n  }\n  static #douglasPeucker(points) {\n    const output = [];\n    const len = points.length;\n    this.#douglasPeuckerHelper(points, 0, len, output);\n    output.push(points[len - 2], points[len - 1]);\n    return output.length <= 4 ? null : output;\n  }\n  static #bilateralFilter(buf, width, height, sigmaS, sigmaR, kernelSize) {\n    const kernel = new Float32Array(kernelSize ** 2);\n    const sigmaS2 = -2 * sigmaS ** 2;\n    const halfSize = kernelSize >> 1;\n    for (let i = 0; i < kernelSize; i++) {\n      const x = (i - halfSize) ** 2;\n      for (let j = 0; j < kernelSize; j++) {\n        kernel[i * kernelSize + j] = Math.exp((x + (j - halfSize) ** 2) / sigmaS2);\n      }\n    }\n    const rangeValues = new Float32Array(256);\n    const sigmaR2 = -2 * sigmaR ** 2;\n    for (let i = 0; i < 256; i++) {\n      rangeValues[i] = Math.exp(i ** 2 / sigmaR2);\n    }\n    const N = buf.length;\n    const out = new Uint8Array(N);\n    const histogram = new Uint32Array(256);\n    for (let i = 0; i < height; i++) {\n      for (let j = 0; j < width; j++) {\n        const ij = i * width + j;\n        const center = buf[ij];\n        let sum = 0;\n        let norm = 0;\n        for (let k = 0; k < kernelSize; k++) {\n          const y = i + k - halfSize;\n          if (y < 0 || y >= height) {\n            continue;\n          }\n          for (let l = 0; l < kernelSize; l++) {\n            const x = j + l - halfSize;\n            if (x < 0 || x >= width) {\n              continue;\n            }\n            const neighbour = buf[y * width + x];\n            const w = kernel[k * kernelSize + l] * rangeValues[Math.abs(neighbour - center)];\n            sum += neighbour * w;\n            norm += w;\n          }\n        }\n        const pix = out[ij] = Math.round(sum / norm);\n        histogram[pix]++;\n      }\n    }\n    return [out, histogram];\n  }\n  static #getHistogram(buf) {\n    const histogram = new Uint32Array(256);\n    for (const g of buf) {\n      histogram[g]++;\n    }\n    return histogram;\n  }\n  static #toUint8(buf) {\n    const N = buf.length;\n    const out = new Uint8ClampedArray(N >> 2);\n    let max = -Infinity;\n    let min = Infinity;\n    for (let i = 0, ii = out.length; i < ii; i++) {\n      const pix = out[i] = buf[i << 2];\n      max = Math.max(max, pix);\n      min = Math.min(min, pix);\n    }\n    const ratio = 255 / (max - min);\n    for (let i = 0, ii = out.length; i < ii; i++) {\n      out[i] = (out[i] - min) * ratio;\n    }\n    return out;\n  }\n  static #guessThreshold(histogram) {\n    let i;\n    let M = -Infinity;\n    let L = -Infinity;\n    const min = histogram.findIndex(v => v !== 0);\n    let pos = min;\n    let spos = min;\n    for (i = min; i < 256; i++) {\n      const v = histogram[i];\n      if (v > M) {\n        if (i - pos > L) {\n          L = i - pos;\n          spos = i - 1;\n        }\n        M = v;\n        pos = i;\n      }\n    }\n    for (i = spos - 1; i >= 0; i--) {\n      if (histogram[i] > histogram[i + 1]) {\n        break;\n      }\n    }\n    return i;\n  }\n  static #getGrayPixels(bitmap) {\n    const originalBitmap = bitmap;\n    const {\n      width,\n      height\n    } = bitmap;\n    const {\n      maxDim\n    } = this.#PARAMETERS;\n    let newWidth = width;\n    let newHeight = height;\n    if (width > maxDim || height > maxDim) {\n      let prevWidth = width;\n      let prevHeight = height;\n      let steps = Math.log2(Math.max(width, height) / maxDim);\n      const isteps = Math.floor(steps);\n      steps = steps === isteps ? isteps - 1 : isteps;\n      for (let i = 0; i < steps; i++) {\n        newWidth = Math.ceil(prevWidth / 2);\n        newHeight = Math.ceil(prevHeight / 2);\n        const offscreen = new OffscreenCanvas(newWidth, newHeight);\n        const ctx = offscreen.getContext(\"2d\");\n        ctx.drawImage(bitmap, 0, 0, prevWidth, prevHeight, 0, 0, newWidth, newHeight);\n        prevWidth = newWidth;\n        prevHeight = newHeight;\n        if (bitmap !== originalBitmap) {\n          bitmap.close();\n        }\n        bitmap = offscreen.transferToImageBitmap();\n      }\n      const ratio = Math.min(maxDim / newWidth, maxDim / newHeight);\n      newWidth = Math.round(newWidth * ratio);\n      newHeight = Math.round(newHeight * ratio);\n    }\n    const offscreen = new OffscreenCanvas(newWidth, newHeight);\n    const ctx = offscreen.getContext(\"2d\", {\n      willReadFrequently: true\n    });\n    ctx.fillStyle = \"white\";\n    ctx.fillRect(0, 0, newWidth, newHeight);\n    ctx.filter = \"grayscale(1)\";\n    ctx.drawImage(bitmap, 0, 0, bitmap.width, bitmap.height, 0, 0, newWidth, newHeight);\n    const grayImage = ctx.getImageData(0, 0, newWidth, newHeight).data;\n    const uint8Buf = this.#toUint8(grayImage);\n    return [uint8Buf, newWidth, newHeight];\n  }\n  static extractContoursFromText(text, {\n    fontFamily,\n    fontStyle,\n    fontWeight\n  }, pageWidth, pageHeight, rotation, innerMargin) {\n    let canvas = new OffscreenCanvas(1, 1);\n    let ctx = canvas.getContext(\"2d\", {\n      alpha: false\n    });\n    const fontSize = 200;\n    const font = ctx.font = `${fontStyle} ${fontWeight} ${fontSize}px ${fontFamily}`;\n    const {\n      actualBoundingBoxLeft,\n      actualBoundingBoxRight,\n      actualBoundingBoxAscent,\n      actualBoundingBoxDescent,\n      fontBoundingBoxAscent,\n      fontBoundingBoxDescent,\n      width\n    } = ctx.measureText(text);\n    const SCALE = 1.5;\n    const canvasWidth = Math.ceil(Math.max(Math.abs(actualBoundingBoxLeft) + Math.abs(actualBoundingBoxRight) || 0, width) * SCALE);\n    const canvasHeight = Math.ceil(Math.max(Math.abs(actualBoundingBoxAscent) + Math.abs(actualBoundingBoxDescent) || fontSize, Math.abs(fontBoundingBoxAscent) + Math.abs(fontBoundingBoxDescent) || fontSize) * SCALE);\n    canvas = new OffscreenCanvas(canvasWidth, canvasHeight);\n    ctx = canvas.getContext(\"2d\", {\n      alpha: true,\n      willReadFrequently: true\n    });\n    ctx.font = font;\n    ctx.filter = \"grayscale(1)\";\n    ctx.fillStyle = \"white\";\n    ctx.fillRect(0, 0, canvasWidth, canvasHeight);\n    ctx.fillStyle = \"black\";\n    ctx.fillText(text, canvasWidth * (SCALE - 1) / 2, canvasHeight * (3 - SCALE) / 2);\n    const uint8Buf = this.#toUint8(ctx.getImageData(0, 0, canvasWidth, canvasHeight).data);\n    const histogram = this.#getHistogram(uint8Buf);\n    const threshold = this.#guessThreshold(histogram);\n    const contourList = this.#findContours(uint8Buf, canvasWidth, canvasHeight, threshold);\n    return this.processDrawnLines({\n      lines: {\n        curves: contourList,\n        width: canvasWidth,\n        height: canvasHeight\n      },\n      pageWidth,\n      pageHeight,\n      rotation,\n      innerMargin,\n      mustSmooth: true,\n      areContours: true\n    });\n  }\n  static process(bitmap, pageWidth, pageHeight, rotation, innerMargin) {\n    const [uint8Buf, width, height] = this.#getGrayPixels(bitmap);\n    const [buffer, histogram] = this.#bilateralFilter(uint8Buf, width, height, Math.hypot(width, height) * this.#PARAMETERS.sigmaSFactor, this.#PARAMETERS.sigmaR, this.#PARAMETERS.kernelSize);\n    const threshold = this.#guessThreshold(histogram);\n    const contourList = this.#findContours(buffer, width, height, threshold);\n    return this.processDrawnLines({\n      lines: {\n        curves: contourList,\n        width,\n        height\n      },\n      pageWidth,\n      pageHeight,\n      rotation,\n      innerMargin,\n      mustSmooth: true,\n      areContours: true\n    });\n  }\n  static processDrawnLines({\n    lines,\n    pageWidth,\n    pageHeight,\n    rotation,\n    innerMargin,\n    mustSmooth,\n    areContours\n  }) {\n    if (rotation % 180 !== 0) {\n      [pageWidth, pageHeight] = [pageHeight, pageWidth];\n    }\n    const {\n      curves,\n      width,\n      height\n    } = lines;\n    const thickness = lines.thickness ?? 0;\n    const linesAndPoints = [];\n    const ratio = Math.min(pageWidth / width, pageHeight / height);\n    const xScale = ratio / pageWidth;\n    const yScale = ratio / pageHeight;\n    const newCurves = [];\n    for (const {\n      points\n    } of curves) {\n      const reducedPoints = mustSmooth ? this.#douglasPeucker(points) : points;\n      if (!reducedPoints) {\n        continue;\n      }\n      newCurves.push(reducedPoints);\n      const len = reducedPoints.length;\n      const newPoints = new Float32Array(len);\n      const line = new Float32Array(3 * (len === 2 ? 2 : len - 2));\n      linesAndPoints.push({\n        line,\n        points: newPoints\n      });\n      if (len === 2) {\n        newPoints[0] = reducedPoints[0] * xScale;\n        newPoints[1] = reducedPoints[1] * yScale;\n        line.set([NaN, NaN, NaN, NaN, newPoints[0], newPoints[1]], 0);\n        continue;\n      }\n      let [x1, y1, x2, y2] = reducedPoints;\n      x1 *= xScale;\n      y1 *= yScale;\n      x2 *= xScale;\n      y2 *= yScale;\n      newPoints.set([x1, y1, x2, y2], 0);\n      line.set([NaN, NaN, NaN, NaN, x1, y1], 0);\n      for (let i = 4; i < len; i += 2) {\n        const x = newPoints[i] = reducedPoints[i] * xScale;\n        const y = newPoints[i + 1] = reducedPoints[i + 1] * yScale;\n        line.set(Outline.createBezierPoints(x1, y1, x2, y2, x, y), (i - 2) * 3);\n        [x1, y1, x2, y2] = [x2, y2, x, y];\n      }\n    }\n    if (linesAndPoints.length === 0) {\n      return null;\n    }\n    const outline = areContours ? new ContourDrawOutline() : new InkDrawOutline();\n    outline.build(linesAndPoints, pageWidth, pageHeight, 1, rotation, areContours ? 0 : thickness, innerMargin);\n    return {\n      outline,\n      newCurves,\n      areContours,\n      thickness,\n      width,\n      height\n    };\n  }\n  static async compressSignature({\n    outlines,\n    areContours,\n    thickness,\n    width,\n    height\n  }) {\n    let minDiff = Infinity;\n    let maxDiff = -Infinity;\n    let outlinesLength = 0;\n    for (const points of outlines) {\n      outlinesLength += points.length;\n      for (let i = 2, ii = points.length; i < ii; i++) {\n        const dx = points[i] - points[i - 2];\n        minDiff = Math.min(minDiff, dx);\n        maxDiff = Math.max(maxDiff, dx);\n      }\n    }\n    let bufferType;\n    if (minDiff >= -128 && maxDiff <= 127) {\n      bufferType = Int8Array;\n    } else if (minDiff >= -32768 && maxDiff <= 32767) {\n      bufferType = Int16Array;\n    } else {\n      bufferType = Int32Array;\n    }\n    const len = outlines.length;\n    const headerLength = BASE_HEADER_LENGTH + POINTS_PROPERTIES_NUMBER * len;\n    const header = new Uint32Array(headerLength);\n    let offset = 0;\n    header[offset++] = headerLength * Uint32Array.BYTES_PER_ELEMENT + (outlinesLength - 2 * len) * bufferType.BYTES_PER_ELEMENT;\n    header[offset++] = 0;\n    header[offset++] = width;\n    header[offset++] = height;\n    header[offset++] = areContours ? 0 : 1;\n    header[offset++] = Math.max(0, Math.floor(thickness ?? 0));\n    header[offset++] = len;\n    header[offset++] = bufferType.BYTES_PER_ELEMENT;\n    for (const points of outlines) {\n      header[offset++] = points.length - 2;\n      header[offset++] = points[0];\n      header[offset++] = points[1];\n    }\n    const cs = new CompressionStream(\"deflate-raw\");\n    const writer = cs.writable.getWriter();\n    await writer.ready;\n    writer.write(header);\n    const BufferCtor = bufferType.prototype.constructor;\n    for (const points of outlines) {\n      const diffs = new BufferCtor(points.length - 2);\n      for (let i = 2, ii = points.length; i < ii; i++) {\n        diffs[i - 2] = points[i] - points[i - 2];\n      }\n      writer.write(diffs);\n    }\n    writer.close();\n    const buf = await new Response(cs.readable).arrayBuffer();\n    const bytes = new Uint8Array(buf);\n    return toBase64Util(bytes);\n  }\n  static async decompressSignature(signatureData) {\n    try {\n      const bytes = fromBase64Util(signatureData);\n      const {\n        readable,\n        writable\n      } = new DecompressionStream(\"deflate-raw\");\n      const writer = writable.getWriter();\n      await writer.ready;\n      writer.write(bytes).then(async () => {\n        await writer.ready;\n        await writer.close();\n      }).catch(() => {});\n      let data = null;\n      let offset = 0;\n      for await (const chunk of readable) {\n        data ||= new Uint8Array(new Uint32Array(chunk.buffer, 0, 4)[0]);\n        data.set(chunk, offset);\n        offset += chunk.length;\n      }\n      const header = new Uint32Array(data.buffer, 0, data.length >> 2);\n      const version = header[1];\n      if (version !== 0) {\n        throw new Error(`Invalid version: ${version}`);\n      }\n      const width = header[2];\n      const height = header[3];\n      const areContours = header[4] === 0;\n      const thickness = header[5];\n      const numberOfDrawings = header[6];\n      const bufferType = header[7];\n      const outlines = [];\n      const diffsOffset = (BASE_HEADER_LENGTH + POINTS_PROPERTIES_NUMBER * numberOfDrawings) * Uint32Array.BYTES_PER_ELEMENT;\n      let diffs;\n      switch (bufferType) {\n        case Int8Array.BYTES_PER_ELEMENT:\n          diffs = new Int8Array(data.buffer, diffsOffset);\n          break;\n        case Int16Array.BYTES_PER_ELEMENT:\n          diffs = new Int16Array(data.buffer, diffsOffset);\n          break;\n        case Int32Array.BYTES_PER_ELEMENT:\n          diffs = new Int32Array(data.buffer, diffsOffset);\n          break;\n      }\n      offset = 0;\n      for (let i = 0; i < numberOfDrawings; i++) {\n        const len = header[POINTS_PROPERTIES_NUMBER * i + BASE_HEADER_LENGTH];\n        const points = new Float32Array(len + 2);\n        outlines.push(points);\n        for (let j = 0; j < POINTS_PROPERTIES_NUMBER - 1; j++) {\n          points[j] = header[POINTS_PROPERTIES_NUMBER * i + BASE_HEADER_LENGTH + j + 1];\n        }\n        for (let j = 0; j < len; j++) {\n          points[j + 2] = points[j] + diffs[offset++];\n        }\n      }\n      return {\n        areContours,\n        thickness,\n        outlines,\n        width,\n        height\n      };\n    } catch (e) {\n      warn(`decompressSignature: ${e}`);\n      return null;\n    }\n  }\n}\n\n;// ./src/display/editor/signature.js\n\n\n\n\n\n\n\nclass SignatureOptions extends DrawingOptions {\n  constructor() {\n    super();\n    super.updateProperties({\n      fill: AnnotationEditor._defaultLineColor,\n      \"stroke-width\": 0\n    });\n  }\n  clone() {\n    const clone = new SignatureOptions();\n    clone.updateAll(this);\n    return clone;\n  }\n}\nclass DrawnSignatureOptions extends InkDrawingOptions {\n  constructor(viewerParameters) {\n    super(viewerParameters);\n    super.updateProperties({\n      stroke: AnnotationEditor._defaultLineColor,\n      \"stroke-width\": 1\n    });\n  }\n  clone() {\n    const clone = new DrawnSignatureOptions(this._viewParameters);\n    clone.updateAll(this);\n    return clone;\n  }\n}\nclass SignatureEditor extends DrawingEditor {\n  #isExtracted = false;\n  #description = null;\n  #signatureData = null;\n  #signatureUUID = null;\n  static _type = \"signature\";\n  static _editorType = AnnotationEditorType.SIGNATURE;\n  static _defaultDrawingOptions = null;\n  constructor(params) {\n    super({\n      ...params,\n      mustBeCommitted: true,\n      name: \"signatureEditor\"\n    });\n    this._willKeepAspectRatio = true;\n    this.#signatureData = params.signatureData || null;\n    this.#description = null;\n    this.defaultL10nId = \"pdfjs-editor-signature-editor1\";\n  }\n  static initialize(l10n, uiManager) {\n    AnnotationEditor.initialize(l10n, uiManager);\n    this._defaultDrawingOptions = new SignatureOptions();\n    this._defaultDrawnSignatureOptions = new DrawnSignatureOptions(uiManager.viewParameters);\n  }\n  static getDefaultDrawingOptions(options) {\n    const clone = this._defaultDrawingOptions.clone();\n    clone.updateProperties(options);\n    return clone;\n  }\n  static get supportMultipleDrawings() {\n    return false;\n  }\n  static get typesMap() {\n    return shadow(this, \"typesMap\", new Map());\n  }\n  static get isDrawer() {\n    return false;\n  }\n  get telemetryFinalData() {\n    return {\n      type: \"signature\",\n      hasDescription: !!this.#description\n    };\n  }\n  static computeTelemetryFinalData(data) {\n    const hasDescriptionStats = data.get(\"hasDescription\");\n    return {\n      hasAltText: hasDescriptionStats.get(true) ?? 0,\n      hasNoAltText: hasDescriptionStats.get(false) ?? 0\n    };\n  }\n  get isResizable() {\n    return true;\n  }\n  onScaleChanging() {\n    if (this._drawId === null) {\n      return;\n    }\n    super.onScaleChanging();\n  }\n  render() {\n    if (this.div) {\n      return this.div;\n    }\n    let baseX, baseY;\n    const {\n      _isCopy\n    } = this;\n    if (_isCopy) {\n      this._isCopy = false;\n      baseX = this.x;\n      baseY = this.y;\n    }\n    super.render();\n    if (this._drawId === null) {\n      if (this.#signatureData) {\n        const {\n          lines,\n          mustSmooth,\n          areContours,\n          description,\n          uuid,\n          heightInPage\n        } = this.#signatureData;\n        const {\n          rawDims: {\n            pageWidth,\n            pageHeight\n          },\n          rotation\n        } = this.parent.viewport;\n        const outline = SignatureExtractor.processDrawnLines({\n          lines,\n          pageWidth,\n          pageHeight,\n          rotation,\n          innerMargin: SignatureEditor._INNER_MARGIN,\n          mustSmooth,\n          areContours\n        });\n        this.addSignature(outline, heightInPage, description, uuid);\n      } else {\n        this.div.setAttribute(\"data-l10n-args\", JSON.stringify({\n          description: \"\"\n        }));\n        this.div.hidden = true;\n        this._uiManager.getSignature(this);\n      }\n    } else {\n      this.div.setAttribute(\"data-l10n-args\", JSON.stringify({\n        description: this.#description || \"\"\n      }));\n    }\n    if (_isCopy) {\n      this._isCopy = true;\n      this._moveAfterPaste(baseX, baseY);\n    }\n    return this.div;\n  }\n  setUuid(uuid) {\n    this.#signatureUUID = uuid;\n    this.addEditToolbar();\n  }\n  getUuid() {\n    return this.#signatureUUID;\n  }\n  get description() {\n    return this.#description;\n  }\n  set description(description) {\n    this.#description = description;\n    if (!this.div) {\n      return;\n    }\n    this.div.setAttribute(\"data-l10n-args\", JSON.stringify({\n      description\n    }));\n    super.addEditToolbar().then(toolbar => {\n      toolbar?.updateEditSignatureButton(description);\n    });\n  }\n  getSignaturePreview() {\n    const {\n      newCurves,\n      areContours,\n      thickness,\n      width,\n      height\n    } = this.#signatureData;\n    const maxDim = Math.max(width, height);\n    const outlineData = SignatureExtractor.processDrawnLines({\n      lines: {\n        curves: newCurves.map(points => ({\n          points\n        })),\n        thickness,\n        width,\n        height\n      },\n      pageWidth: maxDim,\n      pageHeight: maxDim,\n      rotation: 0,\n      innerMargin: 0,\n      mustSmooth: false,\n      areContours\n    });\n    return {\n      areContours,\n      outline: outlineData.outline\n    };\n  }\n  get toolbarButtons() {\n    if (this._uiManager.signatureManager) {\n      return [[\"editSignature\", this._uiManager.signatureManager]];\n    }\n    return super.toolbarButtons;\n  }\n  addSignature(data, heightInPage, description, uuid) {\n    const {\n      x: savedX,\n      y: savedY\n    } = this;\n    const {\n      outline\n    } = this.#signatureData = data;\n    this.#isExtracted = outline instanceof ContourDrawOutline;\n    this.description = description;\n    let drawingOptions;\n    if (this.#isExtracted) {\n      drawingOptions = SignatureEditor.getDefaultDrawingOptions();\n    } else {\n      drawingOptions = SignatureEditor._defaultDrawnSignatureOptions.clone();\n      drawingOptions.updateProperties({\n        \"stroke-width\": outline.thickness\n      });\n    }\n    this._addOutlines({\n      drawOutlines: outline,\n      drawingOptions\n    });\n    const [, pageHeight] = this.pageDimensions;\n    let newHeight = heightInPage / pageHeight;\n    newHeight = newHeight >= 1 ? 0.5 : newHeight;\n    this.width *= newHeight / this.height;\n    if (this.width >= 1) {\n      newHeight *= 0.9 / this.width;\n      this.width = 0.9;\n    }\n    this.height = newHeight;\n    this.setDims();\n    this.x = savedX;\n    this.y = savedY;\n    this.center();\n    this._onResized();\n    this.onScaleChanging();\n    this.rotate();\n    this._uiManager.addToAnnotationStorage(this);\n    this.setUuid(uuid);\n    this._reportTelemetry({\n      action: \"pdfjs.signature.inserted\",\n      data: {\n        hasBeenSaved: !!uuid,\n        hasDescription: !!description\n      }\n    });\n    this.div.hidden = false;\n  }\n  getFromImage(bitmap) {\n    const {\n      rawDims: {\n        pageWidth,\n        pageHeight\n      },\n      rotation\n    } = this.parent.viewport;\n    return SignatureExtractor.process(bitmap, pageWidth, pageHeight, rotation, SignatureEditor._INNER_MARGIN);\n  }\n  getFromText(text, fontInfo) {\n    const {\n      rawDims: {\n        pageWidth,\n        pageHeight\n      },\n      rotation\n    } = this.parent.viewport;\n    return SignatureExtractor.extractContoursFromText(text, fontInfo, pageWidth, pageHeight, rotation, SignatureEditor._INNER_MARGIN);\n  }\n  getDrawnSignature(curves) {\n    const {\n      rawDims: {\n        pageWidth,\n        pageHeight\n      },\n      rotation\n    } = this.parent.viewport;\n    return SignatureExtractor.processDrawnLines({\n      lines: curves,\n      pageWidth,\n      pageHeight,\n      rotation,\n      innerMargin: SignatureEditor._INNER_MARGIN,\n      mustSmooth: false,\n      areContours: false\n    });\n  }\n  createDrawingOptions({\n    areContours,\n    thickness\n  }) {\n    if (areContours) {\n      this._drawingOptions = SignatureEditor.getDefaultDrawingOptions();\n    } else {\n      this._drawingOptions = SignatureEditor._defaultDrawnSignatureOptions.clone();\n      this._drawingOptions.updateProperties({\n        \"stroke-width\": thickness\n      });\n    }\n  }\n  serialize(isForCopying = false) {\n    if (this.isEmpty()) {\n      return null;\n    }\n    const {\n      lines,\n      points\n    } = this.serializeDraw(isForCopying);\n    const {\n      _drawingOptions: {\n        \"stroke-width\": thickness\n      }\n    } = this;\n    const serialized = Object.assign(super.serialize(isForCopying), {\n      isSignature: true,\n      areContours: this.#isExtracted,\n      color: [0, 0, 0],\n      thickness: this.#isExtracted ? 0 : thickness\n    });\n    this.addComment(serialized);\n    if (isForCopying) {\n      serialized.paths = {\n        lines,\n        points\n      };\n      serialized.uuid = this.#signatureUUID;\n      serialized.isCopy = true;\n    } else {\n      serialized.lines = lines;\n    }\n    if (this.#description) {\n      serialized.accessibilityData = {\n        type: \"Figure\",\n        alt: this.#description\n      };\n    }\n    return serialized;\n  }\n  static deserializeDraw(pageX, pageY, pageWidth, pageHeight, innerMargin, data) {\n    if (data.areContours) {\n      return ContourDrawOutline.deserialize(pageX, pageY, pageWidth, pageHeight, innerMargin, data);\n    }\n    return InkDrawOutline.deserialize(pageX, pageY, pageWidth, pageHeight, innerMargin, data);\n  }\n  static async deserialize(data, parent, uiManager) {\n    const editor = await super.deserialize(data, parent, uiManager);\n    editor.#isExtracted = data.areContours;\n    editor.description = data.accessibilityData?.alt || \"\";\n    editor.#signatureUUID = data.uuid;\n    return editor;\n  }\n}\n\n;// ./src/display/editor/stamp.js\n\n\n\n\nclass StampEditor extends AnnotationEditor {\n  #bitmap = null;\n  #bitmapId = null;\n  #bitmapPromise = null;\n  #bitmapUrl = null;\n  #bitmapFile = null;\n  #bitmapFileName = \"\";\n  #canvas = null;\n  #missingCanvas = false;\n  #resizeTimeoutId = null;\n  #isSvg = false;\n  #hasBeenAddedInUndoStack = false;\n  static _type = \"stamp\";\n  static _editorType = AnnotationEditorType.STAMP;\n  constructor(params) {\n    super({\n      ...params,\n      name: \"stampEditor\"\n    });\n    this.#bitmapUrl = params.bitmapUrl;\n    this.#bitmapFile = params.bitmapFile;\n    this.defaultL10nId = \"pdfjs-editor-stamp-editor\";\n  }\n  static initialize(l10n, uiManager) {\n    AnnotationEditor.initialize(l10n, uiManager);\n  }\n  static isHandlingMimeForPasting(mime) {\n    return SupportedImageMimeTypes.includes(mime);\n  }\n  static paste(item, parent) {\n    parent.pasteEditor({\n      mode: AnnotationEditorType.STAMP\n    }, {\n      bitmapFile: item.getAsFile()\n    });\n  }\n  altTextFinish() {\n    if (this._uiManager.useNewAltTextFlow) {\n      this.div.hidden = false;\n    }\n    super.altTextFinish();\n  }\n  get telemetryFinalData() {\n    return {\n      type: \"stamp\",\n      hasAltText: !!this.altTextData?.altText\n    };\n  }\n  static computeTelemetryFinalData(data) {\n    const hasAltTextStats = data.get(\"hasAltText\");\n    return {\n      hasAltText: hasAltTextStats.get(true) ?? 0,\n      hasNoAltText: hasAltTextStats.get(false) ?? 0\n    };\n  }\n  #getBitmapFetched(data, fromId = false) {\n    if (!data) {\n      this.remove();\n      return;\n    }\n    this.#bitmap = data.bitmap;\n    if (!fromId) {\n      this.#bitmapId = data.id;\n      this.#isSvg = data.isSvg;\n    }\n    if (data.file) {\n      this.#bitmapFileName = data.file.name;\n    }\n    this.#createCanvas();\n  }\n  #getBitmapDone() {\n    this.#bitmapPromise = null;\n    this._uiManager.enableWaiting(false);\n    if (!this.#canvas) {\n      return;\n    }\n    if (this._uiManager.useNewAltTextWhenAddingImage && this._uiManager.useNewAltTextFlow && this.#bitmap) {\n      this.addEditToolbar().then(() => {\n        this._editToolbar.hide();\n        this._uiManager.editAltText(this, true);\n      });\n      return;\n    }\n    if (!this._uiManager.useNewAltTextWhenAddingImage && this._uiManager.useNewAltTextFlow && this.#bitmap) {\n      this._reportTelemetry({\n        action: \"pdfjs.image.image_added\",\n        data: {\n          alt_text_modal: false,\n          alt_text_type: \"empty\"\n        }\n      });\n      try {\n        this.mlGuessAltText();\n      } catch {}\n    }\n    this.div.focus();\n  }\n  async mlGuessAltText(imageData = null, updateAltTextData = true) {\n    if (this.hasAltTextData()) {\n      return null;\n    }\n    const {\n      mlManager\n    } = this._uiManager;\n    if (!mlManager) {\n      throw new Error(\"No ML.\");\n    }\n    if (!(await mlManager.isEnabledFor(\"altText\"))) {\n      throw new Error(\"ML isn't enabled for alt text.\");\n    }\n    const {\n      data,\n      width,\n      height\n    } = imageData || this.copyCanvas(null, null, true).imageData;\n    const response = await mlManager.guess({\n      name: \"altText\",\n      request: {\n        data,\n        width,\n        height,\n        channels: data.length / (width * height)\n      }\n    });\n    if (!response) {\n      throw new Error(\"No response from the AI service.\");\n    }\n    if (response.error) {\n      throw new Error(\"Error from the AI service.\");\n    }\n    if (response.cancel) {\n      return null;\n    }\n    if (!response.output) {\n      throw new Error(\"No valid response from the AI service.\");\n    }\n    const altText = response.output;\n    await this.setGuessedAltText(altText);\n    if (updateAltTextData && !this.hasAltTextData()) {\n      this.altTextData = {\n        alt: altText,\n        decorative: false\n      };\n    }\n    return altText;\n  }\n  #getBitmap() {\n    if (this.#bitmapId) {\n      this._uiManager.enableWaiting(true);\n      this._uiManager.imageManager.getFromId(this.#bitmapId).then(data => this.#getBitmapFetched(data, true)).finally(() => this.#getBitmapDone());\n      return;\n    }\n    if (this.#bitmapUrl) {\n      const url = this.#bitmapUrl;\n      this.#bitmapUrl = null;\n      this._uiManager.enableWaiting(true);\n      this.#bitmapPromise = this._uiManager.imageManager.getFromUrl(url).then(data => this.#getBitmapFetched(data)).finally(() => this.#getBitmapDone());\n      return;\n    }\n    if (this.#bitmapFile) {\n      const file = this.#bitmapFile;\n      this.#bitmapFile = null;\n      this._uiManager.enableWaiting(true);\n      this.#bitmapPromise = this._uiManager.imageManager.getFromFile(file).then(data => this.#getBitmapFetched(data)).finally(() => this.#getBitmapDone());\n      return;\n    }\n    const input = document.createElement(\"input\");\n    input.type = \"file\";\n    input.accept = SupportedImageMimeTypes.join(\",\");\n    const signal = this._uiManager._signal;\n    this.#bitmapPromise = new Promise(resolve => {\n      input.addEventListener(\"change\", async () => {\n        if (!input.files || input.files.length === 0) {\n          this.remove();\n        } else {\n          this._uiManager.enableWaiting(true);\n          const data = await this._uiManager.imageManager.getFromFile(input.files[0]);\n          this._reportTelemetry({\n            action: \"pdfjs.image.image_selected\",\n            data: {\n              alt_text_modal: this._uiManager.useNewAltTextFlow\n            }\n          });\n          this.#getBitmapFetched(data);\n        }\n        resolve();\n      }, {\n        signal\n      });\n      input.addEventListener(\"cancel\", () => {\n        this.remove();\n        resolve();\n      }, {\n        signal\n      });\n    }).finally(() => this.#getBitmapDone());\n    input.click();\n  }\n  remove() {\n    if (this.#bitmapId) {\n      this.#bitmap = null;\n      this._uiManager.imageManager.deleteId(this.#bitmapId);\n      this.#canvas?.remove();\n      this.#canvas = null;\n      if (this.#resizeTimeoutId) {\n        clearTimeout(this.#resizeTimeoutId);\n        this.#resizeTimeoutId = null;\n      }\n    }\n    super.remove();\n  }\n  rebuild() {\n    if (!this.parent) {\n      if (this.#bitmapId) {\n        this.#getBitmap();\n      }\n      return;\n    }\n    super.rebuild();\n    if (this.div === null) {\n      return;\n    }\n    if (this.#bitmapId && this.#canvas === null) {\n      this.#getBitmap();\n    }\n    if (!this.isAttachedToDOM) {\n      this.parent.add(this);\n    }\n  }\n  onceAdded(focus) {\n    this._isDraggable = true;\n    if (focus) {\n      this.div.focus();\n    }\n  }\n  isEmpty() {\n    return !(this.#bitmapPromise || this.#bitmap || this.#bitmapUrl || this.#bitmapFile || this.#bitmapId || this.#missingCanvas);\n  }\n  get toolbarButtons() {\n    return [[\"altText\", this.createAltText()]];\n  }\n  get isResizable() {\n    return true;\n  }\n  render() {\n    if (this.div) {\n      return this.div;\n    }\n    let baseX, baseY;\n    if (this._isCopy) {\n      baseX = this.x;\n      baseY = this.y;\n    }\n    super.render();\n    this.div.hidden = true;\n    this.createAltText();\n    if (!this.#missingCanvas) {\n      if (this.#bitmap) {\n        this.#createCanvas();\n      } else {\n        this.#getBitmap();\n      }\n    }\n    if (this._isCopy) {\n      this._moveAfterPaste(baseX, baseY);\n    }\n    this._uiManager.addShouldRescale(this);\n    return this.div;\n  }\n  setCanvas(annotationElementId, canvas) {\n    const {\n      id: bitmapId,\n      bitmap\n    } = this._uiManager.imageManager.getFromCanvas(annotationElementId, canvas);\n    canvas.remove();\n    if (bitmapId && this._uiManager.imageManager.isValidId(bitmapId)) {\n      this.#bitmapId = bitmapId;\n      if (bitmap) {\n        this.#bitmap = bitmap;\n      }\n      this.#missingCanvas = false;\n      this.#createCanvas();\n    }\n  }\n  _onResized() {\n    this.onScaleChanging();\n  }\n  onScaleChanging() {\n    if (!this.parent) {\n      return;\n    }\n    if (this.#resizeTimeoutId !== null) {\n      clearTimeout(this.#resizeTimeoutId);\n    }\n    const TIME_TO_WAIT = 200;\n    this.#resizeTimeoutId = setTimeout(() => {\n      this.#resizeTimeoutId = null;\n      this.#drawBitmap();\n    }, TIME_TO_WAIT);\n  }\n  #createCanvas() {\n    const {\n      div\n    } = this;\n    let {\n      width,\n      height\n    } = this.#bitmap;\n    const [pageWidth, pageHeight] = this.pageDimensions;\n    const MAX_RATIO = 0.75;\n    if (this.width) {\n      width = this.width * pageWidth;\n      height = this.height * pageHeight;\n    } else if (width > MAX_RATIO * pageWidth || height > MAX_RATIO * pageHeight) {\n      const factor = Math.min(MAX_RATIO * pageWidth / width, MAX_RATIO * pageHeight / height);\n      width *= factor;\n      height *= factor;\n    }\n    this._uiManager.enableWaiting(false);\n    const canvas = this.#canvas = document.createElement(\"canvas\");\n    canvas.setAttribute(\"role\", \"img\");\n    this.addContainer(canvas);\n    this.width = width / pageWidth;\n    this.height = height / pageHeight;\n    this.setDims();\n    if (this._initialOptions?.isCentered) {\n      this.center();\n    } else {\n      this.fixAndSetPosition();\n    }\n    this._initialOptions = null;\n    if (!this._uiManager.useNewAltTextWhenAddingImage || !this._uiManager.useNewAltTextFlow || this.annotationElementId) {\n      div.hidden = false;\n    }\n    this.#drawBitmap();\n    if (!this.#hasBeenAddedInUndoStack) {\n      this.parent.addUndoableEditor(this);\n      this.#hasBeenAddedInUndoStack = true;\n    }\n    this._reportTelemetry({\n      action: \"inserted_image\"\n    });\n    if (this.#bitmapFileName) {\n      this.div.setAttribute(\"aria-description\", this.#bitmapFileName);\n    }\n    if (!this.annotationElementId) {\n      this._uiManager.a11yAlert(\"pdfjs-editor-stamp-added-alert\");\n    }\n  }\n  copyCanvas(maxDataDimension, maxPreviewDimension, createImageData = false) {\n    if (!maxDataDimension) {\n      maxDataDimension = 224;\n    }\n    const {\n      width: bitmapWidth,\n      height: bitmapHeight\n    } = this.#bitmap;\n    const outputScale = new OutputScale();\n    let bitmap = this.#bitmap;\n    let width = bitmapWidth,\n      height = bitmapHeight;\n    let canvas = null;\n    if (maxPreviewDimension) {\n      if (bitmapWidth > maxPreviewDimension || bitmapHeight > maxPreviewDimension) {\n        const ratio = Math.min(maxPreviewDimension / bitmapWidth, maxPreviewDimension / bitmapHeight);\n        width = Math.floor(bitmapWidth * ratio);\n        height = Math.floor(bitmapHeight * ratio);\n      }\n      canvas = document.createElement(\"canvas\");\n      const scaledWidth = canvas.width = Math.ceil(width * outputScale.sx);\n      const scaledHeight = canvas.height = Math.ceil(height * outputScale.sy);\n      if (!this.#isSvg) {\n        bitmap = this.#scaleBitmap(scaledWidth, scaledHeight);\n      }\n      const ctx = canvas.getContext(\"2d\");\n      ctx.filter = this._uiManager.hcmFilter;\n      let white = \"white\",\n        black = \"#cfcfd8\";\n      if (this._uiManager.hcmFilter !== \"none\") {\n        black = \"black\";\n      } else if (ColorScheme.isDarkMode) {\n        white = \"#8f8f9d\";\n        black = \"#42414d\";\n      }\n      const boxDim = 15;\n      const boxDimWidth = boxDim * outputScale.sx;\n      const boxDimHeight = boxDim * outputScale.sy;\n      const pattern = new OffscreenCanvas(boxDimWidth * 2, boxDimHeight * 2);\n      const patternCtx = pattern.getContext(\"2d\");\n      patternCtx.fillStyle = white;\n      patternCtx.fillRect(0, 0, boxDimWidth * 2, boxDimHeight * 2);\n      patternCtx.fillStyle = black;\n      patternCtx.fillRect(0, 0, boxDimWidth, boxDimHeight);\n      patternCtx.fillRect(boxDimWidth, boxDimHeight, boxDimWidth, boxDimHeight);\n      ctx.fillStyle = ctx.createPattern(pattern, \"repeat\");\n      ctx.fillRect(0, 0, scaledWidth, scaledHeight);\n      ctx.drawImage(bitmap, 0, 0, bitmap.width, bitmap.height, 0, 0, scaledWidth, scaledHeight);\n    }\n    let imageData = null;\n    if (createImageData) {\n      let dataWidth, dataHeight;\n      if (outputScale.symmetric && bitmap.width < maxDataDimension && bitmap.height < maxDataDimension) {\n        dataWidth = bitmap.width;\n        dataHeight = bitmap.height;\n      } else {\n        bitmap = this.#bitmap;\n        if (bitmapWidth > maxDataDimension || bitmapHeight > maxDataDimension) {\n          const ratio = Math.min(maxDataDimension / bitmapWidth, maxDataDimension / bitmapHeight);\n          dataWidth = Math.floor(bitmapWidth * ratio);\n          dataHeight = Math.floor(bitmapHeight * ratio);\n          if (!this.#isSvg) {\n            bitmap = this.#scaleBitmap(dataWidth, dataHeight);\n          }\n        }\n      }\n      const offscreen = new OffscreenCanvas(dataWidth, dataHeight);\n      const offscreenCtx = offscreen.getContext(\"2d\", {\n        willReadFrequently: true\n      });\n      offscreenCtx.drawImage(bitmap, 0, 0, bitmap.width, bitmap.height, 0, 0, dataWidth, dataHeight);\n      imageData = {\n        width: dataWidth,\n        height: dataHeight,\n        data: offscreenCtx.getImageData(0, 0, dataWidth, dataHeight).data\n      };\n    }\n    return {\n      canvas,\n      width,\n      height,\n      imageData\n    };\n  }\n  #scaleBitmap(width, height) {\n    const {\n      width: bitmapWidth,\n      height: bitmapHeight\n    } = this.#bitmap;\n    let newWidth = bitmapWidth;\n    let newHeight = bitmapHeight;\n    let bitmap = this.#bitmap;\n    while (newWidth > 2 * width || newHeight > 2 * height) {\n      const prevWidth = newWidth;\n      const prevHeight = newHeight;\n      if (newWidth > 2 * width) {\n        newWidth = newWidth >= 16384 ? Math.floor(newWidth / 2) - 1 : Math.ceil(newWidth / 2);\n      }\n      if (newHeight > 2 * height) {\n        newHeight = newHeight >= 16384 ? Math.floor(newHeight / 2) - 1 : Math.ceil(newHeight / 2);\n      }\n      const offscreen = new OffscreenCanvas(newWidth, newHeight);\n      const ctx = offscreen.getContext(\"2d\");\n      ctx.drawImage(bitmap, 0, 0, prevWidth, prevHeight, 0, 0, newWidth, newHeight);\n      bitmap = offscreen.transferToImageBitmap();\n    }\n    return bitmap;\n  }\n  #drawBitmap() {\n    const [parentWidth, parentHeight] = this.parentDimensions;\n    const {\n      width,\n      height\n    } = this;\n    const outputScale = new OutputScale();\n    const scaledWidth = Math.ceil(width * parentWidth * outputScale.sx);\n    const scaledHeight = Math.ceil(height * parentHeight * outputScale.sy);\n    const canvas = this.#canvas;\n    if (!canvas || canvas.width === scaledWidth && canvas.height === scaledHeight) {\n      return;\n    }\n    canvas.width = scaledWidth;\n    canvas.height = scaledHeight;\n    const bitmap = this.#isSvg ? this.#bitmap : this.#scaleBitmap(scaledWidth, scaledHeight);\n    const ctx = canvas.getContext(\"2d\");\n    ctx.filter = this._uiManager.hcmFilter;\n    ctx.drawImage(bitmap, 0, 0, bitmap.width, bitmap.height, 0, 0, scaledWidth, scaledHeight);\n  }\n  #serializeBitmap(toUrl) {\n    if (toUrl) {\n      if (this.#isSvg) {\n        const url = this._uiManager.imageManager.getSvgUrl(this.#bitmapId);\n        if (url) {\n          return url;\n        }\n      }\n      const canvas = document.createElement(\"canvas\");\n      ({\n        width: canvas.width,\n        height: canvas.height\n      } = this.#bitmap);\n      const ctx = canvas.getContext(\"2d\");\n      ctx.drawImage(this.#bitmap, 0, 0);\n      return canvas.toDataURL();\n    }\n    if (this.#isSvg) {\n      const [pageWidth, pageHeight] = this.pageDimensions;\n      const width = Math.round(this.width * pageWidth * PixelsPerInch.PDF_TO_CSS_UNITS);\n      const height = Math.round(this.height * pageHeight * PixelsPerInch.PDF_TO_CSS_UNITS);\n      const offscreen = new OffscreenCanvas(width, height);\n      const ctx = offscreen.getContext(\"2d\");\n      ctx.drawImage(this.#bitmap, 0, 0, this.#bitmap.width, this.#bitmap.height, 0, 0, width, height);\n      return offscreen.transferToImageBitmap();\n    }\n    return structuredClone(this.#bitmap);\n  }\n  static async deserialize(data, parent, uiManager) {\n    let initialData = null;\n    let missingCanvas = false;\n    if (data instanceof StampAnnotationElement) {\n      const {\n        data: {\n          rect,\n          rotation,\n          id,\n          structParent,\n          popupRef,\n          richText,\n          contentsObj,\n          creationDate,\n          modificationDate\n        },\n        container,\n        parent: {\n          page: {\n            pageNumber\n          }\n        },\n        canvas\n      } = data;\n      let bitmapId, bitmap;\n      if (canvas) {\n        delete data.canvas;\n        ({\n          id: bitmapId,\n          bitmap\n        } = uiManager.imageManager.getFromCanvas(container.id, canvas));\n        canvas.remove();\n      } else {\n        missingCanvas = true;\n        data._hasNoCanvas = true;\n      }\n      const altText = (await parent._structTree.getAriaAttributes(`${AnnotationPrefix}${id}`))?.get(\"aria-label\") || \"\";\n      initialData = data = {\n        annotationType: AnnotationEditorType.STAMP,\n        bitmapId,\n        bitmap,\n        pageIndex: pageNumber - 1,\n        rect: rect.slice(0),\n        rotation,\n        annotationElementId: id,\n        id,\n        deleted: false,\n        accessibilityData: {\n          decorative: false,\n          altText\n        },\n        isSvg: false,\n        structParent,\n        popupRef,\n        richText,\n        comment: contentsObj?.str || null,\n        creationDate,\n        modificationDate\n      };\n    }\n    const editor = await super.deserialize(data, parent, uiManager);\n    const {\n      rect,\n      bitmap,\n      bitmapUrl,\n      bitmapId,\n      isSvg,\n      accessibilityData\n    } = data;\n    if (missingCanvas) {\n      uiManager.addMissingCanvas(data.id, editor);\n      editor.#missingCanvas = true;\n    } else if (bitmapId && uiManager.imageManager.isValidId(bitmapId)) {\n      editor.#bitmapId = bitmapId;\n      if (bitmap) {\n        editor.#bitmap = bitmap;\n      }\n    } else {\n      editor.#bitmapUrl = bitmapUrl;\n    }\n    editor.#isSvg = isSvg;\n    const [parentWidth, parentHeight] = editor.pageDimensions;\n    editor.width = (rect[2] - rect[0]) / parentWidth;\n    editor.height = (rect[3] - rect[1]) / parentHeight;\n    if (accessibilityData) {\n      editor.altTextData = accessibilityData;\n    }\n    editor._initialData = initialData;\n    if (data.comment) {\n      editor.setCommentData(data);\n    }\n    editor.#hasBeenAddedInUndoStack = !!initialData;\n    return editor;\n  }\n  serialize(isForCopying = false, context = null) {\n    if (this.isEmpty()) {\n      return null;\n    }\n    if (this.deleted) {\n      return this.serializeDeleted();\n    }\n    const serialized = Object.assign(super.serialize(isForCopying), {\n      bitmapId: this.#bitmapId,\n      isSvg: this.#isSvg\n    });\n    this.addComment(serialized);\n    if (isForCopying) {\n      serialized.bitmapUrl = this.#serializeBitmap(true);\n      serialized.accessibilityData = this.serializeAltText(true);\n      serialized.isCopy = true;\n      return serialized;\n    }\n    const {\n      decorative,\n      altText\n    } = this.serializeAltText(false);\n    if (!decorative && altText) {\n      serialized.accessibilityData = {\n        type: \"Figure\",\n        alt: altText\n      };\n    }\n    if (this.annotationElementId) {\n      const changes = this.#hasElementChanged(serialized);\n      if (changes.isSame) {\n        return null;\n      }\n      if (changes.isSameAltText) {\n        delete serialized.accessibilityData;\n      } else {\n        serialized.accessibilityData.structParent = this._initialData.structParent ?? -1;\n      }\n      serialized.id = this.annotationElementId;\n      delete serialized.bitmapId;\n      return serialized;\n    }\n    if (context === null) {\n      return serialized;\n    }\n    context.stamps ||= new Map();\n    const area = this.#isSvg ? (serialized.rect[2] - serialized.rect[0]) * (serialized.rect[3] - serialized.rect[1]) : null;\n    if (!context.stamps.has(this.#bitmapId)) {\n      context.stamps.set(this.#bitmapId, {\n        area,\n        serialized\n      });\n      serialized.bitmap = this.#serializeBitmap(false);\n    } else if (this.#isSvg) {\n      const prevData = context.stamps.get(this.#bitmapId);\n      if (area > prevData.area) {\n        prevData.area = area;\n        prevData.serialized.bitmap.close();\n        prevData.serialized.bitmap = this.#serializeBitmap(false);\n      }\n    }\n    return serialized;\n  }\n  #hasElementChanged(serialized) {\n    const {\n      pageIndex,\n      accessibilityData: {\n        altText\n      }\n    } = this._initialData;\n    const isSamePageIndex = serialized.pageIndex === pageIndex;\n    const isSameAltText = (serialized.accessibilityData?.alt || \"\") === altText;\n    return {\n      isSame: !this.hasEditedComment && !this._hasBeenMoved && !this._hasBeenResized && isSamePageIndex && isSameAltText,\n      isSameAltText\n    };\n  }\n  renderAnnotationElement(annotation) {\n    if (this.deleted) {\n      annotation.hide();\n      return null;\n    }\n    annotation.updateEdited({\n      rect: this.getPDFRect(),\n      popup: this.comment\n    });\n    return null;\n  }\n}\n\n;// ./src/display/editor/annotation_editor_layer.js\n\n\n\n\n\n\n\n\nclass AnnotationEditorLayer {\n  #accessibilityManager;\n  #allowClick = false;\n  #annotationLayer = null;\n  #clickAC = null;\n  #editorFocusTimeoutId = null;\n  #editors = new Map();\n  #hadPointerDown = false;\n  #isDisabling = false;\n  #isEnabling = false;\n  #drawingAC = null;\n  #focusedElement = null;\n  #textLayer = null;\n  #textSelectionAC = null;\n  #textLayerDblClickAC = null;\n  #lastPointerDownTimestamp = -1;\n  #uiManager;\n  static _initialized = false;\n  static #editorTypes = new Map([FreeTextEditor, InkEditor, StampEditor, HighlightEditor, SignatureEditor].map(type => [type._editorType, type]));\n  constructor({\n    uiManager,\n    pageIndex,\n    div,\n    structTreeLayer,\n    accessibilityManager,\n    annotationLayer,\n    drawLayer,\n    textLayer,\n    viewport,\n    l10n\n  }) {\n    const editorTypes = [...AnnotationEditorLayer.#editorTypes.values()];\n    if (!AnnotationEditorLayer._initialized) {\n      AnnotationEditorLayer._initialized = true;\n      for (const editorType of editorTypes) {\n        editorType.initialize(l10n, uiManager);\n      }\n    }\n    uiManager.registerEditorTypes(editorTypes);\n    this.#uiManager = uiManager;\n    this.pageIndex = pageIndex;\n    this.div = div;\n    this.#accessibilityManager = accessibilityManager;\n    this.#annotationLayer = annotationLayer;\n    this.viewport = viewport;\n    this.#textLayer = textLayer;\n    this.drawLayer = drawLayer;\n    this._structTree = structTreeLayer;\n    this.#uiManager.addLayer(this);\n  }\n  get isEmpty() {\n    return this.#editors.size === 0;\n  }\n  get isInvisible() {\n    return this.isEmpty && this.#uiManager.getMode() === AnnotationEditorType.NONE;\n  }\n  updateToolbar(options) {\n    this.#uiManager.updateToolbar(options);\n  }\n  updateMode(mode = this.#uiManager.getMode()) {\n    this.#cleanup();\n    switch (mode) {\n      case AnnotationEditorType.NONE:\n        this.div.classList.toggle(\"nonEditing\", true);\n        this.disableTextSelection();\n        this.togglePointerEvents(false);\n        this.toggleAnnotationLayerPointerEvents(true);\n        this.disableClick();\n        return;\n      case AnnotationEditorType.INK:\n        this.disableTextSelection();\n        this.togglePointerEvents(true);\n        this.enableClick();\n        break;\n      case AnnotationEditorType.HIGHLIGHT:\n        this.enableTextSelection();\n        this.togglePointerEvents(false);\n        this.disableClick();\n        break;\n      default:\n        this.disableTextSelection();\n        this.togglePointerEvents(true);\n        this.enableClick();\n    }\n    this.toggleAnnotationLayerPointerEvents(false);\n    const {\n      classList\n    } = this.div;\n    classList.toggle(\"nonEditing\", false);\n    if (mode === AnnotationEditorType.POPUP) {\n      classList.toggle(\"commentEditing\", true);\n    } else {\n      classList.toggle(\"commentEditing\", false);\n      for (const editorType of AnnotationEditorLayer.#editorTypes.values()) {\n        classList.toggle(`${editorType._type}Editing`, mode === editorType._editorType);\n      }\n    }\n    this.div.hidden = false;\n  }\n  hasTextLayer(textLayer) {\n    return textLayer === this.#textLayer?.div;\n  }\n  setEditingState(isEditing) {\n    this.#uiManager.setEditingState(isEditing);\n  }\n  addCommands(params) {\n    this.#uiManager.addCommands(params);\n  }\n  cleanUndoStack(type) {\n    this.#uiManager.cleanUndoStack(type);\n  }\n  toggleDrawing(enabled = false) {\n    this.div.classList.toggle(\"drawing\", !enabled);\n  }\n  togglePointerEvents(enabled = false) {\n    this.div.classList.toggle(\"disabled\", !enabled);\n  }\n  toggleAnnotationLayerPointerEvents(enabled = false) {\n    this.#annotationLayer?.togglePointerEvents(enabled);\n  }\n  get #allEditorsIterator() {\n    return this.#editors.size !== 0 ? this.#editors.values() : this.#uiManager.getEditors(this.pageIndex);\n  }\n  async enable() {\n    this.#isEnabling = true;\n    this.div.tabIndex = 0;\n    this.togglePointerEvents(true);\n    this.div.classList.toggle(\"nonEditing\", false);\n    this.#textLayerDblClickAC?.abort();\n    this.#textLayerDblClickAC = null;\n    const annotationElementIds = new Set();\n    for (const editor of this.#allEditorsIterator) {\n      editor.enableEditing();\n      editor.show(true);\n      if (editor.annotationElementId) {\n        this.#uiManager.removeChangedExistingAnnotation(editor);\n        annotationElementIds.add(editor.annotationElementId);\n      }\n    }\n    const annotationLayer = this.#annotationLayer;\n    if (annotationLayer) {\n      for (const editable of annotationLayer.getEditableAnnotations()) {\n        editable.hide();\n        if (this.#uiManager.isDeletedAnnotationElement(editable.data.id)) {\n          continue;\n        }\n        if (annotationElementIds.has(editable.data.id)) {\n          continue;\n        }\n        const editor = await this.deserialize(editable);\n        if (!editor) {\n          continue;\n        }\n        this.addOrRebuild(editor);\n        editor.enableEditing();\n      }\n    }\n    this.#isEnabling = false;\n    this.#uiManager._eventBus.dispatch(\"editorsrendered\", {\n      source: this,\n      pageNumber: this.pageIndex + 1\n    });\n  }\n  disable() {\n    this.#isDisabling = true;\n    this.div.tabIndex = -1;\n    this.togglePointerEvents(false);\n    this.div.classList.toggle(\"nonEditing\", true);\n    if (this.#textLayer && !this.#textLayerDblClickAC) {\n      this.#textLayerDblClickAC = new AbortController();\n      const signal = this.#uiManager.combinedSignal(this.#textLayerDblClickAC);\n      this.#textLayer.div.addEventListener(\"pointerdown\", e => {\n        const DBL_CLICK_THRESHOLD = 500;\n        const {\n          clientX,\n          clientY,\n          timeStamp\n        } = e;\n        const lastPointerDownTimestamp = this.#lastPointerDownTimestamp;\n        if (timeStamp - lastPointerDownTimestamp > DBL_CLICK_THRESHOLD) {\n          this.#lastPointerDownTimestamp = timeStamp;\n          return;\n        }\n        this.#lastPointerDownTimestamp = -1;\n        const {\n          classList\n        } = this.div;\n        classList.toggle(\"getElements\", true);\n        const elements = document.elementsFromPoint(clientX, clientY);\n        classList.toggle(\"getElements\", false);\n        if (!this.div.contains(elements[0])) {\n          return;\n        }\n        let id;\n        const regex = new RegExp(`^${AnnotationEditorPrefix}[0-9]+$`);\n        for (const element of elements) {\n          if (regex.test(element.id)) {\n            id = element.id;\n            break;\n          }\n        }\n        if (!id) {\n          return;\n        }\n        const editor = this.#editors.get(id);\n        if (editor?.annotationElementId === null) {\n          e.stopPropagation();\n          e.preventDefault();\n          editor.dblclick(e);\n        }\n      }, {\n        signal,\n        capture: true\n      });\n    }\n    const annotationLayer = this.#annotationLayer;\n    const needFakeAnnotation = [];\n    if (annotationLayer) {\n      const changedAnnotations = new Map();\n      const resetAnnotations = new Map();\n      for (const editor of this.#allEditorsIterator) {\n        editor.disableEditing();\n        if (!editor.annotationElementId) {\n          needFakeAnnotation.push(editor);\n          continue;\n        }\n        if (editor.serialize() !== null) {\n          changedAnnotations.set(editor.annotationElementId, editor);\n          continue;\n        } else {\n          resetAnnotations.set(editor.annotationElementId, editor);\n        }\n        this.getEditableAnnotation(editor.annotationElementId)?.show();\n        editor.remove();\n      }\n      const editables = annotationLayer.getEditableAnnotations();\n      for (const editable of editables) {\n        const {\n          id\n        } = editable.data;\n        if (this.#uiManager.isDeletedAnnotationElement(id)) {\n          editable.updateEdited({\n            deleted: true\n          });\n          continue;\n        }\n        let editor = resetAnnotations.get(id);\n        if (editor) {\n          editor.resetAnnotationElement(editable);\n          editor.show(false);\n          editable.show();\n          continue;\n        }\n        editor = changedAnnotations.get(id);\n        if (editor) {\n          this.#uiManager.addChangedExistingAnnotation(editor);\n          if (editor.renderAnnotationElement(editable)) {\n            editor.show(false);\n          }\n        }\n        editable.show();\n      }\n    }\n    this.#cleanup();\n    if (this.isEmpty) {\n      this.div.hidden = true;\n    }\n    const {\n      classList\n    } = this.div;\n    for (const editorType of AnnotationEditorLayer.#editorTypes.values()) {\n      classList.remove(`${editorType._type}Editing`);\n    }\n    this.disableTextSelection();\n    this.toggleAnnotationLayerPointerEvents(true);\n    annotationLayer?.updateFakeAnnotations(needFakeAnnotation);\n    this.#isDisabling = false;\n  }\n  getEditableAnnotation(id) {\n    return this.#annotationLayer?.getEditableAnnotation(id) || null;\n  }\n  setActiveEditor(editor) {\n    const currentActive = this.#uiManager.getActive();\n    if (currentActive === editor) {\n      return;\n    }\n    this.#uiManager.setActiveEditor(editor);\n  }\n  enableTextSelection() {\n    this.div.tabIndex = -1;\n    if (this.#textLayer?.div && !this.#textSelectionAC) {\n      this.#textSelectionAC = new AbortController();\n      const signal = this.#uiManager.combinedSignal(this.#textSelectionAC);\n      this.#textLayer.div.addEventListener(\"pointerdown\", this.#textLayerPointerDown.bind(this), {\n        signal\n      });\n      this.#textLayer.div.classList.add(\"highlighting\");\n    }\n  }\n  disableTextSelection() {\n    this.div.tabIndex = 0;\n    if (this.#textLayer?.div && this.#textSelectionAC) {\n      this.#textSelectionAC.abort();\n      this.#textSelectionAC = null;\n      this.#textLayer.div.classList.remove(\"highlighting\");\n    }\n  }\n  #textLayerPointerDown(event) {\n    this.#uiManager.unselectAll();\n    const {\n      target\n    } = event;\n    if (target === this.#textLayer.div || (target.getAttribute(\"role\") === \"img\" || target.classList.contains(\"endOfContent\")) && this.#textLayer.div.contains(target)) {\n      const {\n        isMac\n      } = util_FeatureTest.platform;\n      if (event.button !== 0 || event.ctrlKey && isMac) {\n        return;\n      }\n      this.#uiManager.showAllEditors(\"highlight\", true, true);\n      this.#textLayer.div.classList.add(\"free\");\n      this.toggleDrawing();\n      HighlightEditor.startHighlighting(this, this.#uiManager.direction === \"ltr\", {\n        target: this.#textLayer.div,\n        x: event.x,\n        y: event.y\n      });\n      this.#textLayer.div.addEventListener(\"pointerup\", () => {\n        this.#textLayer.div.classList.remove(\"free\");\n        this.toggleDrawing(true);\n      }, {\n        once: true,\n        signal: this.#uiManager._signal\n      });\n      event.preventDefault();\n    }\n  }\n  enableClick() {\n    if (this.#clickAC) {\n      return;\n    }\n    this.#clickAC = new AbortController();\n    const signal = this.#uiManager.combinedSignal(this.#clickAC);\n    this.div.addEventListener(\"pointerdown\", this.pointerdown.bind(this), {\n      signal\n    });\n    const pointerup = this.pointerup.bind(this);\n    this.div.addEventListener(\"pointerup\", pointerup, {\n      signal\n    });\n    this.div.addEventListener(\"pointercancel\", pointerup, {\n      signal\n    });\n  }\n  disableClick() {\n    this.#clickAC?.abort();\n    this.#clickAC = null;\n  }\n  attach(editor) {\n    this.#editors.set(editor.id, editor);\n    const {\n      annotationElementId\n    } = editor;\n    if (annotationElementId && this.#uiManager.isDeletedAnnotationElement(annotationElementId)) {\n      this.#uiManager.removeDeletedAnnotationElement(editor);\n    }\n  }\n  detach(editor) {\n    this.#editors.delete(editor.id);\n    this.#accessibilityManager?.removePointerInTextLayer(editor.contentDiv);\n    if (!this.#isDisabling && editor.annotationElementId) {\n      this.#uiManager.addDeletedAnnotationElement(editor);\n    }\n  }\n  remove(editor) {\n    this.detach(editor);\n    this.#uiManager.removeEditor(editor);\n    editor.div.remove();\n    editor.isAttachedToDOM = false;\n  }\n  changeParent(editor) {\n    if (editor.parent === this) {\n      return;\n    }\n    if (editor.parent && editor.annotationElementId) {\n      this.#uiManager.addDeletedAnnotationElement(editor);\n      AnnotationEditor.deleteAnnotationElement(editor);\n      editor.annotationElementId = null;\n    }\n    this.attach(editor);\n    editor.parent?.detach(editor);\n    editor.setParent(this);\n    if (editor.div && editor.isAttachedToDOM) {\n      editor.div.remove();\n      this.div.append(editor.div);\n    }\n  }\n  add(editor) {\n    if (editor.parent === this && editor.isAttachedToDOM) {\n      return;\n    }\n    this.changeParent(editor);\n    this.#uiManager.addEditor(editor);\n    this.attach(editor);\n    if (!editor.isAttachedToDOM) {\n      const div = editor.render();\n      this.div.append(div);\n      editor.isAttachedToDOM = true;\n    }\n    editor.fixAndSetPosition();\n    editor.onceAdded(!this.#isEnabling);\n    this.#uiManager.addToAnnotationStorage(editor);\n    editor._reportTelemetry(editor.telemetryInitialData);\n  }\n  moveEditorInDOM(editor) {\n    if (!editor.isAttachedToDOM) {\n      return;\n    }\n    const {\n      activeElement\n    } = document;\n    if (editor.div.contains(activeElement) && !this.#editorFocusTimeoutId) {\n      editor._focusEventsAllowed = false;\n      this.#editorFocusTimeoutId = setTimeout(() => {\n        this.#editorFocusTimeoutId = null;\n        if (!editor.div.contains(document.activeElement)) {\n          editor.div.addEventListener(\"focusin\", () => {\n            editor._focusEventsAllowed = true;\n          }, {\n            once: true,\n            signal: this.#uiManager._signal\n          });\n          activeElement.focus();\n        } else {\n          editor._focusEventsAllowed = true;\n        }\n      }, 0);\n    }\n    editor._structTreeParentId = this.#accessibilityManager?.moveElementInDOM(this.div, editor.div, editor.contentDiv, true);\n  }\n  addOrRebuild(editor) {\n    if (editor.needsToBeRebuilt()) {\n      editor.parent ||= this;\n      editor.rebuild();\n      editor.show();\n    } else {\n      this.add(editor);\n    }\n  }\n  addUndoableEditor(editor) {\n    const cmd = () => editor._uiManager.rebuild(editor);\n    const undo = () => {\n      editor.remove();\n    };\n    this.addCommands({\n      cmd,\n      undo,\n      mustExec: false\n    });\n  }\n  getEditorByUID(uid) {\n    for (const editor of this.#editors.values()) {\n      if (editor.uid === uid) {\n        return editor;\n      }\n    }\n    return null;\n  }\n  getNextId() {\n    return this.#uiManager.getId();\n  }\n  get #currentEditorType() {\n    return AnnotationEditorLayer.#editorTypes.get(this.#uiManager.getMode());\n  }\n  combinedSignal(ac) {\n    return this.#uiManager.combinedSignal(ac);\n  }\n  #createNewEditor(params) {\n    const editorType = this.#currentEditorType;\n    return editorType ? new editorType.prototype.constructor(params) : null;\n  }\n  canCreateNewEmptyEditor() {\n    return this.#currentEditorType?.canCreateNewEmptyEditor();\n  }\n  async pasteEditor(options, params) {\n    this.updateToolbar(options);\n    await this.#uiManager.updateMode(options.mode);\n    const {\n      offsetX,\n      offsetY\n    } = this.#getCenterPoint();\n    const id = this.getNextId();\n    const editor = this.#createNewEditor({\n      parent: this,\n      id,\n      x: offsetX,\n      y: offsetY,\n      uiManager: this.#uiManager,\n      isCentered: true,\n      ...params\n    });\n    if (editor) {\n      this.add(editor);\n    }\n  }\n  async deserialize(data) {\n    return (await AnnotationEditorLayer.#editorTypes.get(data.annotationType ?? data.annotationEditorType)?.deserialize(data, this, this.#uiManager)) || null;\n  }\n  createAndAddNewEditor(event, isCentered, data = {}) {\n    const id = this.getNextId();\n    const editor = this.#createNewEditor({\n      parent: this,\n      id,\n      x: event.offsetX,\n      y: event.offsetY,\n      uiManager: this.#uiManager,\n      isCentered,\n      ...data\n    });\n    if (editor) {\n      this.add(editor);\n    }\n    return editor;\n  }\n  get boundingClientRect() {\n    return this.div.getBoundingClientRect();\n  }\n  #getCenterPoint() {\n    const {\n      x,\n      y,\n      width,\n      height\n    } = this.boundingClientRect;\n    const tlX = Math.max(0, x);\n    const tlY = Math.max(0, y);\n    const brX = Math.min(window.innerWidth, x + width);\n    const brY = Math.min(window.innerHeight, y + height);\n    const centerX = (tlX + brX) / 2 - x;\n    const centerY = (tlY + brY) / 2 - y;\n    const [offsetX, offsetY] = this.viewport.rotation % 180 === 0 ? [centerX, centerY] : [centerY, centerX];\n    return {\n      offsetX,\n      offsetY\n    };\n  }\n  addNewEditor(data = {}) {\n    this.createAndAddNewEditor(this.#getCenterPoint(), true, data);\n  }\n  setSelected(editor) {\n    this.#uiManager.setSelected(editor);\n  }\n  toggleSelected(editor) {\n    this.#uiManager.toggleSelected(editor);\n  }\n  unselect(editor) {\n    this.#uiManager.unselect(editor);\n  }\n  pointerup(event) {\n    const {\n      isMac\n    } = util_FeatureTest.platform;\n    if (event.button !== 0 || event.ctrlKey && isMac) {\n      return;\n    }\n    if (event.target !== this.div) {\n      return;\n    }\n    if (!this.#hadPointerDown) {\n      return;\n    }\n    this.#hadPointerDown = false;\n    if (this.#currentEditorType?.isDrawer && this.#currentEditorType.supportMultipleDrawings) {\n      return;\n    }\n    if (!this.#allowClick) {\n      this.#allowClick = true;\n      return;\n    }\n    const currentMode = this.#uiManager.getMode();\n    if (currentMode === AnnotationEditorType.STAMP || currentMode === AnnotationEditorType.SIGNATURE) {\n      this.#uiManager.unselectAll();\n      return;\n    }\n    this.createAndAddNewEditor(event, false);\n  }\n  pointerdown(event) {\n    if (this.#uiManager.getMode() === AnnotationEditorType.HIGHLIGHT) {\n      this.enableTextSelection();\n    }\n    if (this.#hadPointerDown) {\n      this.#hadPointerDown = false;\n      return;\n    }\n    const {\n      isMac\n    } = util_FeatureTest.platform;\n    if (event.button !== 0 || event.ctrlKey && isMac) {\n      return;\n    }\n    if (event.target !== this.div) {\n      return;\n    }\n    this.#hadPointerDown = true;\n    if (this.#currentEditorType?.isDrawer) {\n      this.startDrawingSession(event);\n      return;\n    }\n    const editor = this.#uiManager.getActive();\n    this.#allowClick = !editor || editor.isEmpty();\n  }\n  startDrawingSession(event) {\n    this.div.focus({\n      preventScroll: true\n    });\n    if (this.#drawingAC) {\n      this.#currentEditorType.startDrawing(this, this.#uiManager, false, event);\n      return;\n    }\n    this.#uiManager.setCurrentDrawingSession(this);\n    this.#drawingAC = new AbortController();\n    const signal = this.#uiManager.combinedSignal(this.#drawingAC);\n    this.div.addEventListener(\"blur\", ({\n      relatedTarget\n    }) => {\n      if (relatedTarget && !this.div.contains(relatedTarget)) {\n        this.#focusedElement = null;\n        this.commitOrRemove();\n      }\n    }, {\n      signal\n    });\n    this.#currentEditorType.startDrawing(this, this.#uiManager, false, event);\n  }\n  pause(on) {\n    if (on) {\n      const {\n        activeElement\n      } = document;\n      if (this.div.contains(activeElement)) {\n        this.#focusedElement = activeElement;\n      }\n      return;\n    }\n    if (this.#focusedElement) {\n      setTimeout(() => {\n        this.#focusedElement?.focus();\n        this.#focusedElement = null;\n      }, 0);\n    }\n  }\n  endDrawingSession(isAborted = false) {\n    if (!this.#drawingAC) {\n      return null;\n    }\n    this.#uiManager.setCurrentDrawingSession(null);\n    this.#drawingAC.abort();\n    this.#drawingAC = null;\n    this.#focusedElement = null;\n    return this.#currentEditorType.endDrawing(isAborted);\n  }\n  findNewParent(editor, x, y) {\n    const layer = this.#uiManager.findParent(x, y);\n    if (layer === null || layer === this) {\n      return false;\n    }\n    layer.changeParent(editor);\n    return true;\n  }\n  commitOrRemove() {\n    if (this.#drawingAC) {\n      this.endDrawingSession();\n      return true;\n    }\n    return false;\n  }\n  onScaleChanging() {\n    if (!this.#drawingAC) {\n      return;\n    }\n    this.#currentEditorType.onScaleChangingWhenDrawing(this);\n  }\n  destroy() {\n    this.commitOrRemove();\n    if (this.#uiManager.getActive()?.parent === this) {\n      this.#uiManager.commitOrRemove();\n      this.#uiManager.setActiveEditor(null);\n    }\n    if (this.#editorFocusTimeoutId) {\n      clearTimeout(this.#editorFocusTimeoutId);\n      this.#editorFocusTimeoutId = null;\n    }\n    for (const editor of this.#editors.values()) {\n      this.#accessibilityManager?.removePointerInTextLayer(editor.contentDiv);\n      editor.setParent(null);\n      editor.isAttachedToDOM = false;\n      editor.div.remove();\n    }\n    this.div = null;\n    this.#editors.clear();\n    this.#uiManager.removeLayer(this);\n  }\n  #cleanup() {\n    for (const editor of this.#editors.values()) {\n      if (editor.isEmpty()) {\n        editor.remove();\n      }\n    }\n  }\n  render({\n    viewport\n  }) {\n    this.viewport = viewport;\n    setLayerDimensions(this.div, viewport);\n    for (const editor of this.#uiManager.getEditors(this.pageIndex)) {\n      this.add(editor);\n      editor.rebuild();\n    }\n    this.updateMode();\n  }\n  update({\n    viewport\n  }) {\n    this.#uiManager.commitOrRemove();\n    this.#cleanup();\n    const oldRotation = this.viewport.rotation;\n    const rotation = viewport.rotation;\n    this.viewport = viewport;\n    setLayerDimensions(this.div, {\n      rotation\n    });\n    if (oldRotation !== rotation) {\n      for (const editor of this.#editors.values()) {\n        editor.rotate(rotation);\n      }\n    }\n  }\n  get pageDimensions() {\n    const {\n      pageWidth,\n      pageHeight\n    } = this.viewport.rawDims;\n    return [pageWidth, pageHeight];\n  }\n  get scale() {\n    return this.#uiManager.viewParameters.realScale;\n  }\n}\n\n;// ./src/display/draw_layer.js\n\n\nclass DrawLayer {\n  #parent = null;\n  #mapping = new Map();\n  #toUpdate = new Map();\n  static #id = 0;\n  constructor({\n    pageIndex\n  }) {\n    this.pageIndex = pageIndex;\n  }\n  setParent(parent) {\n    if (!this.#parent) {\n      this.#parent = parent;\n      return;\n    }\n    if (this.#parent !== parent) {\n      if (this.#mapping.size > 0) {\n        for (const root of this.#mapping.values()) {\n          root.remove();\n          parent.append(root);\n        }\n      }\n      this.#parent = parent;\n    }\n  }\n  static get _svgFactory() {\n    return shadow(this, \"_svgFactory\", new DOMSVGFactory());\n  }\n  static #setBox(element, [x, y, width, height]) {\n    const {\n      style\n    } = element;\n    style.top = `${100 * y}%`;\n    style.left = `${100 * x}%`;\n    style.width = `${100 * width}%`;\n    style.height = `${100 * height}%`;\n  }\n  #createSVG() {\n    const svg = DrawLayer._svgFactory.create(1, 1, true);\n    this.#parent.append(svg);\n    svg.setAttribute(\"aria-hidden\", true);\n    return svg;\n  }\n  #createClipPath(defs, pathId) {\n    const clipPath = DrawLayer._svgFactory.createElement(\"clipPath\");\n    defs.append(clipPath);\n    const clipPathId = `clip_${pathId}`;\n    clipPath.setAttribute(\"id\", clipPathId);\n    clipPath.setAttribute(\"clipPathUnits\", \"objectBoundingBox\");\n    const clipPathUse = DrawLayer._svgFactory.createElement(\"use\");\n    clipPath.append(clipPathUse);\n    clipPathUse.setAttribute(\"href\", `#${pathId}`);\n    clipPathUse.classList.add(\"clip\");\n    return clipPathId;\n  }\n  #updateProperties(element, properties) {\n    for (const [key, value] of Object.entries(properties)) {\n      if (value === null) {\n        element.removeAttribute(key);\n      } else {\n        element.setAttribute(key, value);\n      }\n    }\n  }\n  draw(properties, isPathUpdatable = false, hasClip = false) {\n    const id = DrawLayer.#id++;\n    const root = this.#createSVG();\n    const defs = DrawLayer._svgFactory.createElement(\"defs\");\n    root.append(defs);\n    const path = DrawLayer._svgFactory.createElement(\"path\");\n    defs.append(path);\n    const pathId = `path_p${this.pageIndex}_${id}`;\n    path.setAttribute(\"id\", pathId);\n    path.setAttribute(\"vector-effect\", \"non-scaling-stroke\");\n    if (isPathUpdatable) {\n      this.#toUpdate.set(id, path);\n    }\n    const clipPathId = hasClip ? this.#createClipPath(defs, pathId) : null;\n    const use = DrawLayer._svgFactory.createElement(\"use\");\n    root.append(use);\n    use.setAttribute(\"href\", `#${pathId}`);\n    this.updateProperties(root, properties);\n    this.#mapping.set(id, root);\n    return {\n      id,\n      clipPathId: `url(#${clipPathId})`\n    };\n  }\n  drawOutline(properties, mustRemoveSelfIntersections) {\n    const id = DrawLayer.#id++;\n    const root = this.#createSVG();\n    const defs = DrawLayer._svgFactory.createElement(\"defs\");\n    root.append(defs);\n    const path = DrawLayer._svgFactory.createElement(\"path\");\n    defs.append(path);\n    const pathId = `path_p${this.pageIndex}_${id}`;\n    path.setAttribute(\"id\", pathId);\n    path.setAttribute(\"vector-effect\", \"non-scaling-stroke\");\n    let maskId;\n    if (mustRemoveSelfIntersections) {\n      const mask = DrawLayer._svgFactory.createElement(\"mask\");\n      defs.append(mask);\n      maskId = `mask_p${this.pageIndex}_${id}`;\n      mask.setAttribute(\"id\", maskId);\n      mask.setAttribute(\"maskUnits\", \"objectBoundingBox\");\n      const rect = DrawLayer._svgFactory.createElement(\"rect\");\n      mask.append(rect);\n      rect.setAttribute(\"width\", \"1\");\n      rect.setAttribute(\"height\", \"1\");\n      rect.setAttribute(\"fill\", \"white\");\n      const use = DrawLayer._svgFactory.createElement(\"use\");\n      mask.append(use);\n      use.setAttribute(\"href\", `#${pathId}`);\n      use.setAttribute(\"stroke\", \"none\");\n      use.setAttribute(\"fill\", \"black\");\n      use.setAttribute(\"fill-rule\", \"nonzero\");\n      use.classList.add(\"mask\");\n    }\n    const use1 = DrawLayer._svgFactory.createElement(\"use\");\n    root.append(use1);\n    use1.setAttribute(\"href\", `#${pathId}`);\n    if (maskId) {\n      use1.setAttribute(\"mask\", `url(#${maskId})`);\n    }\n    const use2 = use1.cloneNode();\n    root.append(use2);\n    use1.classList.add(\"mainOutline\");\n    use2.classList.add(\"secondaryOutline\");\n    this.updateProperties(root, properties);\n    this.#mapping.set(id, root);\n    return id;\n  }\n  finalizeDraw(id, properties) {\n    this.#toUpdate.delete(id);\n    this.updateProperties(id, properties);\n  }\n  updateProperties(elementOrId, properties) {\n    if (!properties) {\n      return;\n    }\n    const {\n      root,\n      bbox,\n      rootClass,\n      path\n    } = properties;\n    const element = typeof elementOrId === \"number\" ? this.#mapping.get(elementOrId) : elementOrId;\n    if (!element) {\n      return;\n    }\n    if (root) {\n      this.#updateProperties(element, root);\n    }\n    if (bbox) {\n      DrawLayer.#setBox(element, bbox);\n    }\n    if (rootClass) {\n      const {\n        classList\n      } = element;\n      for (const [className, value] of Object.entries(rootClass)) {\n        classList.toggle(className, value);\n      }\n    }\n    if (path) {\n      const defs = element.firstElementChild;\n      const pathElement = defs.firstElementChild;\n      this.#updateProperties(pathElement, path);\n    }\n  }\n  updateParent(id, layer) {\n    if (layer === this) {\n      return;\n    }\n    const root = this.#mapping.get(id);\n    if (!root) {\n      return;\n    }\n    layer.#parent.append(root);\n    this.#mapping.delete(id);\n    layer.#mapping.set(id, root);\n  }\n  remove(id) {\n    this.#toUpdate.delete(id);\n    if (this.#parent === null) {\n      return;\n    }\n    this.#mapping.get(id).remove();\n    this.#mapping.delete(id);\n  }\n  destroy() {\n    this.#parent = null;\n    for (const root of this.#mapping.values()) {\n      root.remove();\n    }\n    this.#mapping.clear();\n    this.#toUpdate.clear();\n  }\n}\n\n;// ./src/pdf.js\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n{\n  globalThis._pdfjsTestingUtils = {\n    HighlightOutliner: HighlightOutliner\n  };\n}\nglobalThis.pdfjsLib = {\n  AbortException: AbortException,\n  AnnotationEditorLayer: AnnotationEditorLayer,\n  AnnotationEditorParamsType: AnnotationEditorParamsType,\n  AnnotationEditorType: AnnotationEditorType,\n  AnnotationEditorUIManager: AnnotationEditorUIManager,\n  AnnotationLayer: AnnotationLayer,\n  AnnotationMode: AnnotationMode,\n  AnnotationType: AnnotationType,\n  applyOpacity: applyOpacity,\n  build: build,\n  ColorPicker: ColorPicker,\n  createValidAbsoluteUrl: createValidAbsoluteUrl,\n  CSSConstants: CSSConstants,\n  DOMSVGFactory: DOMSVGFactory,\n  DrawLayer: DrawLayer,\n  FeatureTest: util_FeatureTest,\n  fetchData: fetchData,\n  findContrastColor: findContrastColor,\n  getDocument: getDocument,\n  getFilenameFromUrl: getFilenameFromUrl,\n  getPdfFilenameFromUrl: getPdfFilenameFromUrl,\n  getRGB: getRGB,\n  getUuid: getUuid,\n  getXfaPageViewport: getXfaPageViewport,\n  GlobalWorkerOptions: GlobalWorkerOptions,\n  ImageKind: util_ImageKind,\n  InvalidPDFException: InvalidPDFException,\n  isDataScheme: isDataScheme,\n  isPdfFile: isPdfFile,\n  isValidExplicitDest: isValidExplicitDest,\n  MathClamp: MathClamp,\n  noContextMenu: noContextMenu,\n  normalizeUnicode: normalizeUnicode,\n  OPS: OPS,\n  OutputScale: OutputScale,\n  PasswordResponses: PasswordResponses,\n  PDFDataRangeTransport: PDFDataRangeTransport,\n  PDFDateString: PDFDateString,\n  PDFWorker: PDFWorker,\n  PermissionFlag: PermissionFlag,\n  PixelsPerInch: PixelsPerInch,\n  RenderingCancelledException: RenderingCancelledException,\n  renderRichText: renderRichText,\n  ResponseException: ResponseException,\n  setLayerDimensions: setLayerDimensions,\n  shadow: shadow,\n  SignatureExtractor: SignatureExtractor,\n  stopEvent: stopEvent,\n  SupportedImageMimeTypes: SupportedImageMimeTypes,\n  TextLayer: TextLayer,\n  TouchManager: TouchManager,\n  updateUrlHash: updateUrlHash,\n  Util: Util,\n  VerbosityLevel: VerbosityLevel,\n  version: version,\n  XfaLayer: XfaLayer\n};\n\nexport { AbortException, AnnotationEditorLayer, AnnotationEditorParamsType, AnnotationEditorType, AnnotationEditorUIManager, AnnotationLayer, AnnotationMode, AnnotationType, CSSConstants, ColorPicker, DOMSVGFactory, DrawLayer, util_FeatureTest as FeatureTest, GlobalWorkerOptions, util_ImageKind as ImageKind, InvalidPDFException, MathClamp, OPS, OutputScale, PDFDataRangeTransport, PDFDateString, PDFWorker, PasswordResponses, PermissionFlag, PixelsPerInch, RenderingCancelledException, ResponseException, SignatureExtractor, SupportedImageMimeTypes, TextLayer, TouchManager, Util, VerbosityLevel, XfaLayer, applyOpacity, build, createValidAbsoluteUrl, fetchData, findContrastColor, getDocument, getFilenameFromUrl, getPdfFilenameFromUrl, getRGB, getUuid, getXfaPageViewport, isDataScheme, isPdfFile, isValidExplicitDest, noContextMenu, normalizeUnicode, renderRichText, setLayerDimensions, shadow, stopEvent, updateUrlHash, version };\n\n//# sourceMappingURL=pdf.mjs.map","'use strict';\nvar NATIVE_WEAK_MAP = require('../internals/weak-map-basic-detection');\nvar globalThis = require('../internals/global-this');\nvar isObject = require('../internals/is-object');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar hasOwn = require('../internals/has-own-property');\nvar shared = require('../internals/shared-store');\nvar sharedKey = require('../internals/shared-key');\nvar hiddenKeys = require('../internals/hidden-keys');\n\nvar OBJECT_ALREADY_INITIALIZED = 'Object already initialized';\nvar TypeError = globalThis.TypeError;\nvar WeakMap = globalThis.WeakMap;\nvar set, get, has;\n\nvar enforce = function (it) {\n  return has(it) ? get(it) : set(it, {});\n};\n\nvar getterFor = function (TYPE) {\n  return function (it) {\n    var state;\n    if (!isObject(it) || (state = get(it)).type !== TYPE) {\n      throw new TypeError('Incompatible receiver, ' + TYPE + ' required');\n    } return state;\n  };\n};\n\nif (NATIVE_WEAK_MAP || shared.state) {\n  var store = shared.state || (shared.state = new WeakMap());\n  /* eslint-disable no-self-assign -- prototype methods protection */\n  store.get = store.get;\n  store.has = store.has;\n  store.set = store.set;\n  /* eslint-enable no-self-assign -- prototype methods protection */\n  set = function (it, metadata) {\n    if (store.has(it)) throw new TypeError(OBJECT_ALREADY_INITIALIZED);\n    metadata.facade = it;\n    store.set(it, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return store.get(it) || {};\n  };\n  has = function (it) {\n    return store.has(it);\n  };\n} else {\n  var STATE = sharedKey('state');\n  hiddenKeys[STATE] = true;\n  set = function (it, metadata) {\n    if (hasOwn(it, STATE)) throw new TypeError(OBJECT_ALREADY_INITIALIZED);\n    metadata.facade = it;\n    createNonEnumerableProperty(it, STATE, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return hasOwn(it, STATE) ? it[STATE] : {};\n  };\n  has = function (it) {\n    return hasOwn(it, STATE);\n  };\n}\n\nmodule.exports = {\n  set: set,\n  get: get,\n  has: has,\n  enforce: enforce,\n  getterFor: getterFor\n};\n","'use strict';\nvar trunc = require('../internals/math-trunc');\n\n// `ToIntegerOrInfinity` abstract operation\n// https://tc39.es/ecma262/#sec-tointegerorinfinity\nmodule.exports = function (argument) {\n  var number = +argument;\n  // eslint-disable-next-line no-self-compare -- NaN check\n  return number !== number || number === 0 ? 0 : trunc(number);\n};\n","'use strict';\nvar iteratorClose = require('../internals/iterator-close');\n\nmodule.exports = function (iters, kind, value) {\n  for (var i = iters.length - 1; i >= 0; i--) {\n    if (iters[i] === undefined) continue;\n    try {\n      value = iteratorClose(iters[i].iterator, kind, value);\n    } catch (error) {\n      kind = 'throw';\n      value = error;\n    }\n  }\n  if (kind === 'throw') throw value;\n  return value;\n};\n","'use strict';\nvar globalThis = require('../internals/global-this');\nvar fails = require('../internals/fails');\nvar V8 = require('../internals/environment-v8-version');\nvar ENVIRONMENT = require('../internals/environment');\n\nvar structuredClone = globalThis.structuredClone;\n\nmodule.exports = !!structuredClone && !fails(function () {\n  // prevent V8 ArrayBufferDetaching protector cell invalidation and performance degradation\n  // https://github.com/zloirock/core-js/issues/679\n  if ((ENVIRONMENT === 'DENO' && V8 > 92) || (ENVIRONMENT === 'NODE' && V8 > 94) || (ENVIRONMENT === 'BROWSER' && V8 > 97)) return false;\n  var buffer = new ArrayBuffer(8);\n  var clone = structuredClone(buffer, { transfer: [buffer] });\n  return buffer.byteLength !== 0 || clone.byteLength !== 8;\n});\n","'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this');\n\nmodule.exports = uncurryThis({}.isPrototypeOf);\n","/* globals __VUE_SSR_CONTEXT__ */\n\n// IMPORTANT: Do NOT use ES2015 features in this file (except for modules).\n// This module is a runtime utility for cleaner component module output and will\n// be included in the final webpack user bundle.\n\nexport default function normalizeComponent(\n  scriptExports,\n  render,\n  staticRenderFns,\n  functionalTemplate,\n  injectStyles,\n  scopeId,\n  moduleIdentifier /* server only */,\n  shadowMode /* vue-cli only */\n) {\n  // Vue.extend constructor export interop\n  var options =\n    typeof scriptExports === 'function' ? scriptExports.options : scriptExports\n\n  // render functions\n  if (render) {\n    options.render = render\n    options.staticRenderFns = staticRenderFns\n    options._compiled = true\n  }\n\n  // functional template\n  if (functionalTemplate) {\n    options.functional = true\n  }\n\n  // scopedId\n  if (scopeId) {\n    options._scopeId = 'data-v-' + scopeId\n  }\n\n  var hook\n  if (moduleIdentifier) {\n    // server build\n    hook = function (context) {\n      // 2.3 injection\n      context =\n        context || // cached call\n        (this.$vnode && this.$vnode.ssrContext) || // stateful\n        (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext) // functional\n      // 2.2 with runInNewContext: true\n      if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\n        context = __VUE_SSR_CONTEXT__\n      }\n      // inject component styles\n      if (injectStyles) {\n        injectStyles.call(this, context)\n      }\n      // register component module identifier for async chunk inferrence\n      if (context && context._registeredComponents) {\n        context._registeredComponents.add(moduleIdentifier)\n      }\n    }\n    // used by ssr in case component is cached and beforeCreate\n    // never gets called\n    options._ssrRegister = hook\n  } else if (injectStyles) {\n    hook = shadowMode\n      ? function () {\n          injectStyles.call(\n            this,\n            (options.functional ? this.parent : this).$root.$options.shadowRoot\n          )\n        }\n      : injectStyles\n  }\n\n  if (hook) {\n    if (options.functional) {\n      // for template-only hot-reload because in that case the render fn doesn't\n      // go through the normalizer\n      options._injectStyles = hook\n      // register for functional component in vue file\n      var originalRender = options.render\n      options.render = function renderWithStyleInjection(h, context) {\n        hook.call(context)\n        return originalRender(h, context)\n      }\n    } else {\n      // inject component registration as beforeCreate hook\n      var existing = options.beforeCreate\n      options.beforeCreate = existing ? [].concat(existing, hook) : [hook]\n    }\n  }\n\n  return {\n    exports: scriptExports,\n    options: options\n  }\n}\n","'use strict';\nvar $ = require('../internals/export');\nvar call = require('../internals/function-call');\nvar aCallable = require('../internals/a-callable');\nvar anObject = require('../internals/an-object');\nvar getIteratorDirect = require('../internals/get-iterator-direct');\nvar createIteratorProxy = require('../internals/iterator-create-proxy');\nvar callWithSafeIterationClosing = require('../internals/call-with-safe-iteration-closing');\nvar iteratorClose = require('../internals/iterator-close');\nvar iteratorHelperThrowsOnInvalidIterator = require('../internals/iterator-helper-throws-on-invalid-iterator');\nvar iteratorHelperWithoutClosingOnEarlyError = require('../internals/iterator-helper-without-closing-on-early-error');\nvar IS_PURE = require('../internals/is-pure');\n\nvar MAP_WITHOUT_THROWING_ON_INVALID_ITERATOR = !IS_PURE && !iteratorHelperThrowsOnInvalidIterator('map', function () { /* empty */ });\nvar mapWithoutClosingOnEarlyError = !IS_PURE && !MAP_WITHOUT_THROWING_ON_INVALID_ITERATOR\n  && iteratorHelperWithoutClosingOnEarlyError('map', TypeError);\n\nvar FORCED = IS_PURE || MAP_WITHOUT_THROWING_ON_INVALID_ITERATOR || mapWithoutClosingOnEarlyError;\n\nvar IteratorProxy = createIteratorProxy(function () {\n  var iterator = this.iterator;\n  var result = anObject(call(this.next, iterator));\n  var done = this.done = !!result.done;\n  if (!done) return callWithSafeIterationClosing(iterator, this.mapper, [result.value, this.counter++], true);\n});\n\n// `Iterator.prototype.map` method\n// https://tc39.es/ecma262/#sec-iterator.prototype.map\n$({ target: 'Iterator', proto: true, real: true, forced: FORCED }, {\n  map: function map(mapper) {\n    anObject(this);\n    try {\n      aCallable(mapper);\n    } catch (error) {\n      iteratorClose(this, 'throw', error);\n    }\n\n    if (mapWithoutClosingOnEarlyError) return call(mapWithoutClosingOnEarlyError, this, mapper);\n\n    return new IteratorProxy(getIteratorDirect(this), {\n      mapper: mapper\n    });\n  }\n});\n","'use strict';\n// `GetIteratorDirect(obj)` abstract operation\n// https://tc39.es/ecma262/#sec-getiteratordirect\nmodule.exports = function (obj) {\n  return {\n    iterator: obj,\n    next: obj.next,\n    done: false\n  };\n};\n","'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar hasOwn = require('../internals/has-own-property');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar indexOf = require('../internals/array-includes').indexOf;\nvar hiddenKeys = require('../internals/hidden-keys');\n\nvar push = uncurryThis([].push);\n\nmodule.exports = function (object, names) {\n  var O = toIndexedObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) !hasOwn(hiddenKeys, key) && hasOwn(O, key) && push(result, key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (hasOwn(O, key = names[i++])) {\n    ~indexOf(result, key) || push(result, key);\n  }\n  return result;\n};\n","'use strict';\nvar makeBuiltIn = require('../internals/make-built-in');\nvar defineProperty = require('../internals/object-define-property');\n\nmodule.exports = function (target, name, descriptor) {\n  if (descriptor.get) makeBuiltIn(descriptor.get, name, { getter: true });\n  if (descriptor.set) makeBuiltIn(descriptor.set, name, { setter: true });\n  return defineProperty.f(target, name, descriptor);\n};\n","'use strict';\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar test = {};\n// eslint-disable-next-line unicorn/no-immediate-mutation -- ES3 syntax limitation\ntest[TO_STRING_TAG] = 'z';\n\nmodule.exports = String(test) === '[object z]';\n","'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this');\n\nvar toString = uncurryThis({}.toString);\nvar stringSlice = uncurryThis(''.slice);\n\nmodule.exports = function (it) {\n  return stringSlice(toString(it), 8, -1);\n};\n","'use strict';\nvar fails = require('../internals/fails');\n\nmodule.exports = !fails(function () {\n  function F() { /* empty */ }\n  F.prototype.constructor = null;\n  // eslint-disable-next-line es/no-object-getprototypeof -- required for testing\n  return Object.getPrototypeOf(new F()) !== F.prototype;\n});\n","'use strict';\n/* global ActiveXObject -- old IE, WSH */\nvar anObject = require('../internals/an-object');\nvar definePropertiesModule = require('../internals/object-define-properties');\nvar enumBugKeys = require('../internals/enum-bug-keys');\nvar hiddenKeys = require('../internals/hidden-keys');\nvar html = require('../internals/html');\nvar documentCreateElement = require('../internals/document-create-element');\nvar sharedKey = require('../internals/shared-key');\n\nvar GT = '>';\nvar LT = '<';\nvar PROTOTYPE = 'prototype';\nvar SCRIPT = 'script';\nvar IE_PROTO = sharedKey('IE_PROTO');\n\nvar EmptyConstructor = function () { /* empty */ };\n\nvar scriptTag = function (content) {\n  return LT + SCRIPT + GT + content + LT + '/' + SCRIPT + GT;\n};\n\n// Create object with fake `null` prototype: use ActiveX Object with cleared prototype\nvar NullProtoObjectViaActiveX = function (activeXDocument) {\n  activeXDocument.write(scriptTag(''));\n  activeXDocument.close();\n  var temp = activeXDocument.parentWindow.Object;\n  // eslint-disable-next-line no-useless-assignment -- avoid memory leak\n  activeXDocument = null;\n  return temp;\n};\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar NullProtoObjectViaIFrame = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = documentCreateElement('iframe');\n  var JS = 'java' + SCRIPT + ':';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  html.appendChild(iframe);\n  // https://github.com/zloirock/core-js/issues/475\n  iframe.src = String(JS);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(scriptTag('document.F=Object'));\n  iframeDocument.close();\n  return iframeDocument.F;\n};\n\n// Check for document.domain and active x support\n// No need to use active x approach when document.domain is not set\n// see https://github.com/es-shims/es5-shim/issues/150\n// variation of https://github.com/kitcambridge/es5-shim/commit/4f738ac066346\n// avoid IE GC bug\nvar activeXDocument;\nvar NullProtoObject = function () {\n  try {\n    activeXDocument = new ActiveXObject('htmlfile');\n  } catch (error) { /* ignore */ }\n  NullProtoObject = typeof document != 'undefined'\n    ? document.domain && activeXDocument\n      ? NullProtoObjectViaActiveX(activeXDocument) // old IE\n      : NullProtoObjectViaIFrame()\n    : NullProtoObjectViaActiveX(activeXDocument); // WSH\n  var length = enumBugKeys.length;\n  while (length--) delete NullProtoObject[PROTOTYPE][enumBugKeys[length]];\n  return NullProtoObject();\n};\n\nhiddenKeys[IE_PROTO] = true;\n\n// `Object.create` method\n// https://tc39.es/ecma262/#sec-object.create\n// eslint-disable-next-line es/no-object-create -- safe\nmodule.exports = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    EmptyConstructor[PROTOTYPE] = anObject(O);\n    result = new EmptyConstructor();\n    EmptyConstructor[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = NullProtoObject();\n  return Properties === undefined ? result : definePropertiesModule.f(result, Properties);\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar call = require('../internals/function-call');\nvar aCallable = require('../internals/a-callable');\nvar anObject = require('../internals/an-object');\nvar getIteratorDirect = require('../internals/get-iterator-direct');\nvar createIteratorProxy = require('../internals/iterator-create-proxy');\nvar callWithSafeIterationClosing = require('../internals/call-with-safe-iteration-closing');\nvar IS_PURE = require('../internals/is-pure');\nvar iteratorClose = require('../internals/iterator-close');\nvar iteratorHelperThrowsOnInvalidIterator = require('../internals/iterator-helper-throws-on-invalid-iterator');\nvar iteratorHelperWithoutClosingOnEarlyError = require('../internals/iterator-helper-without-closing-on-early-error');\n\nvar FILTER_WITHOUT_THROWING_ON_INVALID_ITERATOR = !IS_PURE && !iteratorHelperThrowsOnInvalidIterator('filter', function () { /* empty */ });\nvar filterWithoutClosingOnEarlyError = !IS_PURE && !FILTER_WITHOUT_THROWING_ON_INVALID_ITERATOR\n  && iteratorHelperWithoutClosingOnEarlyError('filter', TypeError);\n\nvar FORCED = IS_PURE || FILTER_WITHOUT_THROWING_ON_INVALID_ITERATOR || filterWithoutClosingOnEarlyError;\n\nvar IteratorProxy = createIteratorProxy(function () {\n  var iterator = this.iterator;\n  var predicate = this.predicate;\n  var next = this.next;\n  var result, done, value;\n  while (true) {\n    result = anObject(call(next, iterator));\n    done = this.done = !!result.done;\n    if (done) return;\n    value = result.value;\n    if (callWithSafeIterationClosing(iterator, predicate, [value, this.counter++], true)) return value;\n  }\n});\n\n// `Iterator.prototype.filter` method\n// https://tc39.es/ecma262/#sec-iterator.prototype.filter\n$({ target: 'Iterator', proto: true, real: true, forced: FORCED }, {\n  filter: function filter(predicate) {\n    anObject(this);\n    try {\n      aCallable(predicate);\n    } catch (error) {\n      iteratorClose(this, 'throw', error);\n    }\n\n    if (filterWithoutClosingOnEarlyError) return call(filterWithoutClosingOnEarlyError, this, predicate);\n\n    return new IteratorProxy(getIteratorDirect(this), {\n      predicate: predicate\n    });\n  }\n});\n","'use strict';\n// `CreateIterResultObject` abstract operation\n// https://tc39.es/ecma262/#sec-createiterresultobject\nmodule.exports = function (value, done) {\n  return { value: value, done: done };\n};\n","'use strict';\nvar bind = require('../internals/function-bind-context');\nvar call = require('../internals/function-call');\nvar anObject = require('../internals/an-object');\nvar tryToString = require('../internals/try-to-string');\nvar isArrayIteratorMethod = require('../internals/is-array-iterator-method');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\nvar isPrototypeOf = require('../internals/object-is-prototype-of');\nvar getIterator = require('../internals/get-iterator');\nvar getIteratorMethod = require('../internals/get-iterator-method');\nvar iteratorClose = require('../internals/iterator-close');\n\nvar $TypeError = TypeError;\n\nvar Result = function (stopped, result) {\n  this.stopped = stopped;\n  this.result = result;\n};\n\nvar ResultPrototype = Result.prototype;\n\nmodule.exports = function (iterable, unboundFunction, options) {\n  var that = options && options.that;\n  var AS_ENTRIES = !!(options && options.AS_ENTRIES);\n  var IS_RECORD = !!(options && options.IS_RECORD);\n  var IS_ITERATOR = !!(options && options.IS_ITERATOR);\n  var INTERRUPTED = !!(options && options.INTERRUPTED);\n  var fn = bind(unboundFunction, that);\n  var iterator, iterFn, index, length, result, next, step;\n\n  var stop = function (condition) {\n    if (iterator) iteratorClose(iterator, 'normal');\n    return new Result(true, condition);\n  };\n\n  var callFn = function (value) {\n    if (AS_ENTRIES) {\n      anObject(value);\n      return INTERRUPTED ? fn(value[0], value[1], stop) : fn(value[0], value[1]);\n    } return INTERRUPTED ? fn(value, stop) : fn(value);\n  };\n\n  if (IS_RECORD) {\n    iterator = iterable.iterator;\n  } else if (IS_ITERATOR) {\n    iterator = iterable;\n  } else {\n    iterFn = getIteratorMethod(iterable);\n    if (!iterFn) throw new $TypeError(tryToString(iterable) + ' is not iterable');\n    // optimisation for array iterators\n    if (isArrayIteratorMethod(iterFn)) {\n      for (index = 0, length = lengthOfArrayLike(iterable); length > index; index++) {\n        result = callFn(iterable[index]);\n        if (result && isPrototypeOf(ResultPrototype, result)) return result;\n      } return new Result(false);\n    }\n    iterator = getIterator(iterable, iterFn);\n  }\n\n  next = IS_RECORD ? iterable.next : iterator.next;\n  while (!(step = call(next, iterator)).done) {\n    try {\n      result = callFn(step.value);\n    } catch (error) {\n      iteratorClose(iterator, 'throw', error);\n    }\n    if (typeof result == 'object' && result && isPrototypeOf(ResultPrototype, result)) return result;\n  } return new Result(false);\n};\n","'use strict';\nvar call = require('../internals/function-call');\nvar isObject = require('../internals/is-object');\nvar isSymbol = require('../internals/is-symbol');\nvar getMethod = require('../internals/get-method');\nvar ordinaryToPrimitive = require('../internals/ordinary-to-primitive');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar $TypeError = TypeError;\nvar TO_PRIMITIVE = wellKnownSymbol('toPrimitive');\n\n// `ToPrimitive` abstract operation\n// https://tc39.es/ecma262/#sec-toprimitive\nmodule.exports = function (input, pref) {\n  if (!isObject(input) || isSymbol(input)) return input;\n  var exoticToPrim = getMethod(input, TO_PRIMITIVE);\n  var result;\n  if (exoticToPrim) {\n    if (pref === undefined) pref = 'default';\n    result = call(exoticToPrim, input, pref);\n    if (!isObject(result) || isSymbol(result)) return result;\n    throw new $TypeError(\"Can't convert object to primitive value\");\n  }\n  if (pref === undefined) pref = 'number';\n  return ordinaryToPrimitive(input, pref);\n};\n","'use strict';\nvar hasOwn = require('../internals/has-own-property');\nvar isCallable = require('../internals/is-callable');\nvar toObject = require('../internals/to-object');\nvar sharedKey = require('../internals/shared-key');\nvar CORRECT_PROTOTYPE_GETTER = require('../internals/correct-prototype-getter');\n\nvar IE_PROTO = sharedKey('IE_PROTO');\nvar $Object = Object;\nvar ObjectPrototype = $Object.prototype;\n\n// `Object.getPrototypeOf` method\n// https://tc39.es/ecma262/#sec-object.getprototypeof\n// eslint-disable-next-line es/no-object-getprototypeof -- safe\nmodule.exports = CORRECT_PROTOTYPE_GETTER ? $Object.getPrototypeOf : function (O) {\n  var object = toObject(O);\n  if (hasOwn(object, IE_PROTO)) return object[IE_PROTO];\n  var constructor = object.constructor;\n  if (isCallable(constructor) && object instanceof constructor) {\n    return constructor.prototype;\n  } return object instanceof $Object ? ObjectPrototype : null;\n};\n","'use strict';\nvar fails = require('../internals/fails');\nvar isCallable = require('../internals/is-callable');\n\nvar replacement = /#|\\.prototype\\./;\n\nvar isForced = function (feature, detection) {\n  var value = data[normalize(feature)];\n  return value === POLYFILL ? true\n    : value === NATIVE ? false\n    : isCallable(detection) ? fails(detection)\n    : !!detection;\n};\n\nvar normalize = isForced.normalize = function (string) {\n  return String(string).replace(replacement, '.').toLowerCase();\n};\n\nvar data = isForced.data = {};\nvar NATIVE = isForced.NATIVE = 'N';\nvar POLYFILL = isForced.POLYFILL = 'P';\n\nmodule.exports = isForced;\n","'use strict';\nvar globalThis = require('../internals/global-this');\n\nvar navigator = globalThis.navigator;\nvar userAgent = navigator && navigator.userAgent;\n\nmodule.exports = userAgent ? String(userAgent) : '';\n","'use strict';\nvar globalThis = require('../internals/global-this');\nvar NATIVE_ARRAY_BUFFER = require('../internals/array-buffer-basic-detection');\nvar arrayBufferByteLength = require('../internals/array-buffer-byte-length');\n\nvar DataView = globalThis.DataView;\n\nmodule.exports = function (O) {\n  if (!NATIVE_ARRAY_BUFFER || arrayBufferByteLength(O) !== 0) return false;\n  try {\n    // eslint-disable-next-line no-new -- thrower\n    new DataView(O);\n    return false;\n  } catch (error) {\n    return true;\n  }\n};\n","'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this');\n\nvar id = 0;\nvar postfix = Math.random();\nvar toString = uncurryThis(1.1.toString);\n\nmodule.exports = function (key) {\n  return 'Symbol(' + (key === undefined ? '' : key) + ')_' + toString(++id + postfix, 36);\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar call = require('../internals/function-call');\nvar iterate = require('../internals/iterate');\nvar aCallable = require('../internals/a-callable');\nvar anObject = require('../internals/an-object');\nvar getIteratorDirect = require('../internals/get-iterator-direct');\nvar iteratorClose = require('../internals/iterator-close');\nvar iteratorHelperWithoutClosingOnEarlyError = require('../internals/iterator-helper-without-closing-on-early-error');\n\nvar someWithoutClosingOnEarlyError = iteratorHelperWithoutClosingOnEarlyError('some', TypeError);\n\n// `Iterator.prototype.some` method\n// https://tc39.es/ecma262/#sec-iterator.prototype.some\n$({ target: 'Iterator', proto: true, real: true, forced: someWithoutClosingOnEarlyError }, {\n  some: function some(predicate) {\n    anObject(this);\n    try {\n      aCallable(predicate);\n    } catch (error) {\n      iteratorClose(this, 'throw', error);\n    }\n\n    if (someWithoutClosingOnEarlyError) return call(someWithoutClosingOnEarlyError, this, predicate);\n\n    var record = getIteratorDirect(this);\n    var counter = 0;\n    return iterate(record, function (value, stop) {\n      if (predicate(value, counter++)) return stop();\n    }, { IS_RECORD: true, INTERRUPTED: true }).stopped;\n  }\n});\n","'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar isCallable = require('../internals/is-callable');\nvar store = require('../internals/shared-store');\n\nvar functionToString = uncurryThis(Function.toString);\n\n// this helper broken in `core-js@3.4.1-3.4.4`, so we can't use `shared` helper\nif (!isCallable(store.inspectSource)) {\n  store.inspectSource = function (it) {\n    return functionToString(it);\n  };\n}\n\nmodule.exports = store.inspectSource;\n","'use strict';\n// eslint-disable-next-line es/no-object-getownpropertysymbols -- safe\nexports.f = Object.getOwnPropertySymbols;\n","'use strict';\nvar fails = require('../internals/fails');\n\n// Detect IE8's incomplete defineProperty implementation\nmodule.exports = !fails(function () {\n  // eslint-disable-next-line es/no-object-defineproperty -- required for testing\n  return Object.defineProperty({}, 1, { get: function () { return 7; } })[1] !== 7;\n});\n","'use strict';\nvar globalThis = require('../internals/global-this');\nvar isObject = require('../internals/is-object');\n\nvar document = globalThis.document;\n// typeof document.createElement is 'object' in old IE\nvar EXISTS = isObject(document) && isObject(document.createElement);\n\nmodule.exports = function (it) {\n  return EXISTS ? document.createElement(it) : {};\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar toObject = require('../internals/to-object');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\nvar setArrayLength = require('../internals/array-set-length');\nvar doesNotExceedSafeInteger = require('../internals/does-not-exceed-safe-integer');\nvar fails = require('../internals/fails');\n\nvar INCORRECT_TO_LENGTH = fails(function () {\n  return [].push.call({ length: 0x100000000 }, 1) !== 4294967297;\n});\n\n// V8 <= 121 and Safari <= 15.4; FF < 23 throws InternalError\n// https://bugs.chromium.org/p/v8/issues/detail?id=12681\nvar properErrorOnNonWritableLength = function () {\n  try {\n    // eslint-disable-next-line es/no-object-defineproperty -- safe\n    Object.defineProperty([], 'length', { writable: false }).push();\n  } catch (error) {\n    return error instanceof TypeError;\n  }\n};\n\nvar FORCED = INCORRECT_TO_LENGTH || !properErrorOnNonWritableLength();\n\n// `Array.prototype.push` method\n// https://tc39.es/ecma262/#sec-array.prototype.push\n$({ target: 'Array', proto: true, arity: 1, forced: FORCED }, {\n  // eslint-disable-next-line no-unused-vars -- required for `.length`\n  push: function push(item) {\n    var O = toObject(this);\n    var len = lengthOfArrayLike(O);\n    var argCount = arguments.length;\n    doesNotExceedSafeInteger(len + argCount);\n    for (var i = 0; i < argCount; i++) {\n      O[len] = arguments[i];\n      len++;\n    }\n    setArrayLength(O, len);\n    return len;\n  }\n});\n","'use strict';\n// we can't use just `it == null` since of `document.all` special case\n// https://tc39.es/ecma262/#sec-IsHTMLDDA-internal-slot-aec\nmodule.exports = function (it) {\n  return it === null || it === undefined;\n};\n","'use strict';\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar Iterators = require('../internals/iterators');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar ArrayPrototype = Array.prototype;\n\n// check on default Array iterator\nmodule.exports = function (it) {\n  return it !== undefined && (Iterators.Array === it || ArrayPrototype[ITERATOR] === it);\n};\n","'use strict';\n/* global Bun, Deno -- detection */\nvar globalThis = require('../internals/global-this');\nvar userAgent = require('../internals/environment-user-agent');\nvar classof = require('../internals/classof-raw');\n\nvar userAgentStartsWith = function (string) {\n  return userAgent.slice(0, string.length) === string;\n};\n\nmodule.exports = (function () {\n  if (userAgentStartsWith('Bun/')) return 'BUN';\n  if (userAgentStartsWith('Cloudflare-Workers')) return 'CLOUDFLARE';\n  if (userAgentStartsWith('Deno/')) return 'DENO';\n  if (userAgentStartsWith('Node.js/')) return 'NODE';\n  if (globalThis.Bun && typeof Bun.version == 'string') return 'BUN';\n  if (globalThis.Deno && typeof Deno.version == 'object') return 'DENO';\n  if (classof(globalThis.process) === 'process') return 'NODE';\n  if (globalThis.window && globalThis.document) return 'BROWSER';\n  return 'REST';\n})();\n","'use strict';\nvar call = require('../internals/function-call');\nvar isCallable = require('../internals/is-callable');\nvar isObject = require('../internals/is-object');\n\nvar $TypeError = TypeError;\n\n// `OrdinaryToPrimitive` abstract operation\n// https://tc39.es/ecma262/#sec-ordinarytoprimitive\nmodule.exports = function (input, pref) {\n  var fn, val;\n  if (pref === 'string' && isCallable(fn = input.toString) && !isObject(val = call(fn, input))) return val;\n  if (isCallable(fn = input.valueOf) && !isObject(val = call(fn, input))) return val;\n  if (pref !== 'string' && isCallable(fn = input.toString) && !isObject(val = call(fn, input))) return val;\n  throw new $TypeError(\"Can't convert object to primitive value\");\n};\n","'use strict';\nvar classof = require('../internals/classof-raw');\n\n// `IsArray` abstract operation\n// https://tc39.es/ecma262/#sec-isarray\n// eslint-disable-next-line es/no-array-isarray -- safe\nmodule.exports = Array.isArray || function isArray(argument) {\n  return classof(argument) === 'Array';\n};\n","'use strict';\nvar globalThis = require('../internals/global-this');\nvar getBuiltInNodeModule = require('../internals/get-built-in-node-module');\nvar PROPER_STRUCTURED_CLONE_TRANSFER = require('../internals/structured-clone-proper-transfer');\n\nvar structuredClone = globalThis.structuredClone;\nvar $ArrayBuffer = globalThis.ArrayBuffer;\nvar $MessageChannel = globalThis.MessageChannel;\nvar detach = false;\nvar WorkerThreads, channel, buffer, $detach;\n\nif (PROPER_STRUCTURED_CLONE_TRANSFER) {\n  detach = function (transferable) {\n    structuredClone(transferable, { transfer: [transferable] });\n  };\n} else if ($ArrayBuffer) try {\n  if (!$MessageChannel) {\n    WorkerThreads = getBuiltInNodeModule('worker_threads');\n    if (WorkerThreads) $MessageChannel = WorkerThreads.MessageChannel;\n  }\n\n  if ($MessageChannel) {\n    channel = new $MessageChannel();\n    buffer = new $ArrayBuffer(2);\n\n    $detach = function (transferable) {\n      channel.port1.postMessage(null, [transferable]);\n    };\n\n    if (buffer.byteLength === 2) {\n      $detach(buffer);\n      if (buffer.byteLength === 0) detach = $detach;\n    }\n  }\n} catch (error) { /* empty */ }\n\nmodule.exports = detach;\n","'use strict';\n/* eslint-disable es/no-symbol -- required for testing */\nvar V8_VERSION = require('../internals/environment-v8-version');\nvar fails = require('../internals/fails');\nvar globalThis = require('../internals/global-this');\n\nvar $String = globalThis.String;\n\n// eslint-disable-next-line es/no-object-getownpropertysymbols -- required for testing\nmodule.exports = !!Object.getOwnPropertySymbols && !fails(function () {\n  var symbol = Symbol('symbol detection');\n  // Chrome 38 Symbol has incorrect toString conversion\n  // `get-own-property-symbols` polyfill symbols converted to object are not Symbol instances\n  // nb: Do not call `String` directly to avoid this being optimized out to `symbol+''` which will,\n  // of course, fail.\n  return !$String(symbol) || !(Object(symbol) instanceof Symbol) ||\n    // Chrome 38-40 symbols are not inherited from DOM collections prototypes to instances\n    !Symbol.sham && V8_VERSION && V8_VERSION < 41;\n});\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar isArray = require('../internals/is-array');\n\nvar $TypeError = TypeError;\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// Safari < 13 does not throw an error in this case\nvar SILENT_ON_NON_WRITABLE_LENGTH_SET = DESCRIPTORS && !function () {\n  // makes no sense without proper strict mode support\n  if (this !== undefined) return true;\n  try {\n    // eslint-disable-next-line es/no-object-defineproperty -- safe\n    Object.defineProperty([], 'length', { writable: false }).length = 1;\n  } catch (error) {\n    return error instanceof TypeError;\n  }\n}();\n\nmodule.exports = SILENT_ON_NON_WRITABLE_LENGTH_SET ? function (O, length) {\n  if (isArray(O) && !getOwnPropertyDescriptor(O, 'length').writable) {\n    throw new $TypeError('Cannot set read only .length');\n  } return O.length = length;\n} : function (O, length) {\n  return O.length = length;\n};\n","'use strict';\nvar globalThis = require('../internals/global-this');\n\n// https://github.com/tc39/ecma262/pull/3467\nmodule.exports = function (METHOD_NAME, ExpectedError) {\n  var Iterator = globalThis.Iterator;\n  var IteratorPrototype = Iterator && Iterator.prototype;\n  var method = IteratorPrototype && IteratorPrototype[METHOD_NAME];\n\n  var CLOSED = false;\n\n  if (method) try {\n    method.call({\n      next: function () { return { done: true }; },\n      'return': function () { CLOSED = true; }\n    }, -1);\n  } catch (error) {\n    // https://bugs.webkit.org/show_bug.cgi?id=291195\n    if (!(error instanceof ExpectedError)) CLOSED = false;\n  }\n\n  if (!CLOSED) return method;\n};\n","'use strict';\nvar check = function (it) {\n  return it && it.Math === Math && it;\n};\n\n// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nmodule.exports =\n  // eslint-disable-next-line es/no-global-this -- safe\n  check(typeof globalThis == 'object' && globalThis) ||\n  check(typeof window == 'object' && window) ||\n  // eslint-disable-next-line no-restricted-globals -- safe\n  check(typeof self == 'object' && self) ||\n  check(typeof global == 'object' && global) ||\n  check(typeof this == 'object' && this) ||\n  // eslint-disable-next-line no-new-func -- fallback\n  (function () { return this; })() || Function('return this')();\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar definePropertyModule = require('../internals/object-define-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = function (object, key, value) {\n  if (DESCRIPTORS) definePropertyModule.f(object, key, createPropertyDescriptor(0, value));\n  else object[key] = value;\n};\n","'use strict';\n// https://tc39.es/ecma262/#sec-IsHTMLDDA-internal-slot\nvar documentAll = typeof document == 'object' && document.all;\n\n// `IsCallable` abstract operation\n// https://tc39.es/ecma262/#sec-iscallable\n// eslint-disable-next-line unicorn/no-typeof-undefined -- required for testing\nmodule.exports = typeof documentAll == 'undefined' && documentAll !== undefined ? function (argument) {\n  return typeof argument == 'function' || argument === documentAll;\n} : function (argument) {\n  return typeof argument == 'function';\n};\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\nvar V8_PROTOTYPE_DEFINE_BUG = require('../internals/v8-prototype-define-bug');\nvar anObject = require('../internals/an-object');\nvar toPropertyKey = require('../internals/to-property-key');\n\nvar $TypeError = TypeError;\n// eslint-disable-next-line es/no-object-defineproperty -- safe\nvar $defineProperty = Object.defineProperty;\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar $getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\nvar ENUMERABLE = 'enumerable';\nvar CONFIGURABLE = 'configurable';\nvar WRITABLE = 'writable';\n\n// `Object.defineProperty` method\n// https://tc39.es/ecma262/#sec-object.defineproperty\nexports.f = DESCRIPTORS ? V8_PROTOTYPE_DEFINE_BUG ? function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPropertyKey(P);\n  anObject(Attributes);\n  if (typeof O === 'function' && P === 'prototype' && 'value' in Attributes && WRITABLE in Attributes && !Attributes[WRITABLE]) {\n    var current = $getOwnPropertyDescriptor(O, P);\n    if (current && current[WRITABLE]) {\n      O[P] = Attributes.value;\n      Attributes = {\n        configurable: CONFIGURABLE in Attributes ? Attributes[CONFIGURABLE] : current[CONFIGURABLE],\n        enumerable: ENUMERABLE in Attributes ? Attributes[ENUMERABLE] : current[ENUMERABLE],\n        writable: false\n      };\n    }\n  } return $defineProperty(O, P, Attributes);\n} : $defineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPropertyKey(P);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return $defineProperty(O, P, Attributes);\n  } catch (error) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw new $TypeError('Accessors not supported');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n","'use strict';\nvar getBuiltIn = require('../internals/get-built-in');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar getOwnPropertyNamesModule = require('../internals/object-get-own-property-names');\nvar getOwnPropertySymbolsModule = require('../internals/object-get-own-property-symbols');\nvar anObject = require('../internals/an-object');\n\nvar concat = uncurryThis([].concat);\n\n// all object keys, includes non-enumerable and symbols\nmodule.exports = getBuiltIn('Reflect', 'ownKeys') || function ownKeys(it) {\n  var keys = getOwnPropertyNamesModule.f(anObject(it));\n  var getOwnPropertySymbols = getOwnPropertySymbolsModule.f;\n  return getOwnPropertySymbols ? concat(keys, getOwnPropertySymbols(it)) : keys;\n};\n","'use strict';\nvar isDetached = require('../internals/array-buffer-is-detached');\n\nvar $TypeError = TypeError;\n\nmodule.exports = function (it) {\n  if (isDetached(it)) throw new $TypeError('ArrayBuffer is detached');\n  return it;\n};\n","'use strict';\n// toObject with fallback for non-array-like ES3 strings\nvar IndexedObject = require('../internals/indexed-object');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\nmodule.exports = function (it) {\n  return IndexedObject(requireObjectCoercible(it));\n};\n","/*!\n * Vue.js v2.7.16\n * (c) 2014-2023 Evan You\n * Released under the MIT License.\n */\nvar emptyObject = Object.freeze({});\nvar isArray = Array.isArray;\n// These helpers produce better VM code in JS engines due to their\n// explicitness and function inlining.\nfunction isUndef(v) {\n    return v === undefined || v === null;\n}\nfunction isDef(v) {\n    return v !== undefined && v !== null;\n}\nfunction isTrue(v) {\n    return v === true;\n}\nfunction isFalse(v) {\n    return v === false;\n}\n/**\n * Check if value is primitive.\n */\nfunction isPrimitive(value) {\n    return (typeof value === 'string' ||\n        typeof value === 'number' ||\n        // $flow-disable-line\n        typeof value === 'symbol' ||\n        typeof value === 'boolean');\n}\nfunction isFunction(value) {\n    return typeof value === 'function';\n}\n/**\n * Quick object check - this is primarily used to tell\n * objects from primitive values when we know the value\n * is a JSON-compliant type.\n */\nfunction isObject(obj) {\n    return obj !== null && typeof obj === 'object';\n}\n/**\n * Get the raw type string of a value, e.g., [object Object].\n */\nvar _toString = Object.prototype.toString;\nfunction toRawType(value) {\n    return _toString.call(value).slice(8, -1);\n}\n/**\n * Strict object type check. Only returns true\n * for plain JavaScript objects.\n */\nfunction isPlainObject(obj) {\n    return _toString.call(obj) === '[object Object]';\n}\nfunction isRegExp(v) {\n    return _toString.call(v) === '[object RegExp]';\n}\n/**\n * Check if val is a valid array index.\n */\nfunction isValidArrayIndex(val) {\n    var n = parseFloat(String(val));\n    return n >= 0 && Math.floor(n) === n && isFinite(val);\n}\nfunction isPromise(val) {\n    return (isDef(val) &&\n        typeof val.then === 'function' &&\n        typeof val.catch === 'function');\n}\n/**\n * Convert a value to a string that is actually rendered.\n */\nfunction toString(val) {\n    return val == null\n        ? ''\n        : Array.isArray(val) || (isPlainObject(val) && val.toString === _toString)\n            ? JSON.stringify(val, replacer, 2)\n            : String(val);\n}\nfunction replacer(_key, val) {\n    // avoid circular deps from v3\n    if (val && val.__v_isRef) {\n        return val.value;\n    }\n    return val;\n}\n/**\n * Convert an input value to a number for persistence.\n * If the conversion fails, return original string.\n */\nfunction toNumber(val) {\n    var n = parseFloat(val);\n    return isNaN(n) ? val : n;\n}\n/**\n * Make a map and return a function for checking if a key\n * is in that map.\n */\nfunction makeMap(str, expectsLowerCase) {\n    var map = Object.create(null);\n    var list = str.split(',');\n    for (var i = 0; i < list.length; i++) {\n        map[list[i]] = true;\n    }\n    return expectsLowerCase ? function (val) { return map[val.toLowerCase()]; } : function (val) { return map[val]; };\n}\n/**\n * Check if a tag is a built-in tag.\n */\nvar isBuiltInTag = makeMap('slot,component', true);\n/**\n * Check if an attribute is a reserved attribute.\n */\nvar isReservedAttribute = makeMap('key,ref,slot,slot-scope,is');\n/**\n * Remove an item from an array.\n */\nfunction remove$2(arr, item) {\n    var len = arr.length;\n    if (len) {\n        // fast path for the only / last item\n        if (item === arr[len - 1]) {\n            arr.length = len - 1;\n            return;\n        }\n        var index = arr.indexOf(item);\n        if (index > -1) {\n            return arr.splice(index, 1);\n        }\n    }\n}\n/**\n * Check whether an object has the property.\n */\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nfunction hasOwn(obj, key) {\n    return hasOwnProperty.call(obj, key);\n}\n/**\n * Create a cached version of a pure function.\n */\nfunction cached(fn) {\n    var cache = Object.create(null);\n    return function cachedFn(str) {\n        var hit = cache[str];\n        return hit || (cache[str] = fn(str));\n    };\n}\n/**\n * Camelize a hyphen-delimited string.\n */\nvar camelizeRE = /-(\\w)/g;\nvar camelize = cached(function (str) {\n    return str.replace(camelizeRE, function (_, c) { return (c ? c.toUpperCase() : ''); });\n});\n/**\n * Capitalize a string.\n */\nvar capitalize = cached(function (str) {\n    return str.charAt(0).toUpperCase() + str.slice(1);\n});\n/**\n * Hyphenate a camelCase string.\n */\nvar hyphenateRE = /\\B([A-Z])/g;\nvar hyphenate = cached(function (str) {\n    return str.replace(hyphenateRE, '-$1').toLowerCase();\n});\n/**\n * Simple bind polyfill for environments that do not support it,\n * e.g., PhantomJS 1.x. Technically, we don't need this anymore\n * since native bind is now performant enough in most browsers.\n * But removing it would mean breaking code that was able to run in\n * PhantomJS 1.x, so this must be kept for backward compatibility.\n */\n/* istanbul ignore next */\nfunction polyfillBind(fn, ctx) {\n    function boundFn(a) {\n        var l = arguments.length;\n        return l\n            ? l > 1\n                ? fn.apply(ctx, arguments)\n                : fn.call(ctx, a)\n            : fn.call(ctx);\n    }\n    boundFn._length = fn.length;\n    return boundFn;\n}\nfunction nativeBind(fn, ctx) {\n    return fn.bind(ctx);\n}\n// @ts-expect-error bind cannot be `undefined`\nvar bind = Function.prototype.bind ? nativeBind : polyfillBind;\n/**\n * Convert an Array-like object to a real Array.\n */\nfunction toArray(list, start) {\n    start = start || 0;\n    var i = list.length - start;\n    var ret = new Array(i);\n    while (i--) {\n        ret[i] = list[i + start];\n    }\n    return ret;\n}\n/**\n * Mix properties into target object.\n */\nfunction extend(to, _from) {\n    for (var key in _from) {\n        to[key] = _from[key];\n    }\n    return to;\n}\n/**\n * Merge an Array of Objects into a single Object.\n */\nfunction toObject(arr) {\n    var res = {};\n    for (var i = 0; i < arr.length; i++) {\n        if (arr[i]) {\n            extend(res, arr[i]);\n        }\n    }\n    return res;\n}\n/* eslint-disable no-unused-vars */\n/**\n * Perform no operation.\n * Stubbing args to make Flow happy without leaving useless transpiled code\n * with ...rest (https://flow.org/blog/2017/05/07/Strict-Function-Call-Arity/).\n */\nfunction noop(a, b, c) { }\n/**\n * Always return false.\n */\nvar no = function (a, b, c) { return false; };\n/* eslint-enable no-unused-vars */\n/**\n * Return the same value.\n */\nvar identity = function (_) { return _; };\n/**\n * Check if two values are loosely equal - that is,\n * if they are plain objects, do they have the same shape?\n */\nfunction looseEqual(a, b) {\n    if (a === b)\n        return true;\n    var isObjectA = isObject(a);\n    var isObjectB = isObject(b);\n    if (isObjectA && isObjectB) {\n        try {\n            var isArrayA = Array.isArray(a);\n            var isArrayB = Array.isArray(b);\n            if (isArrayA && isArrayB) {\n                return (a.length === b.length &&\n                    a.every(function (e, i) {\n                        return looseEqual(e, b[i]);\n                    }));\n            }\n            else if (a instanceof Date && b instanceof Date) {\n                return a.getTime() === b.getTime();\n            }\n            else if (!isArrayA && !isArrayB) {\n                var keysA = Object.keys(a);\n                var keysB = Object.keys(b);\n                return (keysA.length === keysB.length &&\n                    keysA.every(function (key) {\n                        return looseEqual(a[key], b[key]);\n                    }));\n            }\n            else {\n                /* istanbul ignore next */\n                return false;\n            }\n        }\n        catch (e) {\n            /* istanbul ignore next */\n            return false;\n        }\n    }\n    else if (!isObjectA && !isObjectB) {\n        return String(a) === String(b);\n    }\n    else {\n        return false;\n    }\n}\n/**\n * Return the first index at which a loosely equal value can be\n * found in the array (if value is a plain object, the array must\n * contain an object of the same shape), or -1 if it is not present.\n */\nfunction looseIndexOf(arr, val) {\n    for (var i = 0; i < arr.length; i++) {\n        if (looseEqual(arr[i], val))\n            return i;\n    }\n    return -1;\n}\n/**\n * Ensure a function is called only once.\n */\nfunction once(fn) {\n    var called = false;\n    return function () {\n        if (!called) {\n            called = true;\n            fn.apply(this, arguments);\n        }\n    };\n}\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is#polyfill\nfunction hasChanged(x, y) {\n    if (x === y) {\n        return x === 0 && 1 / x !== 1 / y;\n    }\n    else {\n        return x === x || y === y;\n    }\n}\n\nvar SSR_ATTR = 'data-server-rendered';\nvar ASSET_TYPES = ['component', 'directive', 'filter'];\nvar LIFECYCLE_HOOKS = [\n    'beforeCreate',\n    'created',\n    'beforeMount',\n    'mounted',\n    'beforeUpdate',\n    'updated',\n    'beforeDestroy',\n    'destroyed',\n    'activated',\n    'deactivated',\n    'errorCaptured',\n    'serverPrefetch',\n    'renderTracked',\n    'renderTriggered'\n];\n\nvar config = {\n    /**\n     * Option merge strategies (used in core/util/options)\n     */\n    // $flow-disable-line\n    optionMergeStrategies: Object.create(null),\n    /**\n     * Whether to suppress warnings.\n     */\n    silent: false,\n    /**\n     * Show production mode tip message on boot?\n     */\n    productionTip: process.env.NODE_ENV !== 'production',\n    /**\n     * Whether to enable devtools\n     */\n    devtools: process.env.NODE_ENV !== 'production',\n    /**\n     * Whether to record perf\n     */\n    performance: false,\n    /**\n     * Error handler for watcher errors\n     */\n    errorHandler: null,\n    /**\n     * Warn handler for watcher warns\n     */\n    warnHandler: null,\n    /**\n     * Ignore certain custom elements\n     */\n    ignoredElements: [],\n    /**\n     * Custom user key aliases for v-on\n     */\n    // $flow-disable-line\n    keyCodes: Object.create(null),\n    /**\n     * Check if a tag is reserved so that it cannot be registered as a\n     * component. This is platform-dependent and may be overwritten.\n     */\n    isReservedTag: no,\n    /**\n     * Check if an attribute is reserved so that it cannot be used as a component\n     * prop. This is platform-dependent and may be overwritten.\n     */\n    isReservedAttr: no,\n    /**\n     * Check if a tag is an unknown element.\n     * Platform-dependent.\n     */\n    isUnknownElement: no,\n    /**\n     * Get the namespace of an element\n     */\n    getTagNamespace: noop,\n    /**\n     * Parse the real tag name for the specific platform.\n     */\n    parsePlatformTagName: identity,\n    /**\n     * Check if an attribute must be bound using property, e.g. value\n     * Platform-dependent.\n     */\n    mustUseProp: no,\n    /**\n     * Perform updates asynchronously. Intended to be used by Vue Test Utils\n     * This will significantly reduce performance if set to false.\n     */\n    async: true,\n    /**\n     * Exposed for legacy reasons\n     */\n    _lifecycleHooks: LIFECYCLE_HOOKS\n};\n\n/**\n * unicode letters used for parsing html tags, component names and property paths.\n * using https://www.w3.org/TR/html53/semantics-scripting.html#potentialcustomelementname\n * skipping \\u10000-\\uEFFFF due to it freezing up PhantomJS\n */\nvar unicodeRegExp = /a-zA-Z\\u00B7\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u203F-\\u2040\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD/;\n/**\n * Check if a string starts with $ or _\n */\nfunction isReserved(str) {\n    var c = (str + '').charCodeAt(0);\n    return c === 0x24 || c === 0x5f;\n}\n/**\n * Define a property.\n */\nfunction def(obj, key, val, enumerable) {\n    Object.defineProperty(obj, key, {\n        value: val,\n        enumerable: !!enumerable,\n        writable: true,\n        configurable: true\n    });\n}\n/**\n * Parse simple path.\n */\nvar bailRE = new RegExp(\"[^\".concat(unicodeRegExp.source, \".$_\\\\d]\"));\nfunction parsePath(path) {\n    if (bailRE.test(path)) {\n        return;\n    }\n    var segments = path.split('.');\n    return function (obj) {\n        for (var i = 0; i < segments.length; i++) {\n            if (!obj)\n                return;\n            obj = obj[segments[i]];\n        }\n        return obj;\n    };\n}\n\n// can we use __proto__?\nvar hasProto = '__proto__' in {};\n// Browser environment sniffing\nvar inBrowser = typeof window !== 'undefined';\nvar UA = inBrowser && window.navigator.userAgent.toLowerCase();\nvar isIE = UA && /msie|trident/.test(UA);\nvar isIE9 = UA && UA.indexOf('msie 9.0') > 0;\nvar isEdge = UA && UA.indexOf('edge/') > 0;\nUA && UA.indexOf('android') > 0;\nvar isIOS = UA && /iphone|ipad|ipod|ios/.test(UA);\nUA && /chrome\\/\\d+/.test(UA) && !isEdge;\nUA && /phantomjs/.test(UA);\nvar isFF = UA && UA.match(/firefox\\/(\\d+)/);\n// Firefox has a \"watch\" function on Object.prototype...\n// @ts-expect-error firebox support\nvar nativeWatch = {}.watch;\nvar supportsPassive = false;\nif (inBrowser) {\n    try {\n        var opts = {};\n        Object.defineProperty(opts, 'passive', {\n            get: function () {\n                /* istanbul ignore next */\n                supportsPassive = true;\n            }\n        }); // https://github.com/facebook/flow/issues/285\n        window.addEventListener('test-passive', null, opts);\n    }\n    catch (e) { }\n}\n// this needs to be lazy-evaled because vue may be required before\n// vue-server-renderer can set VUE_ENV\nvar _isServer;\nvar isServerRendering = function () {\n    if (_isServer === undefined) {\n        /* istanbul ignore if */\n        if (!inBrowser && typeof global !== 'undefined') {\n            // detect presence of vue-server-renderer and avoid\n            // Webpack shimming the process\n            _isServer =\n                global['process'] && global['process'].env.VUE_ENV === 'server';\n        }\n        else {\n            _isServer = false;\n        }\n    }\n    return _isServer;\n};\n// detect devtools\nvar devtools = inBrowser && window.__VUE_DEVTOOLS_GLOBAL_HOOK__;\n/* istanbul ignore next */\nfunction isNative(Ctor) {\n    return typeof Ctor === 'function' && /native code/.test(Ctor.toString());\n}\nvar hasSymbol = typeof Symbol !== 'undefined' &&\n    isNative(Symbol) &&\n    typeof Reflect !== 'undefined' &&\n    isNative(Reflect.ownKeys);\nvar _Set; // $flow-disable-line\n/* istanbul ignore if */ if (typeof Set !== 'undefined' && isNative(Set)) {\n    // use native Set when available.\n    _Set = Set;\n}\nelse {\n    // a non-standard Set polyfill that only works with primitive keys.\n    _Set = /** @class */ (function () {\n        function Set() {\n            this.set = Object.create(null);\n        }\n        Set.prototype.has = function (key) {\n            return this.set[key] === true;\n        };\n        Set.prototype.add = function (key) {\n            this.set[key] = true;\n        };\n        Set.prototype.clear = function () {\n            this.set = Object.create(null);\n        };\n        return Set;\n    }());\n}\n\nvar currentInstance = null;\n/**\n * This is exposed for compatibility with v3 (e.g. some functions in VueUse\n * relies on it). Do not use this internally, just use `currentInstance`.\n *\n * @internal this function needs manual type declaration because it relies\n * on previously manually authored types from Vue 2\n */\nfunction getCurrentInstance() {\n    return currentInstance && { proxy: currentInstance };\n}\n/**\n * @internal\n */\nfunction setCurrentInstance(vm) {\n    if (vm === void 0) { vm = null; }\n    if (!vm)\n        currentInstance && currentInstance._scope.off();\n    currentInstance = vm;\n    vm && vm._scope.on();\n}\n\n/**\n * @internal\n */\nvar VNode = /** @class */ (function () {\n    function VNode(tag, data, children, text, elm, context, componentOptions, asyncFactory) {\n        this.tag = tag;\n        this.data = data;\n        this.children = children;\n        this.text = text;\n        this.elm = elm;\n        this.ns = undefined;\n        this.context = context;\n        this.fnContext = undefined;\n        this.fnOptions = undefined;\n        this.fnScopeId = undefined;\n        this.key = data && data.key;\n        this.componentOptions = componentOptions;\n        this.componentInstance = undefined;\n        this.parent = undefined;\n        this.raw = false;\n        this.isStatic = false;\n        this.isRootInsert = true;\n        this.isComment = false;\n        this.isCloned = false;\n        this.isOnce = false;\n        this.asyncFactory = asyncFactory;\n        this.asyncMeta = undefined;\n        this.isAsyncPlaceholder = false;\n    }\n    Object.defineProperty(VNode.prototype, \"child\", {\n        // DEPRECATED: alias for componentInstance for backwards compat.\n        /* istanbul ignore next */\n        get: function () {\n            return this.componentInstance;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return VNode;\n}());\nvar createEmptyVNode = function (text) {\n    if (text === void 0) { text = ''; }\n    var node = new VNode();\n    node.text = text;\n    node.isComment = true;\n    return node;\n};\nfunction createTextVNode(val) {\n    return new VNode(undefined, undefined, undefined, String(val));\n}\n// optimized shallow clone\n// used for static nodes and slot nodes because they may be reused across\n// multiple renders, cloning them avoids errors when DOM manipulations rely\n// on their elm reference.\nfunction cloneVNode(vnode) {\n    var cloned = new VNode(vnode.tag, vnode.data, \n    // #7975\n    // clone children array to avoid mutating original in case of cloning\n    // a child.\n    vnode.children && vnode.children.slice(), vnode.text, vnode.elm, vnode.context, vnode.componentOptions, vnode.asyncFactory);\n    cloned.ns = vnode.ns;\n    cloned.isStatic = vnode.isStatic;\n    cloned.key = vnode.key;\n    cloned.isComment = vnode.isComment;\n    cloned.fnContext = vnode.fnContext;\n    cloned.fnOptions = vnode.fnOptions;\n    cloned.fnScopeId = vnode.fnScopeId;\n    cloned.asyncMeta = vnode.asyncMeta;\n    cloned.isCloned = true;\n    return cloned;\n}\n\n/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\n\r\ntypeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\r\n    var e = new Error(message);\r\n    return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\r\n};\n\nvar uid$2 = 0;\nvar pendingCleanupDeps = [];\nvar cleanupDeps = function () {\n    for (var i = 0; i < pendingCleanupDeps.length; i++) {\n        var dep = pendingCleanupDeps[i];\n        dep.subs = dep.subs.filter(function (s) { return s; });\n        dep._pending = false;\n    }\n    pendingCleanupDeps.length = 0;\n};\n/**\n * A dep is an observable that can have multiple\n * directives subscribing to it.\n * @internal\n */\nvar Dep = /** @class */ (function () {\n    function Dep() {\n        // pending subs cleanup\n        this._pending = false;\n        this.id = uid$2++;\n        this.subs = [];\n    }\n    Dep.prototype.addSub = function (sub) {\n        this.subs.push(sub);\n    };\n    Dep.prototype.removeSub = function (sub) {\n        // #12696 deps with massive amount of subscribers are extremely slow to\n        // clean up in Chromium\n        // to workaround this, we unset the sub for now, and clear them on\n        // next scheduler flush.\n        this.subs[this.subs.indexOf(sub)] = null;\n        if (!this._pending) {\n            this._pending = true;\n            pendingCleanupDeps.push(this);\n        }\n    };\n    Dep.prototype.depend = function (info) {\n        if (Dep.target) {\n            Dep.target.addDep(this);\n            if (process.env.NODE_ENV !== 'production' && info && Dep.target.onTrack) {\n                Dep.target.onTrack(__assign({ effect: Dep.target }, info));\n            }\n        }\n    };\n    Dep.prototype.notify = function (info) {\n        // stabilize the subscriber list first\n        var subs = this.subs.filter(function (s) { return s; });\n        if (process.env.NODE_ENV !== 'production' && !config.async) {\n            // subs aren't sorted in scheduler if not running async\n            // we need to sort them now to make sure they fire in correct\n            // order\n            subs.sort(function (a, b) { return a.id - b.id; });\n        }\n        for (var i = 0, l = subs.length; i < l; i++) {\n            var sub = subs[i];\n            if (process.env.NODE_ENV !== 'production' && info) {\n                sub.onTrigger &&\n                    sub.onTrigger(__assign({ effect: subs[i] }, info));\n            }\n            sub.update();\n        }\n    };\n    return Dep;\n}());\n// The current target watcher being evaluated.\n// This is globally unique because only one watcher\n// can be evaluated at a time.\nDep.target = null;\nvar targetStack = [];\nfunction pushTarget(target) {\n    targetStack.push(target);\n    Dep.target = target;\n}\nfunction popTarget() {\n    targetStack.pop();\n    Dep.target = targetStack[targetStack.length - 1];\n}\n\n/*\n * not type checking this file because flow doesn't play well with\n * dynamically accessing methods on Array prototype\n */\nvar arrayProto = Array.prototype;\nvar arrayMethods = Object.create(arrayProto);\nvar methodsToPatch = [\n    'push',\n    'pop',\n    'shift',\n    'unshift',\n    'splice',\n    'sort',\n    'reverse'\n];\n/**\n * Intercept mutating methods and emit events\n */\nmethodsToPatch.forEach(function (method) {\n    // cache original method\n    var original = arrayProto[method];\n    def(arrayMethods, method, function mutator() {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        var result = original.apply(this, args);\n        var ob = this.__ob__;\n        var inserted;\n        switch (method) {\n            case 'push':\n            case 'unshift':\n                inserted = args;\n                break;\n            case 'splice':\n                inserted = args.slice(2);\n                break;\n        }\n        if (inserted)\n            ob.observeArray(inserted);\n        // notify change\n        if (process.env.NODE_ENV !== 'production') {\n            ob.dep.notify({\n                type: \"array mutation\" /* TriggerOpTypes.ARRAY_MUTATION */,\n                target: this,\n                key: method\n            });\n        }\n        else {\n            ob.dep.notify();\n        }\n        return result;\n    });\n});\n\nvar arrayKeys = Object.getOwnPropertyNames(arrayMethods);\nvar NO_INITIAL_VALUE = {};\n/**\n * In some cases we may want to disable observation inside a component's\n * update computation.\n */\nvar shouldObserve = true;\nfunction toggleObserving(value) {\n    shouldObserve = value;\n}\n// ssr mock dep\nvar mockDep = {\n    notify: noop,\n    depend: noop,\n    addSub: noop,\n    removeSub: noop\n};\n/**\n * Observer class that is attached to each observed\n * object. Once attached, the observer converts the target\n * object's property keys into getter/setters that\n * collect dependencies and dispatch updates.\n */\nvar Observer = /** @class */ (function () {\n    function Observer(value, shallow, mock) {\n        if (shallow === void 0) { shallow = false; }\n        if (mock === void 0) { mock = false; }\n        this.value = value;\n        this.shallow = shallow;\n        this.mock = mock;\n        // this.value = value\n        this.dep = mock ? mockDep : new Dep();\n        this.vmCount = 0;\n        def(value, '__ob__', this);\n        if (isArray(value)) {\n            if (!mock) {\n                if (hasProto) {\n                    value.__proto__ = arrayMethods;\n                    /* eslint-enable no-proto */\n                }\n                else {\n                    for (var i = 0, l = arrayKeys.length; i < l; i++) {\n                        var key = arrayKeys[i];\n                        def(value, key, arrayMethods[key]);\n                    }\n                }\n            }\n            if (!shallow) {\n                this.observeArray(value);\n            }\n        }\n        else {\n            /**\n             * Walk through all properties and convert them into\n             * getter/setters. This method should only be called when\n             * value type is Object.\n             */\n            var keys = Object.keys(value);\n            for (var i = 0; i < keys.length; i++) {\n                var key = keys[i];\n                defineReactive(value, key, NO_INITIAL_VALUE, undefined, shallow, mock);\n            }\n        }\n    }\n    /**\n     * Observe a list of Array items.\n     */\n    Observer.prototype.observeArray = function (value) {\n        for (var i = 0, l = value.length; i < l; i++) {\n            observe(value[i], false, this.mock);\n        }\n    };\n    return Observer;\n}());\n// helpers\n/**\n * Attempt to create an observer instance for a value,\n * returns the new observer if successfully observed,\n * or the existing observer if the value already has one.\n */\nfunction observe(value, shallow, ssrMockReactivity) {\n    if (value && hasOwn(value, '__ob__') && value.__ob__ instanceof Observer) {\n        return value.__ob__;\n    }\n    if (shouldObserve &&\n        (ssrMockReactivity || !isServerRendering()) &&\n        (isArray(value) || isPlainObject(value)) &&\n        Object.isExtensible(value) &&\n        !value.__v_skip /* ReactiveFlags.SKIP */ &&\n        !isRef(value) &&\n        !(value instanceof VNode)) {\n        return new Observer(value, shallow, ssrMockReactivity);\n    }\n}\n/**\n * Define a reactive property on an Object.\n */\nfunction defineReactive(obj, key, val, customSetter, shallow, mock, observeEvenIfShallow) {\n    if (observeEvenIfShallow === void 0) { observeEvenIfShallow = false; }\n    var dep = new Dep();\n    var property = Object.getOwnPropertyDescriptor(obj, key);\n    if (property && property.configurable === false) {\n        return;\n    }\n    // cater for pre-defined getter/setters\n    var getter = property && property.get;\n    var setter = property && property.set;\n    if ((!getter || setter) &&\n        (val === NO_INITIAL_VALUE || arguments.length === 2)) {\n        val = obj[key];\n    }\n    var childOb = shallow ? val && val.__ob__ : observe(val, false, mock);\n    Object.defineProperty(obj, key, {\n        enumerable: true,\n        configurable: true,\n        get: function reactiveGetter() {\n            var value = getter ? getter.call(obj) : val;\n            if (Dep.target) {\n                if (process.env.NODE_ENV !== 'production') {\n                    dep.depend({\n                        target: obj,\n                        type: \"get\" /* TrackOpTypes.GET */,\n                        key: key\n                    });\n                }\n                else {\n                    dep.depend();\n                }\n                if (childOb) {\n                    childOb.dep.depend();\n                    if (isArray(value)) {\n                        dependArray(value);\n                    }\n                }\n            }\n            return isRef(value) && !shallow ? value.value : value;\n        },\n        set: function reactiveSetter(newVal) {\n            var value = getter ? getter.call(obj) : val;\n            if (!hasChanged(value, newVal)) {\n                return;\n            }\n            if (process.env.NODE_ENV !== 'production' && customSetter) {\n                customSetter();\n            }\n            if (setter) {\n                setter.call(obj, newVal);\n            }\n            else if (getter) {\n                // #7981: for accessor properties without setter\n                return;\n            }\n            else if (!shallow && isRef(value) && !isRef(newVal)) {\n                value.value = newVal;\n                return;\n            }\n            else {\n                val = newVal;\n            }\n            childOb = shallow ? newVal && newVal.__ob__ : observe(newVal, false, mock);\n            if (process.env.NODE_ENV !== 'production') {\n                dep.notify({\n                    type: \"set\" /* TriggerOpTypes.SET */,\n                    target: obj,\n                    key: key,\n                    newValue: newVal,\n                    oldValue: value\n                });\n            }\n            else {\n                dep.notify();\n            }\n        }\n    });\n    return dep;\n}\nfunction set(target, key, val) {\n    if (process.env.NODE_ENV !== 'production' && (isUndef(target) || isPrimitive(target))) {\n        warn(\"Cannot set reactive property on undefined, null, or primitive value: \".concat(target));\n    }\n    if (isReadonly(target)) {\n        process.env.NODE_ENV !== 'production' && warn(\"Set operation on key \\\"\".concat(key, \"\\\" failed: target is readonly.\"));\n        return;\n    }\n    var ob = target.__ob__;\n    if (isArray(target) && isValidArrayIndex(key)) {\n        target.length = Math.max(target.length, key);\n        target.splice(key, 1, val);\n        // when mocking for SSR, array methods are not hijacked\n        if (ob && !ob.shallow && ob.mock) {\n            observe(val, false, true);\n        }\n        return val;\n    }\n    if (key in target && !(key in Object.prototype)) {\n        target[key] = val;\n        return val;\n    }\n    if (target._isVue || (ob && ob.vmCount)) {\n        process.env.NODE_ENV !== 'production' &&\n            warn('Avoid adding reactive properties to a Vue instance or its root $data ' +\n                'at runtime - declare it upfront in the data option.');\n        return val;\n    }\n    if (!ob) {\n        target[key] = val;\n        return val;\n    }\n    defineReactive(ob.value, key, val, undefined, ob.shallow, ob.mock);\n    if (process.env.NODE_ENV !== 'production') {\n        ob.dep.notify({\n            type: \"add\" /* TriggerOpTypes.ADD */,\n            target: target,\n            key: key,\n            newValue: val,\n            oldValue: undefined\n        });\n    }\n    else {\n        ob.dep.notify();\n    }\n    return val;\n}\nfunction del(target, key) {\n    if (process.env.NODE_ENV !== 'production' && (isUndef(target) || isPrimitive(target))) {\n        warn(\"Cannot delete reactive property on undefined, null, or primitive value: \".concat(target));\n    }\n    if (isArray(target) && isValidArrayIndex(key)) {\n        target.splice(key, 1);\n        return;\n    }\n    var ob = target.__ob__;\n    if (target._isVue || (ob && ob.vmCount)) {\n        process.env.NODE_ENV !== 'production' &&\n            warn('Avoid deleting properties on a Vue instance or its root $data ' +\n                '- just set it to null.');\n        return;\n    }\n    if (isReadonly(target)) {\n        process.env.NODE_ENV !== 'production' &&\n            warn(\"Delete operation on key \\\"\".concat(key, \"\\\" failed: target is readonly.\"));\n        return;\n    }\n    if (!hasOwn(target, key)) {\n        return;\n    }\n    delete target[key];\n    if (!ob) {\n        return;\n    }\n    if (process.env.NODE_ENV !== 'production') {\n        ob.dep.notify({\n            type: \"delete\" /* TriggerOpTypes.DELETE */,\n            target: target,\n            key: key\n        });\n    }\n    else {\n        ob.dep.notify();\n    }\n}\n/**\n * Collect dependencies on array elements when the array is touched, since\n * we cannot intercept array element access like property getters.\n */\nfunction dependArray(value) {\n    for (var e = void 0, i = 0, l = value.length; i < l; i++) {\n        e = value[i];\n        if (e && e.__ob__) {\n            e.__ob__.dep.depend();\n        }\n        if (isArray(e)) {\n            dependArray(e);\n        }\n    }\n}\n\nfunction reactive(target) {\n    makeReactive(target, false);\n    return target;\n}\n/**\n * Return a shallowly-reactive copy of the original object, where only the root\n * level properties are reactive. It also does not auto-unwrap refs (even at the\n * root level).\n */\nfunction shallowReactive(target) {\n    makeReactive(target, true);\n    def(target, \"__v_isShallow\" /* ReactiveFlags.IS_SHALLOW */, true);\n    return target;\n}\nfunction makeReactive(target, shallow) {\n    // if trying to observe a readonly proxy, return the readonly version.\n    if (!isReadonly(target)) {\n        if (process.env.NODE_ENV !== 'production') {\n            if (isArray(target)) {\n                warn(\"Avoid using Array as root value for \".concat(shallow ? \"shallowReactive()\" : \"reactive()\", \" as it cannot be tracked in watch() or watchEffect(). Use \").concat(shallow ? \"shallowRef()\" : \"ref()\", \" instead. This is a Vue-2-only limitation.\"));\n            }\n            var existingOb = target && target.__ob__;\n            if (existingOb && existingOb.shallow !== shallow) {\n                warn(\"Target is already a \".concat(existingOb.shallow ? \"\" : \"non-\", \"shallow reactive object, and cannot be converted to \").concat(shallow ? \"\" : \"non-\", \"shallow.\"));\n            }\n        }\n        var ob = observe(target, shallow, isServerRendering() /* ssr mock reactivity */);\n        if (process.env.NODE_ENV !== 'production' && !ob) {\n            if (target == null || isPrimitive(target)) {\n                warn(\"value cannot be made reactive: \".concat(String(target)));\n            }\n            if (isCollectionType(target)) {\n                warn(\"Vue 2 does not support reactive collection types such as Map or Set.\");\n            }\n        }\n    }\n}\nfunction isReactive(value) {\n    if (isReadonly(value)) {\n        return isReactive(value[\"__v_raw\" /* ReactiveFlags.RAW */]);\n    }\n    return !!(value && value.__ob__);\n}\nfunction isShallow(value) {\n    return !!(value && value.__v_isShallow);\n}\nfunction isReadonly(value) {\n    return !!(value && value.__v_isReadonly);\n}\nfunction isProxy(value) {\n    return isReactive(value) || isReadonly(value);\n}\nfunction toRaw(observed) {\n    var raw = observed && observed[\"__v_raw\" /* ReactiveFlags.RAW */];\n    return raw ? toRaw(raw) : observed;\n}\nfunction markRaw(value) {\n    // non-extensible objects won't be observed anyway\n    if (Object.isExtensible(value)) {\n        def(value, \"__v_skip\" /* ReactiveFlags.SKIP */, true);\n    }\n    return value;\n}\n/**\n * @internal\n */\nfunction isCollectionType(value) {\n    var type = toRawType(value);\n    return (type === 'Map' || type === 'WeakMap' || type === 'Set' || type === 'WeakSet');\n}\n\n/**\n * @internal\n */\nvar RefFlag = \"__v_isRef\";\nfunction isRef(r) {\n    return !!(r && r.__v_isRef === true);\n}\nfunction ref$1(value) {\n    return createRef(value, false);\n}\nfunction shallowRef(value) {\n    return createRef(value, true);\n}\nfunction createRef(rawValue, shallow) {\n    if (isRef(rawValue)) {\n        return rawValue;\n    }\n    var ref = {};\n    def(ref, RefFlag, true);\n    def(ref, \"__v_isShallow\" /* ReactiveFlags.IS_SHALLOW */, shallow);\n    def(ref, 'dep', defineReactive(ref, 'value', rawValue, null, shallow, isServerRendering()));\n    return ref;\n}\nfunction triggerRef(ref) {\n    if (process.env.NODE_ENV !== 'production' && !ref.dep) {\n        warn(\"received object is not a triggerable ref.\");\n    }\n    if (process.env.NODE_ENV !== 'production') {\n        ref.dep &&\n            ref.dep.notify({\n                type: \"set\" /* TriggerOpTypes.SET */,\n                target: ref,\n                key: 'value'\n            });\n    }\n    else {\n        ref.dep && ref.dep.notify();\n    }\n}\nfunction unref(ref) {\n    return isRef(ref) ? ref.value : ref;\n}\nfunction proxyRefs(objectWithRefs) {\n    if (isReactive(objectWithRefs)) {\n        return objectWithRefs;\n    }\n    var proxy = {};\n    var keys = Object.keys(objectWithRefs);\n    for (var i = 0; i < keys.length; i++) {\n        proxyWithRefUnwrap(proxy, objectWithRefs, keys[i]);\n    }\n    return proxy;\n}\nfunction proxyWithRefUnwrap(target, source, key) {\n    Object.defineProperty(target, key, {\n        enumerable: true,\n        configurable: true,\n        get: function () {\n            var val = source[key];\n            if (isRef(val)) {\n                return val.value;\n            }\n            else {\n                var ob = val && val.__ob__;\n                if (ob)\n                    ob.dep.depend();\n                return val;\n            }\n        },\n        set: function (value) {\n            var oldValue = source[key];\n            if (isRef(oldValue) && !isRef(value)) {\n                oldValue.value = value;\n            }\n            else {\n                source[key] = value;\n            }\n        }\n    });\n}\nfunction customRef(factory) {\n    var dep = new Dep();\n    var _a = factory(function () {\n        if (process.env.NODE_ENV !== 'production') {\n            dep.depend({\n                target: ref,\n                type: \"get\" /* TrackOpTypes.GET */,\n                key: 'value'\n            });\n        }\n        else {\n            dep.depend();\n        }\n    }, function () {\n        if (process.env.NODE_ENV !== 'production') {\n            dep.notify({\n                target: ref,\n                type: \"set\" /* TriggerOpTypes.SET */,\n                key: 'value'\n            });\n        }\n        else {\n            dep.notify();\n        }\n    }), get = _a.get, set = _a.set;\n    var ref = {\n        get value() {\n            return get();\n        },\n        set value(newVal) {\n            set(newVal);\n        }\n    };\n    def(ref, RefFlag, true);\n    return ref;\n}\nfunction toRefs(object) {\n    if (process.env.NODE_ENV !== 'production' && !isReactive(object)) {\n        warn(\"toRefs() expects a reactive object but received a plain one.\");\n    }\n    var ret = isArray(object) ? new Array(object.length) : {};\n    for (var key in object) {\n        ret[key] = toRef(object, key);\n    }\n    return ret;\n}\nfunction toRef(object, key, defaultValue) {\n    var val = object[key];\n    if (isRef(val)) {\n        return val;\n    }\n    var ref = {\n        get value() {\n            var val = object[key];\n            return val === undefined ? defaultValue : val;\n        },\n        set value(newVal) {\n            object[key] = newVal;\n        }\n    };\n    def(ref, RefFlag, true);\n    return ref;\n}\n\nvar rawToReadonlyFlag = \"__v_rawToReadonly\";\nvar rawToShallowReadonlyFlag = \"__v_rawToShallowReadonly\";\nfunction readonly(target) {\n    return createReadonly(target, false);\n}\nfunction createReadonly(target, shallow) {\n    if (!isPlainObject(target)) {\n        if (process.env.NODE_ENV !== 'production') {\n            if (isArray(target)) {\n                warn(\"Vue 2 does not support readonly arrays.\");\n            }\n            else if (isCollectionType(target)) {\n                warn(\"Vue 2 does not support readonly collection types such as Map or Set.\");\n            }\n            else {\n                warn(\"value cannot be made readonly: \".concat(typeof target));\n            }\n        }\n        return target;\n    }\n    if (process.env.NODE_ENV !== 'production' && !Object.isExtensible(target)) {\n        warn(\"Vue 2 does not support creating readonly proxy for non-extensible object.\");\n    }\n    // already a readonly object\n    if (isReadonly(target)) {\n        return target;\n    }\n    // already has a readonly proxy\n    var existingFlag = shallow ? rawToShallowReadonlyFlag : rawToReadonlyFlag;\n    var existingProxy = target[existingFlag];\n    if (existingProxy) {\n        return existingProxy;\n    }\n    var proxy = Object.create(Object.getPrototypeOf(target));\n    def(target, existingFlag, proxy);\n    def(proxy, \"__v_isReadonly\" /* ReactiveFlags.IS_READONLY */, true);\n    def(proxy, \"__v_raw\" /* ReactiveFlags.RAW */, target);\n    if (isRef(target)) {\n        def(proxy, RefFlag, true);\n    }\n    if (shallow || isShallow(target)) {\n        def(proxy, \"__v_isShallow\" /* ReactiveFlags.IS_SHALLOW */, true);\n    }\n    var keys = Object.keys(target);\n    for (var i = 0; i < keys.length; i++) {\n        defineReadonlyProperty(proxy, target, keys[i], shallow);\n    }\n    return proxy;\n}\nfunction defineReadonlyProperty(proxy, target, key, shallow) {\n    Object.defineProperty(proxy, key, {\n        enumerable: true,\n        configurable: true,\n        get: function () {\n            var val = target[key];\n            return shallow || !isPlainObject(val) ? val : readonly(val);\n        },\n        set: function () {\n            process.env.NODE_ENV !== 'production' &&\n                warn(\"Set operation on key \\\"\".concat(key, \"\\\" failed: target is readonly.\"));\n        }\n    });\n}\n/**\n * Returns a reactive-copy of the original object, where only the root level\n * properties are readonly, and does NOT unwrap refs nor recursively convert\n * returned properties.\n * This is used for creating the props proxy object for stateful components.\n */\nfunction shallowReadonly(target) {\n    return createReadonly(target, true);\n}\n\nfunction computed(getterOrOptions, debugOptions) {\n    var getter;\n    var setter;\n    var onlyGetter = isFunction(getterOrOptions);\n    if (onlyGetter) {\n        getter = getterOrOptions;\n        setter = process.env.NODE_ENV !== 'production'\n            ? function () {\n                warn('Write operation failed: computed value is readonly');\n            }\n            : noop;\n    }\n    else {\n        getter = getterOrOptions.get;\n        setter = getterOrOptions.set;\n    }\n    var watcher = isServerRendering()\n        ? null\n        : new Watcher(currentInstance, getter, noop, { lazy: true });\n    if (process.env.NODE_ENV !== 'production' && watcher && debugOptions) {\n        watcher.onTrack = debugOptions.onTrack;\n        watcher.onTrigger = debugOptions.onTrigger;\n    }\n    var ref = {\n        // some libs rely on the presence effect for checking computed refs\n        // from normal refs, but the implementation doesn't matter\n        effect: watcher,\n        get value() {\n            if (watcher) {\n                if (watcher.dirty) {\n                    watcher.evaluate();\n                }\n                if (Dep.target) {\n                    if (process.env.NODE_ENV !== 'production' && Dep.target.onTrack) {\n                        Dep.target.onTrack({\n                            effect: Dep.target,\n                            target: ref,\n                            type: \"get\" /* TrackOpTypes.GET */,\n                            key: 'value'\n                        });\n                    }\n                    watcher.depend();\n                }\n                return watcher.value;\n            }\n            else {\n                return getter();\n            }\n        },\n        set value(newVal) {\n            setter(newVal);\n        }\n    };\n    def(ref, RefFlag, true);\n    def(ref, \"__v_isReadonly\" /* ReactiveFlags.IS_READONLY */, onlyGetter);\n    return ref;\n}\n\nvar WATCHER = \"watcher\";\nvar WATCHER_CB = \"\".concat(WATCHER, \" callback\");\nvar WATCHER_GETTER = \"\".concat(WATCHER, \" getter\");\nvar WATCHER_CLEANUP = \"\".concat(WATCHER, \" cleanup\");\n// Simple effect.\nfunction watchEffect(effect, options) {\n    return doWatch(effect, null, options);\n}\nfunction watchPostEffect(effect, options) {\n    return doWatch(effect, null, (process.env.NODE_ENV !== 'production'\n        ? __assign(__assign({}, options), { flush: 'post' }) : { flush: 'post' }));\n}\nfunction watchSyncEffect(effect, options) {\n    return doWatch(effect, null, (process.env.NODE_ENV !== 'production'\n        ? __assign(__assign({}, options), { flush: 'sync' }) : { flush: 'sync' }));\n}\n// initial value for watchers to trigger on undefined initial values\nvar INITIAL_WATCHER_VALUE = {};\n// implementation\nfunction watch(source, cb, options) {\n    if (process.env.NODE_ENV !== 'production' && typeof cb !== 'function') {\n        warn(\"`watch(fn, options?)` signature has been moved to a separate API. \" +\n            \"Use `watchEffect(fn, options?)` instead. `watch` now only \" +\n            \"supports `watch(source, cb, options?) signature.\");\n    }\n    return doWatch(source, cb, options);\n}\nfunction doWatch(source, cb, _a) {\n    var _b = _a === void 0 ? emptyObject : _a, immediate = _b.immediate, deep = _b.deep, _c = _b.flush, flush = _c === void 0 ? 'pre' : _c, onTrack = _b.onTrack, onTrigger = _b.onTrigger;\n    if (process.env.NODE_ENV !== 'production' && !cb) {\n        if (immediate !== undefined) {\n            warn(\"watch() \\\"immediate\\\" option is only respected when using the \" +\n                \"watch(source, callback, options?) signature.\");\n        }\n        if (deep !== undefined) {\n            warn(\"watch() \\\"deep\\\" option is only respected when using the \" +\n                \"watch(source, callback, options?) signature.\");\n        }\n    }\n    var warnInvalidSource = function (s) {\n        warn(\"Invalid watch source: \".concat(s, \". A watch source can only be a getter/effect \") +\n            \"function, a ref, a reactive object, or an array of these types.\");\n    };\n    var instance = currentInstance;\n    var call = function (fn, type, args) {\n        if (args === void 0) { args = null; }\n        var res = invokeWithErrorHandling(fn, null, args, instance, type);\n        if (deep && res && res.__ob__)\n            res.__ob__.dep.depend();\n        return res;\n    };\n    var getter;\n    var forceTrigger = false;\n    var isMultiSource = false;\n    if (isRef(source)) {\n        getter = function () { return source.value; };\n        forceTrigger = isShallow(source);\n    }\n    else if (isReactive(source)) {\n        getter = function () {\n            source.__ob__.dep.depend();\n            return source;\n        };\n        deep = true;\n    }\n    else if (isArray(source)) {\n        isMultiSource = true;\n        forceTrigger = source.some(function (s) { return isReactive(s) || isShallow(s); });\n        getter = function () {\n            return source.map(function (s) {\n                if (isRef(s)) {\n                    return s.value;\n                }\n                else if (isReactive(s)) {\n                    s.__ob__.dep.depend();\n                    return traverse(s);\n                }\n                else if (isFunction(s)) {\n                    return call(s, WATCHER_GETTER);\n                }\n                else {\n                    process.env.NODE_ENV !== 'production' && warnInvalidSource(s);\n                }\n            });\n        };\n    }\n    else if (isFunction(source)) {\n        if (cb) {\n            // getter with cb\n            getter = function () { return call(source, WATCHER_GETTER); };\n        }\n        else {\n            // no cb -> simple effect\n            getter = function () {\n                if (instance && instance._isDestroyed) {\n                    return;\n                }\n                if (cleanup) {\n                    cleanup();\n                }\n                return call(source, WATCHER, [onCleanup]);\n            };\n        }\n    }\n    else {\n        getter = noop;\n        process.env.NODE_ENV !== 'production' && warnInvalidSource(source);\n    }\n    if (cb && deep) {\n        var baseGetter_1 = getter;\n        getter = function () { return traverse(baseGetter_1()); };\n    }\n    var cleanup;\n    var onCleanup = function (fn) {\n        cleanup = watcher.onStop = function () {\n            call(fn, WATCHER_CLEANUP);\n        };\n    };\n    // in SSR there is no need to setup an actual effect, and it should be noop\n    // unless it's eager\n    if (isServerRendering()) {\n        // we will also not call the invalidate callback (+ runner is not set up)\n        onCleanup = noop;\n        if (!cb) {\n            getter();\n        }\n        else if (immediate) {\n            call(cb, WATCHER_CB, [\n                getter(),\n                isMultiSource ? [] : undefined,\n                onCleanup\n            ]);\n        }\n        return noop;\n    }\n    var watcher = new Watcher(currentInstance, getter, noop, {\n        lazy: true\n    });\n    watcher.noRecurse = !cb;\n    var oldValue = isMultiSource ? [] : INITIAL_WATCHER_VALUE;\n    // overwrite default run\n    watcher.run = function () {\n        if (!watcher.active) {\n            return;\n        }\n        if (cb) {\n            // watch(source, cb)\n            var newValue = watcher.get();\n            if (deep ||\n                forceTrigger ||\n                (isMultiSource\n                    ? newValue.some(function (v, i) {\n                        return hasChanged(v, oldValue[i]);\n                    })\n                    : hasChanged(newValue, oldValue))) {\n                // cleanup before running cb again\n                if (cleanup) {\n                    cleanup();\n                }\n                call(cb, WATCHER_CB, [\n                    newValue,\n                    // pass undefined as the old value when it's changed for the first time\n                    oldValue === INITIAL_WATCHER_VALUE ? undefined : oldValue,\n                    onCleanup\n                ]);\n                oldValue = newValue;\n            }\n        }\n        else {\n            // watchEffect\n            watcher.get();\n        }\n    };\n    if (flush === 'sync') {\n        watcher.update = watcher.run;\n    }\n    else if (flush === 'post') {\n        watcher.post = true;\n        watcher.update = function () { return queueWatcher(watcher); };\n    }\n    else {\n        // pre\n        watcher.update = function () {\n            if (instance && instance === currentInstance && !instance._isMounted) {\n                // pre-watcher triggered before\n                var buffer = instance._preWatchers || (instance._preWatchers = []);\n                if (buffer.indexOf(watcher) < 0)\n                    buffer.push(watcher);\n            }\n            else {\n                queueWatcher(watcher);\n            }\n        };\n    }\n    if (process.env.NODE_ENV !== 'production') {\n        watcher.onTrack = onTrack;\n        watcher.onTrigger = onTrigger;\n    }\n    // initial run\n    if (cb) {\n        if (immediate) {\n            watcher.run();\n        }\n        else {\n            oldValue = watcher.get();\n        }\n    }\n    else if (flush === 'post' && instance) {\n        instance.$once('hook:mounted', function () { return watcher.get(); });\n    }\n    else {\n        watcher.get();\n    }\n    return function () {\n        watcher.teardown();\n    };\n}\n\nvar activeEffectScope;\nvar EffectScope = /** @class */ (function () {\n    function EffectScope(detached) {\n        if (detached === void 0) { detached = false; }\n        this.detached = detached;\n        /**\n         * @internal\n         */\n        this.active = true;\n        /**\n         * @internal\n         */\n        this.effects = [];\n        /**\n         * @internal\n         */\n        this.cleanups = [];\n        this.parent = activeEffectScope;\n        if (!detached && activeEffectScope) {\n            this.index =\n                (activeEffectScope.scopes || (activeEffectScope.scopes = [])).push(this) - 1;\n        }\n    }\n    EffectScope.prototype.run = function (fn) {\n        if (this.active) {\n            var currentEffectScope = activeEffectScope;\n            try {\n                activeEffectScope = this;\n                return fn();\n            }\n            finally {\n                activeEffectScope = currentEffectScope;\n            }\n        }\n        else if (process.env.NODE_ENV !== 'production') {\n            warn(\"cannot run an inactive effect scope.\");\n        }\n    };\n    /**\n     * This should only be called on non-detached scopes\n     * @internal\n     */\n    EffectScope.prototype.on = function () {\n        activeEffectScope = this;\n    };\n    /**\n     * This should only be called on non-detached scopes\n     * @internal\n     */\n    EffectScope.prototype.off = function () {\n        activeEffectScope = this.parent;\n    };\n    EffectScope.prototype.stop = function (fromParent) {\n        if (this.active) {\n            var i = void 0, l = void 0;\n            for (i = 0, l = this.effects.length; i < l; i++) {\n                this.effects[i].teardown();\n            }\n            for (i = 0, l = this.cleanups.length; i < l; i++) {\n                this.cleanups[i]();\n            }\n            if (this.scopes) {\n                for (i = 0, l = this.scopes.length; i < l; i++) {\n                    this.scopes[i].stop(true);\n                }\n            }\n            // nested scope, dereference from parent to avoid memory leaks\n            if (!this.detached && this.parent && !fromParent) {\n                // optimized O(1) removal\n                var last = this.parent.scopes.pop();\n                if (last && last !== this) {\n                    this.parent.scopes[this.index] = last;\n                    last.index = this.index;\n                }\n            }\n            this.parent = undefined;\n            this.active = false;\n        }\n    };\n    return EffectScope;\n}());\nfunction effectScope(detached) {\n    return new EffectScope(detached);\n}\n/**\n * @internal\n */\nfunction recordEffectScope(effect, scope) {\n    if (scope === void 0) { scope = activeEffectScope; }\n    if (scope && scope.active) {\n        scope.effects.push(effect);\n    }\n}\nfunction getCurrentScope() {\n    return activeEffectScope;\n}\nfunction onScopeDispose(fn) {\n    if (activeEffectScope) {\n        activeEffectScope.cleanups.push(fn);\n    }\n    else if (process.env.NODE_ENV !== 'production') {\n        warn(\"onScopeDispose() is called when there is no active effect scope\" +\n            \" to be associated with.\");\n    }\n}\n\nfunction provide(key, value) {\n    if (!currentInstance) {\n        if (process.env.NODE_ENV !== 'production') {\n            warn(\"provide() can only be used inside setup().\");\n        }\n    }\n    else {\n        // TS doesn't allow symbol as index type\n        resolveProvided(currentInstance)[key] = value;\n    }\n}\nfunction resolveProvided(vm) {\n    // by default an instance inherits its parent's provides object\n    // but when it needs to provide values of its own, it creates its\n    // own provides object using parent provides object as prototype.\n    // this way in `inject` we can simply look up injections from direct\n    // parent and let the prototype chain do the work.\n    var existing = vm._provided;\n    var parentProvides = vm.$parent && vm.$parent._provided;\n    if (parentProvides === existing) {\n        return (vm._provided = Object.create(parentProvides));\n    }\n    else {\n        return existing;\n    }\n}\nfunction inject(key, defaultValue, treatDefaultAsFactory) {\n    if (treatDefaultAsFactory === void 0) { treatDefaultAsFactory = false; }\n    // fallback to `currentRenderingInstance` so that this can be called in\n    // a functional component\n    var instance = currentInstance;\n    if (instance) {\n        // #2400\n        // to support `app.use` plugins,\n        // fallback to appContext's `provides` if the instance is at root\n        var provides = instance.$parent && instance.$parent._provided;\n        if (provides && key in provides) {\n            // TS doesn't allow symbol as index type\n            return provides[key];\n        }\n        else if (arguments.length > 1) {\n            return treatDefaultAsFactory && isFunction(defaultValue)\n                ? defaultValue.call(instance)\n                : defaultValue;\n        }\n        else if (process.env.NODE_ENV !== 'production') {\n            warn(\"injection \\\"\".concat(String(key), \"\\\" not found.\"));\n        }\n    }\n    else if (process.env.NODE_ENV !== 'production') {\n        warn(\"inject() can only be used inside setup() or functional components.\");\n    }\n}\n\nvar normalizeEvent = cached(function (name) {\n    var passive = name.charAt(0) === '&';\n    name = passive ? name.slice(1) : name;\n    var once = name.charAt(0) === '~'; // Prefixed last, checked first\n    name = once ? name.slice(1) : name;\n    var capture = name.charAt(0) === '!';\n    name = capture ? name.slice(1) : name;\n    return {\n        name: name,\n        once: once,\n        capture: capture,\n        passive: passive\n    };\n});\nfunction createFnInvoker(fns, vm) {\n    function invoker() {\n        var fns = invoker.fns;\n        if (isArray(fns)) {\n            var cloned = fns.slice();\n            for (var i = 0; i < cloned.length; i++) {\n                invokeWithErrorHandling(cloned[i], null, arguments, vm, \"v-on handler\");\n            }\n        }\n        else {\n            // return handler return value for single handlers\n            return invokeWithErrorHandling(fns, null, arguments, vm, \"v-on handler\");\n        }\n    }\n    invoker.fns = fns;\n    return invoker;\n}\nfunction updateListeners(on, oldOn, add, remove, createOnceHandler, vm) {\n    var name, cur, old, event;\n    for (name in on) {\n        cur = on[name];\n        old = oldOn[name];\n        event = normalizeEvent(name);\n        if (isUndef(cur)) {\n            process.env.NODE_ENV !== 'production' &&\n                warn(\"Invalid handler for event \\\"\".concat(event.name, \"\\\": got \") + String(cur), vm);\n        }\n        else if (isUndef(old)) {\n            if (isUndef(cur.fns)) {\n                cur = on[name] = createFnInvoker(cur, vm);\n            }\n            if (isTrue(event.once)) {\n                cur = on[name] = createOnceHandler(event.name, cur, event.capture);\n            }\n            add(event.name, cur, event.capture, event.passive, event.params);\n        }\n        else if (cur !== old) {\n            old.fns = cur;\n            on[name] = old;\n        }\n    }\n    for (name in oldOn) {\n        if (isUndef(on[name])) {\n            event = normalizeEvent(name);\n            remove(event.name, oldOn[name], event.capture);\n        }\n    }\n}\n\nfunction mergeVNodeHook(def, hookKey, hook) {\n    if (def instanceof VNode) {\n        def = def.data.hook || (def.data.hook = {});\n    }\n    var invoker;\n    var oldHook = def[hookKey];\n    function wrappedHook() {\n        hook.apply(this, arguments);\n        // important: remove merged hook to ensure it's called only once\n        // and prevent memory leak\n        remove$2(invoker.fns, wrappedHook);\n    }\n    if (isUndef(oldHook)) {\n        // no existing hook\n        invoker = createFnInvoker([wrappedHook]);\n    }\n    else {\n        /* istanbul ignore if */\n        if (isDef(oldHook.fns) && isTrue(oldHook.merged)) {\n            // already a merged invoker\n            invoker = oldHook;\n            invoker.fns.push(wrappedHook);\n        }\n        else {\n            // existing plain hook\n            invoker = createFnInvoker([oldHook, wrappedHook]);\n        }\n    }\n    invoker.merged = true;\n    def[hookKey] = invoker;\n}\n\nfunction extractPropsFromVNodeData(data, Ctor, tag) {\n    // we are only extracting raw values here.\n    // validation and default values are handled in the child\n    // component itself.\n    var propOptions = Ctor.options.props;\n    if (isUndef(propOptions)) {\n        return;\n    }\n    var res = {};\n    var attrs = data.attrs, props = data.props;\n    if (isDef(attrs) || isDef(props)) {\n        for (var key in propOptions) {\n            var altKey = hyphenate(key);\n            if (process.env.NODE_ENV !== 'production') {\n                var keyInLowerCase = key.toLowerCase();\n                if (key !== keyInLowerCase && attrs && hasOwn(attrs, keyInLowerCase)) {\n                    tip(\"Prop \\\"\".concat(keyInLowerCase, \"\\\" is passed to component \") +\n                        \"\".concat(formatComponentName(\n                        // @ts-expect-error tag is string\n                        tag || Ctor), \", but the declared prop name is\") +\n                        \" \\\"\".concat(key, \"\\\". \") +\n                        \"Note that HTML attributes are case-insensitive and camelCased \" +\n                        \"props need to use their kebab-case equivalents when using in-DOM \" +\n                        \"templates. You should probably use \\\"\".concat(altKey, \"\\\" instead of \\\"\").concat(key, \"\\\".\"));\n                }\n            }\n            checkProp(res, props, key, altKey, true) ||\n                checkProp(res, attrs, key, altKey, false);\n        }\n    }\n    return res;\n}\nfunction checkProp(res, hash, key, altKey, preserve) {\n    if (isDef(hash)) {\n        if (hasOwn(hash, key)) {\n            res[key] = hash[key];\n            if (!preserve) {\n                delete hash[key];\n            }\n            return true;\n        }\n        else if (hasOwn(hash, altKey)) {\n            res[key] = hash[altKey];\n            if (!preserve) {\n                delete hash[altKey];\n            }\n            return true;\n        }\n    }\n    return false;\n}\n\n// The template compiler attempts to minimize the need for normalization by\n// statically analyzing the template at compile time.\n//\n// For plain HTML markup, normalization can be completely skipped because the\n// generated render function is guaranteed to return Array<VNode>. There are\n// two cases where extra normalization is needed:\n// 1. When the children contains components - because a functional component\n// may return an Array instead of a single root. In this case, just a simple\n// normalization is needed - if any child is an Array, we flatten the whole\n// thing with Array.prototype.concat. It is guaranteed to be only 1-level deep\n// because functional components already normalize their own children.\nfunction simpleNormalizeChildren(children) {\n    for (var i = 0; i < children.length; i++) {\n        if (isArray(children[i])) {\n            return Array.prototype.concat.apply([], children);\n        }\n    }\n    return children;\n}\n// 2. When the children contains constructs that always generated nested Arrays,\n// e.g. <template>, <slot>, v-for, or when the children is provided by user\n// with hand-written render functions / JSX. In such cases a full normalization\n// is needed to cater to all possible types of children values.\nfunction normalizeChildren(children) {\n    return isPrimitive(children)\n        ? [createTextVNode(children)]\n        : isArray(children)\n            ? normalizeArrayChildren(children)\n            : undefined;\n}\nfunction isTextNode(node) {\n    return isDef(node) && isDef(node.text) && isFalse(node.isComment);\n}\nfunction normalizeArrayChildren(children, nestedIndex) {\n    var res = [];\n    var i, c, lastIndex, last;\n    for (i = 0; i < children.length; i++) {\n        c = children[i];\n        if (isUndef(c) || typeof c === 'boolean')\n            continue;\n        lastIndex = res.length - 1;\n        last = res[lastIndex];\n        //  nested\n        if (isArray(c)) {\n            if (c.length > 0) {\n                c = normalizeArrayChildren(c, \"\".concat(nestedIndex || '', \"_\").concat(i));\n                // merge adjacent text nodes\n                if (isTextNode(c[0]) && isTextNode(last)) {\n                    res[lastIndex] = createTextVNode(last.text + c[0].text);\n                    c.shift();\n                }\n                res.push.apply(res, c);\n            }\n        }\n        else if (isPrimitive(c)) {\n            if (isTextNode(last)) {\n                // merge adjacent text nodes\n                // this is necessary for SSR hydration because text nodes are\n                // essentially merged when rendered to HTML strings\n                res[lastIndex] = createTextVNode(last.text + c);\n            }\n            else if (c !== '') {\n                // convert primitive to vnode\n                res.push(createTextVNode(c));\n            }\n        }\n        else {\n            if (isTextNode(c) && isTextNode(last)) {\n                // merge adjacent text nodes\n                res[lastIndex] = createTextVNode(last.text + c.text);\n            }\n            else {\n                // default key for nested array children (likely generated by v-for)\n                if (isTrue(children._isVList) &&\n                    isDef(c.tag) &&\n                    isUndef(c.key) &&\n                    isDef(nestedIndex)) {\n                    c.key = \"__vlist\".concat(nestedIndex, \"_\").concat(i, \"__\");\n                }\n                res.push(c);\n            }\n        }\n    }\n    return res;\n}\n\n/**\n * Runtime helper for rendering v-for lists.\n */\nfunction renderList(val, render) {\n    var ret = null, i, l, keys, key;\n    if (isArray(val) || typeof val === 'string') {\n        ret = new Array(val.length);\n        for (i = 0, l = val.length; i < l; i++) {\n            ret[i] = render(val[i], i);\n        }\n    }\n    else if (typeof val === 'number') {\n        ret = new Array(val);\n        for (i = 0; i < val; i++) {\n            ret[i] = render(i + 1, i);\n        }\n    }\n    else if (isObject(val)) {\n        if (hasSymbol && val[Symbol.iterator]) {\n            ret = [];\n            var iterator = val[Symbol.iterator]();\n            var result = iterator.next();\n            while (!result.done) {\n                ret.push(render(result.value, ret.length));\n                result = iterator.next();\n            }\n        }\n        else {\n            keys = Object.keys(val);\n            ret = new Array(keys.length);\n            for (i = 0, l = keys.length; i < l; i++) {\n                key = keys[i];\n                ret[i] = render(val[key], key, i);\n            }\n        }\n    }\n    if (!isDef(ret)) {\n        ret = [];\n    }\n    ret._isVList = true;\n    return ret;\n}\n\n/**\n * Runtime helper for rendering <slot>\n */\nfunction renderSlot(name, fallbackRender, props, bindObject) {\n    var scopedSlotFn = this.$scopedSlots[name];\n    var nodes;\n    if (scopedSlotFn) {\n        // scoped slot\n        props = props || {};\n        if (bindObject) {\n            if (process.env.NODE_ENV !== 'production' && !isObject(bindObject)) {\n                warn('slot v-bind without argument expects an Object', this);\n            }\n            props = extend(extend({}, bindObject), props);\n        }\n        nodes =\n            scopedSlotFn(props) ||\n                (isFunction(fallbackRender) ? fallbackRender() : fallbackRender);\n    }\n    else {\n        nodes =\n            this.$slots[name] ||\n                (isFunction(fallbackRender) ? fallbackRender() : fallbackRender);\n    }\n    var target = props && props.slot;\n    if (target) {\n        return this.$createElement('template', { slot: target }, nodes);\n    }\n    else {\n        return nodes;\n    }\n}\n\n/**\n * Runtime helper for resolving filters\n */\nfunction resolveFilter(id) {\n    return resolveAsset(this.$options, 'filters', id, true) || identity;\n}\n\nfunction isKeyNotMatch(expect, actual) {\n    if (isArray(expect)) {\n        return expect.indexOf(actual) === -1;\n    }\n    else {\n        return expect !== actual;\n    }\n}\n/**\n * Runtime helper for checking keyCodes from config.\n * exposed as Vue.prototype._k\n * passing in eventKeyName as last argument separately for backwards compat\n */\nfunction checkKeyCodes(eventKeyCode, key, builtInKeyCode, eventKeyName, builtInKeyName) {\n    var mappedKeyCode = config.keyCodes[key] || builtInKeyCode;\n    if (builtInKeyName && eventKeyName && !config.keyCodes[key]) {\n        return isKeyNotMatch(builtInKeyName, eventKeyName);\n    }\n    else if (mappedKeyCode) {\n        return isKeyNotMatch(mappedKeyCode, eventKeyCode);\n    }\n    else if (eventKeyName) {\n        return hyphenate(eventKeyName) !== key;\n    }\n    return eventKeyCode === undefined;\n}\n\n/**\n * Runtime helper for merging v-bind=\"object\" into a VNode's data.\n */\nfunction bindObjectProps(data, tag, value, asProp, isSync) {\n    if (value) {\n        if (!isObject(value)) {\n            process.env.NODE_ENV !== 'production' &&\n                warn('v-bind without argument expects an Object or Array value', this);\n        }\n        else {\n            if (isArray(value)) {\n                value = toObject(value);\n            }\n            var hash = void 0;\n            var _loop_1 = function (key) {\n                if (key === 'class' || key === 'style' || isReservedAttribute(key)) {\n                    hash = data;\n                }\n                else {\n                    var type = data.attrs && data.attrs.type;\n                    hash =\n                        asProp || config.mustUseProp(tag, type, key)\n                            ? data.domProps || (data.domProps = {})\n                            : data.attrs || (data.attrs = {});\n                }\n                var camelizedKey = camelize(key);\n                var hyphenatedKey = hyphenate(key);\n                if (!(camelizedKey in hash) && !(hyphenatedKey in hash)) {\n                    hash[key] = value[key];\n                    if (isSync) {\n                        var on = data.on || (data.on = {});\n                        on[\"update:\".concat(key)] = function ($event) {\n                            value[key] = $event;\n                        };\n                    }\n                }\n            };\n            for (var key in value) {\n                _loop_1(key);\n            }\n        }\n    }\n    return data;\n}\n\n/**\n * Runtime helper for rendering static trees.\n */\nfunction renderStatic(index, isInFor) {\n    var cached = this._staticTrees || (this._staticTrees = []);\n    var tree = cached[index];\n    // if has already-rendered static tree and not inside v-for,\n    // we can reuse the same tree.\n    if (tree && !isInFor) {\n        return tree;\n    }\n    // otherwise, render a fresh tree.\n    tree = cached[index] = this.$options.staticRenderFns[index].call(this._renderProxy, this._c, this // for render fns generated for functional component templates\n    );\n    markStatic(tree, \"__static__\".concat(index), false);\n    return tree;\n}\n/**\n * Runtime helper for v-once.\n * Effectively it means marking the node as static with a unique key.\n */\nfunction markOnce(tree, index, key) {\n    markStatic(tree, \"__once__\".concat(index).concat(key ? \"_\".concat(key) : \"\"), true);\n    return tree;\n}\nfunction markStatic(tree, key, isOnce) {\n    if (isArray(tree)) {\n        for (var i = 0; i < tree.length; i++) {\n            if (tree[i] && typeof tree[i] !== 'string') {\n                markStaticNode(tree[i], \"\".concat(key, \"_\").concat(i), isOnce);\n            }\n        }\n    }\n    else {\n        markStaticNode(tree, key, isOnce);\n    }\n}\nfunction markStaticNode(node, key, isOnce) {\n    node.isStatic = true;\n    node.key = key;\n    node.isOnce = isOnce;\n}\n\nfunction bindObjectListeners(data, value) {\n    if (value) {\n        if (!isPlainObject(value)) {\n            process.env.NODE_ENV !== 'production' && warn('v-on without argument expects an Object value', this);\n        }\n        else {\n            var on = (data.on = data.on ? extend({}, data.on) : {});\n            for (var key in value) {\n                var existing = on[key];\n                var ours = value[key];\n                on[key] = existing ? [].concat(existing, ours) : ours;\n            }\n        }\n    }\n    return data;\n}\n\nfunction resolveScopedSlots(fns, res, \n// the following are added in 2.6\nhasDynamicKeys, contentHashKey) {\n    res = res || { $stable: !hasDynamicKeys };\n    for (var i = 0; i < fns.length; i++) {\n        var slot = fns[i];\n        if (isArray(slot)) {\n            resolveScopedSlots(slot, res, hasDynamicKeys);\n        }\n        else if (slot) {\n            // marker for reverse proxying v-slot without scope on this.$slots\n            // @ts-expect-error\n            if (slot.proxy) {\n                // @ts-expect-error\n                slot.fn.proxy = true;\n            }\n            res[slot.key] = slot.fn;\n        }\n    }\n    if (contentHashKey) {\n        res.$key = contentHashKey;\n    }\n    return res;\n}\n\n// helper to process dynamic keys for dynamic arguments in v-bind and v-on.\nfunction bindDynamicKeys(baseObj, values) {\n    for (var i = 0; i < values.length; i += 2) {\n        var key = values[i];\n        if (typeof key === 'string' && key) {\n            baseObj[values[i]] = values[i + 1];\n        }\n        else if (process.env.NODE_ENV !== 'production' && key !== '' && key !== null) {\n            // null is a special value for explicitly removing a binding\n            warn(\"Invalid value for dynamic directive argument (expected string or null): \".concat(key), this);\n        }\n    }\n    return baseObj;\n}\n// helper to dynamically append modifier runtime markers to event names.\n// ensure only append when value is already string, otherwise it will be cast\n// to string and cause the type check to miss.\nfunction prependModifier(value, symbol) {\n    return typeof value === 'string' ? symbol + value : value;\n}\n\nfunction installRenderHelpers(target) {\n    target._o = markOnce;\n    target._n = toNumber;\n    target._s = toString;\n    target._l = renderList;\n    target._t = renderSlot;\n    target._q = looseEqual;\n    target._i = looseIndexOf;\n    target._m = renderStatic;\n    target._f = resolveFilter;\n    target._k = checkKeyCodes;\n    target._b = bindObjectProps;\n    target._v = createTextVNode;\n    target._e = createEmptyVNode;\n    target._u = resolveScopedSlots;\n    target._g = bindObjectListeners;\n    target._d = bindDynamicKeys;\n    target._p = prependModifier;\n}\n\n/**\n * Runtime helper for resolving raw children VNodes into a slot object.\n */\nfunction resolveSlots(children, context) {\n    if (!children || !children.length) {\n        return {};\n    }\n    var slots = {};\n    for (var i = 0, l = children.length; i < l; i++) {\n        var child = children[i];\n        var data = child.data;\n        // remove slot attribute if the node is resolved as a Vue slot node\n        if (data && data.attrs && data.attrs.slot) {\n            delete data.attrs.slot;\n        }\n        // named slots should only be respected if the vnode was rendered in the\n        // same context.\n        if ((child.context === context || child.fnContext === context) &&\n            data &&\n            data.slot != null) {\n            var name_1 = data.slot;\n            var slot = slots[name_1] || (slots[name_1] = []);\n            if (child.tag === 'template') {\n                slot.push.apply(slot, child.children || []);\n            }\n            else {\n                slot.push(child);\n            }\n        }\n        else {\n            (slots.default || (slots.default = [])).push(child);\n        }\n    }\n    // ignore slots that contains only whitespace\n    for (var name_2 in slots) {\n        if (slots[name_2].every(isWhitespace)) {\n            delete slots[name_2];\n        }\n    }\n    return slots;\n}\nfunction isWhitespace(node) {\n    return (node.isComment && !node.asyncFactory) || node.text === ' ';\n}\n\nfunction isAsyncPlaceholder(node) {\n    // @ts-expect-error not really boolean type\n    return node.isComment && node.asyncFactory;\n}\n\nfunction normalizeScopedSlots(ownerVm, scopedSlots, normalSlots, prevScopedSlots) {\n    var res;\n    var hasNormalSlots = Object.keys(normalSlots).length > 0;\n    var isStable = scopedSlots ? !!scopedSlots.$stable : !hasNormalSlots;\n    var key = scopedSlots && scopedSlots.$key;\n    if (!scopedSlots) {\n        res = {};\n    }\n    else if (scopedSlots._normalized) {\n        // fast path 1: child component re-render only, parent did not change\n        return scopedSlots._normalized;\n    }\n    else if (isStable &&\n        prevScopedSlots &&\n        prevScopedSlots !== emptyObject &&\n        key === prevScopedSlots.$key &&\n        !hasNormalSlots &&\n        !prevScopedSlots.$hasNormal) {\n        // fast path 2: stable scoped slots w/ no normal slots to proxy,\n        // only need to normalize once\n        return prevScopedSlots;\n    }\n    else {\n        res = {};\n        for (var key_1 in scopedSlots) {\n            if (scopedSlots[key_1] && key_1[0] !== '$') {\n                res[key_1] = normalizeScopedSlot(ownerVm, normalSlots, key_1, scopedSlots[key_1]);\n            }\n        }\n    }\n    // expose normal slots on scopedSlots\n    for (var key_2 in normalSlots) {\n        if (!(key_2 in res)) {\n            res[key_2] = proxyNormalSlot(normalSlots, key_2);\n        }\n    }\n    // avoriaz seems to mock a non-extensible $scopedSlots object\n    // and when that is passed down this would cause an error\n    if (scopedSlots && Object.isExtensible(scopedSlots)) {\n        scopedSlots._normalized = res;\n    }\n    def(res, '$stable', isStable);\n    def(res, '$key', key);\n    def(res, '$hasNormal', hasNormalSlots);\n    return res;\n}\nfunction normalizeScopedSlot(vm, normalSlots, key, fn) {\n    var normalized = function () {\n        var cur = currentInstance;\n        setCurrentInstance(vm);\n        var res = arguments.length ? fn.apply(null, arguments) : fn({});\n        res =\n            res && typeof res === 'object' && !isArray(res)\n                ? [res] // single vnode\n                : normalizeChildren(res);\n        var vnode = res && res[0];\n        setCurrentInstance(cur);\n        return res &&\n            (!vnode ||\n                (res.length === 1 && vnode.isComment && !isAsyncPlaceholder(vnode))) // #9658, #10391\n            ? undefined\n            : res;\n    };\n    // this is a slot using the new v-slot syntax without scope. although it is\n    // compiled as a scoped slot, render fn users would expect it to be present\n    // on this.$slots because the usage is semantically a normal slot.\n    if (fn.proxy) {\n        Object.defineProperty(normalSlots, key, {\n            get: normalized,\n            enumerable: true,\n            configurable: true\n        });\n    }\n    return normalized;\n}\nfunction proxyNormalSlot(slots, key) {\n    return function () { return slots[key]; };\n}\n\nfunction initSetup(vm) {\n    var options = vm.$options;\n    var setup = options.setup;\n    if (setup) {\n        var ctx = (vm._setupContext = createSetupContext(vm));\n        setCurrentInstance(vm);\n        pushTarget();\n        var setupResult = invokeWithErrorHandling(setup, null, [vm._props || shallowReactive({}), ctx], vm, \"setup\");\n        popTarget();\n        setCurrentInstance();\n        if (isFunction(setupResult)) {\n            // render function\n            // @ts-ignore\n            options.render = setupResult;\n        }\n        else if (isObject(setupResult)) {\n            // bindings\n            if (process.env.NODE_ENV !== 'production' && setupResult instanceof VNode) {\n                warn(\"setup() should not return VNodes directly - \" +\n                    \"return a render function instead.\");\n            }\n            vm._setupState = setupResult;\n            // __sfc indicates compiled bindings from <script setup>\n            if (!setupResult.__sfc) {\n                for (var key in setupResult) {\n                    if (!isReserved(key)) {\n                        proxyWithRefUnwrap(vm, setupResult, key);\n                    }\n                    else if (process.env.NODE_ENV !== 'production') {\n                        warn(\"Avoid using variables that start with _ or $ in setup().\");\n                    }\n                }\n            }\n            else {\n                // exposed for compiled render fn\n                var proxy = (vm._setupProxy = {});\n                for (var key in setupResult) {\n                    if (key !== '__sfc') {\n                        proxyWithRefUnwrap(proxy, setupResult, key);\n                    }\n                }\n            }\n        }\n        else if (process.env.NODE_ENV !== 'production' && setupResult !== undefined) {\n            warn(\"setup() should return an object. Received: \".concat(setupResult === null ? 'null' : typeof setupResult));\n        }\n    }\n}\nfunction createSetupContext(vm) {\n    var exposeCalled = false;\n    return {\n        get attrs() {\n            if (!vm._attrsProxy) {\n                var proxy = (vm._attrsProxy = {});\n                def(proxy, '_v_attr_proxy', true);\n                syncSetupProxy(proxy, vm.$attrs, emptyObject, vm, '$attrs');\n            }\n            return vm._attrsProxy;\n        },\n        get listeners() {\n            if (!vm._listenersProxy) {\n                var proxy = (vm._listenersProxy = {});\n                syncSetupProxy(proxy, vm.$listeners, emptyObject, vm, '$listeners');\n            }\n            return vm._listenersProxy;\n        },\n        get slots() {\n            return initSlotsProxy(vm);\n        },\n        emit: bind(vm.$emit, vm),\n        expose: function (exposed) {\n            if (process.env.NODE_ENV !== 'production') {\n                if (exposeCalled) {\n                    warn(\"expose() should be called only once per setup().\", vm);\n                }\n                exposeCalled = true;\n            }\n            if (exposed) {\n                Object.keys(exposed).forEach(function (key) {\n                    return proxyWithRefUnwrap(vm, exposed, key);\n                });\n            }\n        }\n    };\n}\nfunction syncSetupProxy(to, from, prev, instance, type) {\n    var changed = false;\n    for (var key in from) {\n        if (!(key in to)) {\n            changed = true;\n            defineProxyAttr(to, key, instance, type);\n        }\n        else if (from[key] !== prev[key]) {\n            changed = true;\n        }\n    }\n    for (var key in to) {\n        if (!(key in from)) {\n            changed = true;\n            delete to[key];\n        }\n    }\n    return changed;\n}\nfunction defineProxyAttr(proxy, key, instance, type) {\n    Object.defineProperty(proxy, key, {\n        enumerable: true,\n        configurable: true,\n        get: function () {\n            return instance[type][key];\n        }\n    });\n}\nfunction initSlotsProxy(vm) {\n    if (!vm._slotsProxy) {\n        syncSetupSlots((vm._slotsProxy = {}), vm.$scopedSlots);\n    }\n    return vm._slotsProxy;\n}\nfunction syncSetupSlots(to, from) {\n    for (var key in from) {\n        to[key] = from[key];\n    }\n    for (var key in to) {\n        if (!(key in from)) {\n            delete to[key];\n        }\n    }\n}\n/**\n * @internal use manual type def because public setup context type relies on\n * legacy VNode types\n */\nfunction useSlots() {\n    return getContext().slots;\n}\n/**\n * @internal use manual type def because public setup context type relies on\n * legacy VNode types\n */\nfunction useAttrs() {\n    return getContext().attrs;\n}\n/**\n * Vue 2 only\n * @internal use manual type def because public setup context type relies on\n * legacy VNode types\n */\nfunction useListeners() {\n    return getContext().listeners;\n}\nfunction getContext() {\n    if (process.env.NODE_ENV !== 'production' && !currentInstance) {\n        warn(\"useContext() called without active instance.\");\n    }\n    var vm = currentInstance;\n    return vm._setupContext || (vm._setupContext = createSetupContext(vm));\n}\n/**\n * Runtime helper for merging default declarations. Imported by compiled code\n * only.\n * @internal\n */\nfunction mergeDefaults(raw, defaults) {\n    var props = isArray(raw)\n        ? raw.reduce(function (normalized, p) { return ((normalized[p] = {}), normalized); }, {})\n        : raw;\n    for (var key in defaults) {\n        var opt = props[key];\n        if (opt) {\n            if (isArray(opt) || isFunction(opt)) {\n                props[key] = { type: opt, default: defaults[key] };\n            }\n            else {\n                opt.default = defaults[key];\n            }\n        }\n        else if (opt === null) {\n            props[key] = { default: defaults[key] };\n        }\n        else if (process.env.NODE_ENV !== 'production') {\n            warn(\"props default key \\\"\".concat(key, \"\\\" has no corresponding declaration.\"));\n        }\n    }\n    return props;\n}\n\nfunction initRender(vm) {\n    vm._vnode = null; // the root of the child tree\n    vm._staticTrees = null; // v-once cached trees\n    var options = vm.$options;\n    var parentVnode = (vm.$vnode = options._parentVnode); // the placeholder node in parent tree\n    var renderContext = parentVnode && parentVnode.context;\n    vm.$slots = resolveSlots(options._renderChildren, renderContext);\n    vm.$scopedSlots = parentVnode\n        ? normalizeScopedSlots(vm.$parent, parentVnode.data.scopedSlots, vm.$slots)\n        : emptyObject;\n    // bind the createElement fn to this instance\n    // so that we get proper render context inside it.\n    // args order: tag, data, children, normalizationType, alwaysNormalize\n    // internal version is used by render functions compiled from templates\n    // @ts-expect-error\n    vm._c = function (a, b, c, d) { return createElement$1(vm, a, b, c, d, false); };\n    // normalization is always applied for the public version, used in\n    // user-written render functions.\n    // @ts-expect-error\n    vm.$createElement = function (a, b, c, d) { return createElement$1(vm, a, b, c, d, true); };\n    // $attrs & $listeners are exposed for easier HOC creation.\n    // they need to be reactive so that HOCs using them are always updated\n    var parentData = parentVnode && parentVnode.data;\n    /* istanbul ignore else */\n    if (process.env.NODE_ENV !== 'production') {\n        defineReactive(vm, '$attrs', (parentData && parentData.attrs) || emptyObject, function () {\n            !isUpdatingChildComponent && warn(\"$attrs is readonly.\", vm);\n        }, true);\n        defineReactive(vm, '$listeners', options._parentListeners || emptyObject, function () {\n            !isUpdatingChildComponent && warn(\"$listeners is readonly.\", vm);\n        }, true);\n    }\n    else {\n        defineReactive(vm, '$attrs', (parentData && parentData.attrs) || emptyObject, null, true);\n        defineReactive(vm, '$listeners', options._parentListeners || emptyObject, null, true);\n    }\n}\nvar currentRenderingInstance = null;\nfunction renderMixin(Vue) {\n    // install runtime convenience helpers\n    installRenderHelpers(Vue.prototype);\n    Vue.prototype.$nextTick = function (fn) {\n        return nextTick(fn, this);\n    };\n    Vue.prototype._render = function () {\n        var vm = this;\n        var _a = vm.$options, render = _a.render, _parentVnode = _a._parentVnode;\n        if (_parentVnode && vm._isMounted) {\n            vm.$scopedSlots = normalizeScopedSlots(vm.$parent, _parentVnode.data.scopedSlots, vm.$slots, vm.$scopedSlots);\n            if (vm._slotsProxy) {\n                syncSetupSlots(vm._slotsProxy, vm.$scopedSlots);\n            }\n        }\n        // set parent vnode. this allows render functions to have access\n        // to the data on the placeholder node.\n        vm.$vnode = _parentVnode;\n        // render self\n        var prevInst = currentInstance;\n        var prevRenderInst = currentRenderingInstance;\n        var vnode;\n        try {\n            setCurrentInstance(vm);\n            currentRenderingInstance = vm;\n            vnode = render.call(vm._renderProxy, vm.$createElement);\n        }\n        catch (e) {\n            handleError(e, vm, \"render\");\n            // return error render result,\n            // or previous vnode to prevent render error causing blank component\n            /* istanbul ignore else */\n            if (process.env.NODE_ENV !== 'production' && vm.$options.renderError) {\n                try {\n                    vnode = vm.$options.renderError.call(vm._renderProxy, vm.$createElement, e);\n                }\n                catch (e) {\n                    handleError(e, vm, \"renderError\");\n                    vnode = vm._vnode;\n                }\n            }\n            else {\n                vnode = vm._vnode;\n            }\n        }\n        finally {\n            currentRenderingInstance = prevRenderInst;\n            setCurrentInstance(prevInst);\n        }\n        // if the returned array contains only a single node, allow it\n        if (isArray(vnode) && vnode.length === 1) {\n            vnode = vnode[0];\n        }\n        // return empty vnode in case the render function errored out\n        if (!(vnode instanceof VNode)) {\n            if (process.env.NODE_ENV !== 'production' && isArray(vnode)) {\n                warn('Multiple root nodes returned from render function. Render function ' +\n                    'should return a single root node.', vm);\n            }\n            vnode = createEmptyVNode();\n        }\n        // set parent\n        vnode.parent = _parentVnode;\n        return vnode;\n    };\n}\n\nfunction ensureCtor(comp, base) {\n    if (comp.__esModule || (hasSymbol && comp[Symbol.toStringTag] === 'Module')) {\n        comp = comp.default;\n    }\n    return isObject(comp) ? base.extend(comp) : comp;\n}\nfunction createAsyncPlaceholder(factory, data, context, children, tag) {\n    var node = createEmptyVNode();\n    node.asyncFactory = factory;\n    node.asyncMeta = { data: data, context: context, children: children, tag: tag };\n    return node;\n}\nfunction resolveAsyncComponent(factory, baseCtor) {\n    if (isTrue(factory.error) && isDef(factory.errorComp)) {\n        return factory.errorComp;\n    }\n    if (isDef(factory.resolved)) {\n        return factory.resolved;\n    }\n    var owner = currentRenderingInstance;\n    if (owner && isDef(factory.owners) && factory.owners.indexOf(owner) === -1) {\n        // already pending\n        factory.owners.push(owner);\n    }\n    if (isTrue(factory.loading) && isDef(factory.loadingComp)) {\n        return factory.loadingComp;\n    }\n    if (owner && !isDef(factory.owners)) {\n        var owners_1 = (factory.owners = [owner]);\n        var sync_1 = true;\n        var timerLoading_1 = null;\n        var timerTimeout_1 = null;\n        owner.$on('hook:destroyed', function () { return remove$2(owners_1, owner); });\n        var forceRender_1 = function (renderCompleted) {\n            for (var i = 0, l = owners_1.length; i < l; i++) {\n                owners_1[i].$forceUpdate();\n            }\n            if (renderCompleted) {\n                owners_1.length = 0;\n                if (timerLoading_1 !== null) {\n                    clearTimeout(timerLoading_1);\n                    timerLoading_1 = null;\n                }\n                if (timerTimeout_1 !== null) {\n                    clearTimeout(timerTimeout_1);\n                    timerTimeout_1 = null;\n                }\n            }\n        };\n        var resolve = once(function (res) {\n            // cache resolved\n            factory.resolved = ensureCtor(res, baseCtor);\n            // invoke callbacks only if this is not a synchronous resolve\n            // (async resolves are shimmed as synchronous during SSR)\n            if (!sync_1) {\n                forceRender_1(true);\n            }\n            else {\n                owners_1.length = 0;\n            }\n        });\n        var reject_1 = once(function (reason) {\n            process.env.NODE_ENV !== 'production' &&\n                warn(\"Failed to resolve async component: \".concat(String(factory)) +\n                    (reason ? \"\\nReason: \".concat(reason) : ''));\n            if (isDef(factory.errorComp)) {\n                factory.error = true;\n                forceRender_1(true);\n            }\n        });\n        var res_1 = factory(resolve, reject_1);\n        if (isObject(res_1)) {\n            if (isPromise(res_1)) {\n                // () => Promise\n                if (isUndef(factory.resolved)) {\n                    res_1.then(resolve, reject_1);\n                }\n            }\n            else if (isPromise(res_1.component)) {\n                res_1.component.then(resolve, reject_1);\n                if (isDef(res_1.error)) {\n                    factory.errorComp = ensureCtor(res_1.error, baseCtor);\n                }\n                if (isDef(res_1.loading)) {\n                    factory.loadingComp = ensureCtor(res_1.loading, baseCtor);\n                    if (res_1.delay === 0) {\n                        factory.loading = true;\n                    }\n                    else {\n                        // @ts-expect-error NodeJS timeout type\n                        timerLoading_1 = setTimeout(function () {\n                            timerLoading_1 = null;\n                            if (isUndef(factory.resolved) && isUndef(factory.error)) {\n                                factory.loading = true;\n                                forceRender_1(false);\n                            }\n                        }, res_1.delay || 200);\n                    }\n                }\n                if (isDef(res_1.timeout)) {\n                    // @ts-expect-error NodeJS timeout type\n                    timerTimeout_1 = setTimeout(function () {\n                        timerTimeout_1 = null;\n                        if (isUndef(factory.resolved)) {\n                            reject_1(process.env.NODE_ENV !== 'production' ? \"timeout (\".concat(res_1.timeout, \"ms)\") : null);\n                        }\n                    }, res_1.timeout);\n                }\n            }\n        }\n        sync_1 = false;\n        // return in case resolved synchronously\n        return factory.loading ? factory.loadingComp : factory.resolved;\n    }\n}\n\nfunction getFirstComponentChild(children) {\n    if (isArray(children)) {\n        for (var i = 0; i < children.length; i++) {\n            var c = children[i];\n            if (isDef(c) && (isDef(c.componentOptions) || isAsyncPlaceholder(c))) {\n                return c;\n            }\n        }\n    }\n}\n\nvar SIMPLE_NORMALIZE = 1;\nvar ALWAYS_NORMALIZE = 2;\n// wrapper function for providing a more flexible interface\n// without getting yelled at by flow\nfunction createElement$1(context, tag, data, children, normalizationType, alwaysNormalize) {\n    if (isArray(data) || isPrimitive(data)) {\n        normalizationType = children;\n        children = data;\n        data = undefined;\n    }\n    if (isTrue(alwaysNormalize)) {\n        normalizationType = ALWAYS_NORMALIZE;\n    }\n    return _createElement(context, tag, data, children, normalizationType);\n}\nfunction _createElement(context, tag, data, children, normalizationType) {\n    if (isDef(data) && isDef(data.__ob__)) {\n        process.env.NODE_ENV !== 'production' &&\n            warn(\"Avoid using observed data object as vnode data: \".concat(JSON.stringify(data), \"\\n\") + 'Always create fresh vnode data objects in each render!', context);\n        return createEmptyVNode();\n    }\n    // object syntax in v-bind\n    if (isDef(data) && isDef(data.is)) {\n        tag = data.is;\n    }\n    if (!tag) {\n        // in case of component :is set to falsy value\n        return createEmptyVNode();\n    }\n    // warn against non-primitive key\n    if (process.env.NODE_ENV !== 'production' && isDef(data) && isDef(data.key) && !isPrimitive(data.key)) {\n        warn('Avoid using non-primitive value as key, ' +\n            'use string/number value instead.', context);\n    }\n    // support single function children as default scoped slot\n    if (isArray(children) && isFunction(children[0])) {\n        data = data || {};\n        data.scopedSlots = { default: children[0] };\n        children.length = 0;\n    }\n    if (normalizationType === ALWAYS_NORMALIZE) {\n        children = normalizeChildren(children);\n    }\n    else if (normalizationType === SIMPLE_NORMALIZE) {\n        children = simpleNormalizeChildren(children);\n    }\n    var vnode, ns;\n    if (typeof tag === 'string') {\n        var Ctor = void 0;\n        ns = (context.$vnode && context.$vnode.ns) || config.getTagNamespace(tag);\n        if (config.isReservedTag(tag)) {\n            // platform built-in elements\n            if (process.env.NODE_ENV !== 'production' &&\n                isDef(data) &&\n                isDef(data.nativeOn) &&\n                data.tag !== 'component') {\n                warn(\"The .native modifier for v-on is only valid on components but it was used on <\".concat(tag, \">.\"), context);\n            }\n            vnode = new VNode(config.parsePlatformTagName(tag), data, children, undefined, undefined, context);\n        }\n        else if ((!data || !data.pre) &&\n            isDef((Ctor = resolveAsset(context.$options, 'components', tag)))) {\n            // component\n            vnode = createComponent(Ctor, data, context, children, tag);\n        }\n        else {\n            // unknown or unlisted namespaced elements\n            // check at runtime because it may get assigned a namespace when its\n            // parent normalizes children\n            vnode = new VNode(tag, data, children, undefined, undefined, context);\n        }\n    }\n    else {\n        // direct component options / constructor\n        vnode = createComponent(tag, data, context, children);\n    }\n    if (isArray(vnode)) {\n        return vnode;\n    }\n    else if (isDef(vnode)) {\n        if (isDef(ns))\n            applyNS(vnode, ns);\n        if (isDef(data))\n            registerDeepBindings(data);\n        return vnode;\n    }\n    else {\n        return createEmptyVNode();\n    }\n}\nfunction applyNS(vnode, ns, force) {\n    vnode.ns = ns;\n    if (vnode.tag === 'foreignObject') {\n        // use default namespace inside foreignObject\n        ns = undefined;\n        force = true;\n    }\n    if (isDef(vnode.children)) {\n        for (var i = 0, l = vnode.children.length; i < l; i++) {\n            var child = vnode.children[i];\n            if (isDef(child.tag) &&\n                (isUndef(child.ns) || (isTrue(force) && child.tag !== 'svg'))) {\n                applyNS(child, ns, force);\n            }\n        }\n    }\n}\n// ref #5318\n// necessary to ensure parent re-render when deep bindings like :style and\n// :class are used on slot nodes\nfunction registerDeepBindings(data) {\n    if (isObject(data.style)) {\n        traverse(data.style);\n    }\n    if (isObject(data.class)) {\n        traverse(data.class);\n    }\n}\n\n/**\n * @internal this function needs manual public type declaration because it relies\n * on previously manually authored types from Vue 2\n */\nfunction h(type, props, children) {\n    if (!currentInstance) {\n        process.env.NODE_ENV !== 'production' &&\n            warn(\"globally imported h() can only be invoked when there is an active \" +\n                \"component instance, e.g. synchronously in a component's render or setup function.\");\n    }\n    return createElement$1(currentInstance, type, props, children, 2, true);\n}\n\nfunction handleError(err, vm, info) {\n    // Deactivate deps tracking while processing error handler to avoid possible infinite rendering.\n    // See: https://github.com/vuejs/vuex/issues/1505\n    pushTarget();\n    try {\n        if (vm) {\n            var cur = vm;\n            while ((cur = cur.$parent)) {\n                var hooks = cur.$options.errorCaptured;\n                if (hooks) {\n                    for (var i = 0; i < hooks.length; i++) {\n                        try {\n                            var capture = hooks[i].call(cur, err, vm, info) === false;\n                            if (capture)\n                                return;\n                        }\n                        catch (e) {\n                            globalHandleError(e, cur, 'errorCaptured hook');\n                        }\n                    }\n                }\n            }\n        }\n        globalHandleError(err, vm, info);\n    }\n    finally {\n        popTarget();\n    }\n}\nfunction invokeWithErrorHandling(handler, context, args, vm, info) {\n    var res;\n    try {\n        res = args ? handler.apply(context, args) : handler.call(context);\n        if (res && !res._isVue && isPromise(res) && !res._handled) {\n            res.catch(function (e) { return handleError(e, vm, info + \" (Promise/async)\"); });\n            res._handled = true;\n        }\n    }\n    catch (e) {\n        handleError(e, vm, info);\n    }\n    return res;\n}\nfunction globalHandleError(err, vm, info) {\n    if (config.errorHandler) {\n        try {\n            return config.errorHandler.call(null, err, vm, info);\n        }\n        catch (e) {\n            // if the user intentionally throws the original error in the handler,\n            // do not log it twice\n            if (e !== err) {\n                logError(e, null, 'config.errorHandler');\n            }\n        }\n    }\n    logError(err, vm, info);\n}\nfunction logError(err, vm, info) {\n    if (process.env.NODE_ENV !== 'production') {\n        warn(\"Error in \".concat(info, \": \\\"\").concat(err.toString(), \"\\\"\"), vm);\n    }\n    /* istanbul ignore else */\n    if (inBrowser && typeof console !== 'undefined') {\n        console.error(err);\n    }\n    else {\n        throw err;\n    }\n}\n\n/* globals MutationObserver */\nvar isUsingMicroTask = false;\nvar callbacks = [];\nvar pending = false;\nfunction flushCallbacks() {\n    pending = false;\n    var copies = callbacks.slice(0);\n    callbacks.length = 0;\n    for (var i = 0; i < copies.length; i++) {\n        copies[i]();\n    }\n}\n// Here we have async deferring wrappers using microtasks.\n// In 2.5 we used (macro) tasks (in combination with microtasks).\n// However, it has subtle problems when state is changed right before repaint\n// (e.g. #6813, out-in transitions).\n// Also, using (macro) tasks in event handler would cause some weird behaviors\n// that cannot be circumvented (e.g. #7109, #7153, #7546, #7834, #8109).\n// So we now use microtasks everywhere, again.\n// A major drawback of this tradeoff is that there are some scenarios\n// where microtasks have too high a priority and fire in between supposedly\n// sequential events (e.g. #4521, #6690, which have workarounds)\n// or even between bubbling of the same event (#6566).\nvar timerFunc;\n// The nextTick behavior leverages the microtask queue, which can be accessed\n// via either native Promise.then or MutationObserver.\n// MutationObserver has wider support, however it is seriously bugged in\n// UIWebView in iOS >= 9.3.3 when triggered in touch event handlers. It\n// completely stops working after triggering a few times... so, if native\n// Promise is available, we will use it:\n/* istanbul ignore next, $flow-disable-line */\nif (typeof Promise !== 'undefined' && isNative(Promise)) {\n    var p_1 = Promise.resolve();\n    timerFunc = function () {\n        p_1.then(flushCallbacks);\n        // In problematic UIWebViews, Promise.then doesn't completely break, but\n        // it can get stuck in a weird state where callbacks are pushed into the\n        // microtask queue but the queue isn't being flushed, until the browser\n        // needs to do some other work, e.g. handle a timer. Therefore we can\n        // \"force\" the microtask queue to be flushed by adding an empty timer.\n        if (isIOS)\n            setTimeout(noop);\n    };\n    isUsingMicroTask = true;\n}\nelse if (!isIE &&\n    typeof MutationObserver !== 'undefined' &&\n    (isNative(MutationObserver) ||\n        // PhantomJS and iOS 7.x\n        MutationObserver.toString() === '[object MutationObserverConstructor]')) {\n    // Use MutationObserver where native Promise is not available,\n    // e.g. PhantomJS, iOS7, Android 4.4\n    // (#6466 MutationObserver is unreliable in IE11)\n    var counter_1 = 1;\n    var observer = new MutationObserver(flushCallbacks);\n    var textNode_1 = document.createTextNode(String(counter_1));\n    observer.observe(textNode_1, {\n        characterData: true\n    });\n    timerFunc = function () {\n        counter_1 = (counter_1 + 1) % 2;\n        textNode_1.data = String(counter_1);\n    };\n    isUsingMicroTask = true;\n}\nelse if (typeof setImmediate !== 'undefined' && isNative(setImmediate)) {\n    // Fallback to setImmediate.\n    // Technically it leverages the (macro) task queue,\n    // but it is still a better choice than setTimeout.\n    timerFunc = function () {\n        setImmediate(flushCallbacks);\n    };\n}\nelse {\n    // Fallback to setTimeout.\n    timerFunc = function () {\n        setTimeout(flushCallbacks, 0);\n    };\n}\n/**\n * @internal\n */\nfunction nextTick(cb, ctx) {\n    var _resolve;\n    callbacks.push(function () {\n        if (cb) {\n            try {\n                cb.call(ctx);\n            }\n            catch (e) {\n                handleError(e, ctx, 'nextTick');\n            }\n        }\n        else if (_resolve) {\n            _resolve(ctx);\n        }\n    });\n    if (!pending) {\n        pending = true;\n        timerFunc();\n    }\n    // $flow-disable-line\n    if (!cb && typeof Promise !== 'undefined') {\n        return new Promise(function (resolve) {\n            _resolve = resolve;\n        });\n    }\n}\n\nfunction useCssModule(name) {\n    if (name === void 0) { name = '$style'; }\n    /* istanbul ignore else */\n    {\n        if (!currentInstance) {\n            process.env.NODE_ENV !== 'production' && warn(\"useCssModule must be called inside setup()\");\n            return emptyObject;\n        }\n        var mod = currentInstance[name];\n        if (!mod) {\n            process.env.NODE_ENV !== 'production' &&\n                warn(\"Current instance does not have CSS module named \\\"\".concat(name, \"\\\".\"));\n            return emptyObject;\n        }\n        return mod;\n    }\n}\n\n/**\n * Runtime helper for SFC's CSS variable injection feature.\n * @private\n */\nfunction useCssVars(getter) {\n    if (!inBrowser && !false)\n        return;\n    var instance = currentInstance;\n    if (!instance) {\n        process.env.NODE_ENV !== 'production' &&\n            warn(\"useCssVars is called without current active component instance.\");\n        return;\n    }\n    watchPostEffect(function () {\n        var el = instance.$el;\n        var vars = getter(instance, instance._setupProxy);\n        if (el && el.nodeType === 1) {\n            var style = el.style;\n            for (var key in vars) {\n                style.setProperty(\"--\".concat(key), vars[key]);\n            }\n        }\n    });\n}\n\n/**\n * v3-compatible async component API.\n * @internal the type is manually declared in <root>/types/v3-define-async-component.d.ts\n * because it relies on existing manual types\n */\nfunction defineAsyncComponent(source) {\n    if (isFunction(source)) {\n        source = { loader: source };\n    }\n    var loader = source.loader, loadingComponent = source.loadingComponent, errorComponent = source.errorComponent, _a = source.delay, delay = _a === void 0 ? 200 : _a, timeout = source.timeout, // undefined = never times out\n    _b = source.suspensible, // undefined = never times out\n    suspensible = _b === void 0 ? false : _b, // in Vue 3 default is true\n    userOnError = source.onError;\n    if (process.env.NODE_ENV !== 'production' && suspensible) {\n        warn(\"The suspensible option for async components is not supported in Vue2. It is ignored.\");\n    }\n    var pendingRequest = null;\n    var retries = 0;\n    var retry = function () {\n        retries++;\n        pendingRequest = null;\n        return load();\n    };\n    var load = function () {\n        var thisRequest;\n        return (pendingRequest ||\n            (thisRequest = pendingRequest =\n                loader()\n                    .catch(function (err) {\n                    err = err instanceof Error ? err : new Error(String(err));\n                    if (userOnError) {\n                        return new Promise(function (resolve, reject) {\n                            var userRetry = function () { return resolve(retry()); };\n                            var userFail = function () { return reject(err); };\n                            userOnError(err, userRetry, userFail, retries + 1);\n                        });\n                    }\n                    else {\n                        throw err;\n                    }\n                })\n                    .then(function (comp) {\n                    if (thisRequest !== pendingRequest && pendingRequest) {\n                        return pendingRequest;\n                    }\n                    if (process.env.NODE_ENV !== 'production' && !comp) {\n                        warn(\"Async component loader resolved to undefined. \" +\n                            \"If you are using retry(), make sure to return its return value.\");\n                    }\n                    // interop module default\n                    if (comp &&\n                        (comp.__esModule || comp[Symbol.toStringTag] === 'Module')) {\n                        comp = comp.default;\n                    }\n                    if (process.env.NODE_ENV !== 'production' && comp && !isObject(comp) && !isFunction(comp)) {\n                        throw new Error(\"Invalid async component load result: \".concat(comp));\n                    }\n                    return comp;\n                })));\n    };\n    return function () {\n        var component = load();\n        return {\n            component: component,\n            delay: delay,\n            timeout: timeout,\n            error: errorComponent,\n            loading: loadingComponent\n        };\n    };\n}\n\nfunction createLifeCycle(hookName) {\n    return function (fn, target) {\n        if (target === void 0) { target = currentInstance; }\n        if (!target) {\n            process.env.NODE_ENV !== 'production' &&\n                warn(\"\".concat(formatName(hookName), \" is called when there is no active component instance to be \") +\n                    \"associated with. \" +\n                    \"Lifecycle injection APIs can only be used during execution of setup().\");\n            return;\n        }\n        return injectHook(target, hookName, fn);\n    };\n}\nfunction formatName(name) {\n    if (name === 'beforeDestroy') {\n        name = 'beforeUnmount';\n    }\n    else if (name === 'destroyed') {\n        name = 'unmounted';\n    }\n    return \"on\".concat(name[0].toUpperCase() + name.slice(1));\n}\nfunction injectHook(instance, hookName, fn) {\n    var options = instance.$options;\n    options[hookName] = mergeLifecycleHook(options[hookName], fn);\n}\nvar onBeforeMount = createLifeCycle('beforeMount');\nvar onMounted = createLifeCycle('mounted');\nvar onBeforeUpdate = createLifeCycle('beforeUpdate');\nvar onUpdated = createLifeCycle('updated');\nvar onBeforeUnmount = createLifeCycle('beforeDestroy');\nvar onUnmounted = createLifeCycle('destroyed');\nvar onActivated = createLifeCycle('activated');\nvar onDeactivated = createLifeCycle('deactivated');\nvar onServerPrefetch = createLifeCycle('serverPrefetch');\nvar onRenderTracked = createLifeCycle('renderTracked');\nvar onRenderTriggered = createLifeCycle('renderTriggered');\nvar injectErrorCapturedHook = createLifeCycle('errorCaptured');\nfunction onErrorCaptured(hook, target) {\n    if (target === void 0) { target = currentInstance; }\n    injectErrorCapturedHook(hook, target);\n}\n\n/**\n * Note: also update dist/vue.runtime.mjs when adding new exports to this file.\n */\nvar version = '2.7.16';\n/**\n * @internal type is manually declared in <root>/types/v3-define-component.d.ts\n */\nfunction defineComponent(options) {\n    return options;\n}\n\nvar seenObjects = new _Set();\n/**\n * Recursively traverse an object to evoke all converted\n * getters, so that every nested property inside the object\n * is collected as a \"deep\" dependency.\n */\nfunction traverse(val) {\n    _traverse(val, seenObjects);\n    seenObjects.clear();\n    return val;\n}\nfunction _traverse(val, seen) {\n    var i, keys;\n    var isA = isArray(val);\n    if ((!isA && !isObject(val)) ||\n        val.__v_skip /* ReactiveFlags.SKIP */ ||\n        Object.isFrozen(val) ||\n        val instanceof VNode) {\n        return;\n    }\n    if (val.__ob__) {\n        var depId = val.__ob__.dep.id;\n        if (seen.has(depId)) {\n            return;\n        }\n        seen.add(depId);\n    }\n    if (isA) {\n        i = val.length;\n        while (i--)\n            _traverse(val[i], seen);\n    }\n    else if (isRef(val)) {\n        _traverse(val.value, seen);\n    }\n    else {\n        keys = Object.keys(val);\n        i = keys.length;\n        while (i--)\n            _traverse(val[keys[i]], seen);\n    }\n}\n\nvar uid$1 = 0;\n/**\n * A watcher parses an expression, collects dependencies,\n * and fires callback when the expression value changes.\n * This is used for both the $watch() api and directives.\n * @internal\n */\nvar Watcher = /** @class */ (function () {\n    function Watcher(vm, expOrFn, cb, options, isRenderWatcher) {\n        recordEffectScope(this, \n        // if the active effect scope is manually created (not a component scope),\n        // prioritize it\n        activeEffectScope && !activeEffectScope._vm\n            ? activeEffectScope\n            : vm\n                ? vm._scope\n                : undefined);\n        if ((this.vm = vm) && isRenderWatcher) {\n            vm._watcher = this;\n        }\n        // options\n        if (options) {\n            this.deep = !!options.deep;\n            this.user = !!options.user;\n            this.lazy = !!options.lazy;\n            this.sync = !!options.sync;\n            this.before = options.before;\n            if (process.env.NODE_ENV !== 'production') {\n                this.onTrack = options.onTrack;\n                this.onTrigger = options.onTrigger;\n            }\n        }\n        else {\n            this.deep = this.user = this.lazy = this.sync = false;\n        }\n        this.cb = cb;\n        this.id = ++uid$1; // uid for batching\n        this.active = true;\n        this.post = false;\n        this.dirty = this.lazy; // for lazy watchers\n        this.deps = [];\n        this.newDeps = [];\n        this.depIds = new _Set();\n        this.newDepIds = new _Set();\n        this.expression = process.env.NODE_ENV !== 'production' ? expOrFn.toString() : '';\n        // parse expression for getter\n        if (isFunction(expOrFn)) {\n            this.getter = expOrFn;\n        }\n        else {\n            this.getter = parsePath(expOrFn);\n            if (!this.getter) {\n                this.getter = noop;\n                process.env.NODE_ENV !== 'production' &&\n                    warn(\"Failed watching path: \\\"\".concat(expOrFn, \"\\\" \") +\n                        'Watcher only accepts simple dot-delimited paths. ' +\n                        'For full control, use a function instead.', vm);\n            }\n        }\n        this.value = this.lazy ? undefined : this.get();\n    }\n    /**\n     * Evaluate the getter, and re-collect dependencies.\n     */\n    Watcher.prototype.get = function () {\n        pushTarget(this);\n        var value;\n        var vm = this.vm;\n        try {\n            value = this.getter.call(vm, vm);\n        }\n        catch (e) {\n            if (this.user) {\n                handleError(e, vm, \"getter for watcher \\\"\".concat(this.expression, \"\\\"\"));\n            }\n            else {\n                throw e;\n            }\n        }\n        finally {\n            // \"touch\" every property so they are all tracked as\n            // dependencies for deep watching\n            if (this.deep) {\n                traverse(value);\n            }\n            popTarget();\n            this.cleanupDeps();\n        }\n        return value;\n    };\n    /**\n     * Add a dependency to this directive.\n     */\n    Watcher.prototype.addDep = function (dep) {\n        var id = dep.id;\n        if (!this.newDepIds.has(id)) {\n            this.newDepIds.add(id);\n            this.newDeps.push(dep);\n            if (!this.depIds.has(id)) {\n                dep.addSub(this);\n            }\n        }\n    };\n    /**\n     * Clean up for dependency collection.\n     */\n    Watcher.prototype.cleanupDeps = function () {\n        var i = this.deps.length;\n        while (i--) {\n            var dep = this.deps[i];\n            if (!this.newDepIds.has(dep.id)) {\n                dep.removeSub(this);\n            }\n        }\n        var tmp = this.depIds;\n        this.depIds = this.newDepIds;\n        this.newDepIds = tmp;\n        this.newDepIds.clear();\n        tmp = this.deps;\n        this.deps = this.newDeps;\n        this.newDeps = tmp;\n        this.newDeps.length = 0;\n    };\n    /**\n     * Subscriber interface.\n     * Will be called when a dependency changes.\n     */\n    Watcher.prototype.update = function () {\n        /* istanbul ignore else */\n        if (this.lazy) {\n            this.dirty = true;\n        }\n        else if (this.sync) {\n            this.run();\n        }\n        else {\n            queueWatcher(this);\n        }\n    };\n    /**\n     * Scheduler job interface.\n     * Will be called by the scheduler.\n     */\n    Watcher.prototype.run = function () {\n        if (this.active) {\n            var value = this.get();\n            if (value !== this.value ||\n                // Deep watchers and watchers on Object/Arrays should fire even\n                // when the value is the same, because the value may\n                // have mutated.\n                isObject(value) ||\n                this.deep) {\n                // set new value\n                var oldValue = this.value;\n                this.value = value;\n                if (this.user) {\n                    var info = \"callback for watcher \\\"\".concat(this.expression, \"\\\"\");\n                    invokeWithErrorHandling(this.cb, this.vm, [value, oldValue], this.vm, info);\n                }\n                else {\n                    this.cb.call(this.vm, value, oldValue);\n                }\n            }\n        }\n    };\n    /**\n     * Evaluate the value of the watcher.\n     * This only gets called for lazy watchers.\n     */\n    Watcher.prototype.evaluate = function () {\n        this.value = this.get();\n        this.dirty = false;\n    };\n    /**\n     * Depend on all deps collected by this watcher.\n     */\n    Watcher.prototype.depend = function () {\n        var i = this.deps.length;\n        while (i--) {\n            this.deps[i].depend();\n        }\n    };\n    /**\n     * Remove self from all dependencies' subscriber list.\n     */\n    Watcher.prototype.teardown = function () {\n        if (this.vm && !this.vm._isBeingDestroyed) {\n            remove$2(this.vm._scope.effects, this);\n        }\n        if (this.active) {\n            var i = this.deps.length;\n            while (i--) {\n                this.deps[i].removeSub(this);\n            }\n            this.active = false;\n            if (this.onStop) {\n                this.onStop();\n            }\n        }\n    };\n    return Watcher;\n}());\n\nvar mark;\nvar measure;\nif (process.env.NODE_ENV !== 'production') {\n    var perf_1 = inBrowser && window.performance;\n    /* istanbul ignore if */\n    if (perf_1 &&\n        // @ts-ignore\n        perf_1.mark &&\n        // @ts-ignore\n        perf_1.measure &&\n        // @ts-ignore\n        perf_1.clearMarks &&\n        // @ts-ignore\n        perf_1.clearMeasures) {\n        mark = function (tag) { return perf_1.mark(tag); };\n        measure = function (name, startTag, endTag) {\n            perf_1.measure(name, startTag, endTag);\n            perf_1.clearMarks(startTag);\n            perf_1.clearMarks(endTag);\n            // perf.clearMeasures(name)\n        };\n    }\n}\n\nfunction initEvents(vm) {\n    vm._events = Object.create(null);\n    vm._hasHookEvent = false;\n    // init parent attached events\n    var listeners = vm.$options._parentListeners;\n    if (listeners) {\n        updateComponentListeners(vm, listeners);\n    }\n}\nvar target$1;\nfunction add$1(event, fn) {\n    target$1.$on(event, fn);\n}\nfunction remove$1(event, fn) {\n    target$1.$off(event, fn);\n}\nfunction createOnceHandler$1(event, fn) {\n    var _target = target$1;\n    return function onceHandler() {\n        var res = fn.apply(null, arguments);\n        if (res !== null) {\n            _target.$off(event, onceHandler);\n        }\n    };\n}\nfunction updateComponentListeners(vm, listeners, oldListeners) {\n    target$1 = vm;\n    updateListeners(listeners, oldListeners || {}, add$1, remove$1, createOnceHandler$1, vm);\n    target$1 = undefined;\n}\nfunction eventsMixin(Vue) {\n    var hookRE = /^hook:/;\n    Vue.prototype.$on = function (event, fn) {\n        var vm = this;\n        if (isArray(event)) {\n            for (var i = 0, l = event.length; i < l; i++) {\n                vm.$on(event[i], fn);\n            }\n        }\n        else {\n            (vm._events[event] || (vm._events[event] = [])).push(fn);\n            // optimize hook:event cost by using a boolean flag marked at registration\n            // instead of a hash lookup\n            if (hookRE.test(event)) {\n                vm._hasHookEvent = true;\n            }\n        }\n        return vm;\n    };\n    Vue.prototype.$once = function (event, fn) {\n        var vm = this;\n        function on() {\n            vm.$off(event, on);\n            fn.apply(vm, arguments);\n        }\n        on.fn = fn;\n        vm.$on(event, on);\n        return vm;\n    };\n    Vue.prototype.$off = function (event, fn) {\n        var vm = this;\n        // all\n        if (!arguments.length) {\n            vm._events = Object.create(null);\n            return vm;\n        }\n        // array of events\n        if (isArray(event)) {\n            for (var i_1 = 0, l = event.length; i_1 < l; i_1++) {\n                vm.$off(event[i_1], fn);\n            }\n            return vm;\n        }\n        // specific event\n        var cbs = vm._events[event];\n        if (!cbs) {\n            return vm;\n        }\n        if (!fn) {\n            vm._events[event] = null;\n            return vm;\n        }\n        // specific handler\n        var cb;\n        var i = cbs.length;\n        while (i--) {\n            cb = cbs[i];\n            if (cb === fn || cb.fn === fn) {\n                cbs.splice(i, 1);\n                break;\n            }\n        }\n        return vm;\n    };\n    Vue.prototype.$emit = function (event) {\n        var vm = this;\n        if (process.env.NODE_ENV !== 'production') {\n            var lowerCaseEvent = event.toLowerCase();\n            if (lowerCaseEvent !== event && vm._events[lowerCaseEvent]) {\n                tip(\"Event \\\"\".concat(lowerCaseEvent, \"\\\" is emitted in component \") +\n                    \"\".concat(formatComponentName(vm), \" but the handler is registered for \\\"\").concat(event, \"\\\". \") +\n                    \"Note that HTML attributes are case-insensitive and you cannot use \" +\n                    \"v-on to listen to camelCase events when using in-DOM templates. \" +\n                    \"You should probably use \\\"\".concat(hyphenate(event), \"\\\" instead of \\\"\").concat(event, \"\\\".\"));\n            }\n        }\n        var cbs = vm._events[event];\n        if (cbs) {\n            cbs = cbs.length > 1 ? toArray(cbs) : cbs;\n            var args = toArray(arguments, 1);\n            var info = \"event handler for \\\"\".concat(event, \"\\\"\");\n            for (var i = 0, l = cbs.length; i < l; i++) {\n                invokeWithErrorHandling(cbs[i], vm, args, vm, info);\n            }\n        }\n        return vm;\n    };\n}\n\nvar activeInstance = null;\nvar isUpdatingChildComponent = false;\nfunction setActiveInstance(vm) {\n    var prevActiveInstance = activeInstance;\n    activeInstance = vm;\n    return function () {\n        activeInstance = prevActiveInstance;\n    };\n}\nfunction initLifecycle(vm) {\n    var options = vm.$options;\n    // locate first non-abstract parent\n    var parent = options.parent;\n    if (parent && !options.abstract) {\n        while (parent.$options.abstract && parent.$parent) {\n            parent = parent.$parent;\n        }\n        parent.$children.push(vm);\n    }\n    vm.$parent = parent;\n    vm.$root = parent ? parent.$root : vm;\n    vm.$children = [];\n    vm.$refs = {};\n    vm._provided = parent ? parent._provided : Object.create(null);\n    vm._watcher = null;\n    vm._inactive = null;\n    vm._directInactive = false;\n    vm._isMounted = false;\n    vm._isDestroyed = false;\n    vm._isBeingDestroyed = false;\n}\nfunction lifecycleMixin(Vue) {\n    Vue.prototype._update = function (vnode, hydrating) {\n        var vm = this;\n        var prevEl = vm.$el;\n        var prevVnode = vm._vnode;\n        var restoreActiveInstance = setActiveInstance(vm);\n        vm._vnode = vnode;\n        // Vue.prototype.__patch__ is injected in entry points\n        // based on the rendering backend used.\n        if (!prevVnode) {\n            // initial render\n            vm.$el = vm.__patch__(vm.$el, vnode, hydrating, false /* removeOnly */);\n        }\n        else {\n            // updates\n            vm.$el = vm.__patch__(prevVnode, vnode);\n        }\n        restoreActiveInstance();\n        // update __vue__ reference\n        if (prevEl) {\n            prevEl.__vue__ = null;\n        }\n        if (vm.$el) {\n            vm.$el.__vue__ = vm;\n        }\n        // if parent is an HOC, update its $el as well\n        var wrapper = vm;\n        while (wrapper &&\n            wrapper.$vnode &&\n            wrapper.$parent &&\n            wrapper.$vnode === wrapper.$parent._vnode) {\n            wrapper.$parent.$el = wrapper.$el;\n            wrapper = wrapper.$parent;\n        }\n        // updated hook is called by the scheduler to ensure that children are\n        // updated in a parent's updated hook.\n    };\n    Vue.prototype.$forceUpdate = function () {\n        var vm = this;\n        if (vm._watcher) {\n            vm._watcher.update();\n        }\n    };\n    Vue.prototype.$destroy = function () {\n        var vm = this;\n        if (vm._isBeingDestroyed) {\n            return;\n        }\n        callHook$1(vm, 'beforeDestroy');\n        vm._isBeingDestroyed = true;\n        // remove self from parent\n        var parent = vm.$parent;\n        if (parent && !parent._isBeingDestroyed && !vm.$options.abstract) {\n            remove$2(parent.$children, vm);\n        }\n        // teardown scope. this includes both the render watcher and other\n        // watchers created\n        vm._scope.stop();\n        // remove reference from data ob\n        // frozen object may not have observer.\n        if (vm._data.__ob__) {\n            vm._data.__ob__.vmCount--;\n        }\n        // call the last hook...\n        vm._isDestroyed = true;\n        // invoke destroy hooks on current rendered tree\n        vm.__patch__(vm._vnode, null);\n        // fire destroyed hook\n        callHook$1(vm, 'destroyed');\n        // turn off all instance listeners.\n        vm.$off();\n        // remove __vue__ reference\n        if (vm.$el) {\n            vm.$el.__vue__ = null;\n        }\n        // release circular reference (#6759)\n        if (vm.$vnode) {\n            vm.$vnode.parent = null;\n        }\n    };\n}\nfunction mountComponent(vm, el, hydrating) {\n    vm.$el = el;\n    if (!vm.$options.render) {\n        // @ts-expect-error invalid type\n        vm.$options.render = createEmptyVNode;\n        if (process.env.NODE_ENV !== 'production') {\n            /* istanbul ignore if */\n            if ((vm.$options.template && vm.$options.template.charAt(0) !== '#') ||\n                vm.$options.el ||\n                el) {\n                warn('You are using the runtime-only build of Vue where the template ' +\n                    'compiler is not available. Either pre-compile the templates into ' +\n                    'render functions, or use the compiler-included build.', vm);\n            }\n            else {\n                warn('Failed to mount component: template or render function not defined.', vm);\n            }\n        }\n    }\n    callHook$1(vm, 'beforeMount');\n    var updateComponent;\n    /* istanbul ignore if */\n    if (process.env.NODE_ENV !== 'production' && config.performance && mark) {\n        updateComponent = function () {\n            var name = vm._name;\n            var id = vm._uid;\n            var startTag = \"vue-perf-start:\".concat(id);\n            var endTag = \"vue-perf-end:\".concat(id);\n            mark(startTag);\n            var vnode = vm._render();\n            mark(endTag);\n            measure(\"vue \".concat(name, \" render\"), startTag, endTag);\n            mark(startTag);\n            vm._update(vnode, hydrating);\n            mark(endTag);\n            measure(\"vue \".concat(name, \" patch\"), startTag, endTag);\n        };\n    }\n    else {\n        updateComponent = function () {\n            vm._update(vm._render(), hydrating);\n        };\n    }\n    var watcherOptions = {\n        before: function () {\n            if (vm._isMounted && !vm._isDestroyed) {\n                callHook$1(vm, 'beforeUpdate');\n            }\n        }\n    };\n    if (process.env.NODE_ENV !== 'production') {\n        watcherOptions.onTrack = function (e) { return callHook$1(vm, 'renderTracked', [e]); };\n        watcherOptions.onTrigger = function (e) { return callHook$1(vm, 'renderTriggered', [e]); };\n    }\n    // we set this to vm._watcher inside the watcher's constructor\n    // since the watcher's initial patch may call $forceUpdate (e.g. inside child\n    // component's mounted hook), which relies on vm._watcher being already defined\n    new Watcher(vm, updateComponent, noop, watcherOptions, true /* isRenderWatcher */);\n    hydrating = false;\n    // flush buffer for flush: \"pre\" watchers queued in setup()\n    var preWatchers = vm._preWatchers;\n    if (preWatchers) {\n        for (var i = 0; i < preWatchers.length; i++) {\n            preWatchers[i].run();\n        }\n    }\n    // manually mounted instance, call mounted on self\n    // mounted is called for render-created child components in its inserted hook\n    if (vm.$vnode == null) {\n        vm._isMounted = true;\n        callHook$1(vm, 'mounted');\n    }\n    return vm;\n}\nfunction updateChildComponent(vm, propsData, listeners, parentVnode, renderChildren) {\n    if (process.env.NODE_ENV !== 'production') {\n        isUpdatingChildComponent = true;\n    }\n    // determine whether component has slot children\n    // we need to do this before overwriting $options._renderChildren.\n    // check if there are dynamic scopedSlots (hand-written or compiled but with\n    // dynamic slot names). Static scoped slots compiled from template has the\n    // \"$stable\" marker.\n    var newScopedSlots = parentVnode.data.scopedSlots;\n    var oldScopedSlots = vm.$scopedSlots;\n    var hasDynamicScopedSlot = !!((newScopedSlots && !newScopedSlots.$stable) ||\n        (oldScopedSlots !== emptyObject && !oldScopedSlots.$stable) ||\n        (newScopedSlots && vm.$scopedSlots.$key !== newScopedSlots.$key) ||\n        (!newScopedSlots && vm.$scopedSlots.$key));\n    // Any static slot children from the parent may have changed during parent's\n    // update. Dynamic scoped slots may also have changed. In such cases, a forced\n    // update is necessary to ensure correctness.\n    var needsForceUpdate = !!(renderChildren || // has new static slots\n        vm.$options._renderChildren || // has old static slots\n        hasDynamicScopedSlot);\n    var prevVNode = vm.$vnode;\n    vm.$options._parentVnode = parentVnode;\n    vm.$vnode = parentVnode; // update vm's placeholder node without re-render\n    if (vm._vnode) {\n        // update child tree's parent\n        vm._vnode.parent = parentVnode;\n    }\n    vm.$options._renderChildren = renderChildren;\n    // update $attrs and $listeners hash\n    // these are also reactive so they may trigger child update if the child\n    // used them during render\n    var attrs = parentVnode.data.attrs || emptyObject;\n    if (vm._attrsProxy) {\n        // force update if attrs are accessed and has changed since it may be\n        // passed to a child component.\n        if (syncSetupProxy(vm._attrsProxy, attrs, (prevVNode.data && prevVNode.data.attrs) || emptyObject, vm, '$attrs')) {\n            needsForceUpdate = true;\n        }\n    }\n    vm.$attrs = attrs;\n    // update listeners\n    listeners = listeners || emptyObject;\n    var prevListeners = vm.$options._parentListeners;\n    if (vm._listenersProxy) {\n        syncSetupProxy(vm._listenersProxy, listeners, prevListeners || emptyObject, vm, '$listeners');\n    }\n    vm.$listeners = vm.$options._parentListeners = listeners;\n    updateComponentListeners(vm, listeners, prevListeners);\n    // update props\n    if (propsData && vm.$options.props) {\n        toggleObserving(false);\n        var props = vm._props;\n        var propKeys = vm.$options._propKeys || [];\n        for (var i = 0; i < propKeys.length; i++) {\n            var key = propKeys[i];\n            var propOptions = vm.$options.props; // wtf flow?\n            props[key] = validateProp(key, propOptions, propsData, vm);\n        }\n        toggleObserving(true);\n        // keep a copy of raw propsData\n        vm.$options.propsData = propsData;\n    }\n    // resolve slots + force update if has children\n    if (needsForceUpdate) {\n        vm.$slots = resolveSlots(renderChildren, parentVnode.context);\n        vm.$forceUpdate();\n    }\n    if (process.env.NODE_ENV !== 'production') {\n        isUpdatingChildComponent = false;\n    }\n}\nfunction isInInactiveTree(vm) {\n    while (vm && (vm = vm.$parent)) {\n        if (vm._inactive)\n            return true;\n    }\n    return false;\n}\nfunction activateChildComponent(vm, direct) {\n    if (direct) {\n        vm._directInactive = false;\n        if (isInInactiveTree(vm)) {\n            return;\n        }\n    }\n    else if (vm._directInactive) {\n        return;\n    }\n    if (vm._inactive || vm._inactive === null) {\n        vm._inactive = false;\n        for (var i = 0; i < vm.$children.length; i++) {\n            activateChildComponent(vm.$children[i]);\n        }\n        callHook$1(vm, 'activated');\n    }\n}\nfunction deactivateChildComponent(vm, direct) {\n    if (direct) {\n        vm._directInactive = true;\n        if (isInInactiveTree(vm)) {\n            return;\n        }\n    }\n    if (!vm._inactive) {\n        vm._inactive = true;\n        for (var i = 0; i < vm.$children.length; i++) {\n            deactivateChildComponent(vm.$children[i]);\n        }\n        callHook$1(vm, 'deactivated');\n    }\n}\nfunction callHook$1(vm, hook, args, setContext) {\n    if (setContext === void 0) { setContext = true; }\n    // #7573 disable dep collection when invoking lifecycle hooks\n    pushTarget();\n    var prevInst = currentInstance;\n    var prevScope = getCurrentScope();\n    setContext && setCurrentInstance(vm);\n    var handlers = vm.$options[hook];\n    var info = \"\".concat(hook, \" hook\");\n    if (handlers) {\n        for (var i = 0, j = handlers.length; i < j; i++) {\n            invokeWithErrorHandling(handlers[i], vm, args || null, vm, info);\n        }\n    }\n    if (vm._hasHookEvent) {\n        vm.$emit('hook:' + hook);\n    }\n    if (setContext) {\n        setCurrentInstance(prevInst);\n        prevScope && prevScope.on();\n    }\n    popTarget();\n}\n\nvar MAX_UPDATE_COUNT = 100;\nvar queue = [];\nvar activatedChildren = [];\nvar has = {};\nvar circular = {};\nvar waiting = false;\nvar flushing = false;\nvar index = 0;\n/**\n * Reset the scheduler's state.\n */\nfunction resetSchedulerState() {\n    index = queue.length = activatedChildren.length = 0;\n    has = {};\n    if (process.env.NODE_ENV !== 'production') {\n        circular = {};\n    }\n    waiting = flushing = false;\n}\n// Async edge case #6566 requires saving the timestamp when event listeners are\n// attached. However, calling performance.now() has a perf overhead especially\n// if the page has thousands of event listeners. Instead, we take a timestamp\n// every time the scheduler flushes and use that for all event listeners\n// attached during that flush.\nvar currentFlushTimestamp = 0;\n// Async edge case fix requires storing an event listener's attach timestamp.\nvar getNow = Date.now;\n// Determine what event timestamp the browser is using. Annoyingly, the\n// timestamp can either be hi-res (relative to page load) or low-res\n// (relative to UNIX epoch), so in order to compare time we have to use the\n// same timestamp type when saving the flush timestamp.\n// All IE versions use low-res event timestamps, and have problematic clock\n// implementations (#9632)\nif (inBrowser && !isIE) {\n    var performance_1 = window.performance;\n    if (performance_1 &&\n        typeof performance_1.now === 'function' &&\n        getNow() > document.createEvent('Event').timeStamp) {\n        // if the event timestamp, although evaluated AFTER the Date.now(), is\n        // smaller than it, it means the event is using a hi-res timestamp,\n        // and we need to use the hi-res version for event listener timestamps as\n        // well.\n        getNow = function () { return performance_1.now(); };\n    }\n}\nvar sortCompareFn = function (a, b) {\n    if (a.post) {\n        if (!b.post)\n            return 1;\n    }\n    else if (b.post) {\n        return -1;\n    }\n    return a.id - b.id;\n};\n/**\n * Flush both queues and run the watchers.\n */\nfunction flushSchedulerQueue() {\n    currentFlushTimestamp = getNow();\n    flushing = true;\n    var watcher, id;\n    // Sort queue before flush.\n    // This ensures that:\n    // 1. Components are updated from parent to child. (because parent is always\n    //    created before the child)\n    // 2. A component's user watchers are run before its render watcher (because\n    //    user watchers are created before the render watcher)\n    // 3. If a component is destroyed during a parent component's watcher run,\n    //    its watchers can be skipped.\n    queue.sort(sortCompareFn);\n    // do not cache length because more watchers might be pushed\n    // as we run existing watchers\n    for (index = 0; index < queue.length; index++) {\n        watcher = queue[index];\n        if (watcher.before) {\n            watcher.before();\n        }\n        id = watcher.id;\n        has[id] = null;\n        watcher.run();\n        // in dev build, check and stop circular updates.\n        if (process.env.NODE_ENV !== 'production' && has[id] != null) {\n            circular[id] = (circular[id] || 0) + 1;\n            if (circular[id] > MAX_UPDATE_COUNT) {\n                warn('You may have an infinite update loop ' +\n                    (watcher.user\n                        ? \"in watcher with expression \\\"\".concat(watcher.expression, \"\\\"\")\n                        : \"in a component render function.\"), watcher.vm);\n                break;\n            }\n        }\n    }\n    // keep copies of post queues before resetting state\n    var activatedQueue = activatedChildren.slice();\n    var updatedQueue = queue.slice();\n    resetSchedulerState();\n    // call component updated and activated hooks\n    callActivatedHooks(activatedQueue);\n    callUpdatedHooks(updatedQueue);\n    cleanupDeps();\n    // devtool hook\n    /* istanbul ignore if */\n    if (devtools && config.devtools) {\n        devtools.emit('flush');\n    }\n}\nfunction callUpdatedHooks(queue) {\n    var i = queue.length;\n    while (i--) {\n        var watcher = queue[i];\n        var vm = watcher.vm;\n        if (vm && vm._watcher === watcher && vm._isMounted && !vm._isDestroyed) {\n            callHook$1(vm, 'updated');\n        }\n    }\n}\n/**\n * Queue a kept-alive component that was activated during patch.\n * The queue will be processed after the entire tree has been patched.\n */\nfunction queueActivatedComponent(vm) {\n    // setting _inactive to false here so that a render function can\n    // rely on checking whether it's in an inactive tree (e.g. router-view)\n    vm._inactive = false;\n    activatedChildren.push(vm);\n}\nfunction callActivatedHooks(queue) {\n    for (var i = 0; i < queue.length; i++) {\n        queue[i]._inactive = true;\n        activateChildComponent(queue[i], true /* true */);\n    }\n}\n/**\n * Push a watcher into the watcher queue.\n * Jobs with duplicate IDs will be skipped unless it's\n * pushed when the queue is being flushed.\n */\nfunction queueWatcher(watcher) {\n    var id = watcher.id;\n    if (has[id] != null) {\n        return;\n    }\n    if (watcher === Dep.target && watcher.noRecurse) {\n        return;\n    }\n    has[id] = true;\n    if (!flushing) {\n        queue.push(watcher);\n    }\n    else {\n        // if already flushing, splice the watcher based on its id\n        // if already past its id, it will be run next immediately.\n        var i = queue.length - 1;\n        while (i > index && queue[i].id > watcher.id) {\n            i--;\n        }\n        queue.splice(i + 1, 0, watcher);\n    }\n    // queue the flush\n    if (!waiting) {\n        waiting = true;\n        if (process.env.NODE_ENV !== 'production' && !config.async) {\n            flushSchedulerQueue();\n            return;\n        }\n        nextTick(flushSchedulerQueue);\n    }\n}\n\nfunction initProvide(vm) {\n    var provideOption = vm.$options.provide;\n    if (provideOption) {\n        var provided = isFunction(provideOption)\n            ? provideOption.call(vm)\n            : provideOption;\n        if (!isObject(provided)) {\n            return;\n        }\n        var source = resolveProvided(vm);\n        // IE9 doesn't support Object.getOwnPropertyDescriptors so we have to\n        // iterate the keys ourselves.\n        var keys = hasSymbol ? Reflect.ownKeys(provided) : Object.keys(provided);\n        for (var i = 0; i < keys.length; i++) {\n            var key = keys[i];\n            Object.defineProperty(source, key, Object.getOwnPropertyDescriptor(provided, key));\n        }\n    }\n}\nfunction initInjections(vm) {\n    var result = resolveInject(vm.$options.inject, vm);\n    if (result) {\n        toggleObserving(false);\n        Object.keys(result).forEach(function (key) {\n            /* istanbul ignore else */\n            if (process.env.NODE_ENV !== 'production') {\n                defineReactive(vm, key, result[key], function () {\n                    warn(\"Avoid mutating an injected value directly since the changes will be \" +\n                        \"overwritten whenever the provided component re-renders. \" +\n                        \"injection being mutated: \\\"\".concat(key, \"\\\"\"), vm);\n                });\n            }\n            else {\n                defineReactive(vm, key, result[key]);\n            }\n        });\n        toggleObserving(true);\n    }\n}\nfunction resolveInject(inject, vm) {\n    if (inject) {\n        // inject is :any because flow is not smart enough to figure out cached\n        var result = Object.create(null);\n        var keys = hasSymbol ? Reflect.ownKeys(inject) : Object.keys(inject);\n        for (var i = 0; i < keys.length; i++) {\n            var key = keys[i];\n            // #6574 in case the inject object is observed...\n            if (key === '__ob__')\n                continue;\n            var provideKey = inject[key].from;\n            if (provideKey in vm._provided) {\n                result[key] = vm._provided[provideKey];\n            }\n            else if ('default' in inject[key]) {\n                var provideDefault = inject[key].default;\n                result[key] = isFunction(provideDefault)\n                    ? provideDefault.call(vm)\n                    : provideDefault;\n            }\n            else if (process.env.NODE_ENV !== 'production') {\n                warn(\"Injection \\\"\".concat(key, \"\\\" not found\"), vm);\n            }\n        }\n        return result;\n    }\n}\n\nfunction FunctionalRenderContext(data, props, children, parent, Ctor) {\n    var _this = this;\n    var options = Ctor.options;\n    // ensure the createElement function in functional components\n    // gets a unique context - this is necessary for correct named slot check\n    var contextVm;\n    if (hasOwn(parent, '_uid')) {\n        contextVm = Object.create(parent);\n        contextVm._original = parent;\n    }\n    else {\n        // the context vm passed in is a functional context as well.\n        // in this case we want to make sure we are able to get a hold to the\n        // real context instance.\n        contextVm = parent;\n        // @ts-ignore\n        parent = parent._original;\n    }\n    var isCompiled = isTrue(options._compiled);\n    var needNormalization = !isCompiled;\n    this.data = data;\n    this.props = props;\n    this.children = children;\n    this.parent = parent;\n    this.listeners = data.on || emptyObject;\n    this.injections = resolveInject(options.inject, parent);\n    this.slots = function () {\n        if (!_this.$slots) {\n            normalizeScopedSlots(parent, data.scopedSlots, (_this.$slots = resolveSlots(children, parent)));\n        }\n        return _this.$slots;\n    };\n    Object.defineProperty(this, 'scopedSlots', {\n        enumerable: true,\n        get: function () {\n            return normalizeScopedSlots(parent, data.scopedSlots, this.slots());\n        }\n    });\n    // support for compiled functional template\n    if (isCompiled) {\n        // exposing $options for renderStatic()\n        this.$options = options;\n        // pre-resolve slots for renderSlot()\n        this.$slots = this.slots();\n        this.$scopedSlots = normalizeScopedSlots(parent, data.scopedSlots, this.$slots);\n    }\n    if (options._scopeId) {\n        this._c = function (a, b, c, d) {\n            var vnode = createElement$1(contextVm, a, b, c, d, needNormalization);\n            if (vnode && !isArray(vnode)) {\n                vnode.fnScopeId = options._scopeId;\n                vnode.fnContext = parent;\n            }\n            return vnode;\n        };\n    }\n    else {\n        this._c = function (a, b, c, d) {\n            return createElement$1(contextVm, a, b, c, d, needNormalization);\n        };\n    }\n}\ninstallRenderHelpers(FunctionalRenderContext.prototype);\nfunction createFunctionalComponent(Ctor, propsData, data, contextVm, children) {\n    var options = Ctor.options;\n    var props = {};\n    var propOptions = options.props;\n    if (isDef(propOptions)) {\n        for (var key in propOptions) {\n            props[key] = validateProp(key, propOptions, propsData || emptyObject);\n        }\n    }\n    else {\n        if (isDef(data.attrs))\n            mergeProps(props, data.attrs);\n        if (isDef(data.props))\n            mergeProps(props, data.props);\n    }\n    var renderContext = new FunctionalRenderContext(data, props, children, contextVm, Ctor);\n    var vnode = options.render.call(null, renderContext._c, renderContext);\n    if (vnode instanceof VNode) {\n        return cloneAndMarkFunctionalResult(vnode, data, renderContext.parent, options, renderContext);\n    }\n    else if (isArray(vnode)) {\n        var vnodes = normalizeChildren(vnode) || [];\n        var res = new Array(vnodes.length);\n        for (var i = 0; i < vnodes.length; i++) {\n            res[i] = cloneAndMarkFunctionalResult(vnodes[i], data, renderContext.parent, options, renderContext);\n        }\n        return res;\n    }\n}\nfunction cloneAndMarkFunctionalResult(vnode, data, contextVm, options, renderContext) {\n    // #7817 clone node before setting fnContext, otherwise if the node is reused\n    // (e.g. it was from a cached normal slot) the fnContext causes named slots\n    // that should not be matched to match.\n    var clone = cloneVNode(vnode);\n    clone.fnContext = contextVm;\n    clone.fnOptions = options;\n    if (process.env.NODE_ENV !== 'production') {\n        (clone.devtoolsMeta = clone.devtoolsMeta || {}).renderContext =\n            renderContext;\n    }\n    if (data.slot) {\n        (clone.data || (clone.data = {})).slot = data.slot;\n    }\n    return clone;\n}\nfunction mergeProps(to, from) {\n    for (var key in from) {\n        to[camelize(key)] = from[key];\n    }\n}\n\nfunction getComponentName(options) {\n    return options.name || options.__name || options._componentTag;\n}\n// inline hooks to be invoked on component VNodes during patch\nvar componentVNodeHooks = {\n    init: function (vnode, hydrating) {\n        if (vnode.componentInstance &&\n            !vnode.componentInstance._isDestroyed &&\n            vnode.data.keepAlive) {\n            // kept-alive components, treat as a patch\n            var mountedNode = vnode; // work around flow\n            componentVNodeHooks.prepatch(mountedNode, mountedNode);\n        }\n        else {\n            var child = (vnode.componentInstance = createComponentInstanceForVnode(vnode, activeInstance));\n            child.$mount(hydrating ? vnode.elm : undefined, hydrating);\n        }\n    },\n    prepatch: function (oldVnode, vnode) {\n        var options = vnode.componentOptions;\n        var child = (vnode.componentInstance = oldVnode.componentInstance);\n        updateChildComponent(child, options.propsData, // updated props\n        options.listeners, // updated listeners\n        vnode, // new parent vnode\n        options.children // new children\n        );\n    },\n    insert: function (vnode) {\n        var context = vnode.context, componentInstance = vnode.componentInstance;\n        if (!componentInstance._isMounted) {\n            componentInstance._isMounted = true;\n            callHook$1(componentInstance, 'mounted');\n        }\n        if (vnode.data.keepAlive) {\n            if (context._isMounted) {\n                // vue-router#1212\n                // During updates, a kept-alive component's child components may\n                // change, so directly walking the tree here may call activated hooks\n                // on incorrect children. Instead we push them into a queue which will\n                // be processed after the whole patch process ended.\n                queueActivatedComponent(componentInstance);\n            }\n            else {\n                activateChildComponent(componentInstance, true /* direct */);\n            }\n        }\n    },\n    destroy: function (vnode) {\n        var componentInstance = vnode.componentInstance;\n        if (!componentInstance._isDestroyed) {\n            if (!vnode.data.keepAlive) {\n                componentInstance.$destroy();\n            }\n            else {\n                deactivateChildComponent(componentInstance, true /* direct */);\n            }\n        }\n    }\n};\nvar hooksToMerge = Object.keys(componentVNodeHooks);\nfunction createComponent(Ctor, data, context, children, tag) {\n    if (isUndef(Ctor)) {\n        return;\n    }\n    var baseCtor = context.$options._base;\n    // plain options object: turn it into a constructor\n    if (isObject(Ctor)) {\n        Ctor = baseCtor.extend(Ctor);\n    }\n    // if at this stage it's not a constructor or an async component factory,\n    // reject.\n    if (typeof Ctor !== 'function') {\n        if (process.env.NODE_ENV !== 'production') {\n            warn(\"Invalid Component definition: \".concat(String(Ctor)), context);\n        }\n        return;\n    }\n    // async component\n    var asyncFactory;\n    // @ts-expect-error\n    if (isUndef(Ctor.cid)) {\n        asyncFactory = Ctor;\n        Ctor = resolveAsyncComponent(asyncFactory, baseCtor);\n        if (Ctor === undefined) {\n            // return a placeholder node for async component, which is rendered\n            // as a comment node but preserves all the raw information for the node.\n            // the information will be used for async server-rendering and hydration.\n            return createAsyncPlaceholder(asyncFactory, data, context, children, tag);\n        }\n    }\n    data = data || {};\n    // resolve constructor options in case global mixins are applied after\n    // component constructor creation\n    resolveConstructorOptions(Ctor);\n    // transform component v-model data into props & events\n    if (isDef(data.model)) {\n        // @ts-expect-error\n        transformModel(Ctor.options, data);\n    }\n    // extract props\n    // @ts-expect-error\n    var propsData = extractPropsFromVNodeData(data, Ctor, tag);\n    // functional component\n    // @ts-expect-error\n    if (isTrue(Ctor.options.functional)) {\n        return createFunctionalComponent(Ctor, propsData, data, context, children);\n    }\n    // extract listeners, since these needs to be treated as\n    // child component listeners instead of DOM listeners\n    var listeners = data.on;\n    // replace with listeners with .native modifier\n    // so it gets processed during parent component patch.\n    data.on = data.nativeOn;\n    // @ts-expect-error\n    if (isTrue(Ctor.options.abstract)) {\n        // abstract components do not keep anything\n        // other than props & listeners & slot\n        // work around flow\n        var slot = data.slot;\n        data = {};\n        if (slot) {\n            data.slot = slot;\n        }\n    }\n    // install component management hooks onto the placeholder node\n    installComponentHooks(data);\n    // return a placeholder vnode\n    // @ts-expect-error\n    var name = getComponentName(Ctor.options) || tag;\n    var vnode = new VNode(\n    // @ts-expect-error\n    \"vue-component-\".concat(Ctor.cid).concat(name ? \"-\".concat(name) : ''), data, undefined, undefined, undefined, context, \n    // @ts-expect-error\n    { Ctor: Ctor, propsData: propsData, listeners: listeners, tag: tag, children: children }, asyncFactory);\n    return vnode;\n}\nfunction createComponentInstanceForVnode(\n// we know it's MountedComponentVNode but flow doesn't\nvnode, \n// activeInstance in lifecycle state\nparent) {\n    var options = {\n        _isComponent: true,\n        _parentVnode: vnode,\n        parent: parent\n    };\n    // check inline-template render functions\n    var inlineTemplate = vnode.data.inlineTemplate;\n    if (isDef(inlineTemplate)) {\n        options.render = inlineTemplate.render;\n        options.staticRenderFns = inlineTemplate.staticRenderFns;\n    }\n    return new vnode.componentOptions.Ctor(options);\n}\nfunction installComponentHooks(data) {\n    var hooks = data.hook || (data.hook = {});\n    for (var i = 0; i < hooksToMerge.length; i++) {\n        var key = hooksToMerge[i];\n        var existing = hooks[key];\n        var toMerge = componentVNodeHooks[key];\n        // @ts-expect-error\n        if (existing !== toMerge && !(existing && existing._merged)) {\n            hooks[key] = existing ? mergeHook(toMerge, existing) : toMerge;\n        }\n    }\n}\nfunction mergeHook(f1, f2) {\n    var merged = function (a, b) {\n        // flow complains about extra args which is why we use any\n        f1(a, b);\n        f2(a, b);\n    };\n    merged._merged = true;\n    return merged;\n}\n// transform component v-model info (value and callback) into\n// prop and event handler respectively.\nfunction transformModel(options, data) {\n    var prop = (options.model && options.model.prop) || 'value';\n    var event = (options.model && options.model.event) || 'input';\n    (data.attrs || (data.attrs = {}))[prop] = data.model.value;\n    var on = data.on || (data.on = {});\n    var existing = on[event];\n    var callback = data.model.callback;\n    if (isDef(existing)) {\n        if (isArray(existing)\n            ? existing.indexOf(callback) === -1\n            : existing !== callback) {\n            on[event] = [callback].concat(existing);\n        }\n    }\n    else {\n        on[event] = callback;\n    }\n}\n\nvar warn = noop;\nvar tip = noop;\nvar generateComponentTrace; // work around flow check\nvar formatComponentName;\nif (process.env.NODE_ENV !== 'production') {\n    var hasConsole_1 = typeof console !== 'undefined';\n    var classifyRE_1 = /(?:^|[-_])(\\w)/g;\n    var classify_1 = function (str) {\n        return str.replace(classifyRE_1, function (c) { return c.toUpperCase(); }).replace(/[-_]/g, '');\n    };\n    warn = function (msg, vm) {\n        if (vm === void 0) { vm = currentInstance; }\n        var trace = vm ? generateComponentTrace(vm) : '';\n        if (config.warnHandler) {\n            config.warnHandler.call(null, msg, vm, trace);\n        }\n        else if (hasConsole_1 && !config.silent) {\n            console.error(\"[Vue warn]: \".concat(msg).concat(trace));\n        }\n    };\n    tip = function (msg, vm) {\n        if (hasConsole_1 && !config.silent) {\n            console.warn(\"[Vue tip]: \".concat(msg) + (vm ? generateComponentTrace(vm) : ''));\n        }\n    };\n    formatComponentName = function (vm, includeFile) {\n        if (vm.$root === vm) {\n            return '<Root>';\n        }\n        var options = isFunction(vm) && vm.cid != null\n            ? vm.options\n            : vm._isVue\n                ? vm.$options || vm.constructor.options\n                : vm;\n        var name = getComponentName(options);\n        var file = options.__file;\n        if (!name && file) {\n            var match = file.match(/([^/\\\\]+)\\.vue$/);\n            name = match && match[1];\n        }\n        return ((name ? \"<\".concat(classify_1(name), \">\") : \"<Anonymous>\") +\n            (file && includeFile !== false ? \" at \".concat(file) : ''));\n    };\n    var repeat_1 = function (str, n) {\n        var res = '';\n        while (n) {\n            if (n % 2 === 1)\n                res += str;\n            if (n > 1)\n                str += str;\n            n >>= 1;\n        }\n        return res;\n    };\n    generateComponentTrace = function (vm) {\n        if (vm._isVue && vm.$parent) {\n            var tree = [];\n            var currentRecursiveSequence = 0;\n            while (vm) {\n                if (tree.length > 0) {\n                    var last = tree[tree.length - 1];\n                    if (last.constructor === vm.constructor) {\n                        currentRecursiveSequence++;\n                        vm = vm.$parent;\n                        continue;\n                    }\n                    else if (currentRecursiveSequence > 0) {\n                        tree[tree.length - 1] = [last, currentRecursiveSequence];\n                        currentRecursiveSequence = 0;\n                    }\n                }\n                tree.push(vm);\n                vm = vm.$parent;\n            }\n            return ('\\n\\nfound in\\n\\n' +\n                tree\n                    .map(function (vm, i) {\n                    return \"\".concat(i === 0 ? '---> ' : repeat_1(' ', 5 + i * 2)).concat(isArray(vm)\n                        ? \"\".concat(formatComponentName(vm[0]), \"... (\").concat(vm[1], \" recursive calls)\")\n                        : formatComponentName(vm));\n                })\n                    .join('\\n'));\n        }\n        else {\n            return \"\\n\\n(found in \".concat(formatComponentName(vm), \")\");\n        }\n    };\n}\n\n/**\n * Option overwriting strategies are functions that handle\n * how to merge a parent option value and a child option\n * value into the final value.\n */\nvar strats = config.optionMergeStrategies;\n/**\n * Options with restrictions\n */\nif (process.env.NODE_ENV !== 'production') {\n    strats.el = strats.propsData = function (parent, child, vm, key) {\n        if (!vm) {\n            warn(\"option \\\"\".concat(key, \"\\\" can only be used during instance \") +\n                'creation with the `new` keyword.');\n        }\n        return defaultStrat(parent, child);\n    };\n}\n/**\n * Helper that recursively merges two data objects together.\n */\nfunction mergeData(to, from, recursive) {\n    if (recursive === void 0) { recursive = true; }\n    if (!from)\n        return to;\n    var key, toVal, fromVal;\n    var keys = hasSymbol\n        ? Reflect.ownKeys(from)\n        : Object.keys(from);\n    for (var i = 0; i < keys.length; i++) {\n        key = keys[i];\n        // in case the object is already observed...\n        if (key === '__ob__')\n            continue;\n        toVal = to[key];\n        fromVal = from[key];\n        if (!recursive || !hasOwn(to, key)) {\n            set(to, key, fromVal);\n        }\n        else if (toVal !== fromVal &&\n            isPlainObject(toVal) &&\n            isPlainObject(fromVal)) {\n            mergeData(toVal, fromVal);\n        }\n    }\n    return to;\n}\n/**\n * Data\n */\nfunction mergeDataOrFn(parentVal, childVal, vm) {\n    if (!vm) {\n        // in a Vue.extend merge, both should be functions\n        if (!childVal) {\n            return parentVal;\n        }\n        if (!parentVal) {\n            return childVal;\n        }\n        // when parentVal & childVal are both present,\n        // we need to return a function that returns the\n        // merged result of both functions... no need to\n        // check if parentVal is a function here because\n        // it has to be a function to pass previous merges.\n        return function mergedDataFn() {\n            return mergeData(isFunction(childVal) ? childVal.call(this, this) : childVal, isFunction(parentVal) ? parentVal.call(this, this) : parentVal);\n        };\n    }\n    else {\n        return function mergedInstanceDataFn() {\n            // instance merge\n            var instanceData = isFunction(childVal)\n                ? childVal.call(vm, vm)\n                : childVal;\n            var defaultData = isFunction(parentVal)\n                ? parentVal.call(vm, vm)\n                : parentVal;\n            if (instanceData) {\n                return mergeData(instanceData, defaultData);\n            }\n            else {\n                return defaultData;\n            }\n        };\n    }\n}\nstrats.data = function (parentVal, childVal, vm) {\n    if (!vm) {\n        if (childVal && typeof childVal !== 'function') {\n            process.env.NODE_ENV !== 'production' &&\n                warn('The \"data\" option should be a function ' +\n                    'that returns a per-instance value in component ' +\n                    'definitions.', vm);\n            return parentVal;\n        }\n        return mergeDataOrFn(parentVal, childVal);\n    }\n    return mergeDataOrFn(parentVal, childVal, vm);\n};\n/**\n * Hooks and props are merged as arrays.\n */\nfunction mergeLifecycleHook(parentVal, childVal) {\n    var res = childVal\n        ? parentVal\n            ? parentVal.concat(childVal)\n            : isArray(childVal)\n                ? childVal\n                : [childVal]\n        : parentVal;\n    return res ? dedupeHooks(res) : res;\n}\nfunction dedupeHooks(hooks) {\n    var res = [];\n    for (var i = 0; i < hooks.length; i++) {\n        if (res.indexOf(hooks[i]) === -1) {\n            res.push(hooks[i]);\n        }\n    }\n    return res;\n}\nLIFECYCLE_HOOKS.forEach(function (hook) {\n    strats[hook] = mergeLifecycleHook;\n});\n/**\n * Assets\n *\n * When a vm is present (instance creation), we need to do\n * a three-way merge between constructor options, instance\n * options and parent options.\n */\nfunction mergeAssets(parentVal, childVal, vm, key) {\n    var res = Object.create(parentVal || null);\n    if (childVal) {\n        process.env.NODE_ENV !== 'production' && assertObjectType(key, childVal, vm);\n        return extend(res, childVal);\n    }\n    else {\n        return res;\n    }\n}\nASSET_TYPES.forEach(function (type) {\n    strats[type + 's'] = mergeAssets;\n});\n/**\n * Watchers.\n *\n * Watchers hashes should not overwrite one\n * another, so we merge them as arrays.\n */\nstrats.watch = function (parentVal, childVal, vm, key) {\n    // work around Firefox's Object.prototype.watch...\n    //@ts-expect-error work around\n    if (parentVal === nativeWatch)\n        parentVal = undefined;\n    //@ts-expect-error work around\n    if (childVal === nativeWatch)\n        childVal = undefined;\n    /* istanbul ignore if */\n    if (!childVal)\n        return Object.create(parentVal || null);\n    if (process.env.NODE_ENV !== 'production') {\n        assertObjectType(key, childVal, vm);\n    }\n    if (!parentVal)\n        return childVal;\n    var ret = {};\n    extend(ret, parentVal);\n    for (var key_1 in childVal) {\n        var parent_1 = ret[key_1];\n        var child = childVal[key_1];\n        if (parent_1 && !isArray(parent_1)) {\n            parent_1 = [parent_1];\n        }\n        ret[key_1] = parent_1 ? parent_1.concat(child) : isArray(child) ? child : [child];\n    }\n    return ret;\n};\n/**\n * Other object hashes.\n */\nstrats.props =\n    strats.methods =\n        strats.inject =\n            strats.computed =\n                function (parentVal, childVal, vm, key) {\n                    if (childVal && process.env.NODE_ENV !== 'production') {\n                        assertObjectType(key, childVal, vm);\n                    }\n                    if (!parentVal)\n                        return childVal;\n                    var ret = Object.create(null);\n                    extend(ret, parentVal);\n                    if (childVal)\n                        extend(ret, childVal);\n                    return ret;\n                };\nstrats.provide = function (parentVal, childVal) {\n    if (!parentVal)\n        return childVal;\n    return function () {\n        var ret = Object.create(null);\n        mergeData(ret, isFunction(parentVal) ? parentVal.call(this) : parentVal);\n        if (childVal) {\n            mergeData(ret, isFunction(childVal) ? childVal.call(this) : childVal, false // non-recursive\n            );\n        }\n        return ret;\n    };\n};\n/**\n * Default strategy.\n */\nvar defaultStrat = function (parentVal, childVal) {\n    return childVal === undefined ? parentVal : childVal;\n};\n/**\n * Validate component names\n */\nfunction checkComponents(options) {\n    for (var key in options.components) {\n        validateComponentName(key);\n    }\n}\nfunction validateComponentName(name) {\n    if (!new RegExp(\"^[a-zA-Z][\\\\-\\\\.0-9_\".concat(unicodeRegExp.source, \"]*$\")).test(name)) {\n        warn('Invalid component name: \"' +\n            name +\n            '\". Component names ' +\n            'should conform to valid custom element name in html5 specification.');\n    }\n    if (isBuiltInTag(name) || config.isReservedTag(name)) {\n        warn('Do not use built-in or reserved HTML elements as component ' +\n            'id: ' +\n            name);\n    }\n}\n/**\n * Ensure all props option syntax are normalized into the\n * Object-based format.\n */\nfunction normalizeProps(options, vm) {\n    var props = options.props;\n    if (!props)\n        return;\n    var res = {};\n    var i, val, name;\n    if (isArray(props)) {\n        i = props.length;\n        while (i--) {\n            val = props[i];\n            if (typeof val === 'string') {\n                name = camelize(val);\n                res[name] = { type: null };\n            }\n            else if (process.env.NODE_ENV !== 'production') {\n                warn('props must be strings when using array syntax.');\n            }\n        }\n    }\n    else if (isPlainObject(props)) {\n        for (var key in props) {\n            val = props[key];\n            name = camelize(key);\n            res[name] = isPlainObject(val) ? val : { type: val };\n        }\n    }\n    else if (process.env.NODE_ENV !== 'production') {\n        warn(\"Invalid value for option \\\"props\\\": expected an Array or an Object, \" +\n            \"but got \".concat(toRawType(props), \".\"), vm);\n    }\n    options.props = res;\n}\n/**\n * Normalize all injections into Object-based format\n */\nfunction normalizeInject(options, vm) {\n    var inject = options.inject;\n    if (!inject)\n        return;\n    var normalized = (options.inject = {});\n    if (isArray(inject)) {\n        for (var i = 0; i < inject.length; i++) {\n            normalized[inject[i]] = { from: inject[i] };\n        }\n    }\n    else if (isPlainObject(inject)) {\n        for (var key in inject) {\n            var val = inject[key];\n            normalized[key] = isPlainObject(val)\n                ? extend({ from: key }, val)\n                : { from: val };\n        }\n    }\n    else if (process.env.NODE_ENV !== 'production') {\n        warn(\"Invalid value for option \\\"inject\\\": expected an Array or an Object, \" +\n            \"but got \".concat(toRawType(inject), \".\"), vm);\n    }\n}\n/**\n * Normalize raw function directives into object format.\n */\nfunction normalizeDirectives$1(options) {\n    var dirs = options.directives;\n    if (dirs) {\n        for (var key in dirs) {\n            var def = dirs[key];\n            if (isFunction(def)) {\n                dirs[key] = { bind: def, update: def };\n            }\n        }\n    }\n}\nfunction assertObjectType(name, value, vm) {\n    if (!isPlainObject(value)) {\n        warn(\"Invalid value for option \\\"\".concat(name, \"\\\": expected an Object, \") +\n            \"but got \".concat(toRawType(value), \".\"), vm);\n    }\n}\n/**\n * Merge two option objects into a new one.\n * Core utility used in both instantiation and inheritance.\n */\nfunction mergeOptions(parent, child, vm) {\n    if (process.env.NODE_ENV !== 'production') {\n        checkComponents(child);\n    }\n    if (isFunction(child)) {\n        // @ts-expect-error\n        child = child.options;\n    }\n    normalizeProps(child, vm);\n    normalizeInject(child, vm);\n    normalizeDirectives$1(child);\n    // Apply extends and mixins on the child options,\n    // but only if it is a raw options object that isn't\n    // the result of another mergeOptions call.\n    // Only merged options has the _base property.\n    if (!child._base) {\n        if (child.extends) {\n            parent = mergeOptions(parent, child.extends, vm);\n        }\n        if (child.mixins) {\n            for (var i = 0, l = child.mixins.length; i < l; i++) {\n                parent = mergeOptions(parent, child.mixins[i], vm);\n            }\n        }\n    }\n    var options = {};\n    var key;\n    for (key in parent) {\n        mergeField(key);\n    }\n    for (key in child) {\n        if (!hasOwn(parent, key)) {\n            mergeField(key);\n        }\n    }\n    function mergeField(key) {\n        var strat = strats[key] || defaultStrat;\n        options[key] = strat(parent[key], child[key], vm, key);\n    }\n    return options;\n}\n/**\n * Resolve an asset.\n * This function is used because child instances need access\n * to assets defined in its ancestor chain.\n */\nfunction resolveAsset(options, type, id, warnMissing) {\n    /* istanbul ignore if */\n    if (typeof id !== 'string') {\n        return;\n    }\n    var assets = options[type];\n    // check local registration variations first\n    if (hasOwn(assets, id))\n        return assets[id];\n    var camelizedId = camelize(id);\n    if (hasOwn(assets, camelizedId))\n        return assets[camelizedId];\n    var PascalCaseId = capitalize(camelizedId);\n    if (hasOwn(assets, PascalCaseId))\n        return assets[PascalCaseId];\n    // fallback to prototype chain\n    var res = assets[id] || assets[camelizedId] || assets[PascalCaseId];\n    if (process.env.NODE_ENV !== 'production' && warnMissing && !res) {\n        warn('Failed to resolve ' + type.slice(0, -1) + ': ' + id);\n    }\n    return res;\n}\n\nfunction validateProp(key, propOptions, propsData, vm) {\n    var prop = propOptions[key];\n    var absent = !hasOwn(propsData, key);\n    var value = propsData[key];\n    // boolean casting\n    var booleanIndex = getTypeIndex(Boolean, prop.type);\n    if (booleanIndex > -1) {\n        if (absent && !hasOwn(prop, 'default')) {\n            value = false;\n        }\n        else if (value === '' || value === hyphenate(key)) {\n            // only cast empty string / same name to boolean if\n            // boolean has higher priority\n            var stringIndex = getTypeIndex(String, prop.type);\n            if (stringIndex < 0 || booleanIndex < stringIndex) {\n                value = true;\n            }\n        }\n    }\n    // check default value\n    if (value === undefined) {\n        value = getPropDefaultValue(vm, prop, key);\n        // since the default value is a fresh copy,\n        // make sure to observe it.\n        var prevShouldObserve = shouldObserve;\n        toggleObserving(true);\n        observe(value);\n        toggleObserving(prevShouldObserve);\n    }\n    if (process.env.NODE_ENV !== 'production') {\n        assertProp(prop, key, value, vm, absent);\n    }\n    return value;\n}\n/**\n * Get the default value of a prop.\n */\nfunction getPropDefaultValue(vm, prop, key) {\n    // no default, return undefined\n    if (!hasOwn(prop, 'default')) {\n        return undefined;\n    }\n    var def = prop.default;\n    // warn against non-factory defaults for Object & Array\n    if (process.env.NODE_ENV !== 'production' && isObject(def)) {\n        warn('Invalid default value for prop \"' +\n            key +\n            '\": ' +\n            'Props with type Object/Array must use a factory function ' +\n            'to return the default value.', vm);\n    }\n    // the raw prop value was also undefined from previous render,\n    // return previous default value to avoid unnecessary watcher trigger\n    if (vm &&\n        vm.$options.propsData &&\n        vm.$options.propsData[key] === undefined &&\n        vm._props[key] !== undefined) {\n        return vm._props[key];\n    }\n    // call factory function for non-Function types\n    // a value is Function if its prototype is function even across different execution context\n    return isFunction(def) && getType(prop.type) !== 'Function'\n        ? def.call(vm)\n        : def;\n}\n/**\n * Assert whether a prop is valid.\n */\nfunction assertProp(prop, name, value, vm, absent) {\n    if (prop.required && absent) {\n        warn('Missing required prop: \"' + name + '\"', vm);\n        return;\n    }\n    if (value == null && !prop.required) {\n        return;\n    }\n    var type = prop.type;\n    var valid = !type || type === true;\n    var expectedTypes = [];\n    if (type) {\n        if (!isArray(type)) {\n            type = [type];\n        }\n        for (var i = 0; i < type.length && !valid; i++) {\n            var assertedType = assertType(value, type[i], vm);\n            expectedTypes.push(assertedType.expectedType || '');\n            valid = assertedType.valid;\n        }\n    }\n    var haveExpectedTypes = expectedTypes.some(function (t) { return t; });\n    if (!valid && haveExpectedTypes) {\n        warn(getInvalidTypeMessage(name, value, expectedTypes), vm);\n        return;\n    }\n    var validator = prop.validator;\n    if (validator) {\n        if (!validator(value)) {\n            warn('Invalid prop: custom validator check failed for prop \"' + name + '\".', vm);\n        }\n    }\n}\nvar simpleCheckRE = /^(String|Number|Boolean|Function|Symbol|BigInt)$/;\nfunction assertType(value, type, vm) {\n    var valid;\n    var expectedType = getType(type);\n    if (simpleCheckRE.test(expectedType)) {\n        var t = typeof value;\n        valid = t === expectedType.toLowerCase();\n        // for primitive wrapper objects\n        if (!valid && t === 'object') {\n            valid = value instanceof type;\n        }\n    }\n    else if (expectedType === 'Object') {\n        valid = isPlainObject(value);\n    }\n    else if (expectedType === 'Array') {\n        valid = isArray(value);\n    }\n    else {\n        try {\n            valid = value instanceof type;\n        }\n        catch (e) {\n            warn('Invalid prop type: \"' + String(type) + '\" is not a constructor', vm);\n            valid = false;\n        }\n    }\n    return {\n        valid: valid,\n        expectedType: expectedType\n    };\n}\nvar functionTypeCheckRE = /^\\s*function (\\w+)/;\n/**\n * Use function string name to check built-in types,\n * because a simple equality check will fail when running\n * across different vms / iframes.\n */\nfunction getType(fn) {\n    var match = fn && fn.toString().match(functionTypeCheckRE);\n    return match ? match[1] : '';\n}\nfunction isSameType(a, b) {\n    return getType(a) === getType(b);\n}\nfunction getTypeIndex(type, expectedTypes) {\n    if (!isArray(expectedTypes)) {\n        return isSameType(expectedTypes, type) ? 0 : -1;\n    }\n    for (var i = 0, len = expectedTypes.length; i < len; i++) {\n        if (isSameType(expectedTypes[i], type)) {\n            return i;\n        }\n    }\n    return -1;\n}\nfunction getInvalidTypeMessage(name, value, expectedTypes) {\n    var message = \"Invalid prop: type check failed for prop \\\"\".concat(name, \"\\\".\") +\n        \" Expected \".concat(expectedTypes.map(capitalize).join(', '));\n    var expectedType = expectedTypes[0];\n    var receivedType = toRawType(value);\n    // check if we need to specify expected value\n    if (expectedTypes.length === 1 &&\n        isExplicable(expectedType) &&\n        isExplicable(typeof value) &&\n        !isBoolean(expectedType, receivedType)) {\n        message += \" with value \".concat(styleValue(value, expectedType));\n    }\n    message += \", got \".concat(receivedType, \" \");\n    // check if we need to specify received value\n    if (isExplicable(receivedType)) {\n        message += \"with value \".concat(styleValue(value, receivedType), \".\");\n    }\n    return message;\n}\nfunction styleValue(value, type) {\n    if (type === 'String') {\n        return \"\\\"\".concat(value, \"\\\"\");\n    }\n    else if (type === 'Number') {\n        return \"\".concat(Number(value));\n    }\n    else {\n        return \"\".concat(value);\n    }\n}\nvar EXPLICABLE_TYPES = ['string', 'number', 'boolean'];\nfunction isExplicable(value) {\n    return EXPLICABLE_TYPES.some(function (elem) { return value.toLowerCase() === elem; });\n}\nfunction isBoolean() {\n    var args = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n    }\n    return args.some(function (elem) { return elem.toLowerCase() === 'boolean'; });\n}\n\n/* not type checking this file because flow doesn't play well with Proxy */\nvar initProxy;\nif (process.env.NODE_ENV !== 'production') {\n    var allowedGlobals_1 = makeMap('Infinity,undefined,NaN,isFinite,isNaN,' +\n        'parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,' +\n        'Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,' +\n        'require' // for Webpack/Browserify\n    );\n    var warnNonPresent_1 = function (target, key) {\n        warn(\"Property or method \\\"\".concat(key, \"\\\" is not defined on the instance but \") +\n            'referenced during render. Make sure that this property is reactive, ' +\n            'either in the data option, or for class-based components, by ' +\n            'initializing the property. ' +\n            'See: https://v2.vuejs.org/v2/guide/reactivity.html#Declaring-Reactive-Properties.', target);\n    };\n    var warnReservedPrefix_1 = function (target, key) {\n        warn(\"Property \\\"\".concat(key, \"\\\" must be accessed with \\\"$data.\").concat(key, \"\\\" because \") +\n            'properties starting with \"$\" or \"_\" are not proxied in the Vue instance to ' +\n            'prevent conflicts with Vue internals. ' +\n            'See: https://v2.vuejs.org/v2/api/#data', target);\n    };\n    var hasProxy_1 = typeof Proxy !== 'undefined' && isNative(Proxy);\n    if (hasProxy_1) {\n        var isBuiltInModifier_1 = makeMap('stop,prevent,self,ctrl,shift,alt,meta,exact');\n        config.keyCodes = new Proxy(config.keyCodes, {\n            set: function (target, key, value) {\n                if (isBuiltInModifier_1(key)) {\n                    warn(\"Avoid overwriting built-in modifier in config.keyCodes: .\".concat(key));\n                    return false;\n                }\n                else {\n                    target[key] = value;\n                    return true;\n                }\n            }\n        });\n    }\n    var hasHandler_1 = {\n        has: function (target, key) {\n            var has = key in target;\n            var isAllowed = allowedGlobals_1(key) ||\n                (typeof key === 'string' &&\n                    key.charAt(0) === '_' &&\n                    !(key in target.$data));\n            if (!has && !isAllowed) {\n                if (key in target.$data)\n                    warnReservedPrefix_1(target, key);\n                else\n                    warnNonPresent_1(target, key);\n            }\n            return has || !isAllowed;\n        }\n    };\n    var getHandler_1 = {\n        get: function (target, key) {\n            if (typeof key === 'string' && !(key in target)) {\n                if (key in target.$data)\n                    warnReservedPrefix_1(target, key);\n                else\n                    warnNonPresent_1(target, key);\n            }\n            return target[key];\n        }\n    };\n    initProxy = function initProxy(vm) {\n        if (hasProxy_1) {\n            // determine which proxy handler to use\n            var options = vm.$options;\n            var handlers = options.render && options.render._withStripped ? getHandler_1 : hasHandler_1;\n            vm._renderProxy = new Proxy(vm, handlers);\n        }\n        else {\n            vm._renderProxy = vm;\n        }\n    };\n}\n\nvar sharedPropertyDefinition = {\n    enumerable: true,\n    configurable: true,\n    get: noop,\n    set: noop\n};\nfunction proxy(target, sourceKey, key) {\n    sharedPropertyDefinition.get = function proxyGetter() {\n        return this[sourceKey][key];\n    };\n    sharedPropertyDefinition.set = function proxySetter(val) {\n        this[sourceKey][key] = val;\n    };\n    Object.defineProperty(target, key, sharedPropertyDefinition);\n}\nfunction initState(vm) {\n    var opts = vm.$options;\n    if (opts.props)\n        initProps$1(vm, opts.props);\n    // Composition API\n    initSetup(vm);\n    if (opts.methods)\n        initMethods(vm, opts.methods);\n    if (opts.data) {\n        initData(vm);\n    }\n    else {\n        var ob = observe((vm._data = {}));\n        ob && ob.vmCount++;\n    }\n    if (opts.computed)\n        initComputed$1(vm, opts.computed);\n    if (opts.watch && opts.watch !== nativeWatch) {\n        initWatch(vm, opts.watch);\n    }\n}\nfunction initProps$1(vm, propsOptions) {\n    var propsData = vm.$options.propsData || {};\n    var props = (vm._props = shallowReactive({}));\n    // cache prop keys so that future props updates can iterate using Array\n    // instead of dynamic object key enumeration.\n    var keys = (vm.$options._propKeys = []);\n    var isRoot = !vm.$parent;\n    // root instance props should be converted\n    if (!isRoot) {\n        toggleObserving(false);\n    }\n    var _loop_1 = function (key) {\n        keys.push(key);\n        var value = validateProp(key, propsOptions, propsData, vm);\n        /* istanbul ignore else */\n        if (process.env.NODE_ENV !== 'production') {\n            var hyphenatedKey = hyphenate(key);\n            if (isReservedAttribute(hyphenatedKey) ||\n                config.isReservedAttr(hyphenatedKey)) {\n                warn(\"\\\"\".concat(hyphenatedKey, \"\\\" is a reserved attribute and cannot be used as component prop.\"), vm);\n            }\n            defineReactive(props, key, value, function () {\n                if (!isRoot && !isUpdatingChildComponent) {\n                    warn(\"Avoid mutating a prop directly since the value will be \" +\n                        \"overwritten whenever the parent component re-renders. \" +\n                        \"Instead, use a data or computed property based on the prop's \" +\n                        \"value. Prop being mutated: \\\"\".concat(key, \"\\\"\"), vm);\n                }\n            }, true /* shallow */);\n        }\n        else {\n            defineReactive(props, key, value, undefined, true /* shallow */);\n        }\n        // static props are already proxied on the component's prototype\n        // during Vue.extend(). We only need to proxy props defined at\n        // instantiation here.\n        if (!(key in vm)) {\n            proxy(vm, \"_props\", key);\n        }\n    };\n    for (var key in propsOptions) {\n        _loop_1(key);\n    }\n    toggleObserving(true);\n}\nfunction initData(vm) {\n    var data = vm.$options.data;\n    data = vm._data = isFunction(data) ? getData(data, vm) : data || {};\n    if (!isPlainObject(data)) {\n        data = {};\n        process.env.NODE_ENV !== 'production' &&\n            warn('data functions should return an object:\\n' +\n                'https://v2.vuejs.org/v2/guide/components.html#data-Must-Be-a-Function', vm);\n    }\n    // proxy data on instance\n    var keys = Object.keys(data);\n    var props = vm.$options.props;\n    var methods = vm.$options.methods;\n    var i = keys.length;\n    while (i--) {\n        var key = keys[i];\n        if (process.env.NODE_ENV !== 'production') {\n            if (methods && hasOwn(methods, key)) {\n                warn(\"Method \\\"\".concat(key, \"\\\" has already been defined as a data property.\"), vm);\n            }\n        }\n        if (props && hasOwn(props, key)) {\n            process.env.NODE_ENV !== 'production' &&\n                warn(\"The data property \\\"\".concat(key, \"\\\" is already declared as a prop. \") +\n                    \"Use prop default value instead.\", vm);\n        }\n        else if (!isReserved(key)) {\n            proxy(vm, \"_data\", key);\n        }\n    }\n    // observe data\n    var ob = observe(data);\n    ob && ob.vmCount++;\n}\nfunction getData(data, vm) {\n    // #7573 disable dep collection when invoking data getters\n    pushTarget();\n    try {\n        return data.call(vm, vm);\n    }\n    catch (e) {\n        handleError(e, vm, \"data()\");\n        return {};\n    }\n    finally {\n        popTarget();\n    }\n}\nvar computedWatcherOptions = { lazy: true };\nfunction initComputed$1(vm, computed) {\n    // $flow-disable-line\n    var watchers = (vm._computedWatchers = Object.create(null));\n    // computed properties are just getters during SSR\n    var isSSR = isServerRendering();\n    for (var key in computed) {\n        var userDef = computed[key];\n        var getter = isFunction(userDef) ? userDef : userDef.get;\n        if (process.env.NODE_ENV !== 'production' && getter == null) {\n            warn(\"Getter is missing for computed property \\\"\".concat(key, \"\\\".\"), vm);\n        }\n        if (!isSSR) {\n            // create internal watcher for the computed property.\n            watchers[key] = new Watcher(vm, getter || noop, noop, computedWatcherOptions);\n        }\n        // component-defined computed properties are already defined on the\n        // component prototype. We only need to define computed properties defined\n        // at instantiation here.\n        if (!(key in vm)) {\n            defineComputed(vm, key, userDef);\n        }\n        else if (process.env.NODE_ENV !== 'production') {\n            if (key in vm.$data) {\n                warn(\"The computed property \\\"\".concat(key, \"\\\" is already defined in data.\"), vm);\n            }\n            else if (vm.$options.props && key in vm.$options.props) {\n                warn(\"The computed property \\\"\".concat(key, \"\\\" is already defined as a prop.\"), vm);\n            }\n            else if (vm.$options.methods && key in vm.$options.methods) {\n                warn(\"The computed property \\\"\".concat(key, \"\\\" is already defined as a method.\"), vm);\n            }\n        }\n    }\n}\nfunction defineComputed(target, key, userDef) {\n    var shouldCache = !isServerRendering();\n    if (isFunction(userDef)) {\n        sharedPropertyDefinition.get = shouldCache\n            ? createComputedGetter(key)\n            : createGetterInvoker(userDef);\n        sharedPropertyDefinition.set = noop;\n    }\n    else {\n        sharedPropertyDefinition.get = userDef.get\n            ? shouldCache && userDef.cache !== false\n                ? createComputedGetter(key)\n                : createGetterInvoker(userDef.get)\n            : noop;\n        sharedPropertyDefinition.set = userDef.set || noop;\n    }\n    if (process.env.NODE_ENV !== 'production' && sharedPropertyDefinition.set === noop) {\n        sharedPropertyDefinition.set = function () {\n            warn(\"Computed property \\\"\".concat(key, \"\\\" was assigned to but it has no setter.\"), this);\n        };\n    }\n    Object.defineProperty(target, key, sharedPropertyDefinition);\n}\nfunction createComputedGetter(key) {\n    return function computedGetter() {\n        var watcher = this._computedWatchers && this._computedWatchers[key];\n        if (watcher) {\n            if (watcher.dirty) {\n                watcher.evaluate();\n            }\n            if (Dep.target) {\n                if (process.env.NODE_ENV !== 'production' && Dep.target.onTrack) {\n                    Dep.target.onTrack({\n                        effect: Dep.target,\n                        target: this,\n                        type: \"get\" /* TrackOpTypes.GET */,\n                        key: key\n                    });\n                }\n                watcher.depend();\n            }\n            return watcher.value;\n        }\n    };\n}\nfunction createGetterInvoker(fn) {\n    return function computedGetter() {\n        return fn.call(this, this);\n    };\n}\nfunction initMethods(vm, methods) {\n    var props = vm.$options.props;\n    for (var key in methods) {\n        if (process.env.NODE_ENV !== 'production') {\n            if (typeof methods[key] !== 'function') {\n                warn(\"Method \\\"\".concat(key, \"\\\" has type \\\"\").concat(typeof methods[key], \"\\\" in the component definition. \") +\n                    \"Did you reference the function correctly?\", vm);\n            }\n            if (props && hasOwn(props, key)) {\n                warn(\"Method \\\"\".concat(key, \"\\\" has already been defined as a prop.\"), vm);\n            }\n            if (key in vm && isReserved(key)) {\n                warn(\"Method \\\"\".concat(key, \"\\\" conflicts with an existing Vue instance method. \") +\n                    \"Avoid defining component methods that start with _ or $.\");\n            }\n        }\n        vm[key] = typeof methods[key] !== 'function' ? noop : bind(methods[key], vm);\n    }\n}\nfunction initWatch(vm, watch) {\n    for (var key in watch) {\n        var handler = watch[key];\n        if (isArray(handler)) {\n            for (var i = 0; i < handler.length; i++) {\n                createWatcher(vm, key, handler[i]);\n            }\n        }\n        else {\n            createWatcher(vm, key, handler);\n        }\n    }\n}\nfunction createWatcher(vm, expOrFn, handler, options) {\n    if (isPlainObject(handler)) {\n        options = handler;\n        handler = handler.handler;\n    }\n    if (typeof handler === 'string') {\n        handler = vm[handler];\n    }\n    return vm.$watch(expOrFn, handler, options);\n}\nfunction stateMixin(Vue) {\n    // flow somehow has problems with directly declared definition object\n    // when using Object.defineProperty, so we have to procedurally build up\n    // the object here.\n    var dataDef = {};\n    dataDef.get = function () {\n        return this._data;\n    };\n    var propsDef = {};\n    propsDef.get = function () {\n        return this._props;\n    };\n    if (process.env.NODE_ENV !== 'production') {\n        dataDef.set = function () {\n            warn('Avoid replacing instance root $data. ' +\n                'Use nested data properties instead.', this);\n        };\n        propsDef.set = function () {\n            warn(\"$props is readonly.\", this);\n        };\n    }\n    Object.defineProperty(Vue.prototype, '$data', dataDef);\n    Object.defineProperty(Vue.prototype, '$props', propsDef);\n    Vue.prototype.$set = set;\n    Vue.prototype.$delete = del;\n    Vue.prototype.$watch = function (expOrFn, cb, options) {\n        var vm = this;\n        if (isPlainObject(cb)) {\n            return createWatcher(vm, expOrFn, cb, options);\n        }\n        options = options || {};\n        options.user = true;\n        var watcher = new Watcher(vm, expOrFn, cb, options);\n        if (options.immediate) {\n            var info = \"callback for immediate watcher \\\"\".concat(watcher.expression, \"\\\"\");\n            pushTarget();\n            invokeWithErrorHandling(cb, vm, [watcher.value], vm, info);\n            popTarget();\n        }\n        return function unwatchFn() {\n            watcher.teardown();\n        };\n    };\n}\n\nvar uid = 0;\nfunction initMixin$1(Vue) {\n    Vue.prototype._init = function (options) {\n        var vm = this;\n        // a uid\n        vm._uid = uid++;\n        var startTag, endTag;\n        /* istanbul ignore if */\n        if (process.env.NODE_ENV !== 'production' && config.performance && mark) {\n            startTag = \"vue-perf-start:\".concat(vm._uid);\n            endTag = \"vue-perf-end:\".concat(vm._uid);\n            mark(startTag);\n        }\n        // a flag to mark this as a Vue instance without having to do instanceof\n        // check\n        vm._isVue = true;\n        // avoid instances from being observed\n        vm.__v_skip = true;\n        // effect scope\n        vm._scope = new EffectScope(true /* detached */);\n        // #13134 edge case where a child component is manually created during the\n        // render of a parent component\n        vm._scope.parent = undefined;\n        vm._scope._vm = true;\n        // merge options\n        if (options && options._isComponent) {\n            // optimize internal component instantiation\n            // since dynamic options merging is pretty slow, and none of the\n            // internal component options needs special treatment.\n            initInternalComponent(vm, options);\n        }\n        else {\n            vm.$options = mergeOptions(resolveConstructorOptions(vm.constructor), options || {}, vm);\n        }\n        /* istanbul ignore else */\n        if (process.env.NODE_ENV !== 'production') {\n            initProxy(vm);\n        }\n        else {\n            vm._renderProxy = vm;\n        }\n        // expose real self\n        vm._self = vm;\n        initLifecycle(vm);\n        initEvents(vm);\n        initRender(vm);\n        callHook$1(vm, 'beforeCreate', undefined, false /* setContext */);\n        initInjections(vm); // resolve injections before data/props\n        initState(vm);\n        initProvide(vm); // resolve provide after data/props\n        callHook$1(vm, 'created');\n        /* istanbul ignore if */\n        if (process.env.NODE_ENV !== 'production' && config.performance && mark) {\n            vm._name = formatComponentName(vm, false);\n            mark(endTag);\n            measure(\"vue \".concat(vm._name, \" init\"), startTag, endTag);\n        }\n        if (vm.$options.el) {\n            vm.$mount(vm.$options.el);\n        }\n    };\n}\nfunction initInternalComponent(vm, options) {\n    var opts = (vm.$options = Object.create(vm.constructor.options));\n    // doing this because it's faster than dynamic enumeration.\n    var parentVnode = options._parentVnode;\n    opts.parent = options.parent;\n    opts._parentVnode = parentVnode;\n    var vnodeComponentOptions = parentVnode.componentOptions;\n    opts.propsData = vnodeComponentOptions.propsData;\n    opts._parentListeners = vnodeComponentOptions.listeners;\n    opts._renderChildren = vnodeComponentOptions.children;\n    opts._componentTag = vnodeComponentOptions.tag;\n    if (options.render) {\n        opts.render = options.render;\n        opts.staticRenderFns = options.staticRenderFns;\n    }\n}\nfunction resolveConstructorOptions(Ctor) {\n    var options = Ctor.options;\n    if (Ctor.super) {\n        var superOptions = resolveConstructorOptions(Ctor.super);\n        var cachedSuperOptions = Ctor.superOptions;\n        if (superOptions !== cachedSuperOptions) {\n            // super option changed,\n            // need to resolve new options.\n            Ctor.superOptions = superOptions;\n            // check if there are any late-modified/attached options (#4976)\n            var modifiedOptions = resolveModifiedOptions(Ctor);\n            // update base extend options\n            if (modifiedOptions) {\n                extend(Ctor.extendOptions, modifiedOptions);\n            }\n            options = Ctor.options = mergeOptions(superOptions, Ctor.extendOptions);\n            if (options.name) {\n                options.components[options.name] = Ctor;\n            }\n        }\n    }\n    return options;\n}\nfunction resolveModifiedOptions(Ctor) {\n    var modified;\n    var latest = Ctor.options;\n    var sealed = Ctor.sealedOptions;\n    for (var key in latest) {\n        if (latest[key] !== sealed[key]) {\n            if (!modified)\n                modified = {};\n            modified[key] = latest[key];\n        }\n    }\n    return modified;\n}\n\nfunction Vue(options) {\n    if (process.env.NODE_ENV !== 'production' && !(this instanceof Vue)) {\n        warn('Vue is a constructor and should be called with the `new` keyword');\n    }\n    this._init(options);\n}\n//@ts-expect-error Vue has function type\ninitMixin$1(Vue);\n//@ts-expect-error Vue has function type\nstateMixin(Vue);\n//@ts-expect-error Vue has function type\neventsMixin(Vue);\n//@ts-expect-error Vue has function type\nlifecycleMixin(Vue);\n//@ts-expect-error Vue has function type\nrenderMixin(Vue);\n\nfunction initUse(Vue) {\n    Vue.use = function (plugin) {\n        var installedPlugins = this._installedPlugins || (this._installedPlugins = []);\n        if (installedPlugins.indexOf(plugin) > -1) {\n            return this;\n        }\n        // additional parameters\n        var args = toArray(arguments, 1);\n        args.unshift(this);\n        if (isFunction(plugin.install)) {\n            plugin.install.apply(plugin, args);\n        }\n        else if (isFunction(plugin)) {\n            plugin.apply(null, args);\n        }\n        installedPlugins.push(plugin);\n        return this;\n    };\n}\n\nfunction initMixin(Vue) {\n    Vue.mixin = function (mixin) {\n        this.options = mergeOptions(this.options, mixin);\n        return this;\n    };\n}\n\nfunction initExtend(Vue) {\n    /**\n     * Each instance constructor, including Vue, has a unique\n     * cid. This enables us to create wrapped \"child\n     * constructors\" for prototypal inheritance and cache them.\n     */\n    Vue.cid = 0;\n    var cid = 1;\n    /**\n     * Class inheritance\n     */\n    Vue.extend = function (extendOptions) {\n        extendOptions = extendOptions || {};\n        var Super = this;\n        var SuperId = Super.cid;\n        var cachedCtors = extendOptions._Ctor || (extendOptions._Ctor = {});\n        if (cachedCtors[SuperId]) {\n            return cachedCtors[SuperId];\n        }\n        var name = getComponentName(extendOptions) || getComponentName(Super.options);\n        if (process.env.NODE_ENV !== 'production' && name) {\n            validateComponentName(name);\n        }\n        var Sub = function VueComponent(options) {\n            this._init(options);\n        };\n        Sub.prototype = Object.create(Super.prototype);\n        Sub.prototype.constructor = Sub;\n        Sub.cid = cid++;\n        Sub.options = mergeOptions(Super.options, extendOptions);\n        Sub['super'] = Super;\n        // For props and computed properties, we define the proxy getters on\n        // the Vue instances at extension time, on the extended prototype. This\n        // avoids Object.defineProperty calls for each instance created.\n        if (Sub.options.props) {\n            initProps(Sub);\n        }\n        if (Sub.options.computed) {\n            initComputed(Sub);\n        }\n        // allow further extension/mixin/plugin usage\n        Sub.extend = Super.extend;\n        Sub.mixin = Super.mixin;\n        Sub.use = Super.use;\n        // create asset registers, so extended classes\n        // can have their private assets too.\n        ASSET_TYPES.forEach(function (type) {\n            Sub[type] = Super[type];\n        });\n        // enable recursive self-lookup\n        if (name) {\n            Sub.options.components[name] = Sub;\n        }\n        // keep a reference to the super options at extension time.\n        // later at instantiation we can check if Super's options have\n        // been updated.\n        Sub.superOptions = Super.options;\n        Sub.extendOptions = extendOptions;\n        Sub.sealedOptions = extend({}, Sub.options);\n        // cache constructor\n        cachedCtors[SuperId] = Sub;\n        return Sub;\n    };\n}\nfunction initProps(Comp) {\n    var props = Comp.options.props;\n    for (var key in props) {\n        proxy(Comp.prototype, \"_props\", key);\n    }\n}\nfunction initComputed(Comp) {\n    var computed = Comp.options.computed;\n    for (var key in computed) {\n        defineComputed(Comp.prototype, key, computed[key]);\n    }\n}\n\nfunction initAssetRegisters(Vue) {\n    /**\n     * Create asset registration methods.\n     */\n    ASSET_TYPES.forEach(function (type) {\n        // @ts-expect-error function is not exact same type\n        Vue[type] = function (id, definition) {\n            if (!definition) {\n                return this.options[type + 's'][id];\n            }\n            else {\n                /* istanbul ignore if */\n                if (process.env.NODE_ENV !== 'production' && type === 'component') {\n                    validateComponentName(id);\n                }\n                if (type === 'component' && isPlainObject(definition)) {\n                    // @ts-expect-error\n                    definition.name = definition.name || id;\n                    definition = this.options._base.extend(definition);\n                }\n                if (type === 'directive' && isFunction(definition)) {\n                    definition = { bind: definition, update: definition };\n                }\n                this.options[type + 's'][id] = definition;\n                return definition;\n            }\n        };\n    });\n}\n\nfunction _getComponentName(opts) {\n    return opts && (getComponentName(opts.Ctor.options) || opts.tag);\n}\nfunction matches(pattern, name) {\n    if (isArray(pattern)) {\n        return pattern.indexOf(name) > -1;\n    }\n    else if (typeof pattern === 'string') {\n        return pattern.split(',').indexOf(name) > -1;\n    }\n    else if (isRegExp(pattern)) {\n        return pattern.test(name);\n    }\n    /* istanbul ignore next */\n    return false;\n}\nfunction pruneCache(keepAliveInstance, filter) {\n    var cache = keepAliveInstance.cache, keys = keepAliveInstance.keys, _vnode = keepAliveInstance._vnode, $vnode = keepAliveInstance.$vnode;\n    for (var key in cache) {\n        var entry = cache[key];\n        if (entry) {\n            var name_1 = entry.name;\n            if (name_1 && !filter(name_1)) {\n                pruneCacheEntry(cache, key, keys, _vnode);\n            }\n        }\n    }\n    $vnode.componentOptions.children = undefined;\n}\nfunction pruneCacheEntry(cache, key, keys, current) {\n    var entry = cache[key];\n    if (entry && (!current || entry.tag !== current.tag)) {\n        // @ts-expect-error can be undefined\n        entry.componentInstance.$destroy();\n    }\n    cache[key] = null;\n    remove$2(keys, key);\n}\nvar patternTypes = [String, RegExp, Array];\n// TODO defineComponent\nvar KeepAlive = {\n    name: 'keep-alive',\n    abstract: true,\n    props: {\n        include: patternTypes,\n        exclude: patternTypes,\n        max: [String, Number]\n    },\n    methods: {\n        cacheVNode: function () {\n            var _a = this, cache = _a.cache, keys = _a.keys, vnodeToCache = _a.vnodeToCache, keyToCache = _a.keyToCache;\n            if (vnodeToCache) {\n                var tag = vnodeToCache.tag, componentInstance = vnodeToCache.componentInstance, componentOptions = vnodeToCache.componentOptions;\n                cache[keyToCache] = {\n                    name: _getComponentName(componentOptions),\n                    tag: tag,\n                    componentInstance: componentInstance\n                };\n                keys.push(keyToCache);\n                // prune oldest entry\n                if (this.max && keys.length > parseInt(this.max)) {\n                    pruneCacheEntry(cache, keys[0], keys, this._vnode);\n                }\n                this.vnodeToCache = null;\n            }\n        }\n    },\n    created: function () {\n        this.cache = Object.create(null);\n        this.keys = [];\n    },\n    destroyed: function () {\n        for (var key in this.cache) {\n            pruneCacheEntry(this.cache, key, this.keys);\n        }\n    },\n    mounted: function () {\n        var _this = this;\n        this.cacheVNode();\n        this.$watch('include', function (val) {\n            pruneCache(_this, function (name) { return matches(val, name); });\n        });\n        this.$watch('exclude', function (val) {\n            pruneCache(_this, function (name) { return !matches(val, name); });\n        });\n    },\n    updated: function () {\n        this.cacheVNode();\n    },\n    render: function () {\n        var slot = this.$slots.default;\n        var vnode = getFirstComponentChild(slot);\n        var componentOptions = vnode && vnode.componentOptions;\n        if (componentOptions) {\n            // check pattern\n            var name_2 = _getComponentName(componentOptions);\n            var _a = this, include = _a.include, exclude = _a.exclude;\n            if (\n            // not included\n            (include && (!name_2 || !matches(include, name_2))) ||\n                // excluded\n                (exclude && name_2 && matches(exclude, name_2))) {\n                return vnode;\n            }\n            var _b = this, cache = _b.cache, keys = _b.keys;\n            var key = vnode.key == null\n                ? // same constructor may get registered as different local components\n                    // so cid alone is not enough (#3269)\n                    componentOptions.Ctor.cid +\n                        (componentOptions.tag ? \"::\".concat(componentOptions.tag) : '')\n                : vnode.key;\n            if (cache[key]) {\n                vnode.componentInstance = cache[key].componentInstance;\n                // make current key freshest\n                remove$2(keys, key);\n                keys.push(key);\n            }\n            else {\n                // delay setting the cache until update\n                this.vnodeToCache = vnode;\n                this.keyToCache = key;\n            }\n            // @ts-expect-error can vnode.data can be undefined\n            vnode.data.keepAlive = true;\n        }\n        return vnode || (slot && slot[0]);\n    }\n};\n\nvar builtInComponents = {\n    KeepAlive: KeepAlive\n};\n\nfunction initGlobalAPI(Vue) {\n    // config\n    var configDef = {};\n    configDef.get = function () { return config; };\n    if (process.env.NODE_ENV !== 'production') {\n        configDef.set = function () {\n            warn('Do not replace the Vue.config object, set individual fields instead.');\n        };\n    }\n    Object.defineProperty(Vue, 'config', configDef);\n    // exposed util methods.\n    // NOTE: these are not considered part of the public API - avoid relying on\n    // them unless you are aware of the risk.\n    Vue.util = {\n        warn: warn,\n        extend: extend,\n        mergeOptions: mergeOptions,\n        defineReactive: defineReactive\n    };\n    Vue.set = set;\n    Vue.delete = del;\n    Vue.nextTick = nextTick;\n    // 2.6 explicit observable API\n    Vue.observable = function (obj) {\n        observe(obj);\n        return obj;\n    };\n    Vue.options = Object.create(null);\n    ASSET_TYPES.forEach(function (type) {\n        Vue.options[type + 's'] = Object.create(null);\n    });\n    // this is used to identify the \"base\" constructor to extend all plain-object\n    // components with in Weex's multi-instance scenarios.\n    Vue.options._base = Vue;\n    extend(Vue.options.components, builtInComponents);\n    initUse(Vue);\n    initMixin(Vue);\n    initExtend(Vue);\n    initAssetRegisters(Vue);\n}\n\ninitGlobalAPI(Vue);\nObject.defineProperty(Vue.prototype, '$isServer', {\n    get: isServerRendering\n});\nObject.defineProperty(Vue.prototype, '$ssrContext', {\n    get: function () {\n        /* istanbul ignore next */\n        return this.$vnode && this.$vnode.ssrContext;\n    }\n});\n// expose FunctionalRenderContext for ssr runtime helper installation\nObject.defineProperty(Vue, 'FunctionalRenderContext', {\n    value: FunctionalRenderContext\n});\nVue.version = version;\n\n// these are reserved for web because they are directly compiled away\n// during template compilation\nvar isReservedAttr = makeMap('style,class');\n// attributes that should be using props for binding\nvar acceptValue = makeMap('input,textarea,option,select,progress');\nvar mustUseProp = function (tag, type, attr) {\n    return ((attr === 'value' && acceptValue(tag) && type !== 'button') ||\n        (attr === 'selected' && tag === 'option') ||\n        (attr === 'checked' && tag === 'input') ||\n        (attr === 'muted' && tag === 'video'));\n};\nvar isEnumeratedAttr = makeMap('contenteditable,draggable,spellcheck');\nvar isValidContentEditableValue = makeMap('events,caret,typing,plaintext-only');\nvar convertEnumeratedValue = function (key, value) {\n    return isFalsyAttrValue(value) || value === 'false'\n        ? 'false'\n        : // allow arbitrary string value for contenteditable\n            key === 'contenteditable' && isValidContentEditableValue(value)\n                ? value\n                : 'true';\n};\nvar isBooleanAttr = makeMap('allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,' +\n    'default,defaultchecked,defaultmuted,defaultselected,defer,disabled,' +\n    'enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,' +\n    'muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,' +\n    'required,reversed,scoped,seamless,selected,sortable,' +\n    'truespeed,typemustmatch,visible');\nvar xlinkNS = 'http://www.w3.org/1999/xlink';\nvar isXlink = function (name) {\n    return name.charAt(5) === ':' && name.slice(0, 5) === 'xlink';\n};\nvar getXlinkProp = function (name) {\n    return isXlink(name) ? name.slice(6, name.length) : '';\n};\nvar isFalsyAttrValue = function (val) {\n    return val == null || val === false;\n};\n\nfunction genClassForVnode(vnode) {\n    var data = vnode.data;\n    var parentNode = vnode;\n    var childNode = vnode;\n    while (isDef(childNode.componentInstance)) {\n        childNode = childNode.componentInstance._vnode;\n        if (childNode && childNode.data) {\n            data = mergeClassData(childNode.data, data);\n        }\n    }\n    // @ts-expect-error parentNode.parent not VNodeWithData\n    while (isDef((parentNode = parentNode.parent))) {\n        if (parentNode && parentNode.data) {\n            data = mergeClassData(data, parentNode.data);\n        }\n    }\n    return renderClass(data.staticClass, data.class);\n}\nfunction mergeClassData(child, parent) {\n    return {\n        staticClass: concat(child.staticClass, parent.staticClass),\n        class: isDef(child.class) ? [child.class, parent.class] : parent.class\n    };\n}\nfunction renderClass(staticClass, dynamicClass) {\n    if (isDef(staticClass) || isDef(dynamicClass)) {\n        return concat(staticClass, stringifyClass(dynamicClass));\n    }\n    /* istanbul ignore next */\n    return '';\n}\nfunction concat(a, b) {\n    return a ? (b ? a + ' ' + b : a) : b || '';\n}\nfunction stringifyClass(value) {\n    if (Array.isArray(value)) {\n        return stringifyArray(value);\n    }\n    if (isObject(value)) {\n        return stringifyObject(value);\n    }\n    if (typeof value === 'string') {\n        return value;\n    }\n    /* istanbul ignore next */\n    return '';\n}\nfunction stringifyArray(value) {\n    var res = '';\n    var stringified;\n    for (var i = 0, l = value.length; i < l; i++) {\n        if (isDef((stringified = stringifyClass(value[i]))) && stringified !== '') {\n            if (res)\n                res += ' ';\n            res += stringified;\n        }\n    }\n    return res;\n}\nfunction stringifyObject(value) {\n    var res = '';\n    for (var key in value) {\n        if (value[key]) {\n            if (res)\n                res += ' ';\n            res += key;\n        }\n    }\n    return res;\n}\n\nvar namespaceMap = {\n    svg: 'http://www.w3.org/2000/svg',\n    math: 'http://www.w3.org/1998/Math/MathML'\n};\nvar isHTMLTag = makeMap('html,body,base,head,link,meta,style,title,' +\n    'address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,' +\n    'div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,' +\n    'a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,' +\n    's,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,' +\n    'embed,object,param,source,canvas,script,noscript,del,ins,' +\n    'caption,col,colgroup,table,thead,tbody,td,th,tr,' +\n    'button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,' +\n    'output,progress,select,textarea,' +\n    'details,dialog,menu,menuitem,summary,' +\n    'content,element,shadow,template,blockquote,iframe,tfoot');\n// this map is intentionally selective, only covering SVG elements that may\n// contain child elements.\nvar isSVG = makeMap('svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,' +\n    'foreignobject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,' +\n    'polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view', true);\nvar isReservedTag = function (tag) {\n    return isHTMLTag(tag) || isSVG(tag);\n};\nfunction getTagNamespace(tag) {\n    if (isSVG(tag)) {\n        return 'svg';\n    }\n    // basic support for MathML\n    // note it doesn't support other MathML elements being component roots\n    if (tag === 'math') {\n        return 'math';\n    }\n}\nvar unknownElementCache = Object.create(null);\nfunction isUnknownElement(tag) {\n    /* istanbul ignore if */\n    if (!inBrowser) {\n        return true;\n    }\n    if (isReservedTag(tag)) {\n        return false;\n    }\n    tag = tag.toLowerCase();\n    /* istanbul ignore if */\n    if (unknownElementCache[tag] != null) {\n        return unknownElementCache[tag];\n    }\n    var el = document.createElement(tag);\n    if (tag.indexOf('-') > -1) {\n        // https://stackoverflow.com/a/28210364/1070244\n        return (unknownElementCache[tag] =\n            el.constructor === window.HTMLUnknownElement ||\n                el.constructor === window.HTMLElement);\n    }\n    else {\n        return (unknownElementCache[tag] = /HTMLUnknownElement/.test(el.toString()));\n    }\n}\nvar isTextInputType = makeMap('text,number,password,search,email,tel,url');\n\n/**\n * Query an element selector if it's not an element already.\n */\nfunction query(el) {\n    if (typeof el === 'string') {\n        var selected = document.querySelector(el);\n        if (!selected) {\n            process.env.NODE_ENV !== 'production' && warn('Cannot find element: ' + el);\n            return document.createElement('div');\n        }\n        return selected;\n    }\n    else {\n        return el;\n    }\n}\n\nfunction createElement(tagName, vnode) {\n    var elm = document.createElement(tagName);\n    if (tagName !== 'select') {\n        return elm;\n    }\n    // false or null will remove the attribute but undefined will not\n    if (vnode.data &&\n        vnode.data.attrs &&\n        vnode.data.attrs.multiple !== undefined) {\n        elm.setAttribute('multiple', 'multiple');\n    }\n    return elm;\n}\nfunction createElementNS(namespace, tagName) {\n    return document.createElementNS(namespaceMap[namespace], tagName);\n}\nfunction createTextNode(text) {\n    return document.createTextNode(text);\n}\nfunction createComment(text) {\n    return document.createComment(text);\n}\nfunction insertBefore(parentNode, newNode, referenceNode) {\n    parentNode.insertBefore(newNode, referenceNode);\n}\nfunction removeChild(node, child) {\n    node.removeChild(child);\n}\nfunction appendChild(node, child) {\n    node.appendChild(child);\n}\nfunction parentNode(node) {\n    return node.parentNode;\n}\nfunction nextSibling(node) {\n    return node.nextSibling;\n}\nfunction tagName(node) {\n    return node.tagName;\n}\nfunction setTextContent(node, text) {\n    node.textContent = text;\n}\nfunction setStyleScope(node, scopeId) {\n    node.setAttribute(scopeId, '');\n}\n\nvar nodeOps = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  createElement: createElement,\n  createElementNS: createElementNS,\n  createTextNode: createTextNode,\n  createComment: createComment,\n  insertBefore: insertBefore,\n  removeChild: removeChild,\n  appendChild: appendChild,\n  parentNode: parentNode,\n  nextSibling: nextSibling,\n  tagName: tagName,\n  setTextContent: setTextContent,\n  setStyleScope: setStyleScope\n});\n\nvar ref = {\n    create: function (_, vnode) {\n        registerRef(vnode);\n    },\n    update: function (oldVnode, vnode) {\n        if (oldVnode.data.ref !== vnode.data.ref) {\n            registerRef(oldVnode, true);\n            registerRef(vnode);\n        }\n    },\n    destroy: function (vnode) {\n        registerRef(vnode, true);\n    }\n};\nfunction registerRef(vnode, isRemoval) {\n    var ref = vnode.data.ref;\n    if (!isDef(ref))\n        return;\n    var vm = vnode.context;\n    var refValue = vnode.componentInstance || vnode.elm;\n    var value = isRemoval ? null : refValue;\n    var $refsValue = isRemoval ? undefined : refValue;\n    if (isFunction(ref)) {\n        invokeWithErrorHandling(ref, vm, [value], vm, \"template ref function\");\n        return;\n    }\n    var isFor = vnode.data.refInFor;\n    var _isString = typeof ref === 'string' || typeof ref === 'number';\n    var _isRef = isRef(ref);\n    var refs = vm.$refs;\n    if (_isString || _isRef) {\n        if (isFor) {\n            var existing = _isString ? refs[ref] : ref.value;\n            if (isRemoval) {\n                isArray(existing) && remove$2(existing, refValue);\n            }\n            else {\n                if (!isArray(existing)) {\n                    if (_isString) {\n                        refs[ref] = [refValue];\n                        setSetupRef(vm, ref, refs[ref]);\n                    }\n                    else {\n                        ref.value = [refValue];\n                    }\n                }\n                else if (!existing.includes(refValue)) {\n                    existing.push(refValue);\n                }\n            }\n        }\n        else if (_isString) {\n            if (isRemoval && refs[ref] !== refValue) {\n                return;\n            }\n            refs[ref] = $refsValue;\n            setSetupRef(vm, ref, value);\n        }\n        else if (_isRef) {\n            if (isRemoval && ref.value !== refValue) {\n                return;\n            }\n            ref.value = value;\n        }\n        else if (process.env.NODE_ENV !== 'production') {\n            warn(\"Invalid template ref type: \".concat(typeof ref));\n        }\n    }\n}\nfunction setSetupRef(_a, key, val) {\n    var _setupState = _a._setupState;\n    if (_setupState && hasOwn(_setupState, key)) {\n        if (isRef(_setupState[key])) {\n            _setupState[key].value = val;\n        }\n        else {\n            _setupState[key] = val;\n        }\n    }\n}\n\n/**\n * Virtual DOM patching algorithm based on Snabbdom by\n * Simon Friis Vindum (@paldepind)\n * Licensed under the MIT License\n * https://github.com/paldepind/snabbdom/blob/master/LICENSE\n *\n * modified by Evan You (@yyx990803)\n *\n * Not type-checking this because this file is perf-critical and the cost\n * of making flow understand it is not worth it.\n */\nvar emptyNode = new VNode('', {}, []);\nvar hooks = ['create', 'activate', 'update', 'remove', 'destroy'];\nfunction sameVnode(a, b) {\n    return (a.key === b.key &&\n        a.asyncFactory === b.asyncFactory &&\n        ((a.tag === b.tag &&\n            a.isComment === b.isComment &&\n            isDef(a.data) === isDef(b.data) &&\n            sameInputType(a, b)) ||\n            (isTrue(a.isAsyncPlaceholder) && isUndef(b.asyncFactory.error))));\n}\nfunction sameInputType(a, b) {\n    if (a.tag !== 'input')\n        return true;\n    var i;\n    var typeA = isDef((i = a.data)) && isDef((i = i.attrs)) && i.type;\n    var typeB = isDef((i = b.data)) && isDef((i = i.attrs)) && i.type;\n    return typeA === typeB || (isTextInputType(typeA) && isTextInputType(typeB));\n}\nfunction createKeyToOldIdx(children, beginIdx, endIdx) {\n    var i, key;\n    var map = {};\n    for (i = beginIdx; i <= endIdx; ++i) {\n        key = children[i].key;\n        if (isDef(key))\n            map[key] = i;\n    }\n    return map;\n}\nfunction createPatchFunction(backend) {\n    var i, j;\n    var cbs = {};\n    var modules = backend.modules, nodeOps = backend.nodeOps;\n    for (i = 0; i < hooks.length; ++i) {\n        cbs[hooks[i]] = [];\n        for (j = 0; j < modules.length; ++j) {\n            if (isDef(modules[j][hooks[i]])) {\n                cbs[hooks[i]].push(modules[j][hooks[i]]);\n            }\n        }\n    }\n    function emptyNodeAt(elm) {\n        return new VNode(nodeOps.tagName(elm).toLowerCase(), {}, [], undefined, elm);\n    }\n    function createRmCb(childElm, listeners) {\n        function remove() {\n            if (--remove.listeners === 0) {\n                removeNode(childElm);\n            }\n        }\n        remove.listeners = listeners;\n        return remove;\n    }\n    function removeNode(el) {\n        var parent = nodeOps.parentNode(el);\n        // element may have already been removed due to v-html / v-text\n        if (isDef(parent)) {\n            nodeOps.removeChild(parent, el);\n        }\n    }\n    function isUnknownElement(vnode, inVPre) {\n        return (!inVPre &&\n            !vnode.ns &&\n            !(config.ignoredElements.length &&\n                config.ignoredElements.some(function (ignore) {\n                    return isRegExp(ignore)\n                        ? ignore.test(vnode.tag)\n                        : ignore === vnode.tag;\n                })) &&\n            config.isUnknownElement(vnode.tag));\n    }\n    var creatingElmInVPre = 0;\n    function createElm(vnode, insertedVnodeQueue, parentElm, refElm, nested, ownerArray, index) {\n        if (isDef(vnode.elm) && isDef(ownerArray)) {\n            // This vnode was used in a previous render!\n            // now it's used as a new node, overwriting its elm would cause\n            // potential patch errors down the road when it's used as an insertion\n            // reference node. Instead, we clone the node on-demand before creating\n            // associated DOM element for it.\n            vnode = ownerArray[index] = cloneVNode(vnode);\n        }\n        vnode.isRootInsert = !nested; // for transition enter check\n        if (createComponent(vnode, insertedVnodeQueue, parentElm, refElm)) {\n            return;\n        }\n        var data = vnode.data;\n        var children = vnode.children;\n        var tag = vnode.tag;\n        if (isDef(tag)) {\n            if (process.env.NODE_ENV !== 'production') {\n                if (data && data.pre) {\n                    creatingElmInVPre++;\n                }\n                if (isUnknownElement(vnode, creatingElmInVPre)) {\n                    warn('Unknown custom element: <' +\n                        tag +\n                        '> - did you ' +\n                        'register the component correctly? For recursive components, ' +\n                        'make sure to provide the \"name\" option.', vnode.context);\n                }\n            }\n            vnode.elm = vnode.ns\n                ? nodeOps.createElementNS(vnode.ns, tag)\n                : nodeOps.createElement(tag, vnode);\n            setScope(vnode);\n            createChildren(vnode, children, insertedVnodeQueue);\n            if (isDef(data)) {\n                invokeCreateHooks(vnode, insertedVnodeQueue);\n            }\n            insert(parentElm, vnode.elm, refElm);\n            if (process.env.NODE_ENV !== 'production' && data && data.pre) {\n                creatingElmInVPre--;\n            }\n        }\n        else if (isTrue(vnode.isComment)) {\n            vnode.elm = nodeOps.createComment(vnode.text);\n            insert(parentElm, vnode.elm, refElm);\n        }\n        else {\n            vnode.elm = nodeOps.createTextNode(vnode.text);\n            insert(parentElm, vnode.elm, refElm);\n        }\n    }\n    function createComponent(vnode, insertedVnodeQueue, parentElm, refElm) {\n        var i = vnode.data;\n        if (isDef(i)) {\n            var isReactivated = isDef(vnode.componentInstance) && i.keepAlive;\n            if (isDef((i = i.hook)) && isDef((i = i.init))) {\n                i(vnode, false /* hydrating */);\n            }\n            // after calling the init hook, if the vnode is a child component\n            // it should've created a child instance and mounted it. the child\n            // component also has set the placeholder vnode's elm.\n            // in that case we can just return the element and be done.\n            if (isDef(vnode.componentInstance)) {\n                initComponent(vnode, insertedVnodeQueue);\n                insert(parentElm, vnode.elm, refElm);\n                if (isTrue(isReactivated)) {\n                    reactivateComponent(vnode, insertedVnodeQueue, parentElm, refElm);\n                }\n                return true;\n            }\n        }\n    }\n    function initComponent(vnode, insertedVnodeQueue) {\n        if (isDef(vnode.data.pendingInsert)) {\n            insertedVnodeQueue.push.apply(insertedVnodeQueue, vnode.data.pendingInsert);\n            vnode.data.pendingInsert = null;\n        }\n        vnode.elm = vnode.componentInstance.$el;\n        if (isPatchable(vnode)) {\n            invokeCreateHooks(vnode, insertedVnodeQueue);\n            setScope(vnode);\n        }\n        else {\n            // empty component root.\n            // skip all element-related modules except for ref (#3455)\n            registerRef(vnode);\n            // make sure to invoke the insert hook\n            insertedVnodeQueue.push(vnode);\n        }\n    }\n    function reactivateComponent(vnode, insertedVnodeQueue, parentElm, refElm) {\n        var i;\n        // hack for #4339: a reactivated component with inner transition\n        // does not trigger because the inner node's created hooks are not called\n        // again. It's not ideal to involve module-specific logic in here but\n        // there doesn't seem to be a better way to do it.\n        var innerNode = vnode;\n        while (innerNode.componentInstance) {\n            innerNode = innerNode.componentInstance._vnode;\n            if (isDef((i = innerNode.data)) && isDef((i = i.transition))) {\n                for (i = 0; i < cbs.activate.length; ++i) {\n                    cbs.activate[i](emptyNode, innerNode);\n                }\n                insertedVnodeQueue.push(innerNode);\n                break;\n            }\n        }\n        // unlike a newly created component,\n        // a reactivated keep-alive component doesn't insert itself\n        insert(parentElm, vnode.elm, refElm);\n    }\n    function insert(parent, elm, ref) {\n        if (isDef(parent)) {\n            if (isDef(ref)) {\n                if (nodeOps.parentNode(ref) === parent) {\n                    nodeOps.insertBefore(parent, elm, ref);\n                }\n            }\n            else {\n                nodeOps.appendChild(parent, elm);\n            }\n        }\n    }\n    function createChildren(vnode, children, insertedVnodeQueue) {\n        if (isArray(children)) {\n            if (process.env.NODE_ENV !== 'production') {\n                checkDuplicateKeys(children);\n            }\n            for (var i_1 = 0; i_1 < children.length; ++i_1) {\n                createElm(children[i_1], insertedVnodeQueue, vnode.elm, null, true, children, i_1);\n            }\n        }\n        else if (isPrimitive(vnode.text)) {\n            nodeOps.appendChild(vnode.elm, nodeOps.createTextNode(String(vnode.text)));\n        }\n    }\n    function isPatchable(vnode) {\n        while (vnode.componentInstance) {\n            vnode = vnode.componentInstance._vnode;\n        }\n        return isDef(vnode.tag);\n    }\n    function invokeCreateHooks(vnode, insertedVnodeQueue) {\n        for (var i_2 = 0; i_2 < cbs.create.length; ++i_2) {\n            cbs.create[i_2](emptyNode, vnode);\n        }\n        i = vnode.data.hook; // Reuse variable\n        if (isDef(i)) {\n            if (isDef(i.create))\n                i.create(emptyNode, vnode);\n            if (isDef(i.insert))\n                insertedVnodeQueue.push(vnode);\n        }\n    }\n    // set scope id attribute for scoped CSS.\n    // this is implemented as a special case to avoid the overhead\n    // of going through the normal attribute patching process.\n    function setScope(vnode) {\n        var i;\n        if (isDef((i = vnode.fnScopeId))) {\n            nodeOps.setStyleScope(vnode.elm, i);\n        }\n        else {\n            var ancestor = vnode;\n            while (ancestor) {\n                if (isDef((i = ancestor.context)) && isDef((i = i.$options._scopeId))) {\n                    nodeOps.setStyleScope(vnode.elm, i);\n                }\n                ancestor = ancestor.parent;\n            }\n        }\n        // for slot content they should also get the scopeId from the host instance.\n        if (isDef((i = activeInstance)) &&\n            i !== vnode.context &&\n            i !== vnode.fnContext &&\n            isDef((i = i.$options._scopeId))) {\n            nodeOps.setStyleScope(vnode.elm, i);\n        }\n    }\n    function addVnodes(parentElm, refElm, vnodes, startIdx, endIdx, insertedVnodeQueue) {\n        for (; startIdx <= endIdx; ++startIdx) {\n            createElm(vnodes[startIdx], insertedVnodeQueue, parentElm, refElm, false, vnodes, startIdx);\n        }\n    }\n    function invokeDestroyHook(vnode) {\n        var i, j;\n        var data = vnode.data;\n        if (isDef(data)) {\n            if (isDef((i = data.hook)) && isDef((i = i.destroy)))\n                i(vnode);\n            for (i = 0; i < cbs.destroy.length; ++i)\n                cbs.destroy[i](vnode);\n        }\n        if (isDef((i = vnode.children))) {\n            for (j = 0; j < vnode.children.length; ++j) {\n                invokeDestroyHook(vnode.children[j]);\n            }\n        }\n    }\n    function removeVnodes(vnodes, startIdx, endIdx) {\n        for (; startIdx <= endIdx; ++startIdx) {\n            var ch = vnodes[startIdx];\n            if (isDef(ch)) {\n                if (isDef(ch.tag)) {\n                    removeAndInvokeRemoveHook(ch);\n                    invokeDestroyHook(ch);\n                }\n                else {\n                    // Text node\n                    removeNode(ch.elm);\n                }\n            }\n        }\n    }\n    function removeAndInvokeRemoveHook(vnode, rm) {\n        if (isDef(rm) || isDef(vnode.data)) {\n            var i_3;\n            var listeners = cbs.remove.length + 1;\n            if (isDef(rm)) {\n                // we have a recursively passed down rm callback\n                // increase the listeners count\n                rm.listeners += listeners;\n            }\n            else {\n                // directly removing\n                rm = createRmCb(vnode.elm, listeners);\n            }\n            // recursively invoke hooks on child component root node\n            if (isDef((i_3 = vnode.componentInstance)) &&\n                isDef((i_3 = i_3._vnode)) &&\n                isDef(i_3.data)) {\n                removeAndInvokeRemoveHook(i_3, rm);\n            }\n            for (i_3 = 0; i_3 < cbs.remove.length; ++i_3) {\n                cbs.remove[i_3](vnode, rm);\n            }\n            if (isDef((i_3 = vnode.data.hook)) && isDef((i_3 = i_3.remove))) {\n                i_3(vnode, rm);\n            }\n            else {\n                rm();\n            }\n        }\n        else {\n            removeNode(vnode.elm);\n        }\n    }\n    function updateChildren(parentElm, oldCh, newCh, insertedVnodeQueue, removeOnly) {\n        var oldStartIdx = 0;\n        var newStartIdx = 0;\n        var oldEndIdx = oldCh.length - 1;\n        var oldStartVnode = oldCh[0];\n        var oldEndVnode = oldCh[oldEndIdx];\n        var newEndIdx = newCh.length - 1;\n        var newStartVnode = newCh[0];\n        var newEndVnode = newCh[newEndIdx];\n        var oldKeyToIdx, idxInOld, vnodeToMove, refElm;\n        // removeOnly is a special flag used only by <transition-group>\n        // to ensure removed elements stay in correct relative positions\n        // during leaving transitions\n        var canMove = !removeOnly;\n        if (process.env.NODE_ENV !== 'production') {\n            checkDuplicateKeys(newCh);\n        }\n        while (oldStartIdx <= oldEndIdx && newStartIdx <= newEndIdx) {\n            if (isUndef(oldStartVnode)) {\n                oldStartVnode = oldCh[++oldStartIdx]; // Vnode has been moved left\n            }\n            else if (isUndef(oldEndVnode)) {\n                oldEndVnode = oldCh[--oldEndIdx];\n            }\n            else if (sameVnode(oldStartVnode, newStartVnode)) {\n                patchVnode(oldStartVnode, newStartVnode, insertedVnodeQueue, newCh, newStartIdx);\n                oldStartVnode = oldCh[++oldStartIdx];\n                newStartVnode = newCh[++newStartIdx];\n            }\n            else if (sameVnode(oldEndVnode, newEndVnode)) {\n                patchVnode(oldEndVnode, newEndVnode, insertedVnodeQueue, newCh, newEndIdx);\n                oldEndVnode = oldCh[--oldEndIdx];\n                newEndVnode = newCh[--newEndIdx];\n            }\n            else if (sameVnode(oldStartVnode, newEndVnode)) {\n                // Vnode moved right\n                patchVnode(oldStartVnode, newEndVnode, insertedVnodeQueue, newCh, newEndIdx);\n                canMove &&\n                    nodeOps.insertBefore(parentElm, oldStartVnode.elm, nodeOps.nextSibling(oldEndVnode.elm));\n                oldStartVnode = oldCh[++oldStartIdx];\n                newEndVnode = newCh[--newEndIdx];\n            }\n            else if (sameVnode(oldEndVnode, newStartVnode)) {\n                // Vnode moved left\n                patchVnode(oldEndVnode, newStartVnode, insertedVnodeQueue, newCh, newStartIdx);\n                canMove &&\n                    nodeOps.insertBefore(parentElm, oldEndVnode.elm, oldStartVnode.elm);\n                oldEndVnode = oldCh[--oldEndIdx];\n                newStartVnode = newCh[++newStartIdx];\n            }\n            else {\n                if (isUndef(oldKeyToIdx))\n                    oldKeyToIdx = createKeyToOldIdx(oldCh, oldStartIdx, oldEndIdx);\n                idxInOld = isDef(newStartVnode.key)\n                    ? oldKeyToIdx[newStartVnode.key]\n                    : findIdxInOld(newStartVnode, oldCh, oldStartIdx, oldEndIdx);\n                if (isUndef(idxInOld)) {\n                    // New element\n                    createElm(newStartVnode, insertedVnodeQueue, parentElm, oldStartVnode.elm, false, newCh, newStartIdx);\n                }\n                else {\n                    vnodeToMove = oldCh[idxInOld];\n                    if (sameVnode(vnodeToMove, newStartVnode)) {\n                        patchVnode(vnodeToMove, newStartVnode, insertedVnodeQueue, newCh, newStartIdx);\n                        oldCh[idxInOld] = undefined;\n                        canMove &&\n                            nodeOps.insertBefore(parentElm, vnodeToMove.elm, oldStartVnode.elm);\n                    }\n                    else {\n                        // same key but different element. treat as new element\n                        createElm(newStartVnode, insertedVnodeQueue, parentElm, oldStartVnode.elm, false, newCh, newStartIdx);\n                    }\n                }\n                newStartVnode = newCh[++newStartIdx];\n            }\n        }\n        if (oldStartIdx > oldEndIdx) {\n            refElm = isUndef(newCh[newEndIdx + 1]) ? null : newCh[newEndIdx + 1].elm;\n            addVnodes(parentElm, refElm, newCh, newStartIdx, newEndIdx, insertedVnodeQueue);\n        }\n        else if (newStartIdx > newEndIdx) {\n            removeVnodes(oldCh, oldStartIdx, oldEndIdx);\n        }\n    }\n    function checkDuplicateKeys(children) {\n        var seenKeys = {};\n        for (var i_4 = 0; i_4 < children.length; i_4++) {\n            var vnode = children[i_4];\n            var key = vnode.key;\n            if (isDef(key)) {\n                if (seenKeys[key]) {\n                    warn(\"Duplicate keys detected: '\".concat(key, \"'. This may cause an update error.\"), vnode.context);\n                }\n                else {\n                    seenKeys[key] = true;\n                }\n            }\n        }\n    }\n    function findIdxInOld(node, oldCh, start, end) {\n        for (var i_5 = start; i_5 < end; i_5++) {\n            var c = oldCh[i_5];\n            if (isDef(c) && sameVnode(node, c))\n                return i_5;\n        }\n    }\n    function patchVnode(oldVnode, vnode, insertedVnodeQueue, ownerArray, index, removeOnly) {\n        if (oldVnode === vnode) {\n            return;\n        }\n        if (isDef(vnode.elm) && isDef(ownerArray)) {\n            // clone reused vnode\n            vnode = ownerArray[index] = cloneVNode(vnode);\n        }\n        var elm = (vnode.elm = oldVnode.elm);\n        if (isTrue(oldVnode.isAsyncPlaceholder)) {\n            if (isDef(vnode.asyncFactory.resolved)) {\n                hydrate(oldVnode.elm, vnode, insertedVnodeQueue);\n            }\n            else {\n                vnode.isAsyncPlaceholder = true;\n            }\n            return;\n        }\n        // reuse element for static trees.\n        // note we only do this if the vnode is cloned -\n        // if the new node is not cloned it means the render functions have been\n        // reset by the hot-reload-api and we need to do a proper re-render.\n        if (isTrue(vnode.isStatic) &&\n            isTrue(oldVnode.isStatic) &&\n            vnode.key === oldVnode.key &&\n            (isTrue(vnode.isCloned) || isTrue(vnode.isOnce))) {\n            vnode.componentInstance = oldVnode.componentInstance;\n            return;\n        }\n        var i;\n        var data = vnode.data;\n        if (isDef(data) && isDef((i = data.hook)) && isDef((i = i.prepatch))) {\n            i(oldVnode, vnode);\n        }\n        var oldCh = oldVnode.children;\n        var ch = vnode.children;\n        if (isDef(data) && isPatchable(vnode)) {\n            for (i = 0; i < cbs.update.length; ++i)\n                cbs.update[i](oldVnode, vnode);\n            if (isDef((i = data.hook)) && isDef((i = i.update)))\n                i(oldVnode, vnode);\n        }\n        if (isUndef(vnode.text)) {\n            if (isDef(oldCh) && isDef(ch)) {\n                if (oldCh !== ch)\n                    updateChildren(elm, oldCh, ch, insertedVnodeQueue, removeOnly);\n            }\n            else if (isDef(ch)) {\n                if (process.env.NODE_ENV !== 'production') {\n                    checkDuplicateKeys(ch);\n                }\n                if (isDef(oldVnode.text))\n                    nodeOps.setTextContent(elm, '');\n                addVnodes(elm, null, ch, 0, ch.length - 1, insertedVnodeQueue);\n            }\n            else if (isDef(oldCh)) {\n                removeVnodes(oldCh, 0, oldCh.length - 1);\n            }\n            else if (isDef(oldVnode.text)) {\n                nodeOps.setTextContent(elm, '');\n            }\n        }\n        else if (oldVnode.text !== vnode.text) {\n            nodeOps.setTextContent(elm, vnode.text);\n        }\n        if (isDef(data)) {\n            if (isDef((i = data.hook)) && isDef((i = i.postpatch)))\n                i(oldVnode, vnode);\n        }\n    }\n    function invokeInsertHook(vnode, queue, initial) {\n        // delay insert hooks for component root nodes, invoke them after the\n        // element is really inserted\n        if (isTrue(initial) && isDef(vnode.parent)) {\n            vnode.parent.data.pendingInsert = queue;\n        }\n        else {\n            for (var i_6 = 0; i_6 < queue.length; ++i_6) {\n                queue[i_6].data.hook.insert(queue[i_6]);\n            }\n        }\n    }\n    var hydrationBailed = false;\n    // list of modules that can skip create hook during hydration because they\n    // are already rendered on the client or has no need for initialization\n    // Note: style is excluded because it relies on initial clone for future\n    // deep updates (#7063).\n    var isRenderedModule = makeMap('attrs,class,staticClass,staticStyle,key');\n    // Note: this is a browser-only function so we can assume elms are DOM nodes.\n    function hydrate(elm, vnode, insertedVnodeQueue, inVPre) {\n        var i;\n        var tag = vnode.tag, data = vnode.data, children = vnode.children;\n        inVPre = inVPre || (data && data.pre);\n        vnode.elm = elm;\n        if (isTrue(vnode.isComment) && isDef(vnode.asyncFactory)) {\n            vnode.isAsyncPlaceholder = true;\n            return true;\n        }\n        // assert node match\n        if (process.env.NODE_ENV !== 'production') {\n            if (!assertNodeMatch(elm, vnode, inVPre)) {\n                return false;\n            }\n        }\n        if (isDef(data)) {\n            if (isDef((i = data.hook)) && isDef((i = i.init)))\n                i(vnode, true /* hydrating */);\n            if (isDef((i = vnode.componentInstance))) {\n                // child component. it should have hydrated its own tree.\n                initComponent(vnode, insertedVnodeQueue);\n                return true;\n            }\n        }\n        if (isDef(tag)) {\n            if (isDef(children)) {\n                // empty element, allow client to pick up and populate children\n                if (!elm.hasChildNodes()) {\n                    createChildren(vnode, children, insertedVnodeQueue);\n                }\n                else {\n                    // v-html and domProps: innerHTML\n                    if (isDef((i = data)) &&\n                        isDef((i = i.domProps)) &&\n                        isDef((i = i.innerHTML))) {\n                        if (i !== elm.innerHTML) {\n                            /* istanbul ignore if */\n                            if (process.env.NODE_ENV !== 'production' &&\n                                typeof console !== 'undefined' &&\n                                !hydrationBailed) {\n                                hydrationBailed = true;\n                                console.warn('Parent: ', elm);\n                                console.warn('server innerHTML: ', i);\n                                console.warn('client innerHTML: ', elm.innerHTML);\n                            }\n                            return false;\n                        }\n                    }\n                    else {\n                        // iterate and compare children lists\n                        var childrenMatch = true;\n                        var childNode = elm.firstChild;\n                        for (var i_7 = 0; i_7 < children.length; i_7++) {\n                            if (!childNode ||\n                                !hydrate(childNode, children[i_7], insertedVnodeQueue, inVPre)) {\n                                childrenMatch = false;\n                                break;\n                            }\n                            childNode = childNode.nextSibling;\n                        }\n                        // if childNode is not null, it means the actual childNodes list is\n                        // longer than the virtual children list.\n                        if (!childrenMatch || childNode) {\n                            /* istanbul ignore if */\n                            if (process.env.NODE_ENV !== 'production' &&\n                                typeof console !== 'undefined' &&\n                                !hydrationBailed) {\n                                hydrationBailed = true;\n                                console.warn('Parent: ', elm);\n                                console.warn('Mismatching childNodes vs. VNodes: ', elm.childNodes, children);\n                            }\n                            return false;\n                        }\n                    }\n                }\n            }\n            if (isDef(data)) {\n                var fullInvoke = false;\n                for (var key in data) {\n                    if (!isRenderedModule(key)) {\n                        fullInvoke = true;\n                        invokeCreateHooks(vnode, insertedVnodeQueue);\n                        break;\n                    }\n                }\n                if (!fullInvoke && data['class']) {\n                    // ensure collecting deps for deep class bindings for future updates\n                    traverse(data['class']);\n                }\n            }\n        }\n        else if (elm.data !== vnode.text) {\n            elm.data = vnode.text;\n        }\n        return true;\n    }\n    function assertNodeMatch(node, vnode, inVPre) {\n        if (isDef(vnode.tag)) {\n            return (vnode.tag.indexOf('vue-component') === 0 ||\n                (!isUnknownElement(vnode, inVPre) &&\n                    vnode.tag.toLowerCase() ===\n                        (node.tagName && node.tagName.toLowerCase())));\n        }\n        else {\n            return node.nodeType === (vnode.isComment ? 8 : 3);\n        }\n    }\n    return function patch(oldVnode, vnode, hydrating, removeOnly) {\n        if (isUndef(vnode)) {\n            if (isDef(oldVnode))\n                invokeDestroyHook(oldVnode);\n            return;\n        }\n        var isInitialPatch = false;\n        var insertedVnodeQueue = [];\n        if (isUndef(oldVnode)) {\n            // empty mount (likely as component), create new root element\n            isInitialPatch = true;\n            createElm(vnode, insertedVnodeQueue);\n        }\n        else {\n            var isRealElement = isDef(oldVnode.nodeType);\n            if (!isRealElement && sameVnode(oldVnode, vnode)) {\n                // patch existing root node\n                patchVnode(oldVnode, vnode, insertedVnodeQueue, null, null, removeOnly);\n            }\n            else {\n                if (isRealElement) {\n                    // mounting to a real element\n                    // check if this is server-rendered content and if we can perform\n                    // a successful hydration.\n                    if (oldVnode.nodeType === 1 && oldVnode.hasAttribute(SSR_ATTR)) {\n                        oldVnode.removeAttribute(SSR_ATTR);\n                        hydrating = true;\n                    }\n                    if (isTrue(hydrating)) {\n                        if (hydrate(oldVnode, vnode, insertedVnodeQueue)) {\n                            invokeInsertHook(vnode, insertedVnodeQueue, true);\n                            return oldVnode;\n                        }\n                        else if (process.env.NODE_ENV !== 'production') {\n                            warn('The client-side rendered virtual DOM tree is not matching ' +\n                                'server-rendered content. This is likely caused by incorrect ' +\n                                'HTML markup, for example nesting block-level elements inside ' +\n                                '<p>, or missing <tbody>. Bailing hydration and performing ' +\n                                'full client-side render.');\n                        }\n                    }\n                    // either not server-rendered, or hydration failed.\n                    // create an empty node and replace it\n                    oldVnode = emptyNodeAt(oldVnode);\n                }\n                // replacing existing element\n                var oldElm = oldVnode.elm;\n                var parentElm = nodeOps.parentNode(oldElm);\n                // create new node\n                createElm(vnode, insertedVnodeQueue, \n                // extremely rare edge case: do not insert if old element is in a\n                // leaving transition. Only happens when combining transition +\n                // keep-alive + HOCs. (#4590)\n                oldElm._leaveCb ? null : parentElm, nodeOps.nextSibling(oldElm));\n                // update parent placeholder node element, recursively\n                if (isDef(vnode.parent)) {\n                    var ancestor = vnode.parent;\n                    var patchable = isPatchable(vnode);\n                    while (ancestor) {\n                        for (var i_8 = 0; i_8 < cbs.destroy.length; ++i_8) {\n                            cbs.destroy[i_8](ancestor);\n                        }\n                        ancestor.elm = vnode.elm;\n                        if (patchable) {\n                            for (var i_9 = 0; i_9 < cbs.create.length; ++i_9) {\n                                cbs.create[i_9](emptyNode, ancestor);\n                            }\n                            // #6513\n                            // invoke insert hooks that may have been merged by create hooks.\n                            // e.g. for directives that uses the \"inserted\" hook.\n                            var insert_1 = ancestor.data.hook.insert;\n                            if (insert_1.merged) {\n                                // start at index 1 to avoid re-invoking component mounted hook\n                                // clone insert hooks to avoid being mutated during iteration.\n                                // e.g. for customed directives under transition group.\n                                var cloned = insert_1.fns.slice(1);\n                                for (var i_10 = 0; i_10 < cloned.length; i_10++) {\n                                    cloned[i_10]();\n                                }\n                            }\n                        }\n                        else {\n                            registerRef(ancestor);\n                        }\n                        ancestor = ancestor.parent;\n                    }\n                }\n                // destroy old node\n                if (isDef(parentElm)) {\n                    removeVnodes([oldVnode], 0, 0);\n                }\n                else if (isDef(oldVnode.tag)) {\n                    invokeDestroyHook(oldVnode);\n                }\n            }\n        }\n        invokeInsertHook(vnode, insertedVnodeQueue, isInitialPatch);\n        return vnode.elm;\n    };\n}\n\nvar directives = {\n    create: updateDirectives,\n    update: updateDirectives,\n    destroy: function unbindDirectives(vnode) {\n        // @ts-expect-error emptyNode is not VNodeWithData\n        updateDirectives(vnode, emptyNode);\n    }\n};\nfunction updateDirectives(oldVnode, vnode) {\n    if (oldVnode.data.directives || vnode.data.directives) {\n        _update(oldVnode, vnode);\n    }\n}\nfunction _update(oldVnode, vnode) {\n    var isCreate = oldVnode === emptyNode;\n    var isDestroy = vnode === emptyNode;\n    var oldDirs = normalizeDirectives(oldVnode.data.directives, oldVnode.context);\n    var newDirs = normalizeDirectives(vnode.data.directives, vnode.context);\n    var dirsWithInsert = [];\n    var dirsWithPostpatch = [];\n    var key, oldDir, dir;\n    for (key in newDirs) {\n        oldDir = oldDirs[key];\n        dir = newDirs[key];\n        if (!oldDir) {\n            // new directive, bind\n            callHook(dir, 'bind', vnode, oldVnode);\n            if (dir.def && dir.def.inserted) {\n                dirsWithInsert.push(dir);\n            }\n        }\n        else {\n            // existing directive, update\n            dir.oldValue = oldDir.value;\n            dir.oldArg = oldDir.arg;\n            callHook(dir, 'update', vnode, oldVnode);\n            if (dir.def && dir.def.componentUpdated) {\n                dirsWithPostpatch.push(dir);\n            }\n        }\n    }\n    if (dirsWithInsert.length) {\n        var callInsert = function () {\n            for (var i = 0; i < dirsWithInsert.length; i++) {\n                callHook(dirsWithInsert[i], 'inserted', vnode, oldVnode);\n            }\n        };\n        if (isCreate) {\n            mergeVNodeHook(vnode, 'insert', callInsert);\n        }\n        else {\n            callInsert();\n        }\n    }\n    if (dirsWithPostpatch.length) {\n        mergeVNodeHook(vnode, 'postpatch', function () {\n            for (var i = 0; i < dirsWithPostpatch.length; i++) {\n                callHook(dirsWithPostpatch[i], 'componentUpdated', vnode, oldVnode);\n            }\n        });\n    }\n    if (!isCreate) {\n        for (key in oldDirs) {\n            if (!newDirs[key]) {\n                // no longer present, unbind\n                callHook(oldDirs[key], 'unbind', oldVnode, oldVnode, isDestroy);\n            }\n        }\n    }\n}\nvar emptyModifiers = Object.create(null);\nfunction normalizeDirectives(dirs, vm) {\n    var res = Object.create(null);\n    if (!dirs) {\n        // $flow-disable-line\n        return res;\n    }\n    var i, dir;\n    for (i = 0; i < dirs.length; i++) {\n        dir = dirs[i];\n        if (!dir.modifiers) {\n            // $flow-disable-line\n            dir.modifiers = emptyModifiers;\n        }\n        res[getRawDirName(dir)] = dir;\n        if (vm._setupState && vm._setupState.__sfc) {\n            var setupDef = dir.def || resolveAsset(vm, '_setupState', 'v-' + dir.name);\n            if (typeof setupDef === 'function') {\n                dir.def = {\n                    bind: setupDef,\n                    update: setupDef,\n                };\n            }\n            else {\n                dir.def = setupDef;\n            }\n        }\n        dir.def = dir.def || resolveAsset(vm.$options, 'directives', dir.name, true);\n    }\n    // $flow-disable-line\n    return res;\n}\nfunction getRawDirName(dir) {\n    return (dir.rawName || \"\".concat(dir.name, \".\").concat(Object.keys(dir.modifiers || {}).join('.')));\n}\nfunction callHook(dir, hook, vnode, oldVnode, isDestroy) {\n    var fn = dir.def && dir.def[hook];\n    if (fn) {\n        try {\n            fn(vnode.elm, dir, vnode, oldVnode, isDestroy);\n        }\n        catch (e) {\n            handleError(e, vnode.context, \"directive \".concat(dir.name, \" \").concat(hook, \" hook\"));\n        }\n    }\n}\n\nvar baseModules = [ref, directives];\n\nfunction updateAttrs(oldVnode, vnode) {\n    var opts = vnode.componentOptions;\n    if (isDef(opts) && opts.Ctor.options.inheritAttrs === false) {\n        return;\n    }\n    if (isUndef(oldVnode.data.attrs) && isUndef(vnode.data.attrs)) {\n        return;\n    }\n    var key, cur, old;\n    var elm = vnode.elm;\n    var oldAttrs = oldVnode.data.attrs || {};\n    var attrs = vnode.data.attrs || {};\n    // clone observed objects, as the user probably wants to mutate it\n    if (isDef(attrs.__ob__) || isTrue(attrs._v_attr_proxy)) {\n        attrs = vnode.data.attrs = extend({}, attrs);\n    }\n    for (key in attrs) {\n        cur = attrs[key];\n        old = oldAttrs[key];\n        if (old !== cur) {\n            setAttr(elm, key, cur, vnode.data.pre);\n        }\n    }\n    // #4391: in IE9, setting type can reset value for input[type=radio]\n    // #6666: IE/Edge forces progress value down to 1 before setting a max\n    /* istanbul ignore if */\n    if ((isIE || isEdge) && attrs.value !== oldAttrs.value) {\n        setAttr(elm, 'value', attrs.value);\n    }\n    for (key in oldAttrs) {\n        if (isUndef(attrs[key])) {\n            if (isXlink(key)) {\n                elm.removeAttributeNS(xlinkNS, getXlinkProp(key));\n            }\n            else if (!isEnumeratedAttr(key)) {\n                elm.removeAttribute(key);\n            }\n        }\n    }\n}\nfunction setAttr(el, key, value, isInPre) {\n    if (isInPre || el.tagName.indexOf('-') > -1) {\n        baseSetAttr(el, key, value);\n    }\n    else if (isBooleanAttr(key)) {\n        // set attribute for blank value\n        // e.g. <option disabled>Select one</option>\n        if (isFalsyAttrValue(value)) {\n            el.removeAttribute(key);\n        }\n        else {\n            // technically allowfullscreen is a boolean attribute for <iframe>,\n            // but Flash expects a value of \"true\" when used on <embed> tag\n            value = key === 'allowfullscreen' && el.tagName === 'EMBED' ? 'true' : key;\n            el.setAttribute(key, value);\n        }\n    }\n    else if (isEnumeratedAttr(key)) {\n        el.setAttribute(key, convertEnumeratedValue(key, value));\n    }\n    else if (isXlink(key)) {\n        if (isFalsyAttrValue(value)) {\n            el.removeAttributeNS(xlinkNS, getXlinkProp(key));\n        }\n        else {\n            el.setAttributeNS(xlinkNS, key, value);\n        }\n    }\n    else {\n        baseSetAttr(el, key, value);\n    }\n}\nfunction baseSetAttr(el, key, value) {\n    if (isFalsyAttrValue(value)) {\n        el.removeAttribute(key);\n    }\n    else {\n        // #7138: IE10 & 11 fires input event when setting placeholder on\n        // <textarea>... block the first input event and remove the blocker\n        // immediately.\n        /* istanbul ignore if */\n        if (isIE &&\n            !isIE9 &&\n            el.tagName === 'TEXTAREA' &&\n            key === 'placeholder' &&\n            value !== '' &&\n            !el.__ieph) {\n            var blocker_1 = function (e) {\n                e.stopImmediatePropagation();\n                el.removeEventListener('input', blocker_1);\n            };\n            el.addEventListener('input', blocker_1);\n            // $flow-disable-line\n            el.__ieph = true; /* IE placeholder patched */\n        }\n        el.setAttribute(key, value);\n    }\n}\nvar attrs = {\n    create: updateAttrs,\n    update: updateAttrs\n};\n\nfunction updateClass(oldVnode, vnode) {\n    var el = vnode.elm;\n    var data = vnode.data;\n    var oldData = oldVnode.data;\n    if (isUndef(data.staticClass) &&\n        isUndef(data.class) &&\n        (isUndef(oldData) ||\n            (isUndef(oldData.staticClass) && isUndef(oldData.class)))) {\n        return;\n    }\n    var cls = genClassForVnode(vnode);\n    // handle transition classes\n    var transitionClass = el._transitionClasses;\n    if (isDef(transitionClass)) {\n        cls = concat(cls, stringifyClass(transitionClass));\n    }\n    // set the class\n    if (cls !== el._prevClass) {\n        el.setAttribute('class', cls);\n        el._prevClass = cls;\n    }\n}\nvar klass = {\n    create: updateClass,\n    update: updateClass\n};\n\n// in some cases, the event used has to be determined at runtime\n// so we used some reserved tokens during compile.\nvar RANGE_TOKEN = '__r';\nvar CHECKBOX_RADIO_TOKEN = '__c';\n\n// normalize v-model event tokens that can only be determined at runtime.\n// it's important to place the event as the first in the array because\n// the whole point is ensuring the v-model callback gets called before\n// user-attached handlers.\nfunction normalizeEvents(on) {\n    /* istanbul ignore if */\n    if (isDef(on[RANGE_TOKEN])) {\n        // IE input[type=range] only supports `change` event\n        var event_1 = isIE ? 'change' : 'input';\n        on[event_1] = [].concat(on[RANGE_TOKEN], on[event_1] || []);\n        delete on[RANGE_TOKEN];\n    }\n    // This was originally intended to fix #4521 but no longer necessary\n    // after 2.5. Keeping it for backwards compat with generated code from < 2.4\n    /* istanbul ignore if */\n    if (isDef(on[CHECKBOX_RADIO_TOKEN])) {\n        on.change = [].concat(on[CHECKBOX_RADIO_TOKEN], on.change || []);\n        delete on[CHECKBOX_RADIO_TOKEN];\n    }\n}\nvar target;\nfunction createOnceHandler(event, handler, capture) {\n    var _target = target; // save current target element in closure\n    return function onceHandler() {\n        var res = handler.apply(null, arguments);\n        if (res !== null) {\n            remove(event, onceHandler, capture, _target);\n        }\n    };\n}\n// #9446: Firefox <= 53 (in particular, ESR 52) has incorrect Event.timeStamp\n// implementation and does not fire microtasks in between event propagation, so\n// safe to exclude.\nvar useMicrotaskFix = isUsingMicroTask && !(isFF && Number(isFF[1]) <= 53);\nfunction add(name, handler, capture, passive) {\n    // async edge case #6566: inner click event triggers patch, event handler\n    // attached to outer element during patch, and triggered again. This\n    // happens because browsers fire microtask ticks between event propagation.\n    // the solution is simple: we save the timestamp when a handler is attached,\n    // and the handler would only fire if the event passed to it was fired\n    // AFTER it was attached.\n    if (useMicrotaskFix) {\n        var attachedTimestamp_1 = currentFlushTimestamp;\n        var original_1 = handler;\n        //@ts-expect-error\n        handler = original_1._wrapper = function (e) {\n            if (\n            // no bubbling, should always fire.\n            // this is just a safety net in case event.timeStamp is unreliable in\n            // certain weird environments...\n            e.target === e.currentTarget ||\n                // event is fired after handler attachment\n                e.timeStamp >= attachedTimestamp_1 ||\n                // bail for environments that have buggy event.timeStamp implementations\n                // #9462 iOS 9 bug: event.timeStamp is 0 after history.pushState\n                // #9681 QtWebEngine event.timeStamp is negative value\n                e.timeStamp <= 0 ||\n                // #9448 bail if event is fired in another document in a multi-page\n                // electron/nw.js app, since event.timeStamp will be using a different\n                // starting reference\n                e.target.ownerDocument !== document) {\n                return original_1.apply(this, arguments);\n            }\n        };\n    }\n    target.addEventListener(name, handler, supportsPassive ? { capture: capture, passive: passive } : capture);\n}\nfunction remove(name, handler, capture, _target) {\n    (_target || target).removeEventListener(name, \n    //@ts-expect-error\n    handler._wrapper || handler, capture);\n}\nfunction updateDOMListeners(oldVnode, vnode) {\n    if (isUndef(oldVnode.data.on) && isUndef(vnode.data.on)) {\n        return;\n    }\n    var on = vnode.data.on || {};\n    var oldOn = oldVnode.data.on || {};\n    // vnode is empty when removing all listeners,\n    // and use old vnode dom element\n    target = vnode.elm || oldVnode.elm;\n    normalizeEvents(on);\n    updateListeners(on, oldOn, add, remove, createOnceHandler, vnode.context);\n    target = undefined;\n}\nvar events = {\n    create: updateDOMListeners,\n    update: updateDOMListeners,\n    // @ts-expect-error emptyNode has actually data\n    destroy: function (vnode) { return updateDOMListeners(vnode, emptyNode); }\n};\n\nvar svgContainer;\nfunction updateDOMProps(oldVnode, vnode) {\n    if (isUndef(oldVnode.data.domProps) && isUndef(vnode.data.domProps)) {\n        return;\n    }\n    var key, cur;\n    var elm = vnode.elm;\n    var oldProps = oldVnode.data.domProps || {};\n    var props = vnode.data.domProps || {};\n    // clone observed objects, as the user probably wants to mutate it\n    if (isDef(props.__ob__) || isTrue(props._v_attr_proxy)) {\n        props = vnode.data.domProps = extend({}, props);\n    }\n    for (key in oldProps) {\n        if (!(key in props)) {\n            elm[key] = '';\n        }\n    }\n    for (key in props) {\n        cur = props[key];\n        // ignore children if the node has textContent or innerHTML,\n        // as these will throw away existing DOM nodes and cause removal errors\n        // on subsequent patches (#3360)\n        if (key === 'textContent' || key === 'innerHTML') {\n            if (vnode.children)\n                vnode.children.length = 0;\n            if (cur === oldProps[key])\n                continue;\n            // #6601 work around Chrome version <= 55 bug where single textNode\n            // replaced by innerHTML/textContent retains its parentNode property\n            if (elm.childNodes.length === 1) {\n                elm.removeChild(elm.childNodes[0]);\n            }\n        }\n        if (key === 'value' && elm.tagName !== 'PROGRESS') {\n            // store value as _value as well since\n            // non-string values will be stringified\n            elm._value = cur;\n            // avoid resetting cursor position when value is the same\n            var strCur = isUndef(cur) ? '' : String(cur);\n            if (shouldUpdateValue(elm, strCur)) {\n                elm.value = strCur;\n            }\n        }\n        else if (key === 'innerHTML' &&\n            isSVG(elm.tagName) &&\n            isUndef(elm.innerHTML)) {\n            // IE doesn't support innerHTML for SVG elements\n            svgContainer = svgContainer || document.createElement('div');\n            svgContainer.innerHTML = \"<svg>\".concat(cur, \"</svg>\");\n            var svg = svgContainer.firstChild;\n            while (elm.firstChild) {\n                elm.removeChild(elm.firstChild);\n            }\n            while (svg.firstChild) {\n                elm.appendChild(svg.firstChild);\n            }\n        }\n        else if (\n        // skip the update if old and new VDOM state is the same.\n        // `value` is handled separately because the DOM value may be temporarily\n        // out of sync with VDOM state due to focus, composition and modifiers.\n        // This  #4521 by skipping the unnecessary `checked` update.\n        cur !== oldProps[key]) {\n            // some property updates can throw\n            // e.g. `value` on <progress> w/ non-finite value\n            try {\n                elm[key] = cur;\n            }\n            catch (e) { }\n        }\n    }\n}\nfunction shouldUpdateValue(elm, checkVal) {\n    return (\n    //@ts-expect-error\n    !elm.composing &&\n        (elm.tagName === 'OPTION' ||\n            isNotInFocusAndDirty(elm, checkVal) ||\n            isDirtyWithModifiers(elm, checkVal)));\n}\nfunction isNotInFocusAndDirty(elm, checkVal) {\n    // return true when textbox (.number and .trim) loses focus and its value is\n    // not equal to the updated value\n    var notInFocus = true;\n    // #6157\n    // work around IE bug when accessing document.activeElement in an iframe\n    try {\n        notInFocus = document.activeElement !== elm;\n    }\n    catch (e) { }\n    return notInFocus && elm.value !== checkVal;\n}\nfunction isDirtyWithModifiers(elm, newVal) {\n    var value = elm.value;\n    var modifiers = elm._vModifiers; // injected by v-model runtime\n    if (isDef(modifiers)) {\n        if (modifiers.number) {\n            return toNumber(value) !== toNumber(newVal);\n        }\n        if (modifiers.trim) {\n            return value.trim() !== newVal.trim();\n        }\n    }\n    return value !== newVal;\n}\nvar domProps = {\n    create: updateDOMProps,\n    update: updateDOMProps\n};\n\nvar parseStyleText = cached(function (cssText) {\n    var res = {};\n    var listDelimiter = /;(?![^(]*\\))/g;\n    var propertyDelimiter = /:(.+)/;\n    cssText.split(listDelimiter).forEach(function (item) {\n        if (item) {\n            var tmp = item.split(propertyDelimiter);\n            tmp.length > 1 && (res[tmp[0].trim()] = tmp[1].trim());\n        }\n    });\n    return res;\n});\n// merge static and dynamic style data on the same vnode\nfunction normalizeStyleData(data) {\n    var style = normalizeStyleBinding(data.style);\n    // static style is pre-processed into an object during compilation\n    // and is always a fresh object, so it's safe to merge into it\n    return data.staticStyle ? extend(data.staticStyle, style) : style;\n}\n// normalize possible array / string values into Object\nfunction normalizeStyleBinding(bindingStyle) {\n    if (Array.isArray(bindingStyle)) {\n        return toObject(bindingStyle);\n    }\n    if (typeof bindingStyle === 'string') {\n        return parseStyleText(bindingStyle);\n    }\n    return bindingStyle;\n}\n/**\n * parent component style should be after child's\n * so that parent component's style could override it\n */\nfunction getStyle(vnode, checkChild) {\n    var res = {};\n    var styleData;\n    if (checkChild) {\n        var childNode = vnode;\n        while (childNode.componentInstance) {\n            childNode = childNode.componentInstance._vnode;\n            if (childNode &&\n                childNode.data &&\n                (styleData = normalizeStyleData(childNode.data))) {\n                extend(res, styleData);\n            }\n        }\n    }\n    if ((styleData = normalizeStyleData(vnode.data))) {\n        extend(res, styleData);\n    }\n    var parentNode = vnode;\n    // @ts-expect-error parentNode.parent not VNodeWithData\n    while ((parentNode = parentNode.parent)) {\n        if (parentNode.data && (styleData = normalizeStyleData(parentNode.data))) {\n            extend(res, styleData);\n        }\n    }\n    return res;\n}\n\nvar cssVarRE = /^--/;\nvar importantRE = /\\s*!important$/;\nvar setProp = function (el, name, val) {\n    /* istanbul ignore if */\n    if (cssVarRE.test(name)) {\n        el.style.setProperty(name, val);\n    }\n    else if (importantRE.test(val)) {\n        el.style.setProperty(hyphenate(name), val.replace(importantRE, ''), 'important');\n    }\n    else {\n        var normalizedName = normalize(name);\n        if (Array.isArray(val)) {\n            // Support values array created by autoprefixer, e.g.\n            // {display: [\"-webkit-box\", \"-ms-flexbox\", \"flex\"]}\n            // Set them one by one, and the browser will only set those it can recognize\n            for (var i = 0, len = val.length; i < len; i++) {\n                el.style[normalizedName] = val[i];\n            }\n        }\n        else {\n            el.style[normalizedName] = val;\n        }\n    }\n};\nvar vendorNames = ['Webkit', 'Moz', 'ms'];\nvar emptyStyle;\nvar normalize = cached(function (prop) {\n    emptyStyle = emptyStyle || document.createElement('div').style;\n    prop = camelize(prop);\n    if (prop !== 'filter' && prop in emptyStyle) {\n        return prop;\n    }\n    var capName = prop.charAt(0).toUpperCase() + prop.slice(1);\n    for (var i = 0; i < vendorNames.length; i++) {\n        var name_1 = vendorNames[i] + capName;\n        if (name_1 in emptyStyle) {\n            return name_1;\n        }\n    }\n});\nfunction updateStyle(oldVnode, vnode) {\n    var data = vnode.data;\n    var oldData = oldVnode.data;\n    if (isUndef(data.staticStyle) &&\n        isUndef(data.style) &&\n        isUndef(oldData.staticStyle) &&\n        isUndef(oldData.style)) {\n        return;\n    }\n    var cur, name;\n    var el = vnode.elm;\n    var oldStaticStyle = oldData.staticStyle;\n    var oldStyleBinding = oldData.normalizedStyle || oldData.style || {};\n    // if static style exists, stylebinding already merged into it when doing normalizeStyleData\n    var oldStyle = oldStaticStyle || oldStyleBinding;\n    var style = normalizeStyleBinding(vnode.data.style) || {};\n    // store normalized style under a different key for next diff\n    // make sure to clone it if it's reactive, since the user likely wants\n    // to mutate it.\n    vnode.data.normalizedStyle = isDef(style.__ob__) ? extend({}, style) : style;\n    var newStyle = getStyle(vnode, true);\n    for (name in oldStyle) {\n        if (isUndef(newStyle[name])) {\n            setProp(el, name, '');\n        }\n    }\n    for (name in newStyle) {\n        cur = newStyle[name];\n        // ie9 setting to null has no effect, must use empty string\n        setProp(el, name, cur == null ? '' : cur);\n    }\n}\nvar style = {\n    create: updateStyle,\n    update: updateStyle\n};\n\nvar whitespaceRE = /\\s+/;\n/**\n * Add class with compatibility for SVG since classList is not supported on\n * SVG elements in IE\n */\nfunction addClass(el, cls) {\n    /* istanbul ignore if */\n    if (!cls || !(cls = cls.trim())) {\n        return;\n    }\n    /* istanbul ignore else */\n    if (el.classList) {\n        if (cls.indexOf(' ') > -1) {\n            cls.split(whitespaceRE).forEach(function (c) { return el.classList.add(c); });\n        }\n        else {\n            el.classList.add(cls);\n        }\n    }\n    else {\n        var cur = \" \".concat(el.getAttribute('class') || '', \" \");\n        if (cur.indexOf(' ' + cls + ' ') < 0) {\n            el.setAttribute('class', (cur + cls).trim());\n        }\n    }\n}\n/**\n * Remove class with compatibility for SVG since classList is not supported on\n * SVG elements in IE\n */\nfunction removeClass(el, cls) {\n    /* istanbul ignore if */\n    if (!cls || !(cls = cls.trim())) {\n        return;\n    }\n    /* istanbul ignore else */\n    if (el.classList) {\n        if (cls.indexOf(' ') > -1) {\n            cls.split(whitespaceRE).forEach(function (c) { return el.classList.remove(c); });\n        }\n        else {\n            el.classList.remove(cls);\n        }\n        if (!el.classList.length) {\n            el.removeAttribute('class');\n        }\n    }\n    else {\n        var cur = \" \".concat(el.getAttribute('class') || '', \" \");\n        var tar = ' ' + cls + ' ';\n        while (cur.indexOf(tar) >= 0) {\n            cur = cur.replace(tar, ' ');\n        }\n        cur = cur.trim();\n        if (cur) {\n            el.setAttribute('class', cur);\n        }\n        else {\n            el.removeAttribute('class');\n        }\n    }\n}\n\nfunction resolveTransition(def) {\n    if (!def) {\n        return;\n    }\n    /* istanbul ignore else */\n    if (typeof def === 'object') {\n        var res = {};\n        if (def.css !== false) {\n            extend(res, autoCssTransition(def.name || 'v'));\n        }\n        extend(res, def);\n        return res;\n    }\n    else if (typeof def === 'string') {\n        return autoCssTransition(def);\n    }\n}\nvar autoCssTransition = cached(function (name) {\n    return {\n        enterClass: \"\".concat(name, \"-enter\"),\n        enterToClass: \"\".concat(name, \"-enter-to\"),\n        enterActiveClass: \"\".concat(name, \"-enter-active\"),\n        leaveClass: \"\".concat(name, \"-leave\"),\n        leaveToClass: \"\".concat(name, \"-leave-to\"),\n        leaveActiveClass: \"\".concat(name, \"-leave-active\")\n    };\n});\nvar hasTransition = inBrowser && !isIE9;\nvar TRANSITION = 'transition';\nvar ANIMATION = 'animation';\n// Transition property/event sniffing\nvar transitionProp = 'transition';\nvar transitionEndEvent = 'transitionend';\nvar animationProp = 'animation';\nvar animationEndEvent = 'animationend';\nif (hasTransition) {\n    /* istanbul ignore if */\n    if (window.ontransitionend === undefined &&\n        window.onwebkittransitionend !== undefined) {\n        transitionProp = 'WebkitTransition';\n        transitionEndEvent = 'webkitTransitionEnd';\n    }\n    if (window.onanimationend === undefined &&\n        window.onwebkitanimationend !== undefined) {\n        animationProp = 'WebkitAnimation';\n        animationEndEvent = 'webkitAnimationEnd';\n    }\n}\n// binding to window is necessary to make hot reload work in IE in strict mode\nvar raf = inBrowser\n    ? window.requestAnimationFrame\n        ? window.requestAnimationFrame.bind(window)\n        : setTimeout\n    : /* istanbul ignore next */ function (/* istanbul ignore next */ fn) { return fn(); };\nfunction nextFrame(fn) {\n    raf(function () {\n        // @ts-expect-error\n        raf(fn);\n    });\n}\nfunction addTransitionClass(el, cls) {\n    var transitionClasses = el._transitionClasses || (el._transitionClasses = []);\n    if (transitionClasses.indexOf(cls) < 0) {\n        transitionClasses.push(cls);\n        addClass(el, cls);\n    }\n}\nfunction removeTransitionClass(el, cls) {\n    if (el._transitionClasses) {\n        remove$2(el._transitionClasses, cls);\n    }\n    removeClass(el, cls);\n}\nfunction whenTransitionEnds(el, expectedType, cb) {\n    var _a = getTransitionInfo(el, expectedType), type = _a.type, timeout = _a.timeout, propCount = _a.propCount;\n    if (!type)\n        return cb();\n    var event = type === TRANSITION ? transitionEndEvent : animationEndEvent;\n    var ended = 0;\n    var end = function () {\n        el.removeEventListener(event, onEnd);\n        cb();\n    };\n    var onEnd = function (e) {\n        if (e.target === el) {\n            if (++ended >= propCount) {\n                end();\n            }\n        }\n    };\n    setTimeout(function () {\n        if (ended < propCount) {\n            end();\n        }\n    }, timeout + 1);\n    el.addEventListener(event, onEnd);\n}\nvar transformRE = /\\b(transform|all)(,|$)/;\nfunction getTransitionInfo(el, expectedType) {\n    var styles = window.getComputedStyle(el);\n    // JSDOM may return undefined for transition properties\n    var transitionDelays = (styles[transitionProp + 'Delay'] || '').split(', ');\n    var transitionDurations = (styles[transitionProp + 'Duration'] || '').split(', ');\n    var transitionTimeout = getTimeout(transitionDelays, transitionDurations);\n    var animationDelays = (styles[animationProp + 'Delay'] || '').split(', ');\n    var animationDurations = (styles[animationProp + 'Duration'] || '').split(', ');\n    var animationTimeout = getTimeout(animationDelays, animationDurations);\n    var type;\n    var timeout = 0;\n    var propCount = 0;\n    /* istanbul ignore if */\n    if (expectedType === TRANSITION) {\n        if (transitionTimeout > 0) {\n            type = TRANSITION;\n            timeout = transitionTimeout;\n            propCount = transitionDurations.length;\n        }\n    }\n    else if (expectedType === ANIMATION) {\n        if (animationTimeout > 0) {\n            type = ANIMATION;\n            timeout = animationTimeout;\n            propCount = animationDurations.length;\n        }\n    }\n    else {\n        timeout = Math.max(transitionTimeout, animationTimeout);\n        type =\n            timeout > 0\n                ? transitionTimeout > animationTimeout\n                    ? TRANSITION\n                    : ANIMATION\n                : null;\n        propCount = type\n            ? type === TRANSITION\n                ? transitionDurations.length\n                : animationDurations.length\n            : 0;\n    }\n    var hasTransform = type === TRANSITION && transformRE.test(styles[transitionProp + 'Property']);\n    return {\n        type: type,\n        timeout: timeout,\n        propCount: propCount,\n        hasTransform: hasTransform\n    };\n}\nfunction getTimeout(delays, durations) {\n    /* istanbul ignore next */\n    while (delays.length < durations.length) {\n        delays = delays.concat(delays);\n    }\n    return Math.max.apply(null, durations.map(function (d, i) {\n        return toMs(d) + toMs(delays[i]);\n    }));\n}\n// Old versions of Chromium (below 61.0.3163.100) formats floating pointer numbers\n// in a locale-dependent way, using a comma instead of a dot.\n// If comma is not replaced with a dot, the input will be rounded down (i.e. acting\n// as a floor function) causing unexpected behaviors\nfunction toMs(s) {\n    return Number(s.slice(0, -1).replace(',', '.')) * 1000;\n}\n\nfunction enter(vnode, toggleDisplay) {\n    var el = vnode.elm;\n    // call leave callback now\n    if (isDef(el._leaveCb)) {\n        el._leaveCb.cancelled = true;\n        el._leaveCb();\n    }\n    var data = resolveTransition(vnode.data.transition);\n    if (isUndef(data)) {\n        return;\n    }\n    /* istanbul ignore if */\n    if (isDef(el._enterCb) || el.nodeType !== 1) {\n        return;\n    }\n    var css = data.css, type = data.type, enterClass = data.enterClass, enterToClass = data.enterToClass, enterActiveClass = data.enterActiveClass, appearClass = data.appearClass, appearToClass = data.appearToClass, appearActiveClass = data.appearActiveClass, beforeEnter = data.beforeEnter, enter = data.enter, afterEnter = data.afterEnter, enterCancelled = data.enterCancelled, beforeAppear = data.beforeAppear, appear = data.appear, afterAppear = data.afterAppear, appearCancelled = data.appearCancelled, duration = data.duration;\n    // activeInstance will always be the <transition> component managing this\n    // transition. One edge case to check is when the <transition> is placed\n    // as the root node of a child component. In that case we need to check\n    // <transition>'s parent for appear check.\n    var context = activeInstance;\n    var transitionNode = activeInstance.$vnode;\n    while (transitionNode && transitionNode.parent) {\n        context = transitionNode.context;\n        transitionNode = transitionNode.parent;\n    }\n    var isAppear = !context._isMounted || !vnode.isRootInsert;\n    if (isAppear && !appear && appear !== '') {\n        return;\n    }\n    var startClass = isAppear && appearClass ? appearClass : enterClass;\n    var activeClass = isAppear && appearActiveClass ? appearActiveClass : enterActiveClass;\n    var toClass = isAppear && appearToClass ? appearToClass : enterToClass;\n    var beforeEnterHook = isAppear ? beforeAppear || beforeEnter : beforeEnter;\n    var enterHook = isAppear ? (isFunction(appear) ? appear : enter) : enter;\n    var afterEnterHook = isAppear ? afterAppear || afterEnter : afterEnter;\n    var enterCancelledHook = isAppear\n        ? appearCancelled || enterCancelled\n        : enterCancelled;\n    var explicitEnterDuration = toNumber(isObject(duration) ? duration.enter : duration);\n    if (process.env.NODE_ENV !== 'production' && explicitEnterDuration != null) {\n        checkDuration(explicitEnterDuration, 'enter', vnode);\n    }\n    var expectsCSS = css !== false && !isIE9;\n    var userWantsControl = getHookArgumentsLength(enterHook);\n    var cb = (el._enterCb = once(function () {\n        if (expectsCSS) {\n            removeTransitionClass(el, toClass);\n            removeTransitionClass(el, activeClass);\n        }\n        // @ts-expect-error\n        if (cb.cancelled) {\n            if (expectsCSS) {\n                removeTransitionClass(el, startClass);\n            }\n            enterCancelledHook && enterCancelledHook(el);\n        }\n        else {\n            afterEnterHook && afterEnterHook(el);\n        }\n        el._enterCb = null;\n    }));\n    if (!vnode.data.show) {\n        // remove pending leave element on enter by injecting an insert hook\n        mergeVNodeHook(vnode, 'insert', function () {\n            var parent = el.parentNode;\n            var pendingNode = parent && parent._pending && parent._pending[vnode.key];\n            if (pendingNode &&\n                pendingNode.tag === vnode.tag &&\n                pendingNode.elm._leaveCb) {\n                pendingNode.elm._leaveCb();\n            }\n            enterHook && enterHook(el, cb);\n        });\n    }\n    // start enter transition\n    beforeEnterHook && beforeEnterHook(el);\n    if (expectsCSS) {\n        addTransitionClass(el, startClass);\n        addTransitionClass(el, activeClass);\n        nextFrame(function () {\n            removeTransitionClass(el, startClass);\n            // @ts-expect-error\n            if (!cb.cancelled) {\n                addTransitionClass(el, toClass);\n                if (!userWantsControl) {\n                    if (isValidDuration(explicitEnterDuration)) {\n                        setTimeout(cb, explicitEnterDuration);\n                    }\n                    else {\n                        whenTransitionEnds(el, type, cb);\n                    }\n                }\n            }\n        });\n    }\n    if (vnode.data.show) {\n        toggleDisplay && toggleDisplay();\n        enterHook && enterHook(el, cb);\n    }\n    if (!expectsCSS && !userWantsControl) {\n        cb();\n    }\n}\nfunction leave(vnode, rm) {\n    var el = vnode.elm;\n    // call enter callback now\n    if (isDef(el._enterCb)) {\n        el._enterCb.cancelled = true;\n        el._enterCb();\n    }\n    var data = resolveTransition(vnode.data.transition);\n    if (isUndef(data) || el.nodeType !== 1) {\n        return rm();\n    }\n    /* istanbul ignore if */\n    if (isDef(el._leaveCb)) {\n        return;\n    }\n    var css = data.css, type = data.type, leaveClass = data.leaveClass, leaveToClass = data.leaveToClass, leaveActiveClass = data.leaveActiveClass, beforeLeave = data.beforeLeave, leave = data.leave, afterLeave = data.afterLeave, leaveCancelled = data.leaveCancelled, delayLeave = data.delayLeave, duration = data.duration;\n    var expectsCSS = css !== false && !isIE9;\n    var userWantsControl = getHookArgumentsLength(leave);\n    var explicitLeaveDuration = toNumber(isObject(duration) ? duration.leave : duration);\n    if (process.env.NODE_ENV !== 'production' && isDef(explicitLeaveDuration)) {\n        checkDuration(explicitLeaveDuration, 'leave', vnode);\n    }\n    var cb = (el._leaveCb = once(function () {\n        if (el.parentNode && el.parentNode._pending) {\n            el.parentNode._pending[vnode.key] = null;\n        }\n        if (expectsCSS) {\n            removeTransitionClass(el, leaveToClass);\n            removeTransitionClass(el, leaveActiveClass);\n        }\n        // @ts-expect-error\n        if (cb.cancelled) {\n            if (expectsCSS) {\n                removeTransitionClass(el, leaveClass);\n            }\n            leaveCancelled && leaveCancelled(el);\n        }\n        else {\n            rm();\n            afterLeave && afterLeave(el);\n        }\n        el._leaveCb = null;\n    }));\n    if (delayLeave) {\n        delayLeave(performLeave);\n    }\n    else {\n        performLeave();\n    }\n    function performLeave() {\n        // the delayed leave may have already been cancelled\n        // @ts-expect-error\n        if (cb.cancelled) {\n            return;\n        }\n        // record leaving element\n        if (!vnode.data.show && el.parentNode) {\n            (el.parentNode._pending || (el.parentNode._pending = {}))[vnode.key] =\n                vnode;\n        }\n        beforeLeave && beforeLeave(el);\n        if (expectsCSS) {\n            addTransitionClass(el, leaveClass);\n            addTransitionClass(el, leaveActiveClass);\n            nextFrame(function () {\n                removeTransitionClass(el, leaveClass);\n                // @ts-expect-error\n                if (!cb.cancelled) {\n                    addTransitionClass(el, leaveToClass);\n                    if (!userWantsControl) {\n                        if (isValidDuration(explicitLeaveDuration)) {\n                            setTimeout(cb, explicitLeaveDuration);\n                        }\n                        else {\n                            whenTransitionEnds(el, type, cb);\n                        }\n                    }\n                }\n            });\n        }\n        leave && leave(el, cb);\n        if (!expectsCSS && !userWantsControl) {\n            cb();\n        }\n    }\n}\n// only used in dev mode\nfunction checkDuration(val, name, vnode) {\n    if (typeof val !== 'number') {\n        warn(\"<transition> explicit \".concat(name, \" duration is not a valid number - \") +\n            \"got \".concat(JSON.stringify(val), \".\"), vnode.context);\n    }\n    else if (isNaN(val)) {\n        warn(\"<transition> explicit \".concat(name, \" duration is NaN - \") +\n            'the duration expression might be incorrect.', vnode.context);\n    }\n}\nfunction isValidDuration(val) {\n    return typeof val === 'number' && !isNaN(val);\n}\n/**\n * Normalize a transition hook's argument length. The hook may be:\n * - a merged hook (invoker) with the original in .fns\n * - a wrapped component method (check ._length)\n * - a plain function (.length)\n */\nfunction getHookArgumentsLength(fn) {\n    if (isUndef(fn)) {\n        return false;\n    }\n    // @ts-expect-error\n    var invokerFns = fn.fns;\n    if (isDef(invokerFns)) {\n        // invoker\n        return getHookArgumentsLength(Array.isArray(invokerFns) ? invokerFns[0] : invokerFns);\n    }\n    else {\n        // @ts-expect-error\n        return (fn._length || fn.length) > 1;\n    }\n}\nfunction _enter(_, vnode) {\n    if (vnode.data.show !== true) {\n        enter(vnode);\n    }\n}\nvar transition = inBrowser\n    ? {\n        create: _enter,\n        activate: _enter,\n        remove: function (vnode, rm) {\n            /* istanbul ignore else */\n            if (vnode.data.show !== true) {\n                // @ts-expect-error\n                leave(vnode, rm);\n            }\n            else {\n                rm();\n            }\n        }\n    }\n    : {};\n\nvar platformModules = [attrs, klass, events, domProps, style, transition];\n\n// the directive module should be applied last, after all\n// built-in modules have been applied.\nvar modules = platformModules.concat(baseModules);\nvar patch = createPatchFunction({ nodeOps: nodeOps, modules: modules });\n\n/**\n * Not type checking this file because flow doesn't like attaching\n * properties to Elements.\n */\n/* istanbul ignore if */\nif (isIE9) {\n    // http://www.matts411.com/post/internet-explorer-9-oninput/\n    document.addEventListener('selectionchange', function () {\n        var el = document.activeElement;\n        // @ts-expect-error\n        if (el && el.vmodel) {\n            trigger(el, 'input');\n        }\n    });\n}\nvar directive = {\n    inserted: function (el, binding, vnode, oldVnode) {\n        if (vnode.tag === 'select') {\n            // #6903\n            if (oldVnode.elm && !oldVnode.elm._vOptions) {\n                mergeVNodeHook(vnode, 'postpatch', function () {\n                    directive.componentUpdated(el, binding, vnode);\n                });\n            }\n            else {\n                setSelected(el, binding, vnode.context);\n            }\n            el._vOptions = [].map.call(el.options, getValue);\n        }\n        else if (vnode.tag === 'textarea' || isTextInputType(el.type)) {\n            el._vModifiers = binding.modifiers;\n            if (!binding.modifiers.lazy) {\n                el.addEventListener('compositionstart', onCompositionStart);\n                el.addEventListener('compositionend', onCompositionEnd);\n                // Safari < 10.2 & UIWebView doesn't fire compositionend when\n                // switching focus before confirming composition choice\n                // this also fixes the issue where some browsers e.g. iOS Chrome\n                // fires \"change\" instead of \"input\" on autocomplete.\n                el.addEventListener('change', onCompositionEnd);\n                /* istanbul ignore if */\n                if (isIE9) {\n                    el.vmodel = true;\n                }\n            }\n        }\n    },\n    componentUpdated: function (el, binding, vnode) {\n        if (vnode.tag === 'select') {\n            setSelected(el, binding, vnode.context);\n            // in case the options rendered by v-for have changed,\n            // it's possible that the value is out-of-sync with the rendered options.\n            // detect such cases and filter out values that no longer has a matching\n            // option in the DOM.\n            var prevOptions_1 = el._vOptions;\n            var curOptions_1 = (el._vOptions = [].map.call(el.options, getValue));\n            if (curOptions_1.some(function (o, i) { return !looseEqual(o, prevOptions_1[i]); })) {\n                // trigger change event if\n                // no matching option found for at least one value\n                var needReset = el.multiple\n                    ? binding.value.some(function (v) { return hasNoMatchingOption(v, curOptions_1); })\n                    : binding.value !== binding.oldValue &&\n                        hasNoMatchingOption(binding.value, curOptions_1);\n                if (needReset) {\n                    trigger(el, 'change');\n                }\n            }\n        }\n    }\n};\nfunction setSelected(el, binding, vm) {\n    actuallySetSelected(el, binding, vm);\n    /* istanbul ignore if */\n    if (isIE || isEdge) {\n        setTimeout(function () {\n            actuallySetSelected(el, binding, vm);\n        }, 0);\n    }\n}\nfunction actuallySetSelected(el, binding, vm) {\n    var value = binding.value;\n    var isMultiple = el.multiple;\n    if (isMultiple && !Array.isArray(value)) {\n        process.env.NODE_ENV !== 'production' &&\n            warn(\"<select multiple v-model=\\\"\".concat(binding.expression, \"\\\"> \") +\n                \"expects an Array value for its binding, but got \".concat(Object.prototype.toString\n                    .call(value)\n                    .slice(8, -1)), vm);\n        return;\n    }\n    var selected, option;\n    for (var i = 0, l = el.options.length; i < l; i++) {\n        option = el.options[i];\n        if (isMultiple) {\n            selected = looseIndexOf(value, getValue(option)) > -1;\n            if (option.selected !== selected) {\n                option.selected = selected;\n            }\n        }\n        else {\n            if (looseEqual(getValue(option), value)) {\n                if (el.selectedIndex !== i) {\n                    el.selectedIndex = i;\n                }\n                return;\n            }\n        }\n    }\n    if (!isMultiple) {\n        el.selectedIndex = -1;\n    }\n}\nfunction hasNoMatchingOption(value, options) {\n    return options.every(function (o) { return !looseEqual(o, value); });\n}\nfunction getValue(option) {\n    return '_value' in option ? option._value : option.value;\n}\nfunction onCompositionStart(e) {\n    e.target.composing = true;\n}\nfunction onCompositionEnd(e) {\n    // prevent triggering an input event for no reason\n    if (!e.target.composing)\n        return;\n    e.target.composing = false;\n    trigger(e.target, 'input');\n}\nfunction trigger(el, type) {\n    var e = document.createEvent('HTMLEvents');\n    e.initEvent(type, true, true);\n    el.dispatchEvent(e);\n}\n\n// recursively search for possible transition defined inside the component root\nfunction locateNode(vnode) {\n    // @ts-expect-error\n    return vnode.componentInstance && (!vnode.data || !vnode.data.transition)\n        ? locateNode(vnode.componentInstance._vnode)\n        : vnode;\n}\nvar show = {\n    bind: function (el, _a, vnode) {\n        var value = _a.value;\n        vnode = locateNode(vnode);\n        var transition = vnode.data && vnode.data.transition;\n        var originalDisplay = (el.__vOriginalDisplay =\n            el.style.display === 'none' ? '' : el.style.display);\n        if (value && transition) {\n            vnode.data.show = true;\n            enter(vnode, function () {\n                el.style.display = originalDisplay;\n            });\n        }\n        else {\n            el.style.display = value ? originalDisplay : 'none';\n        }\n    },\n    update: function (el, _a, vnode) {\n        var value = _a.value, oldValue = _a.oldValue;\n        /* istanbul ignore if */\n        if (!value === !oldValue)\n            return;\n        vnode = locateNode(vnode);\n        var transition = vnode.data && vnode.data.transition;\n        if (transition) {\n            vnode.data.show = true;\n            if (value) {\n                enter(vnode, function () {\n                    el.style.display = el.__vOriginalDisplay;\n                });\n            }\n            else {\n                leave(vnode, function () {\n                    el.style.display = 'none';\n                });\n            }\n        }\n        else {\n            el.style.display = value ? el.__vOriginalDisplay : 'none';\n        }\n    },\n    unbind: function (el, binding, vnode, oldVnode, isDestroy) {\n        if (!isDestroy) {\n            el.style.display = el.__vOriginalDisplay;\n        }\n    }\n};\n\nvar platformDirectives = {\n    model: directive,\n    show: show\n};\n\n// Provides transition support for a single element/component.\nvar transitionProps = {\n    name: String,\n    appear: Boolean,\n    css: Boolean,\n    mode: String,\n    type: String,\n    enterClass: String,\n    leaveClass: String,\n    enterToClass: String,\n    leaveToClass: String,\n    enterActiveClass: String,\n    leaveActiveClass: String,\n    appearClass: String,\n    appearActiveClass: String,\n    appearToClass: String,\n    duration: [Number, String, Object]\n};\n// in case the child is also an abstract component, e.g. <keep-alive>\n// we want to recursively retrieve the real component to be rendered\nfunction getRealChild(vnode) {\n    var compOptions = vnode && vnode.componentOptions;\n    if (compOptions && compOptions.Ctor.options.abstract) {\n        return getRealChild(getFirstComponentChild(compOptions.children));\n    }\n    else {\n        return vnode;\n    }\n}\nfunction extractTransitionData(comp) {\n    var data = {};\n    var options = comp.$options;\n    // props\n    for (var key in options.propsData) {\n        data[key] = comp[key];\n    }\n    // events.\n    // extract listeners and pass them directly to the transition methods\n    var listeners = options._parentListeners;\n    for (var key in listeners) {\n        data[camelize(key)] = listeners[key];\n    }\n    return data;\n}\nfunction placeholder(h, rawChild) {\n    // @ts-expect-error\n    if (/\\d-keep-alive$/.test(rawChild.tag)) {\n        return h('keep-alive', {\n            props: rawChild.componentOptions.propsData\n        });\n    }\n}\nfunction hasParentTransition(vnode) {\n    while ((vnode = vnode.parent)) {\n        if (vnode.data.transition) {\n            return true;\n        }\n    }\n}\nfunction isSameChild(child, oldChild) {\n    return oldChild.key === child.key && oldChild.tag === child.tag;\n}\nvar isNotTextNode = function (c) { return c.tag || isAsyncPlaceholder(c); };\nvar isVShowDirective = function (d) { return d.name === 'show'; };\nvar Transition = {\n    name: 'transition',\n    props: transitionProps,\n    abstract: true,\n    render: function (h) {\n        var _this = this;\n        var children = this.$slots.default;\n        if (!children) {\n            return;\n        }\n        // filter out text nodes (possible whitespaces)\n        children = children.filter(isNotTextNode);\n        /* istanbul ignore if */\n        if (!children.length) {\n            return;\n        }\n        // warn multiple elements\n        if (process.env.NODE_ENV !== 'production' && children.length > 1) {\n            warn('<transition> can only be used on a single element. Use ' +\n                '<transition-group> for lists.', this.$parent);\n        }\n        var mode = this.mode;\n        // warn invalid mode\n        if (process.env.NODE_ENV !== 'production' && mode && mode !== 'in-out' && mode !== 'out-in') {\n            warn('invalid <transition> mode: ' + mode, this.$parent);\n        }\n        var rawChild = children[0];\n        // if this is a component root node and the component's\n        // parent container node also has transition, skip.\n        if (hasParentTransition(this.$vnode)) {\n            return rawChild;\n        }\n        // apply transition data to child\n        // use getRealChild() to ignore abstract components e.g. keep-alive\n        var child = getRealChild(rawChild);\n        /* istanbul ignore if */\n        if (!child) {\n            return rawChild;\n        }\n        if (this._leaving) {\n            return placeholder(h, rawChild);\n        }\n        // ensure a key that is unique to the vnode type and to this transition\n        // component instance. This key will be used to remove pending leaving nodes\n        // during entering.\n        var id = \"__transition-\".concat(this._uid, \"-\");\n        child.key =\n            child.key == null\n                ? child.isComment\n                    ? id + 'comment'\n                    : id + child.tag\n                : isPrimitive(child.key)\n                    ? String(child.key).indexOf(id) === 0\n                        ? child.key\n                        : id + child.key\n                    : child.key;\n        var data = ((child.data || (child.data = {})).transition =\n            extractTransitionData(this));\n        var oldRawChild = this._vnode;\n        var oldChild = getRealChild(oldRawChild);\n        // mark v-show\n        // so that the transition module can hand over the control to the directive\n        if (child.data.directives && child.data.directives.some(isVShowDirective)) {\n            child.data.show = true;\n        }\n        if (oldChild &&\n            oldChild.data &&\n            !isSameChild(child, oldChild) &&\n            !isAsyncPlaceholder(oldChild) &&\n            // #6687 component root is a comment node\n            !(oldChild.componentInstance &&\n                oldChild.componentInstance._vnode.isComment)) {\n            // replace old child transition data with fresh one\n            // important for dynamic transitions!\n            var oldData = (oldChild.data.transition = extend({}, data));\n            // handle transition mode\n            if (mode === 'out-in') {\n                // return placeholder node and queue update when leave finishes\n                this._leaving = true;\n                mergeVNodeHook(oldData, 'afterLeave', function () {\n                    _this._leaving = false;\n                    _this.$forceUpdate();\n                });\n                return placeholder(h, rawChild);\n            }\n            else if (mode === 'in-out') {\n                if (isAsyncPlaceholder(child)) {\n                    return oldRawChild;\n                }\n                var delayedLeave_1;\n                var performLeave = function () {\n                    delayedLeave_1();\n                };\n                mergeVNodeHook(data, 'afterEnter', performLeave);\n                mergeVNodeHook(data, 'enterCancelled', performLeave);\n                mergeVNodeHook(oldData, 'delayLeave', function (leave) {\n                    delayedLeave_1 = leave;\n                });\n            }\n        }\n        return rawChild;\n    }\n};\n\n// Provides transition support for list items.\nvar props = extend({\n    tag: String,\n    moveClass: String\n}, transitionProps);\ndelete props.mode;\nvar TransitionGroup = {\n    props: props,\n    beforeMount: function () {\n        var _this = this;\n        var update = this._update;\n        this._update = function (vnode, hydrating) {\n            var restoreActiveInstance = setActiveInstance(_this);\n            // force removing pass\n            _this.__patch__(_this._vnode, _this.kept, false, // hydrating\n            true // removeOnly (!important, avoids unnecessary moves)\n            );\n            _this._vnode = _this.kept;\n            restoreActiveInstance();\n            update.call(_this, vnode, hydrating);\n        };\n    },\n    render: function (h) {\n        var tag = this.tag || this.$vnode.data.tag || 'span';\n        var map = Object.create(null);\n        var prevChildren = (this.prevChildren = this.children);\n        var rawChildren = this.$slots.default || [];\n        var children = (this.children = []);\n        var transitionData = extractTransitionData(this);\n        for (var i = 0; i < rawChildren.length; i++) {\n            var c = rawChildren[i];\n            if (c.tag) {\n                if (c.key != null && String(c.key).indexOf('__vlist') !== 0) {\n                    children.push(c);\n                    map[c.key] = c;\n                    (c.data || (c.data = {})).transition = transitionData;\n                }\n                else if (process.env.NODE_ENV !== 'production') {\n                    var opts = c.componentOptions;\n                    var name_1 = opts\n                        ? getComponentName(opts.Ctor.options) || opts.tag || ''\n                        : c.tag;\n                    warn(\"<transition-group> children must be keyed: <\".concat(name_1, \">\"));\n                }\n            }\n        }\n        if (prevChildren) {\n            var kept = [];\n            var removed = [];\n            for (var i = 0; i < prevChildren.length; i++) {\n                var c = prevChildren[i];\n                c.data.transition = transitionData;\n                // @ts-expect-error .getBoundingClientRect is not typed in Node\n                c.data.pos = c.elm.getBoundingClientRect();\n                if (map[c.key]) {\n                    kept.push(c);\n                }\n                else {\n                    removed.push(c);\n                }\n            }\n            this.kept = h(tag, null, kept);\n            this.removed = removed;\n        }\n        return h(tag, null, children);\n    },\n    updated: function () {\n        var children = this.prevChildren;\n        var moveClass = this.moveClass || (this.name || 'v') + '-move';\n        if (!children.length || !this.hasMove(children[0].elm, moveClass)) {\n            return;\n        }\n        // we divide the work into three loops to avoid mixing DOM reads and writes\n        // in each iteration - which helps prevent layout thrashing.\n        children.forEach(callPendingCbs);\n        children.forEach(recordPosition);\n        children.forEach(applyTranslation);\n        // force reflow to put everything in position\n        // assign to this to avoid being removed in tree-shaking\n        // $flow-disable-line\n        this._reflow = document.body.offsetHeight;\n        children.forEach(function (c) {\n            if (c.data.moved) {\n                var el_1 = c.elm;\n                var s = el_1.style;\n                addTransitionClass(el_1, moveClass);\n                s.transform = s.WebkitTransform = s.transitionDuration = '';\n                el_1.addEventListener(transitionEndEvent, (el_1._moveCb = function cb(e) {\n                    if (e && e.target !== el_1) {\n                        return;\n                    }\n                    if (!e || /transform$/.test(e.propertyName)) {\n                        el_1.removeEventListener(transitionEndEvent, cb);\n                        el_1._moveCb = null;\n                        removeTransitionClass(el_1, moveClass);\n                    }\n                }));\n            }\n        });\n    },\n    methods: {\n        hasMove: function (el, moveClass) {\n            /* istanbul ignore if */\n            if (!hasTransition) {\n                return false;\n            }\n            /* istanbul ignore if */\n            if (this._hasMove) {\n                return this._hasMove;\n            }\n            // Detect whether an element with the move class applied has\n            // CSS transitions. Since the element may be inside an entering\n            // transition at this very moment, we make a clone of it and remove\n            // all other transition classes applied to ensure only the move class\n            // is applied.\n            var clone = el.cloneNode();\n            if (el._transitionClasses) {\n                el._transitionClasses.forEach(function (cls) {\n                    removeClass(clone, cls);\n                });\n            }\n            addClass(clone, moveClass);\n            clone.style.display = 'none';\n            this.$el.appendChild(clone);\n            var info = getTransitionInfo(clone);\n            this.$el.removeChild(clone);\n            return (this._hasMove = info.hasTransform);\n        }\n    }\n};\nfunction callPendingCbs(c) {\n    /* istanbul ignore if */\n    if (c.elm._moveCb) {\n        c.elm._moveCb();\n    }\n    /* istanbul ignore if */\n    if (c.elm._enterCb) {\n        c.elm._enterCb();\n    }\n}\nfunction recordPosition(c) {\n    c.data.newPos = c.elm.getBoundingClientRect();\n}\nfunction applyTranslation(c) {\n    var oldPos = c.data.pos;\n    var newPos = c.data.newPos;\n    var dx = oldPos.left - newPos.left;\n    var dy = oldPos.top - newPos.top;\n    if (dx || dy) {\n        c.data.moved = true;\n        var s = c.elm.style;\n        s.transform = s.WebkitTransform = \"translate(\".concat(dx, \"px,\").concat(dy, \"px)\");\n        s.transitionDuration = '0s';\n    }\n}\n\nvar platformComponents = {\n    Transition: Transition,\n    TransitionGroup: TransitionGroup\n};\n\n// install platform specific utils\nVue.config.mustUseProp = mustUseProp;\nVue.config.isReservedTag = isReservedTag;\nVue.config.isReservedAttr = isReservedAttr;\nVue.config.getTagNamespace = getTagNamespace;\nVue.config.isUnknownElement = isUnknownElement;\n// install platform runtime directives & components\nextend(Vue.options.directives, platformDirectives);\nextend(Vue.options.components, platformComponents);\n// install platform patch function\nVue.prototype.__patch__ = inBrowser ? patch : noop;\n// public mount method\nVue.prototype.$mount = function (el, hydrating) {\n    el = el && inBrowser ? query(el) : undefined;\n    return mountComponent(this, el, hydrating);\n};\n// devtools global hook\n/* istanbul ignore next */\nif (inBrowser) {\n    setTimeout(function () {\n        if (config.devtools) {\n            if (devtools) {\n                devtools.emit('init', Vue);\n            }\n            else if (process.env.NODE_ENV !== 'production' && process.env.NODE_ENV !== 'test') {\n                // @ts-expect-error\n                console[console.info ? 'info' : 'log']('Download the Vue Devtools extension for a better development experience:\\n' +\n                    'https://github.com/vuejs/vue-devtools');\n            }\n        }\n        if (process.env.NODE_ENV !== 'production' &&\n            process.env.NODE_ENV !== 'test' &&\n            config.productionTip !== false &&\n            typeof console !== 'undefined') {\n            // @ts-expect-error\n            console[console.info ? 'info' : 'log'](\"You are running Vue in development mode.\\n\" +\n                \"Make sure to turn on production mode when deploying for production.\\n\" +\n                \"See more tips at https://vuejs.org/guide/deployment.html\");\n        }\n    }, 0);\n}\n\nexport { EffectScope, computed, customRef, Vue as default, defineAsyncComponent, defineComponent, del, effectScope, getCurrentInstance, getCurrentScope, h, inject, isProxy, isReactive, isReadonly, isRef, isShallow, markRaw, mergeDefaults, nextTick, onActivated, onBeforeMount, onBeforeUnmount, onBeforeUpdate, onDeactivated, onErrorCaptured, onMounted, onRenderTracked, onRenderTriggered, onScopeDispose, onServerPrefetch, onUnmounted, onUpdated, provide, proxyRefs, reactive, readonly, ref$1 as ref, set, shallowReactive, shallowReadonly, shallowRef, toRaw, toRef, toRefs, triggerRef, unref, useAttrs, useCssModule, useCssVars, useListeners, useSlots, version, watch, watchEffect, watchPostEffect, watchSyncEffect };\n","'use strict';\nvar toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\n\nvar max = Math.max;\nvar min = Math.min;\n\n// Helper for a popular repeating case of the spec:\n// Let integer be ? ToInteger(index).\n// If integer < 0, let result be max((length + integer), 0); else let result be min(integer, length).\nmodule.exports = function (index, length) {\n  var integer = toIntegerOrInfinity(index);\n  return integer < 0 ? max(integer + length, 0) : min(integer, length);\n};\n","'use strict';\nvar globalThis = require('../internals/global-this');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar uncurryThisAccessor = require('../internals/function-uncurry-this-accessor');\nvar toIndex = require('../internals/to-index');\nvar notDetached = require('../internals/array-buffer-not-detached');\nvar arrayBufferByteLength = require('../internals/array-buffer-byte-length');\nvar detachTransferable = require('../internals/detach-transferable');\nvar PROPER_STRUCTURED_CLONE_TRANSFER = require('../internals/structured-clone-proper-transfer');\n\nvar structuredClone = globalThis.structuredClone;\nvar ArrayBuffer = globalThis.ArrayBuffer;\nvar DataView = globalThis.DataView;\nvar min = Math.min;\nvar ArrayBufferPrototype = ArrayBuffer.prototype;\nvar DataViewPrototype = DataView.prototype;\nvar slice = uncurryThis(ArrayBufferPrototype.slice);\nvar isResizable = uncurryThisAccessor(ArrayBufferPrototype, 'resizable', 'get');\nvar maxByteLength = uncurryThisAccessor(ArrayBufferPrototype, 'maxByteLength', 'get');\nvar getInt8 = uncurryThis(DataViewPrototype.getInt8);\nvar setInt8 = uncurryThis(DataViewPrototype.setInt8);\n\nmodule.exports = (PROPER_STRUCTURED_CLONE_TRANSFER || detachTransferable) && function (arrayBuffer, newLength, preserveResizability) {\n  var byteLength = arrayBufferByteLength(arrayBuffer);\n  var newByteLength = newLength === undefined ? byteLength : toIndex(newLength);\n  var fixedLength = !isResizable || !isResizable(arrayBuffer);\n  var newBuffer;\n  notDetached(arrayBuffer);\n  if (PROPER_STRUCTURED_CLONE_TRANSFER) {\n    arrayBuffer = structuredClone(arrayBuffer, { transfer: [arrayBuffer] });\n    if (byteLength === newByteLength && (preserveResizability || fixedLength)) return arrayBuffer;\n  }\n  if (byteLength >= newByteLength && (!preserveResizability || fixedLength)) {\n    newBuffer = slice(arrayBuffer, 0, newByteLength);\n  } else {\n    var options = preserveResizability && !fixedLength && maxByteLength ? { maxByteLength: maxByteLength(arrayBuffer) } : undefined;\n    newBuffer = new ArrayBuffer(newByteLength, options);\n    var a = new DataView(arrayBuffer);\n    var b = new DataView(newBuffer);\n    var copyLength = min(newByteLength, byteLength);\n    for (var i = 0; i < copyLength; i++) setInt8(b, i, getInt8(a, i));\n  }\n  if (!PROPER_STRUCTURED_CLONE_TRANSFER) detachTransferable(arrayBuffer);\n  return newBuffer;\n};\n","'use strict';\nvar store = require('../internals/shared-store');\n\nmodule.exports = function (key, value) {\n  return store[key] || (store[key] = value || {});\n};\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\nvar createElement = require('../internals/document-create-element');\n\n// Thanks to IE8 for its funny defineProperty\nmodule.exports = !DESCRIPTORS && !fails(function () {\n  // eslint-disable-next-line es/no-object-defineproperty -- required for testing\n  return Object.defineProperty(createElement('div'), 'a', {\n    get: function () { return 7; }\n  }).a !== 7;\n});\n","'use strict';\nvar aCallable = require('../internals/a-callable');\nvar isNullOrUndefined = require('../internals/is-null-or-undefined');\n\n// `GetMethod` abstract operation\n// https://tc39.es/ecma262/#sec-getmethod\nmodule.exports = function (V, P) {\n  var func = V[P];\n  return isNullOrUndefined(func) ? undefined : aCallable(func);\n};\n","'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this-clause');\nvar aCallable = require('../internals/a-callable');\nvar NATIVE_BIND = require('../internals/function-bind-native');\n\nvar bind = uncurryThis(uncurryThis.bind);\n\n// optional / simple context binding\nmodule.exports = function (fn, that) {\n  aCallable(fn);\n  return that === undefined ? fn : NATIVE_BIND ? bind(fn, that) : function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n","'use strict';\nvar shared = require('../internals/shared');\nvar uid = require('../internals/uid');\n\nvar keys = shared('keys');\n\nmodule.exports = function (key) {\n  return keys[key] || (keys[key] = uid(key));\n};\n","'use strict';\nvar ENVIRONMENT = require('../internals/environment');\n\nmodule.exports = ENVIRONMENT === 'NODE';\n","'use strict';\nvar toLength = require('../internals/to-length');\n\n// `LengthOfArrayLike` abstract operation\n// https://tc39.es/ecma262/#sec-lengthofarraylike\nmodule.exports = function (obj) {\n  return toLength(obj.length);\n};\n","'use strict';\nmodule.exports = {};\n","'use strict';\nvar defineBuiltIn = require('../internals/define-built-in');\n\nmodule.exports = function (target, src, options) {\n  for (var key in src) defineBuiltIn(target, key, src[key], options);\n  return target;\n};\n","'use strict';\nvar anObject = require('../internals/an-object');\nvar iteratorClose = require('../internals/iterator-close');\n\n// call something on iterator step with safe closing on error\nmodule.exports = function (iterator, fn, value, ENTRIES) {\n  try {\n    return ENTRIES ? fn(anObject(value)[0], value[1]) : fn(value);\n  } catch (error) {\n    iteratorClose(iterator, 'throw', error);\n  }\n};\n","'use strict';\nmodule.exports = false;\n","'use strict';\nvar globalThis = require('../internals/global-this');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar defineBuiltIn = require('../internals/define-built-in');\nvar defineGlobalProperty = require('../internals/define-global-property');\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\nvar isForced = require('../internals/is-forced');\n\n/*\n  options.target         - name of the target object\n  options.global         - target is the global object\n  options.stat           - export as static methods of target\n  options.proto          - export as prototype methods of target\n  options.real           - real prototype method for the `pure` version\n  options.forced         - export even if the native feature is available\n  options.bind           - bind methods to the target, required for the `pure` version\n  options.wrap           - wrap constructors to preventing global pollution, required for the `pure` version\n  options.unsafe         - use the simple assignment of property instead of delete + defineProperty\n  options.sham           - add a flag to not completely full polyfills\n  options.enumerable     - export as enumerable property\n  options.dontCallGetSet - prevent calling a getter on target\n  options.name           - the .name of the function if it does not match the key\n*/\nmodule.exports = function (options, source) {\n  var TARGET = options.target;\n  var GLOBAL = options.global;\n  var STATIC = options.stat;\n  var FORCED, target, key, targetProperty, sourceProperty, descriptor;\n  if (GLOBAL) {\n    target = globalThis;\n  } else if (STATIC) {\n    target = globalThis[TARGET] || defineGlobalProperty(TARGET, {});\n  } else {\n    target = globalThis[TARGET] && globalThis[TARGET].prototype;\n  }\n  if (target) for (key in source) {\n    sourceProperty = source[key];\n    if (options.dontCallGetSet) {\n      descriptor = getOwnPropertyDescriptor(target, key);\n      targetProperty = descriptor && descriptor.value;\n    } else targetProperty = target[key];\n    FORCED = isForced(GLOBAL ? key : TARGET + (STATIC ? '.' : '#') + key, options.forced);\n    // contained in target\n    if (!FORCED && targetProperty !== undefined) {\n      if (typeof sourceProperty == typeof targetProperty) continue;\n      copyConstructorProperties(sourceProperty, targetProperty);\n    }\n    // add a flag to not completely full polyfills\n    if (options.sham || (targetProperty && targetProperty.sham)) {\n      createNonEnumerableProperty(sourceProperty, 'sham', true);\n    }\n    defineBuiltIn(target, key, sourceProperty, options);\n  }\n};\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar defineBuiltInAccessor = require('../internals/define-built-in-accessor');\nvar isDetached = require('../internals/array-buffer-is-detached');\n\nvar ArrayBufferPrototype = ArrayBuffer.prototype;\n\n// `ArrayBuffer.prototype.detached` getter\n// https://tc39.es/ecma262/#sec-get-arraybuffer.prototype.detached\nif (DESCRIPTORS && !('detached' in ArrayBufferPrototype)) {\n  defineBuiltInAccessor(ArrayBufferPrototype, 'detached', {\n    configurable: true,\n    get: function detached() {\n      return isDetached(this);\n    }\n  });\n}\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar definePropertyModule = require('../internals/object-define-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = DESCRIPTORS ? function (object, key, value) {\n  return definePropertyModule.f(object, key, createPropertyDescriptor(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n","'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar aCallable = require('../internals/a-callable');\n\nmodule.exports = function (object, key, method) {\n  try {\n    // eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\n    return uncurryThis(aCallable(Object.getOwnPropertyDescriptor(object, key)[method]));\n  } catch (error) { /* empty */ }\n};\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar V8_PROTOTYPE_DEFINE_BUG = require('../internals/v8-prototype-define-bug');\nvar definePropertyModule = require('../internals/object-define-property');\nvar anObject = require('../internals/an-object');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar objectKeys = require('../internals/object-keys');\n\n// `Object.defineProperties` method\n// https://tc39.es/ecma262/#sec-object.defineproperties\n// eslint-disable-next-line es/no-object-defineproperties -- safe\nexports.f = DESCRIPTORS && !V8_PROTOTYPE_DEFINE_BUG ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var props = toIndexedObject(Properties);\n  var keys = objectKeys(Properties);\n  var length = keys.length;\n  var index = 0;\n  var key;\n  while (length > index) definePropertyModule.f(O, key = keys[index++], props[key]);\n  return O;\n};\n","'use strict';\nvar $String = String;\n\nmodule.exports = function (argument) {\n  try {\n    return $String(argument);\n  } catch (error) {\n    return 'Object';\n  }\n};\n","'use strict';\nvar $TypeError = TypeError;\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF; // 2 ** 53 - 1 == 9007199254740991\n\nmodule.exports = function (it) {\n  if (it > MAX_SAFE_INTEGER) throw $TypeError('Maximum allowed index exceeded');\n  return it;\n};\n","'use strict';\nvar isCallable = require('../internals/is-callable');\nvar definePropertyModule = require('../internals/object-define-property');\nvar makeBuiltIn = require('../internals/make-built-in');\nvar defineGlobalProperty = require('../internals/define-global-property');\n\nmodule.exports = function (O, key, value, options) {\n  if (!options) options = {};\n  var simple = options.enumerable;\n  var name = options.name !== undefined ? options.name : key;\n  if (isCallable(value)) makeBuiltIn(value, name, options);\n  if (options.global) {\n    if (simple) O[key] = value;\n    else defineGlobalProperty(key, value);\n  } else {\n    try {\n      if (!options.unsafe) delete O[key];\n      else if (O[key]) simple = true;\n    } catch (error) { /* empty */ }\n    if (simple) O[key] = value;\n    else definePropertyModule.f(O, key, {\n      value: value,\n      enumerable: false,\n      configurable: !options.nonConfigurable,\n      writable: !options.nonWritable\n    });\n  } return O;\n};\n","'use strict';\nvar TO_STRING_TAG_SUPPORT = require('../internals/to-string-tag-support');\nvar isCallable = require('../internals/is-callable');\nvar classofRaw = require('../internals/classof-raw');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar $Object = Object;\n\n// ES3 wrong here\nvar CORRECT_ARGUMENTS = classofRaw(function () { return arguments; }()) === 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function (it, key) {\n  try {\n    return it[key];\n  } catch (error) { /* empty */ }\n};\n\n// getting tag from ES6+ `Object.prototype.toString`\nmodule.exports = TO_STRING_TAG_SUPPORT ? classofRaw : function (it) {\n  var O, tag, result;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (tag = tryGet(O = $Object(it), TO_STRING_TAG)) == 'string' ? tag\n    // builtinTag case\n    : CORRECT_ARGUMENTS ? classofRaw(O)\n    // ES3 arguments fallback\n    : (result = classofRaw(O)) === 'Object' && isCallable(O.callee) ? 'Arguments' : result;\n};\n","'use strict';\nvar toPrimitive = require('../internals/to-primitive');\nvar isSymbol = require('../internals/is-symbol');\n\n// `ToPropertyKey` abstract operation\n// https://tc39.es/ecma262/#sec-topropertykey\nmodule.exports = function (argument) {\n  var key = toPrimitive(argument, 'string');\n  return isSymbol(key) ? key : key + '';\n};\n","'use strict';\nmodule.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n","'use strict';\n/* eslint-disable es/no-symbol -- required for testing */\nvar NATIVE_SYMBOL = require('../internals/symbol-constructor-detection');\n\nmodule.exports = NATIVE_SYMBOL &&\n  !Symbol.sham &&\n  typeof Symbol.iterator == 'symbol';\n","'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar fails = require('../internals/fails');\nvar classof = require('../internals/classof-raw');\n\nvar $Object = Object;\nvar split = uncurryThis(''.split);\n\n// fallback for non-array-like ES3 and non-enumerable old V8 strings\nmodule.exports = fails(function () {\n  // throws an error in rhino, see https://github.com/mozilla/rhino/issues/346\n  // eslint-disable-next-line no-prototype-builtins -- safe\n  return !$Object('z').propertyIsEnumerable(0);\n}) ? function (it) {\n  return classof(it) === 'String' ? split(it, '') : $Object(it);\n} : $Object;\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar call = require('../internals/function-call');\nvar propertyIsEnumerableModule = require('../internals/object-property-is-enumerable');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar toPropertyKey = require('../internals/to-property-key');\nvar hasOwn = require('../internals/has-own-property');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\n\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar $getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// `Object.getOwnPropertyDescriptor` method\n// https://tc39.es/ecma262/#sec-object.getownpropertydescriptor\nexports.f = DESCRIPTORS ? $getOwnPropertyDescriptor : function getOwnPropertyDescriptor(O, P) {\n  O = toIndexedObject(O);\n  P = toPropertyKey(P);\n  if (IE8_DOM_DEFINE) try {\n    return $getOwnPropertyDescriptor(O, P);\n  } catch (error) { /* empty */ }\n  if (hasOwn(O, P)) return createPropertyDescriptor(!call(propertyIsEnumerableModule.f, O, P), O[P]);\n};\n","'use strict';\nvar globalThis = require('../internals/global-this');\nvar uncurryThisAccessor = require('../internals/function-uncurry-this-accessor');\nvar classof = require('../internals/classof-raw');\n\nvar ArrayBuffer = globalThis.ArrayBuffer;\nvar TypeError = globalThis.TypeError;\n\n// Includes\n// - Perform ? RequireInternalSlot(O, [[ArrayBufferData]]).\n// - If IsSharedArrayBuffer(O) is true, throw a TypeError exception.\nmodule.exports = ArrayBuffer && uncurryThisAccessor(ArrayBuffer.prototype, 'byteLength', 'get') || function (O) {\n  if (classof(O) !== 'ArrayBuffer') throw new TypeError('ArrayBuffer expected');\n  return O.byteLength;\n};\n","'use strict';\nvar classofRaw = require('../internals/classof-raw');\nvar uncurryThis = require('../internals/function-uncurry-this');\n\nmodule.exports = function (fn) {\n  // Nashorn bug:\n  //   https://github.com/zloirock/core-js/issues/1128\n  //   https://github.com/zloirock/core-js/issues/1130\n  if (classofRaw(fn) === 'Function') return uncurryThis(fn);\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar call = require('../internals/function-call');\nvar iterate = require('../internals/iterate');\nvar aCallable = require('../internals/a-callable');\nvar anObject = require('../internals/an-object');\nvar getIteratorDirect = require('../internals/get-iterator-direct');\nvar iteratorClose = require('../internals/iterator-close');\nvar iteratorHelperWithoutClosingOnEarlyError = require('../internals/iterator-helper-without-closing-on-early-error');\n\nvar forEachWithoutClosingOnEarlyError = iteratorHelperWithoutClosingOnEarlyError('forEach', TypeError);\n\n// `Iterator.prototype.forEach` method\n// https://tc39.es/ecma262/#sec-iterator.prototype.foreach\n$({ target: 'Iterator', proto: true, real: true, forced: forEachWithoutClosingOnEarlyError }, {\n  forEach: function forEach(fn) {\n    anObject(this);\n    try {\n      aCallable(fn);\n    } catch (error) {\n      iteratorClose(this, 'throw', error);\n    }\n\n    if (forEachWithoutClosingOnEarlyError) return call(forEachWithoutClosingOnEarlyError, this, fn);\n\n    var record = getIteratorDirect(this);\n    var counter = 0;\n    iterate(record, function (value) {\n      fn(value, counter++);\n    }, { IS_RECORD: true });\n  }\n});\n","'use strict';\nvar IS_PURE = require('../internals/is-pure');\nvar globalThis = require('../internals/global-this');\nvar defineGlobalProperty = require('../internals/define-global-property');\n\nvar SHARED = '__core-js_shared__';\nvar store = module.exports = globalThis[SHARED] || defineGlobalProperty(SHARED, {});\n\n(store.versions || (store.versions = [])).push({\n  version: '3.47.0',\n  mode: IS_PURE ? 'pure' : 'global',\n  copyright: ' 2014-2025 Denis Pushkarev (zloirock.ru), 2025 CoreJS Company (core-js.io)',\n  license: 'https://github.com/zloirock/core-js/blob/v3.47.0/LICENSE',\n  source: 'https://github.com/zloirock/core-js'\n});\n","'use strict';\nvar fails = require('../internals/fails');\nvar isCallable = require('../internals/is-callable');\nvar isObject = require('../internals/is-object');\nvar create = require('../internals/object-create');\nvar getPrototypeOf = require('../internals/object-get-prototype-of');\nvar defineBuiltIn = require('../internals/define-built-in');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar IS_PURE = require('../internals/is-pure');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar BUGGY_SAFARI_ITERATORS = false;\n\n// `%IteratorPrototype%` object\n// https://tc39.es/ecma262/#sec-%iteratorprototype%-object\nvar IteratorPrototype, PrototypeOfArrayIteratorPrototype, arrayIterator;\n\n/* eslint-disable es/no-array-prototype-keys -- safe */\nif ([].keys) {\n  arrayIterator = [].keys();\n  // Safari 8 has buggy iterators w/o `next`\n  if (!('next' in arrayIterator)) BUGGY_SAFARI_ITERATORS = true;\n  else {\n    PrototypeOfArrayIteratorPrototype = getPrototypeOf(getPrototypeOf(arrayIterator));\n    if (PrototypeOfArrayIteratorPrototype !== Object.prototype) IteratorPrototype = PrototypeOfArrayIteratorPrototype;\n  }\n}\n\nvar NEW_ITERATOR_PROTOTYPE = !isObject(IteratorPrototype) || fails(function () {\n  var test = {};\n  // FF44- legacy iterators case\n  return IteratorPrototype[ITERATOR].call(test) !== test;\n});\n\nif (NEW_ITERATOR_PROTOTYPE) IteratorPrototype = {};\nelse if (IS_PURE) IteratorPrototype = create(IteratorPrototype);\n\n// `%IteratorPrototype%[@@iterator]()` method\n// https://tc39.es/ecma262/#sec-%iteratorprototype%-@@iterator\nif (!isCallable(IteratorPrototype[ITERATOR])) {\n  defineBuiltIn(IteratorPrototype, ITERATOR, function () {\n    return this;\n  });\n}\n\nmodule.exports = {\n  IteratorPrototype: IteratorPrototype,\n  BUGGY_SAFARI_ITERATORS: BUGGY_SAFARI_ITERATORS\n};\n","'use strict';\nvar toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\nvar toLength = require('../internals/to-length');\n\nvar $RangeError = RangeError;\n\n// `ToIndex` abstract operation\n// https://tc39.es/ecma262/#sec-toindex\nmodule.exports = function (it) {\n  if (it === undefined) return 0;\n  var number = toIntegerOrInfinity(it);\n  var length = toLength(number);\n  if (number !== length) throw new $RangeError('Wrong length or index');\n  return length;\n};\n","'use strict';\nvar hasOwn = require('../internals/has-own-property');\nvar ownKeys = require('../internals/own-keys');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar definePropertyModule = require('../internals/object-define-property');\n\nmodule.exports = function (target, source, exceptions) {\n  var keys = ownKeys(source);\n  var defineProperty = definePropertyModule.f;\n  var getOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    if (!hasOwn(target, key) && !(exceptions && hasOwn(exceptions, key))) {\n      defineProperty(target, key, getOwnPropertyDescriptor(source, key));\n    }\n  }\n};\n","'use strict';\nvar isNullOrUndefined = require('../internals/is-null-or-undefined');\n\nvar $TypeError = TypeError;\n\n// `RequireObjectCoercible` abstract operation\n// https://tc39.es/ecma262/#sec-requireobjectcoercible\nmodule.exports = function (it) {\n  if (isNullOrUndefined(it)) throw new $TypeError(\"Can't call method on \" + it);\n  return it;\n};\n","'use strict';\nvar globalThis = require('../internals/global-this');\nvar isCallable = require('../internals/is-callable');\n\nvar aFunction = function (argument) {\n  return isCallable(argument) ? argument : undefined;\n};\n\nmodule.exports = function (namespace, method) {\n  return arguments.length < 2 ? aFunction(globalThis[namespace]) : globalThis[namespace] && globalThis[namespace][method];\n};\n","'use strict';\n// eslint-disable-next-line es/no-typed-arrays -- safe\nmodule.exports = typeof ArrayBuffer != 'undefined' && typeof DataView != 'undefined';\n","'use strict';\nvar $ = require('../internals/export');\nvar $transfer = require('../internals/array-buffer-transfer');\n\n// `ArrayBuffer.prototype.transferToFixedLength` method\n// https://tc39.es/ecma262/#sec-arraybuffer.prototype.transfertofixedlength\nif ($transfer) $({ target: 'ArrayBuffer', proto: true }, {\n  transferToFixedLength: function transferToFixedLength() {\n    return $transfer(this, arguments.length ? arguments[0] : undefined, false);\n  }\n});\n","'use strict';\nvar toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\n\nvar min = Math.min;\n\n// `ToLength` abstract operation\n// https://tc39.es/ecma262/#sec-tolength\nmodule.exports = function (argument) {\n  var len = toIntegerOrInfinity(argument);\n  return len > 0 ? min(len, 0x1FFFFFFFFFFFFF) : 0; // 2 ** 53 - 1 == 9007199254740991\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar $transfer = require('../internals/array-buffer-transfer');\n\n// `ArrayBuffer.prototype.transfer` method\n// https://tc39.es/ecma262/#sec-arraybuffer.prototype.transfer\nif ($transfer) $({ target: 'ArrayBuffer', proto: true }, {\n  transfer: function transfer() {\n    return $transfer(this, arguments.length ? arguments[0] : undefined, true);\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar globalThis = require('../internals/global-this');\nvar anInstance = require('../internals/an-instance');\nvar anObject = require('../internals/an-object');\nvar isCallable = require('../internals/is-callable');\nvar getPrototypeOf = require('../internals/object-get-prototype-of');\nvar defineBuiltInAccessor = require('../internals/define-built-in-accessor');\nvar createProperty = require('../internals/create-property');\nvar fails = require('../internals/fails');\nvar hasOwn = require('../internals/has-own-property');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar IteratorPrototype = require('../internals/iterators-core').IteratorPrototype;\nvar DESCRIPTORS = require('../internals/descriptors');\nvar IS_PURE = require('../internals/is-pure');\n\nvar CONSTRUCTOR = 'constructor';\nvar ITERATOR = 'Iterator';\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\n\nvar $TypeError = TypeError;\nvar NativeIterator = globalThis[ITERATOR];\n\n// FF56- have non-standard global helper `Iterator`\nvar FORCED = IS_PURE\n  || !isCallable(NativeIterator)\n  || NativeIterator.prototype !== IteratorPrototype\n  // FF44- non-standard `Iterator` passes previous tests\n  || !fails(function () { NativeIterator({}); });\n\nvar IteratorConstructor = function Iterator() {\n  anInstance(this, IteratorPrototype);\n  if (getPrototypeOf(this) === IteratorPrototype) throw new $TypeError('Abstract class Iterator not directly constructable');\n};\n\nvar defineIteratorPrototypeAccessor = function (key, value) {\n  if (DESCRIPTORS) {\n    defineBuiltInAccessor(IteratorPrototype, key, {\n      configurable: true,\n      get: function () {\n        return value;\n      },\n      set: function (replacement) {\n        anObject(this);\n        if (this === IteratorPrototype) throw new $TypeError(\"You can't redefine this property\");\n        if (hasOwn(this, key)) this[key] = replacement;\n        else createProperty(this, key, replacement);\n      }\n    });\n  } else IteratorPrototype[key] = value;\n};\n\nif (!hasOwn(IteratorPrototype, TO_STRING_TAG)) defineIteratorPrototypeAccessor(TO_STRING_TAG, ITERATOR);\n\nif (FORCED || !hasOwn(IteratorPrototype, CONSTRUCTOR) || IteratorPrototype[CONSTRUCTOR] === Object) {\n  defineIteratorPrototypeAccessor(CONSTRUCTOR, IteratorConstructor);\n}\n\nIteratorConstructor.prototype = IteratorPrototype;\n\n// `Iterator` constructor\n// https://tc39.es/ecma262/#sec-iterator\n$({ global: true, constructor: true, forced: FORCED }, {\n  Iterator: IteratorConstructor\n});\n","'use strict';\nvar globalThis = require('../internals/global-this');\nvar shared = require('../internals/shared');\nvar hasOwn = require('../internals/has-own-property');\nvar uid = require('../internals/uid');\nvar NATIVE_SYMBOL = require('../internals/symbol-constructor-detection');\nvar USE_SYMBOL_AS_UID = require('../internals/use-symbol-as-uid');\n\nvar Symbol = globalThis.Symbol;\nvar WellKnownSymbolsStore = shared('wks');\nvar createWellKnownSymbol = USE_SYMBOL_AS_UID ? Symbol['for'] || Symbol : Symbol && Symbol.withoutSetter || uid;\n\nmodule.exports = function (name) {\n  if (!hasOwn(WellKnownSymbolsStore, name)) {\n    WellKnownSymbolsStore[name] = NATIVE_SYMBOL && hasOwn(Symbol, name)\n      ? Symbol[name]\n      : createWellKnownSymbol('Symbol.' + name);\n  } return WellKnownSymbolsStore[name];\n};\n","'use strict';\nvar internalObjectKeys = require('../internals/object-keys-internal');\nvar enumBugKeys = require('../internals/enum-bug-keys');\n\nvar hiddenKeys = enumBugKeys.concat('length', 'prototype');\n\n// `Object.getOwnPropertyNames` method\n// https://tc39.es/ecma262/#sec-object.getownpropertynames\n// eslint-disable-next-line es/no-object-getownpropertynames -- safe\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return internalObjectKeys(O, hiddenKeys);\n};\n","'use strict';\nvar isObject = require('../internals/is-object');\n\nvar $String = String;\nvar $TypeError = TypeError;\n\n// `Assert: Type(argument) is Object`\nmodule.exports = function (argument) {\n  if (isObject(argument)) return argument;\n  throw new $TypeError($String(argument) + ' is not an object');\n};\n","'use strict';\nvar globalThis = require('../internals/global-this');\nvar isCallable = require('../internals/is-callable');\n\nvar WeakMap = globalThis.WeakMap;\n\nmodule.exports = isCallable(WeakMap) && /native code/.test(String(WeakMap));\n","'use strict';\nvar call = require('../internals/function-call');\nvar anObject = require('../internals/an-object');\nvar getIteratorDirect = require('../internals/get-iterator-direct');\nvar getIteratorMethod = require('../internals/get-iterator-method');\n\nmodule.exports = function (obj, stringHandling) {\n  if (!stringHandling || typeof obj !== 'string') anObject(obj);\n  var method = getIteratorMethod(obj);\n  return getIteratorDirect(anObject(method !== undefined ? call(method, obj) : obj));\n};\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\n\n// V8 ~ Chrome 36-\n// https://bugs.chromium.org/p/v8/issues/detail?id=3334\nmodule.exports = DESCRIPTORS && fails(function () {\n  // eslint-disable-next-line es/no-object-defineproperty -- required for testing\n  return Object.defineProperty(function () { /* empty */ }, 'prototype', {\n    value: 42,\n    writable: false\n  }).prototype !== 42;\n});\n","'use strict';\n// IE8- don't enum bug keys\nmodule.exports = [\n  'constructor',\n  'hasOwnProperty',\n  'isPrototypeOf',\n  'propertyIsEnumerable',\n  'toLocaleString',\n  'toString',\n  'valueOf'\n];\n","'use strict';\nvar $propertyIsEnumerable = {}.propertyIsEnumerable;\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// Nashorn ~ JDK8 bug\nvar NASHORN_BUG = getOwnPropertyDescriptor && !$propertyIsEnumerable.call({ 1: 2 }, 1);\n\n// `Object.prototype.propertyIsEnumerable` method implementation\n// https://tc39.es/ecma262/#sec-object.prototype.propertyisenumerable\nexports.f = NASHORN_BUG ? function propertyIsEnumerable(V) {\n  var descriptor = getOwnPropertyDescriptor(this, V);\n  return !!descriptor && descriptor.enumerable;\n} : $propertyIsEnumerable;\n","'use strict';\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\nvar $Object = Object;\n\n// `ToObject` abstract operation\n// https://tc39.es/ecma262/#sec-toobject\nmodule.exports = function (argument) {\n  return $Object(requireObjectCoercible(argument));\n};\n","'use strict';\nmodule.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (error) {\n    return true;\n  }\n};\n","'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar toObject = require('../internals/to-object');\n\nvar hasOwnProperty = uncurryThis({}.hasOwnProperty);\n\n// `HasOwnProperty` abstract operation\n// https://tc39.es/ecma262/#sec-hasownproperty\n// eslint-disable-next-line es/no-object-hasown -- safe\nmodule.exports = Object.hasOwn || function hasOwn(it, key) {\n  return hasOwnProperty(toObject(it), key);\n};\n","'use strict';\nvar isCallable = require('../internals/is-callable');\nvar tryToString = require('../internals/try-to-string');\n\nvar $TypeError = TypeError;\n\n// `Assert: IsCallable(argument) is true`\nmodule.exports = function (argument) {\n  if (isCallable(argument)) return argument;\n  throw new $TypeError(tryToString(argument) + ' is not a function');\n};\n","'use strict';\nvar globalThis = require('../internals/global-this');\nvar IS_NODE = require('../internals/environment-is-node');\n\nmodule.exports = function (name) {\n  if (IS_NODE) {\n    try {\n      return globalThis.process.getBuiltinModule(name);\n    } catch (error) { /* empty */ }\n    try {\n      // eslint-disable-next-line no-new-func -- safe\n      return Function('return require(\"' + name + '\")')();\n    } catch (error) { /* empty */ }\n  }\n};\n","'use strict';\nvar globalThis = require('../internals/global-this');\n\n// eslint-disable-next-line es/no-object-defineproperty -- safe\nvar defineProperty = Object.defineProperty;\n\nmodule.exports = function (key, value) {\n  try {\n    defineProperty(globalThis, key, { value: value, configurable: true, writable: true });\n  } catch (error) {\n    globalThis[key] = value;\n  } return value;\n};\n","'use strict';\nvar call = require('../internals/function-call');\nvar create = require('../internals/object-create');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar defineBuiltIns = require('../internals/define-built-ins');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar InternalStateModule = require('../internals/internal-state');\nvar getMethod = require('../internals/get-method');\nvar IteratorPrototype = require('../internals/iterators-core').IteratorPrototype;\nvar createIterResultObject = require('../internals/create-iter-result-object');\nvar iteratorClose = require('../internals/iterator-close');\nvar iteratorCloseAll = require('../internals/iterator-close-all');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar ITERATOR_HELPER = 'IteratorHelper';\nvar WRAP_FOR_VALID_ITERATOR = 'WrapForValidIterator';\nvar NORMAL = 'normal';\nvar THROW = 'throw';\nvar setInternalState = InternalStateModule.set;\n\nvar createIteratorProxyPrototype = function (IS_ITERATOR) {\n  var getInternalState = InternalStateModule.getterFor(IS_ITERATOR ? WRAP_FOR_VALID_ITERATOR : ITERATOR_HELPER);\n\n  return defineBuiltIns(create(IteratorPrototype), {\n    next: function next() {\n      var state = getInternalState(this);\n      // for simplification:\n      //   for `%WrapForValidIteratorPrototype%.next` or with `state.returnHandlerResult` our `nextHandler` returns `IterResultObject`\n      //   for `%IteratorHelperPrototype%.next` - just a value\n      if (IS_ITERATOR) return state.nextHandler();\n      if (state.done) return createIterResultObject(undefined, true);\n      try {\n        var result = state.nextHandler();\n        return state.returnHandlerResult ? result : createIterResultObject(result, state.done);\n      } catch (error) {\n        state.done = true;\n        throw error;\n      }\n    },\n    'return': function () {\n      var state = getInternalState(this);\n      var iterator = state.iterator;\n      state.done = true;\n      if (IS_ITERATOR) {\n        var returnMethod = getMethod(iterator, 'return');\n        return returnMethod ? call(returnMethod, iterator) : createIterResultObject(undefined, true);\n      }\n      if (state.inner) try {\n        iteratorClose(state.inner.iterator, NORMAL);\n      } catch (error) {\n        return iteratorClose(iterator, THROW, error);\n      }\n      if (state.openIters) try {\n        iteratorCloseAll(state.openIters, NORMAL);\n      } catch (error) {\n        return iteratorClose(iterator, THROW, error);\n      }\n      if (iterator) iteratorClose(iterator, NORMAL);\n      return createIterResultObject(undefined, true);\n    }\n  });\n};\n\nvar WrapForValidIteratorPrototype = createIteratorProxyPrototype(true);\nvar IteratorHelperPrototype = createIteratorProxyPrototype(false);\n\ncreateNonEnumerableProperty(IteratorHelperPrototype, TO_STRING_TAG, 'Iterator Helper');\n\nmodule.exports = function (nextHandler, IS_ITERATOR, RETURN_HANDLER_RESULT) {\n  var IteratorProxy = function Iterator(record, state) {\n    if (state) {\n      state.iterator = record.iterator;\n      state.next = record.next;\n    } else state = record;\n    state.type = IS_ITERATOR ? WRAP_FOR_VALID_ITERATOR : ITERATOR_HELPER;\n    state.returnHandlerResult = !!RETURN_HANDLER_RESULT;\n    state.nextHandler = nextHandler;\n    state.counter = 0;\n    state.done = false;\n    setInternalState(this, state);\n  };\n\n  IteratorProxy.prototype = IS_ITERATOR ? WrapForValidIteratorPrototype : IteratorHelperPrototype;\n\n  return IteratorProxy;\n};\n","'use strict';\nvar NATIVE_BIND = require('../internals/function-bind-native');\n\nvar FunctionPrototype = Function.prototype;\nvar call = FunctionPrototype.call;\n// eslint-disable-next-line es/no-function-prototype-bind -- safe\nvar uncurryThisWithBind = NATIVE_BIND && FunctionPrototype.bind.bind(call, call);\n\nmodule.exports = NATIVE_BIND ? uncurryThisWithBind : function (fn) {\n  return function () {\n    return call.apply(fn, arguments);\n  };\n};\n","'use strict';\nvar globalThis = require('../internals/global-this');\nvar userAgent = require('../internals/environment-user-agent');\n\nvar process = globalThis.process;\nvar Deno = globalThis.Deno;\nvar versions = process && process.versions || Deno && Deno.version;\nvar v8 = versions && versions.v8;\nvar match, version;\n\nif (v8) {\n  match = v8.split('.');\n  // in old Chrome, versions of V8 isn't V8 = Chrome / 10\n  // but their correct versions are not interesting for us\n  version = match[0] > 0 && match[0] < 4 ? 1 : +(match[0] + match[1]);\n}\n\n// BrowserFS NodeJS `process` polyfill incorrectly set `.v8` to `0.0`\n// so check `userAgent` even if `.v8` exists, but 0\nif (!version && userAgent) {\n  match = userAgent.match(/Edge\\/(\\d+)/);\n  if (!match || match[1] >= 74) {\n    match = userAgent.match(/Chrome\\/(\\d+)/);\n    if (match) version = +match[1];\n  }\n}\n\nmodule.exports = version;\n","'use strict';\nvar call = require('../internals/function-call');\nvar anObject = require('../internals/an-object');\nvar getMethod = require('../internals/get-method');\n\nmodule.exports = function (iterator, kind, value) {\n  var innerResult, innerError;\n  anObject(iterator);\n  try {\n    innerResult = getMethod(iterator, 'return');\n    if (!innerResult) {\n      if (kind === 'throw') throw value;\n      return value;\n    }\n    innerResult = call(innerResult, iterator);\n  } catch (error) {\n    innerError = true;\n    innerResult = error;\n  }\n  if (kind === 'throw') throw value;\n  if (innerError) throw innerResult;\n  anObject(innerResult);\n  return value;\n};\n","'use strict';\nvar NATIVE_BIND = require('../internals/function-bind-native');\n\nvar call = Function.prototype.call;\n// eslint-disable-next-line es/no-function-prototype-bind -- safe\nmodule.exports = NATIVE_BIND ? call.bind(call) : function () {\n  return call.apply(call, arguments);\n};\n","'use strict';\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\n\n// `Array.prototype.{ indexOf, includes }` methods implementation\nvar createMethod = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIndexedObject($this);\n    var length = lengthOfArrayLike(O);\n    if (length === 0) return !IS_INCLUDES && -1;\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare -- NaN check\n    if (IS_INCLUDES && el !== el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare -- NaN check\n      if (value !== value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) {\n      if ((IS_INCLUDES || index in O) && O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.includes` method\n  // https://tc39.es/ecma262/#sec-array.prototype.includes\n  includes: createMethod(true),\n  // `Array.prototype.indexOf` method\n  // https://tc39.es/ecma262/#sec-array.prototype.indexof\n  indexOf: createMethod(false)\n};\n"],"names":["isCallable","module","exports","it","call","aCallable","anObject","tryToString","getIteratorMethod","$TypeError","TypeError","argument","usingIterator","iteratorMethod","arguments","length","$","iterate","getIteratorDirect","iteratorClose","iteratorHelperWithoutClosingOnEarlyError","findWithoutClosingOnEarlyError","target","proto","real","forced","find","predicate","this","error","record","counter","value","stop","IS_RECORD","INTERRUPTED","result","uncurryThis","fails","hasOwn","DESCRIPTORS","CONFIGURABLE_FUNCTION_NAME","inspectSource","InternalStateModule","enforceInternalState","enforce","getInternalState","get","$String","String","defineProperty","Object","stringSlice","slice","replace","join","CONFIGURABLE_LENGTH","TEMPLATE","split","makeBuiltIn","name","options","getter","setter","configurable","arity","constructor","writable","prototype","undefined","state","source","Function","toString","FunctionPrototype","getDescriptor","getOwnPropertyDescriptor","EXISTS","PROPER","CONFIGURABLE","getBuiltIn","getIteratorFlattenable","createIteratorProxy","IS_PURE","iteratorHelperThrowsOnInvalidIterator","FLAT_MAP_WITHOUT_THROWING_ON_INVALID_ITERATOR","flatMapWithoutClosingOnEarlyError","FORCED","IteratorProxy","inner","iterator","mapper","next","done","flatMap","test","bind","hasOwnProperty","isPrototypeOf","Prototype","methodName","method","Iterator","ceil","Math","floor","trunc","x","n","USE_SYMBOL_AS_UID","$Object","$Symbol","classof","getMethod","isNullOrUndefined","Iterators","wellKnownSymbol","ITERATOR","internalObjectKeys","enumBugKeys","keys","O","d","definition","key","o","enumerable","obj","prop","isNodeJS","process","versions","nw","electron","type","FONT_IDENTITY_MATRIX","LINE_FACTOR","RenderingIntentFlag","ANY","DISPLAY","PRINT","SAVE","ANNOTATIONS_FORMS","ANNOTATIONS_STORAGE","ANNOTATIONS_DISABLE","IS_EDITING","OPLIST","AnnotationMode","DISABLE","ENABLE","ENABLE_FORMS","ENABLE_STORAGE","AnnotationEditorPrefix","AnnotationEditorType","NONE","FREETEXT","HIGHLIGHT","STAMP","INK","POPUP","SIGNATURE","COMMENT","AnnotationEditorParamsType","RESIZE","CREATE","FREETEXT_SIZE","FREETEXT_COLOR","FREETEXT_OPACITY","INK_COLOR","INK_THICKNESS","INK_OPACITY","HIGHLIGHT_COLOR","HIGHLIGHT_THICKNESS","HIGHLIGHT_FREE","HIGHLIGHT_SHOW_ALL","DRAW_STEP","PermissionFlag","MODIFY_CONTENTS","COPY","MODIFY_ANNOTATIONS","FILL_INTERACTIVE_FORMS","COPY_FOR_ACCESSIBILITY","ASSEMBLE","PRINT_HIGH_QUALITY","MeshFigureType","TRIANGLES","LATTICE","PATCH","TextRenderingMode","FILL","STROKE","FILL_STROKE","INVISIBLE","FILL_ADD_TO_PATH","STROKE_ADD_TO_PATH","FILL_STROKE_ADD_TO_PATH","ADD_TO_PATH","FILL_STROKE_MASK","ADD_TO_PATH_FLAG","util_ImageKind","GRAYSCALE_1BPP","RGB_24BPP","RGBA_32BPP","AnnotationType","TEXT","LINK","LINE","SQUARE","CIRCLE","POLYGON","POLYLINE","UNDERLINE","SQUIGGLY","STRIKEOUT","CARET","FILEATTACHMENT","SOUND","MOVIE","WIDGET","SCREEN","PRINTERMARK","TRAPNET","WATERMARK","THREED","REDACT","AnnotationBorderStyleType","SOLID","DASHED","BEVELED","INSET","VerbosityLevel","ERRORS","WARNINGS","INFOS","OPS","dependency","setLineWidth","setLineCap","setLineJoin","setMiterLimit","setDash","setRenderingIntent","setFlatness","setGState","save","restore","transform","moveTo","lineTo","curveTo","curveTo2","curveTo3","closePath","rectangle","stroke","closeStroke","fill","eoFill","fillStroke","eoFillStroke","closeFillStroke","closeEOFillStroke","endPath","clip","eoClip","beginText","endText","setCharSpacing","setWordSpacing","setHScale","setLeading","setFont","setTextRenderingMode","setTextRise","moveText","setLeadingMoveText","setTextMatrix","nextLine","showText","showSpacedText","nextLineShowText","nextLineSetSpacingShowText","setCharWidth","setCharWidthAndBounds","setStrokeColorSpace","setFillColorSpace","setStrokeColor","setStrokeColorN","setFillColor","setFillColorN","setStrokeGray","setFillGray","setStrokeRGBColor","setFillRGBColor","setStrokeCMYKColor","setFillCMYKColor","shadingFill","beginInlineImage","beginImageData","endInlineImage","paintXObject","markPoint","markPointProps","beginMarkedContent","beginMarkedContentProps","endMarkedContent","beginCompat","endCompat","paintFormXObjectBegin","paintFormXObjectEnd","beginGroup","endGroup","beginAnnotation","endAnnotation","paintImageMaskXObject","paintImageMaskXObjectGroup","paintImageXObject","paintInlineImageXObject","paintInlineImageXObjectGroup","paintImageXObjectRepeat","paintImageMaskXObjectRepeat","paintSolidColorImageMask","constructPath","setStrokeTransparent","setFillTransparent","rawFillPath","DrawOPS","quadraticCurveTo","PasswordResponses","NEED_PASSWORD","INCORRECT_PASSWORD","verbosity","setVerbosityLevel","level","Number","isInteger","getVerbosityLevel","info","msg","console","warn","unreachable","Error","assert","cond","_isValidProtocol","url","protocol","createValidAbsoluteUrl","baseUrl","addDefaultProtocol","startsWith","dots","match","tryConvertEncoding","stringToUTF8String","absoluteUrl","URL","parse","updateUrlHash","hash","allowRel","res","href","shadow","nonSerializable","BaseException","message","PasswordException","code","super","UnknownErrorException","details","InvalidPDFException","ResponseException","status","missing","FormatError","AbortException","bytesToString","bytes","MAX_ARGUMENT_COUNT","fromCharCode","apply","strBuf","i","chunkEnd","min","chunk","subarray","push","stringToBytes","str","Uint8Array","charCodeAt","string32","isLittleEndian","buffer8","view32","Uint32Array","buffer","isEvalSupported","util_FeatureTest","isOffscreenCanvasSupported","OffscreenCanvas","isImageDecoderSupported","ImageDecoder","isFloat16ArraySupported","Float16Array","isSanitizerSupported","Sanitizer","platform","userAgent","navigator","isAndroid","includes","isLinux","isMac","isWindows","isFirefox","isCSSRoundSupported","globalThis","CSS","supports","hexNumbers","Array","from","padStart","Util","makeHexColor","r","g","b","domMatrixToTransform","dm","a","c","e","f","scaleMinMax","minMax","temp","m1","m2","multiplyByDOMMatrix","m","md","applyTransform","p","pos","p0","p1","applyTransformToBezier","m0","m3","m4","m5","pI","pI1","applyInverseTransform","axialAlignedBoundingBox","rect","output","r0","r1","r2","r3","a0","a2","a1","a3","b0","b2","b1","b3","m1r0","m1r2","m2r1","m2r3","max","inverseTransform","singularValueDecompose2dScale","matrix","first","second","sqrt","normalizeRect","intersect","rect1","rect2","xLow","xHigh","yLow","yHigh","pointBoundingBox","y","rectBoundingBox","x0","y0","x1","y1","x2","x3","y2","y3","t","mt","tt","ttt","abs","delta","sqrtDelta","bezierBoundingBox","decodeURIComponent","escape","NormalizeRegex","NormalizationMap","normalizeUnicode","Map","replaceAll","_","p2","normalize","getUuid","crypto","randomUUID","buf","getRandomValues","AnnotationPrefix","_isValidExplicitDest","validRef","validName","dest","isArray","page","zoom","args","argsLen","allowNull","arg","MathClamp","v","toBase64Util","arr","toBase64","btoa","fromBase64Util","fromBase64","atob","Promise","try","fn","resolve","sumPrecise","numbers","reduce","XfaText","textContent","xfa","items","styles","create","walk","node","shouldBuildText","attributes","children","child","XfaLayer","setupStorage","html","id","element","storage","intent","storedData","getValue","addEventListener","event","setValue","xfaOn","setAttribute","xfaOff","removeAttribute","checked","getAttribute","option","selected","selectedIndex","setAttributes","linkService","isHTMLAnchorElement","HTMLAnchorElement","entries","assign","style","addLinkAttributes","newWindow","dataId","render","parameters","annotationStorage","root","xfaHtml","rootHtml","document","createElement","isNotForRichText","rootDiv","div","append","viewport","textDivs","createTextNode","stack","parent","at","pop","childHtml","xmlns","createElementNS","el","querySelectorAll","update","hidden","SVG_NS","PixelsPerInch","static","PDF","async","fetchData","isValidFetchUrl","baseURI","response","fetch","ok","statusText","arrayBuffer","blob","json","text","reject","request","XMLHttpRequest","open","responseType","onreadystatechange","readyState","DONE","responseText","send","PageViewport","viewBox","userUnit","scale","rotation","offsetX","offsetY","dontFlip","centerX","centerY","rotateA","rotateB","rotateC","rotateD","offsetCanvasX","offsetCanvasY","width","height","rawDims","dims","pageWidth","pageHeight","pageX","pageY","clone","convertToViewportPoint","convertToViewportRectangle","topLeft","bottomRight","convertToPdfPoint","RenderingCancelledException","extraDelay","isDataScheme","ii","trim","substring","toLowerCase","isPdfFile","filename","getFilenameFromUrl","lastIndexOf","getPdfFilenameFromUrl","defaultFilename","getURL","urlString","newURL","decode","decoded","pdfRegex","pathname","searchParams","size","values","reverse","reFilename","hashFilename","exec","StatTimer","started","times","time","Date","now","timeEnd","start","end","outBuf","longest","padEnd","noContextMenu","preventDefault","stopEvent","stopPropagation","deprecated","log","PDFDateString","toDateObject","input","RegExp","matches","year","parseInt","month","day","hour","minute","universalTimeRelation","offsetHour","offsetMinute","UTC","getXfaPageViewport","xfaPage","getRGB","color","colorRGB","map","getColorValues","colors","span","visibility","colorScheme","body","computedColor","window","getComputedStyle","set","remove","getCurrentTransform","ctx","getTransform","getCurrentTransformInverse","invertSelf","setLayerDimensions","mustFlip","mustRotate","useRound","w","h","widthStr","heightStr","OutputScale","pixelRatio","sx","sy","scaled","symmetric","limitCanvas","maxPixels","maxDim","capAreaFactor","maxAreaScale","Infinity","maxWidthScale","maxHeightScale","capPixels","maxScale","devicePixelRatio","winPixels","screen","availWidth","availHeight","SupportedImageMimeTypes","ColorScheme","isDarkMode","matchMedia","CSSConstants","commentForegroundColor","classList","add","display","applyOpacity","opacity","white","round","RGBToHSL","rgb","l","HSLToRGB","hsl","s","computeLuminance","contrastRatio","hsl1","hsl2","lum1","lum2","contrastCache","findContrastColor","baseColor","fixedColor","cachedValue","array","Float32Array","baseHSL","fixedHSL","isFixedColorDark","minContrast","PRECISION","mid","renderRichText","dir","className","container","fragment","createDocumentFragment","lines","line","firstElementChild","makePathFromDrawOPS","data","path","Path2D","bezierCurveTo","EditorToolbar","editor","freeze","freetext","highlight","ink","stamp","signature","editToolbar","signal","_uiManager","_signal","AbortSignal","aborted","buttons","position","toolbarPosition","direction","insetInlineEnd","top","_focusEventsAllowed","capture","hide","hideDropdown","show","shown","addDeleteButton","editorType","button","tabIndex","delete","divider","addAltText","altText","addComment","comment","beforeElement","renderForToolbar","insertBefore","toolbar","addColorPicker","colorPicker","renderButton","addEditSignatureButton","signatureManager","renderEditButton","removeButton","removeToolbarCommentButton","addButton","tool","addButtonBefore","beforeSelector","querySelector","updateEditSignatureButton","description","title","destroy","FloatingToolbar","uiManager","hasCommentManager","commentSelection","highlightSelection","boxes","isLTR","lastY","lastX","box","buttonClass","l10nId","labelL10nId","clickHandler","bindEvents","names","CurrentPointers","NaN","initializeAndAddPointerId","pointerId","Set","setPointer","pointerType","setTimeStamp","timeStamp","isSamePointerId","isSamePointerIdOrRemove","isSamePointerType","isInitializedAndDifferentPointerType","isSameTimeStamp","isUsingMultiplePointers","clearPointerType","clearPointerIds","clearTimeStamp","IdManager","ImageManager","_isSVGFittingCanvas","svg","canvas","getContext","willReadFrequently","image","Image","src","promise","then","drawImage","getImageData","rawData","bitmap","refCounter","isSvg","File","file","Blob","mustRemoveAspectRatioPromise","fileReader","FileReader","imageElement","imagePromise","onload","svgUrl","onerror","readAsDataURL","createImageBitmap","getFromFile","lastModified","getFromUrl","getFromBlob","blobPromise","getFromId","getFromCanvas","offscreen","transferToImageBitmap","getSvgUrl","deleteId","transferFromImageBitmap","convertToBlob","close","isValidId","CommandManager","maxSize","cmd","undo","post","mustExec","overwriteIfSameType","keepUndo","splice","redo","hasSomethingToUndo","hasSomethingToRedo","cleanType","KeyboardManager","callbacks","allKeys","callback","isMacKey","altKey","ctrlKey","metaKey","shiftKey","self","has","bubbles","checker","ColorManager","_colors","convert","RGB","every","_colorsMapping","getHexCode","AnnotationEditorUIManager","AbortController","_editorUndoBar","isEditing","isEmpty","hasSelectedEditor","hasSelectedText","_keyboardManager","arrowChecker","contains","activeElement","tagName","hasSomethingToControl","textInputChecker","_self","HTMLInputElement","small","TRANSLATE_SMALL","big","TRANSLATE_BIG","selectAll","addNewEditorFromKeyboard","HTMLButtonElement","isEnterHandled","unselectAll","translateSelectedEditors","viewer","viewerAlert","altTextManager","commentManager","eventBus","pdfDocument","pageColors","highlightColors","enableHighlightFloatingButton","enableUpdatedAddImage","enableNewAltTextWhenAddingImage","mlManager","editorUndoBar","supportsPinchToZoom","_eventBus","_on","onEditingAction","onPageChanging","onScaleChanging","onRotationChanging","onSetPreference","evt","updateParams","filterFactory","viewParameters","realScale","PDF_TO_CSS_UNITS","isShiftKeyDown","_supportsPinchToZoom","setSidebarUiManager","abort","layer","clear","clearTimeout","combinedSignal","ac","any","useNewAltTextFlow","useNewAltTextWhenAddingImage","hcmFilter","addHCMFilter","foreground","background","_highlightColors","pair","toUpperCase","hasHCM","isNameForHCM","endsWith","highlightColorNames","getNonHCMColor","colorName","getNonHCMColorName","setCurrentDrawingSession","disableUserSelect","setMainHighlightColorPicker","editAltText","firstTime","editComment","posX","posY","showDialog","selectComment","pageIndex","uid","getEditorByUID","toggleComment","updateComment","getData","updatePopupColor","removeComment","removeComments","isSelected","toggleCommentPopup","makeCommentColor","getCommentDialogElement","dialogElement","waitForEditorsRendered","pageNumber","withResolvers","onEditorsRendered","_off","on","getSignature","switchToMode","mode","once","dispatch","setPreference","focusMainContainer","focus","findParent","layerX","layerY","getBoundingClientRect","toggle","addShouldRescale","removeShouldRescale","commitOrRemove","pagesRotation","anchorNode","nodeType","Node","TEXT_NODE","parentElement","textLayer","currentLayer","hasTextLayer","methodOfCreation","selection","getSelection","isCollapsed","anchorOffset","focusNode","focusOffset","anchorElement","closest","getSelectionBoxes","empty","isNoneMode","createAndAddNewEditor","showAllEditors","getAndRemoveDataFromAnnotationStorage","annotationId","storedValue","getRawValue","addToAnnotationStorage","a11yAlert","messageId","JSON","stringify","activeLayer","toggleDrawing","pointerup","blur","hasSelection","lastEditor","lastActiveElement","keydown","keyup","copy","cut","paste","dragOver","drop","addEditListeners","setEditingState","removeEditListeners","dataTransfer","isHandlingMimeForPasting","dropEffect","item","editors","serialized","serialize","clipboardData","setData","ex","newEditors","deserializedEditor","deserialize","addCommands","isEditorHandlingKeyboard","hasChanged","some","registerEditorTypes","types","defaultPropertiesToUpdate","getId","getLayer","currentPageIndex","addLayer","enable","disable","removeLayer","updateMode","editId","isFromUser","isFromKeyboard","mustEnterInEditMode","hideSidebar","destroyPopup","hideStandaloneCommentButton","addStandaloneCommentButton","loadSignatures","getAnnotationsByType","editorClass","_editorType","elementIds","allComments","annotationElementId","hasComment","deleted","annotation","popupRef","contentsObj","showSidebar","setSelected","enterInEditMode","unselect","canCreateNewEmptyEditor","addNewEditor","updateToolbar","action","updateDefaultParams","visible","updateButton","enableWaiting","mustWait","disableClick","enableClick","promises","all","getEditors","getEditor","addEditor","removeEditor","setTimeout","addDeletedAnnotationElement","addChangedExistingAnnotation","isDeletedAnnotationElement","removeDeletedAnnotationElement","removeChangedExistingAnnotation","addOrRebuild","setActiveEditor","propertiesToUpdate","ed","updateUI","updateUIForDefaultProperties","toggleSelected","select","firstSelectedEditor","params","cleanUndoStack","drawingEditor","endDrawingSession","commit","noCommit","totalX","totalY","TIME_TO_WAIT","translateInPage","translationDone","setUpDragSession","savedX","savedY","savedPageIndex","newX","newY","newPageIndex","endDragSession","mustBeAddedInUndoStack","move","_setParentAndPosition","dragSelectedEditors","tx","ty","drag","rebuild","changeParent","getActive","shouldGetKeyboardEvents","isActive","getMode","isEditingMode","imageManager","rangeCount","getRangeAt","commonAncestorContainer","parentWidth","parentHeight","rotator","range","collapsed","getClientRects","renderAnnotationElement","editorId","hasBeenModified","setMissingCanvas","setCanvas","addMissingCanvas","AltText","added","review","initialize","l10n","_l10n","label","onClick","_reportTelemetry","guessedText","finish","focusVisible","hasData","setGuessedText","generatedAltText","toggleAltTextBadge","badge","isForCopying","decorative","textWithDisclaimer","cancel","enabled","disabled","tooltip","DELAY_TO_SHOW_TOOLTIP","parentNode","getElementForAltText","Comment","renderForStandalone","commentButtonPosition","commentButtonColor","backgroundColor","focusButton","onUpdatedColor","commentButtonWidth","boundingClientRect","commentPopupPositionInLayer","parentX","parentY","hasDefaultPopupPosition","removeStandaloneCommentButton","setCommentButtonStates","hasPopup","ariaExpanded","isStandalone","ariaHasPopup","ariaControls","ariaControlsElements","edit","parentDimensions","isDeleted","hasBeenEdited","richText","date","setInitialText","TouchManager","isPinchingDisabled","isPinchingStopped","onPinchStart","onPinching","onPinchEnd","passive","MIN_TOUCH_DISTANCE_TO_PINCH","touches","pointerDownAC","opts","cancelPointerDown","opt","onTouchEnd","touch0","touch1","identifier","touch0X","screenX","touch0Y","screenY","touch1X","touch1Y","screen0X","screen0Y","screen1X","screen1Y","touchInfo","pTouch0X","pTouch0Y","pTouch1X","pTouch1Y","prevGapX","prevGapY","currGapX","currGapY","distance","hypot","pDistance","origin","AnnotationEditor","_isCopy","_editToolbar","_initialOptions","_initialData","_isVisible","_zIndex","_resizerKeyboardManager","resize","_resizeWithKeyboard","_stopResizingWithKeyboard","_willKeepAspectRatio","isCentered","_structTreeParentId","creationDate","modificationDate","canAddComment","pageRotation","pageDimensions","pageTranslation","isAttachedToDOM","getPrototypeOf","_type","isDrawer","_defaultLineColor","_colorManager","deleteAnnotationElement","fakeEditor","FakeEditor","getNextId","_l10nResizer","topMiddle","topRight","middleRight","bottomMiddle","bottomLeft","middleLeft","_borderLineWidth","documentElement","parseFloat","getPropertyValue","_value","mime","_isDraggable","center","parentRotation","fixAndSetPosition","setInBackground","zIndex","setInForeground","setParent","focusin","focusout","relatedTarget","isMultipleSelection","isInEditMode","setAt","screenToPageTranslation","_moveAfterPaste","baseX","baseY","_onTranslated","_onTranslating","translate","scrollIntoView","block","findNewParent","bx","by","getBaseTranslation","left","toFixed","_hasBeenMoved","_hasBeenResized","_mustFixPosition","moveInDOM","angle","pageTranslationToScreen","parentScale","setDims","getInitialTranslation","classes","prepend","savedDraggable","togglePointerEvents","savedWidth","savedHeight","savedParentCursor","cursor","savedCursor","pointerUpCallback","_onResized","newWidth","newHeight","_round","minWidth","MIN_SIZE","minHeight","rotationMatrix","transf","invRotationMatrix","invTransf","getPoint","getOpposite","isDiagonal","isHorizontal","point","oppositePoint","transfOppositePoint","oppositeX","oppositeY","deltaX","deltaY","ratioX","ratioY","fromKeyboard","lastScreenX","lastScreenY","oldDiag","_onResizing","altTextFinish","toolbarButtons","addEditToolbar","addCommentButton","addCommentButtonInToolbar","removeCommentButtonFromToolbar","removeEditToolbar","addContainer","editToolbarDiv","before","getClientDimensions","createAltText","altTextData","guessedAltText","setGuessedAltText","serializeAltText","hasAltText","hasAltTextData","focusCommentButton","setCommentData","updateFromAnnotationLayer","hasEditedComment","hasDeletedComment","setSelectedCommentButton","setSelectedButton","DEFAULT_POPUP_WIDTH","DEFAULT_POPUP_HEIGHT","trY","blX","blY","trX","popup","contents","parentBoundingClientRect","defaultL10nId","maxWidth","maxHeight","isResizable","_origin","prevDistance","slowDownFactor","factor","transfCenterPoint","newTransfCenterPoint","pointerdown","hasDraggingStarted","cancelDrag","_onStopDragging","clientX","clientY","_onStartDragging","isPrimary","moveEditorInDOM","getRect","shiftX","shiftY","getRectInCurrentCoords","getPDFRect","onceAdded","enableEditMode","disableEditMode","needsToBeRebuilt","isOnScreen","bottom","right","innerHeight","innerWidth","rotate","_angle","serializeDeleted","context","annotationType","structTreeParentId","accessibilityData","isCopy","hideCommentPopup","timeout","makeResizable","commentButtonPositionInPage","commentPopupPosition","elementBeforePopup","boundResizerKeydown","boundResizerBlur","firstPosition","nextFirstPosition","lastElementChild","stopImmediatePropagation","preventScroll","disableEditing","enableEditing","canChangeContent","dblclick","nodeName","contentDiv","telemetryInitialData","telemetryFinalData","_telemetryTimeout","updateFakeAnnotationElement","annotationLayer","updateEdited","addFakeAnnotation","content","resetAnnotationElement","SEED","MASK_HIGH","MASK_LOW","MurmurHash3_64","seed","h1","h2","ArrayBuffer","isView","byteLength","blockCounts","tailLength","dataUint32","k1","k2","C1","C2","C1_LOW","C2_LOW","hexdigest","SerializableEmpty","transfer","AnnotationStorage","onSetModified","onResetModified","onAnnotationEditor","defaultValue","resetModified","modified","entry","val","print","PrintAnnotationStorage","serializable","hasBitmap","editorStats","stats","typeToEditor","numberOfEditedComments","numberOfDeletedComments","isCommentDeleted","counters","count","comments","edited","computeTelemetryFinalData","resetModifiedIds","updateEditor","modifiedIds","ids","Symbol","structuredClone","FontLoader","ownerDocument","styleElement","_document","nativeFontFaces","loadingRequests","loadTestFontId","addNativeFontFace","nativeFontFace","fonts","removeNativeFontFace","insertRule","rule","getElementsByTagName","styleSheet","sheet","cssRules","loadSystemFont","systemFontInfo","disableFontFace","_inspectFont","loadedName","isFontLoadingAPISupported","fontFace","FontFace","load","baseFontName","font","attached","missingFile","createNativeFontFace","loaded","family","createFontFaceRule","isSyncFontLoadingSupported","_queueLoadingCallback","_prepareFontLoadEvent","hasFonts","completeRequest","otherRequest","shift","complete","_loadTestFont","testFont","int32","offset","spliceString","insert","chunk1","chunk2","called","isFontReady","fillText","imageData","COMMENT_OFFSET","CFF_CHECKSUM_OFFSET","XXXX_VALUE","checksum","fontFamily","FontFaceObject","translatedData","inspectFont","extra","charProcOperatorList","compiledGlyphs","cssFontInfo","css","weight","fontWeight","italicAngle","mimetype","getPathGenerator","objs","character","objId","cmds","fontExtraProperties","black","bold","isInvalidPDFjsFont","isType3Font","italic","remeasure","vertical","ascent","defaultWidth","descent","bbox","fontMatrix","fallbackName","clearData","defaultVMetrics","CssFontInfo","write","encoder","TextEncoder","encodedStrings","stringsLength","strings","encoded","encode","view","DataView","setUint32","TextDecoder","index","getUint32","SystemFontInfo","encodedStyleStyle","encodedStyleWeight","lengthEstimate","setUint8","guessFallback","transferToFixedLength","getUint8","styleLength","weightLength","FontInfo","bools","byteOffset","bitOffset","getFloat64","numCoords","getInt16","numPoints","numMetrics","stringData","systemFontInfoLength","cssFontInfoLength","cssFontInfoData","systemFontInfoData","systemFontInfoBuffer","cssFontInfoBuffer","numBools","boolByte","boolBit","bits","setFloat64","coord","setInt16","metric","PatternInfo","ir","kind","coords","colorStops","figures","shadingType","nCoord","nColor","nStop","nFigures","figuresSize","figure","verticesPerRow","byteLen","dataView","u8data","coordsView","hex","setFloat32","figureCoordsView","Int32Array","colorsView","getIR","hasBBox","hasBackground","stops","getFloat32","coordsLength","figureCoords","colorsLength","figureColors","bounds","minX","maxX","minY","maxY","FontPathInfo","getUrlProp","location","getDataProp","Buffer","isNaN","getFactoryUrlProp","isRefProxy","num","gen","isNameProxy","isValidExplicitDest","LoopbackPort","postMessage","listener","rmAbort","onAbort","removeEventListener","terminate","CallbackKind","DATA","ERROR","StreamKind","CANCEL","CANCEL_COMPLETE","CLOSE","ENQUEUE","PULL","PULL_COMPLETE","START_COMPLETE","onFn","wrapReason","MessageHandler","sourceName","targetName","comObj","callbackId","streamId","streamSinks","streamControllers","callbackCapabilities","actionHandler","stream","capability","reason","actionName","handler","ah","transfers","sendWithPromise","sendWithStream","queueingStrategy","ReadableStream","controller","startCapability","startCall","pullCall","cancelCall","isClosed","desiredSize","pull","pullCapability","cancelCapability","streamSink","enqueue","isCancelled","lastDesiredSize","sinkCapability","ready","onPull","onCancel","success","streamController","dataReason","allSettled","BaseCanvasFactory","enableHWA","_createCanvas","reset","canvasAndContext","DOMCanvasFactory","BaseCMapReaderFactory","isCompressed","_fetch","cMapData","catch","DOMCMapReaderFactory","BaseFilterFactory","addFilter","maps","fgColor","bgColor","addAlphaFilter","addLuminosityFilter","addHighlightHCMFilter","filterName","newFgColor","newBgColor","keepHCM","DOMFilterFactory","docId","contain","mapR","table","mapG","mapB","bufferR","bufferG","bufferB","tableR","tableG","tableB","filter","fgRGB","bgRGB","getSteps","tableA","fgGray","bgGray","newFgRGB","newBgRGB","fg","bg","step","newStart","newStep","prev","k","j","feColorMatrix","feComponentTransfer","func","feFunc","rTable","gTable","bTable","aTable","BaseStandardFontDataFactory","DOMStandardFontDataFactory","BaseWasmFactory","DOMWasmFactory","node_utils_fetchData","fs","getBuiltinModule","readFile","NodeFilterFactory","NodeCanvasFactory","require","createRequire","createCanvas","NodeCMapReaderFactory","NodeStandardFontDataFactory","NodeWasmFactory","FORCED_DEPENDENCY_LABEL","expandBBox","EMPTY_BBOX","BBoxReader","bboxes","ensureDebugMetadata","dependencies","isRenderingOperation","CanvasDependencyTracker","__proto__","sameLineText","Float64Array","operationsCount","recordDebugMetadata","growOperationsCount","oldBBoxes","Uint8ClampedArray","opIdx","previous","lastSave","recordOpenMarker","idx","getOpenMarker","recordCloseMarker","pushBaseTransform","popBaseTransform","recordSimpleData","recordIncrementalData","resetIncrementalData","recordNamedData","recordSimpleDataFromNamed","depName","fallbackIdx","recordFutureForcedDependency","inheritSimpleDataAsFutureForcedDependencies","inheritPendingDependenciesAsFutureForcedDependencies","dep","resetBBox","recordClipBox","clipBox","intersection","recordBBox","recordCharacterBBox","getMeasure","fontBBox","isBBoxTrustworthy","computedBBox","recordFullPageBBox","measure","actualBoundingBoxLeft","actualBoundingBoxRight","actualBoundingBoxAscent","actualBoundingBoxDescent","getSimpleIndex","dependencyName","recordDependencies","dependencyNames","pendingDependencies","simple","incremental","forEach","recordNamedDependency","recordOperation","preserve","metadata","depIdx","saveIdx","recordShowTextOperation","deps","bboxToClipBoxDropOperation","_takePendingDependencies","_extractOperation","operation","_pushPendingDependencies","take","takeDebugMetadata","CanvasNestedDependencyTracker","dependencyTracker","ignoreBBoxes","Dependencies","imageXObject","transformAndFill","PathType","SHADING","applyBoundingBox","region","BaseShadingPattern","isModifyingCurrentTransform","getPattern","RadialAxialShadingPattern","IR","_bbox","_colorStops","_p0","_p1","_r0","_r1","isOriginBased","isRadial","_createGradient","grad","firstPoint","secondPoint","createLinearGradient","createRadialGradient","colorStop","addColorStop","owner","inverse","pathType","pattern","baseTransform","precision","n1","n2","ps","ownerBBox","current","getClippedPathBoundingBox","tmpCanvas","cachedCanvases","getCanvas","tmpCtx","clearRect","beginPath","fillStyle","createPattern","domMatrix","DOMMatrix","setTransform","drawTriangle","p3","c1","c2","c3","rowSize","tmp","scaleX","scaleY","c1r","c1g","c1b","c2r","c2g","c2b","c3r","c3g","c3b","xa","car","cag","cab","xb","cbr","cbg","cbb","x1_","x2_","drawFigure","cs","rows","cols","q","MeshShadingPattern","_coords","_figures","_bounds","_background","_createMeshCanvas","combinedScale","EXPECTED_SCALE","MAX_PATTERN_SIZE","BORDER_SIZE","boundsWidth","boundsHeight","paddedWidth","paddedHeight","createImageData","putImageData","matrixScaleX","matrixScaleY","temporaryPatternCanvas","DummyShadingPattern","getShadingPattern","PaintType","COLORED","UNCOLORED","TilingPattern","canvasGraphicsFactory","operatorList","xstep","ystep","paintType","tilingType","createPatternCanvas","combinedScaleX","combinedScaleY","canvasWidth","canvasHeight","redrawHorizontally","redrawVertically","xScaledStep","yScaledStep","xScaledWidth","yScaledHeight","dimx","getSizeAndScale","dimy","graphics","createCanvasGraphics","groupLevel","setFillAndStrokeStyleToContext","clipBbox","executeOperatorList","endDrawing","dimx2","dimy2","xSize","ySize","tmpCanvas2","tmpCtx2","jj","realOutputSize","bboxWidth","bboxHeight","strokeStyle","fillColor","strokeColor","convertBlackAndWhiteToRGBA","srcPos","nonBlackColor","inverseDecode","zeroMapping","oneMapping","widthInSource","widthRemainder","srcLength","destPos","elem","MIN_FONT_SIZE","MAX_FONT_SIZE","EXECUTION_TIME","EXECUTION_STEPS","FULL_CHUNK_HEIGHT","SCALE_MATRIX","XY","MIN_MAX_INIT","mirrorContextOperations","destCtx","_removeMirroring","__originalSave","__originalRestore","__originalRotate","__originalScale","__originalTranslate","__originalTransform","__originalSetTransform","__originalResetTransform","resetTransform","__originalClip","__originalMoveTo","__originalLineTo","__originalBezierCurveTo","__originalRect","__originalClosePath","__originalBeginPath","cp1x","cp1y","cp2x","cp2y","CachedCanvases","canvasFactory","cache","canvasEntry","drawImageAtIntegerCoords","srcImg","srcX","srcY","srcW","srcH","destX","destY","destW","destH","tlX","rTlX","tlY","rTlY","brX","rWidth","brY","rHeight","sign","CanvasExtraState","alphaIsShape","fontSize","fontSizeScale","textMatrix","textMatrixScale","leading","lineX","lineY","charSpacing","wordSpacing","textHScale","textRenderingMode","textRise","patternFill","patternStroke","fillAlpha","strokeAlpha","lineWidth","activeSMask","transferMaps","preInit","getPathBoundingBox","xStrokePad","yStrokePad","updateClipFromPath","startNewPathAndClipBox","isEmptyClip","putBinaryImageData","imgData","ImageData","partialChunkHeight","fullChunks","totalChunks","chunkImgData","thisChunkHeight","elemsInThisChunk","dest32","dest32DataLength","fullSrcDiff","srcDiff","kEnd","kEndUnrolled","mask","srcByte","putBinaryImageMask","copyCtxState","sourceCtx","properties","property","setLineDash","getLineDash","lineDashOffset","resetCtxToDefault","fillRule","globalAlpha","lineCap","lineJoin","miterLimit","globalCompositeOperation","getImageSmoothingEnabled","interpolate","actualScale","fround","LINE_CAP_STYLES","LINE_JOIN_STYLES","NORMAL_CLIP","EO_CLIP","CanvasGraphics","canvasCtx","commonObjs","optionalContentConfig","markedContentStack","annotationCanvasMap","stateStack","pendingClip","pendingEOFill","xobjs","groupStack","baseTransformStack","smaskStack","smaskCounter","tempSMask","suspendedCtx","contentVisible","cachedPatterns","viewportScale","outputScaleX","outputScaleY","_cachedScaleForStroking","_cachedGetSinglePixelWidth","_cachedBitmapsMap","getObject","fallback","beginDrawing","transparency","savedFillStyle","fillRect","transparentCanvas","compositeCtx","executionStartIdx","continueCallback","stepper","operationsFilter","argsArray","fnArray","argsArrayLen","chunkOperations","endTime","steps","fnId","fnArgs","nextBreakPoint","breakIt","depObjId","objsPool","inSMaskMode","HTMLCanvasElement","hcmFilterId","savedFilter","_scaleImage","img","displayWidth","displayHeight","widthScale","heightScale","paintWidth","paintHeight","tmpCanvasId","_createMaskCanvas","isPatternFill","currentTransform","cacheKey","maskCanvas","mainKey","cachedImage","maskToCanvas","drawnWidth","drawnHeight","fillCanvas","fillCtx","imageSmoothingEnabled","limit","dashArray","dashPhase","flatness","states","checkSMaskState","beginSMaskMode","endSMaskMode","cacheId","scratchCanvas","compose","dirtyBox","smask","composeSMask","layerCtx","layerBox","layerOffsetX","layerOffsetY","layerWidth","layerHeight","genericComposeSMask","subtype","backdrop","transferMap","maskCtx","maskOffsetX","maskOffsetY","maskX","maskY","old","op","outerExtraSize","_pathStartIdx","consumePath","newPath","addPath","multiplySelf","rescaleAndStroke","needRestore","paths","pendingTextPaths","preMultiplySelf","spacing","fontRefName","fontObj","fontDirection","typeface","browserFontSize","rise","paintChar","patternFillTransform","patternStrokeTransform","fillStrokeMode","isAddToPathSet","scaledPath","invPatternTransform","measureText","strokeText","isFontSubpixelAAEnabled","glyphs","showType3Text","glyphsLength","spacingDir","widthAdvanceScale","simpleFillText","needsFill","needsStroke","getSinglePixelWidth","chars","glyph","unicode","joinedChars","restoreNeeded","isSpace","fontChar","accent","scaledX","scaledY","vmetric","vx","vy","measuredWidth","characterScaleX","isInFont","scaledAccentX","scaledAccentY","charWidth","isTextInvisible","spacingLength","operatorListId","xWidth","yWidth","llx","lly","urx","ury","getColorN_Pattern","renderingOpIdx","_getPattern","inv","group","currentCtx","isolated","knockout","canvasBounds","groupCtx","startTransformInverse","currentMtx","hasOwnCanvas","annotationCanvas","savedCtx","skewX","skewY","positions","trans","images","applyTransferMapsToCanvas","applyTransferMapsToBitmap","imgToPaint","HTMLElement","tag","isVisible","isContentVisible","absDet","normX","normY","getScaleForStroking","scaledLineWidth","scaledXLineWidth","scaledYLineWidth","baseArea","saveRestore","dashes","GlobalWorkerOptions","workerPort","Worker","workerSrc","Metadata","parsedData","getRaw","INTERNAL","OptionalContentGroup","renderingIntent","usage","rbGroups","viewState","printState","_setVisible","internal","userSet","OptionalContentConfig","creator","order","groups","baseState","off","getHash","operator","expression","policy","setVisibility","preserveRB","rbGroup","otherId","setOCGState","hasInitialVisibility","getOrder","getGroup","PDFDataTransportStream","pdfDataRangeTransport","disableRange","disableStream","initialData","progressiveDone","contentDispositionFilename","_queuedChunks","_progressiveDone","_contentDispositionFilename","_pdfDataRangeTransport","_isStreamingSupported","_isRangeSupported","_contentLength","_fullRequestReader","_rangeReaders","addRangeListener","begin","_onReceiveData","addProgressListener","total","_onProgress","addProgressiveReadListener","addProgressiveDoneListener","_onProgressiveDone","transportReady","_enqueue","found","rangeReader","_begin","_progressiveDataLength","_loaded","onProgress","_removeRangeReader","reader","indexOf","getFullReader","queuedChunks","PDFDataTransportStreamReader","getRangeReader","PDFDataTransportStreamRangeReader","requestDataRange","cancelAllRequests","_stream","_done","_filename","_requests","_headersReady","requestCapability","headersReady","isRangeSupported","isStreamingSupported","contentLength","read","_end","_queuedChunk","requestsCapability","getFilenameFromContentDispositionHeader","contentDisposition","needsEncodingFixup","toParamRegExp","rfc2616unquote","unescape","rfc5987decode","rfc2047decode","fixupEncoding","rfc2231getparam","attributePattern","flags","textdecode","encoding","decoder","fatal","contentDispositionStr","iter","quot","part","parts","quotindex","extvalue","encodingend","langvalue","charset","createHeaders","isHttp","httpHeaders","headers","Headers","getResponseOrigin","validateRangeRequestCapabilities","responseHeaders","rangeChunkSize","returnValues","allowRangeRequests","suggestedLength","contentEncoding","extractFilenameFromHeader","createResponseError","validateResponseStatus","createFetchOptions","withCredentials","abortController","credentials","redirect","getArrayBuffer","PDFFetchStream","_responseOrigin","_rangeRequestReaders","PDFFetchStreamReader","PDFFetchStreamRangeReader","_reader","_withCredentials","_headersCapability","_disableRange","_rangeChunkSize","_abortController","getReader","_readCapability","responseOrigin","OK_RESPONSE","PARTIAL_CONTENT_RESPONSE","network_getArrayBuffer","xhr","NetworkManager","currXhrId","pendingRequests","xhrId","pendingRequest","setRequestHeader","expectedStatus","onError","onStateChange","onprogress","onHeadersReceived","onDone","xhrStatus","ok_response_on_range_request","rangeHeader","getResponseHeader","getRequestXhr","isPendingRequest","abortRequest","PDFNetworkStream","_source","_manager","_onRangeRequestReaderClosed","PDFNetworkStreamFullRequestReader","PDFNetworkStreamRangeRequestReader","onClosed","manager","_url","_fullRequestId","_onHeadersReceived","_onDone","_onError","_cachedChunks","_storedError","fullRequestXhrId","fullRequestXhr","responseURL","rawResponseHeaders","getAllResponseHeaders","trimStart","lengthComputable","_requestId","_close","urlRegex","parseUrlOrPath","sourceUrl","pathToFileURL","PDFNodeStream","PDFNodeStreamFsFullReader","PDFNodeStreamFsRangeReader","_readableStream","lstat","stat","_setReadableStream","createReadStream","_error","readableStream","INITIAL_DATA","PDFObjects","MAX_TEXT_DIVS_TO_RENDER","DEFAULT_FONT_SIZE","TextLayer","FontInspector","WeakMap","textContentSource","setProperty","finally","fontFamilyMap","pump","lang","onBefore","abortEx","textContentItemsStr","geom","textDiv","textDivProperties","hasText","hasEOL","atan2","fontName","PI","fontSubstitution","fontHeight","fontAscent","sin","cos","divStyle","dataset","fontSubstitutionLoadedName","shouldScaleText","absScaleX","absScaleY","br","cleanup","alpha","cached","lineHeight","cachedAscent","metrics","fontBoundingBoxAscent","fontBoundingBoxDescent","ratio","RENDERING_CANCELLED_TIMEOUT","getDocument","task","PDFDocumentLoadingTask","password","rangeTransport","PDFDataRangeTransport","worker","PDFWorker","docBaseUrl","cMapUrl","cMapPacked","CMapReaderFactory","iccUrl","standardFontDataUrl","StandardFontDataFactory","wasmUrl","WasmFactory","ignoreErrors","stopAtErrors","maxImageSize","chrome","canvasMaxAreaInBytes","enableXfa","disableAutoFetch","pdfBug","CanvasFactory","FilterFactory","useWasm","useSystemFonts","useWorkerFetch","transportFactory","cMapReaderFactory","standardFontDataFactory","wasmFactory","port","_worker","docParams","apiVersion","evaluatorOptions","transportParams","loadingParams","destroyed","workerIdPromise","messageHandler","networkStream","NetworkStream","workerId","transport","WorkerTransport","_transport","_capability","onPassword","_pendingDestroy","onDataRange","onDataProgress","onDataProgressiveRead","onDataProgressiveDone","PDFDocumentProxy","pdfInfo","_pdfInfo","numPages","fingerprints","isPureXfa","_htmlForXfa","allXfaHtml","getPage","getPageIndex","ref","getDestinations","getDestination","getPageLabels","getPageLayout","getPageMode","getViewerPreferences","getOpenAction","getAttachments","pageIndexesToSkip","getJSActions","getDocJSActions","getOutline","getOptionalContentConfig","getRenderingIntent","getPermissions","getMetadata","getMarkInfo","saveDocument","extractPages","pageInfos","getDownloadInfo","downloadInfoCapability","keepLoadedFonts","startCleanup","loadingTask","cachedPageNumber","getFieldObjects","hasJSActions","getCalculationOrderIds","PDFPageProxy","pageInfo","_pageIndex","_pageInfo","_stats","_pdfBug","_intentStates","recordedBBoxes","getViewport","getAnnotations","getPageJSActions","getXfa","canvasContext","annotationMode","optionalContentConfigPromise","printAnnotationStorage","recordOperations","intentArgs","intentState","streamReaderCancelTimeout","intentPrint","displayReadyCapability","lastChunk","separateAnnots","_pumpOperatorList","recordForDebugger","Boolean","StepperManager","shouldRecordOperations","renderTasks","internalRenderTask","gfx","setOperatorBBoxes","_abortOperatorList","Stats","InternalRenderTask","useRequestAnimationFrame","renderTask","initializeGraphics","operatorListChanged","getOperatorList","opListReadCapability","opListTask","streamTextContent","includeMarkedContent","disableNormalization","TEXT_CONTENT_CHUNK_SIZE","highWaterMark","getTextContent","getStructTree","_destroy","waitOn","force","completed","resetStats","_startRenderPage","_renderPageChunk","operatorListChunk","annotationStorageSerializable","streamReader","delay","curCacheKey","curIntentState","_isSameOrigin","otherUrl","base","other","_createCDNWrapper","wrapper","createObjectURL","fromPort","terminateEarly","sendTest","testObj","_setupFakeWorkerGlobal","WorkerMessageHandler","workerHandler","setup","cachedPort","pdfjsWorker","loader","import","factory","fontLoader","_params","destroyCapability","_networkStream","_fullReader","_lastProgress","setupMessageHandler","cachedPromise","isOpList","modifiedIdsHash","cacheKeyBuf","terminated","sink","readyReason","_numPages","htmlForXfa","updatePassword","err","exportedData","exportedError","fontData","fontAdded","imageRef","pageProxy","dataLen","refStr","results","hasStructTree","cleanupSuccessful","RenderTask","onContinue","form","WeakSet","operatorListIdx","running","graphicsReadyCallback","graphicsReady","_useRequestAnimationFrame","cancelled","_cancelBound","_continueBound","_continue","_scheduleNextBound","_scheduleNext","_nextBound","_next","_canvas","_canvasContext","_enableHWA","_dependencyTracker","_operationsFilter","init","getNextBreakPoint","cancelAnimationFrame","updateOperatorList","requestAnimationFrame","version","build","ColorPicker","_hideDropdownFromKeyboard","_colorSelectFromKeyboard","_moveToNext","_moveToPrevious","_moveToBeginning","_moveToEnd","blue","green","pink","red","yellow","swatch","ariaHidden","renderMainDropdown","dropdown","ariaOrientation","ariaLabelledBy","role","ariaMultiSelectable","ariaSelected","updateColor","nextSibling","previousSibling","detail","BasicColorPicker","colorType","makeColorComp","scaleAndClamp","ColorConverters","CMYK_G","G_CMYK","G_RGB","G_rgb","G_HTML","G","RGB_G","RGB_rgb","RGB_HTML","T_HTML","T_rgb","CMYK_RGB","CMYK_rgb","CMYK_HTML","components","RGB_CMYK","BaseSVGFactory","skipDimensions","_createSVG","DOMSVGFactory","annotation_layer_DEFAULT_FONT_SIZE","GetElementsByNameSet","TIMEZONE_OFFSET","getTimezoneOffset","AnnotationElementFactory","LinkAnnotationElement","TextAnnotationElement","fieldType","TextWidgetAnnotationElement","radioButton","RadioButtonWidgetAnnotationElement","checkBox","CheckboxWidgetAnnotationElement","PushButtonWidgetAnnotationElement","ChoiceWidgetAnnotationElement","SignatureWidgetAnnotationElement","WidgetAnnotationElement","PopupAnnotationElement","FreeTextAnnotationElement","LineAnnotationElement","SquareAnnotationElement","CircleAnnotationElement","PolylineAnnotationElement","CaretAnnotationElement","InkAnnotationElement","PolygonAnnotationElement","HighlightAnnotationElement","UnderlineAnnotationElement","SquigglyAnnotationElement","StrikeOutAnnotationElement","StampAnnotationElement","FileAttachmentAnnotationElement","AnnotationElement","isRenderable","ignoreBorder","createQuadrilaterals","downloadManager","imageResourcesPath","renderForms","svgFactory","enableComment","enableScripting","_fieldObjects","fieldObjects","hasOwnCommentButton","contentElement","_createContainer","_createQuadrilaterals","_hasPopupData","_isEditable","isEditable","hasPopupData","commentText","commentData","hasCommentButton","hasPopupElement","quadPoints","inkLists","inkList","_normalizePoint","removePopup","newPopup","_createPopup","resetEdited","currentRect","setRotation","alternativeText","noRotate","borderStyle","borderWidth","horizontalRadius","horizontalCornerRadius","verticalRadius","verticalCornerRadius","radius","borderRadius","borderBottomStyle","borderColor","_commonActions","setColor","jsName","styleName","colorArray","noView","noPrint","userName","readonly","required","_setRequired","textColor","_dispatchEventFromSandbox","actions","jsEvent","commonActions","_setDefaultPropertiesFromJS","eventProxy","rectBlX","rectBlY","rectTrX","rectTrY","svgBuffer","defs","clipPath","rectWidth","rectHeight","backgroundImage","popupData","titleObj","parentRect","elements","extraPopupElement","_getElementsByName","skipId","fields","fieldObj","exportValues","exportValue","domElement","getElementsByName","maybeShow","forceHide","getElementsToTriggerPopup","addHighlightArea","triggers","_editOnDoubleClick","annotationEditorType","EditorAnnotationElement","createOrUpdatePopup","removeAnnotation","isTooltipOnly","link","isBound","_bindNamedAction","overlaidText","attachment","attachmentDest","_bindLink","Action","_bindJSAction","resetForm","_bindResetFormAction","destination","getDestinationHash","onclick","goToDestination","getAnchorUrl","executeNamedAction","openOrDownloadData","executeSetOCGState","otherClickAction","resetFormFields","refs","resetFormRefs","include","allFields","fieldIds","fieldName","field","allIds","dispatchEvent","Event","showElementAndHideCanvas","_getKeyModifier","_setEventListener","elementData","baseName","eventName","valueGetter","modifier","focused","_setEventListeners","Blur","Focus","_setBackgroundColor","_setTextStyle","TEXT_ALIGNMENT","fontColor","defaultAppearanceData","computedFontSize","roundToOneDecimal","multiLine","numberOfLines","textAlignment","textAlign","isRequired","hasAppearance","fieldValue","setPropertyOnSiblings","keyInStorage","maxLen","charLimit","fieldFormattedValues","formattedValue","comb","userValue","lastCommittedValue","commitKey","doNotScroll","overflowY","overflowX","readOnly","datetimeFormat","datetimeType","timeStep","hasDateOrTime","maxLength","defaultFieldValue","blurListener","scrollLeft","getHours","getMinutes","getSeconds","toISOString","selRange","setSelectionRange","willCommit","selStart","selectionStart","selEnd","selectionEnd","_blurListener","valueOf","Keystroke","inputType","change","fieldWidth","combWidth","letterSpacing","verticalAlign","checkbox","curChecked","buttonValue","radio","pdfButtonValue","linkElement","lastChild","selectElement","addAnEmptyEntry","combo","multiSelect","multiple","optionElement","displayValue","removeEmptyEntry","noneOptionElement","isExport","selectedValues","getItems","multipleSelection","findIndex","selectChild","indices","editable","changeEx","keyDown","_commentManager","PopupElement","trigger","renderCommentButton","after","hasOwnButton","togglePopup","showPopup","hidePopup","parentContainer","outlineColor","header","dateObj","dateTime","popupLines","popupContent","lineAttributes","useParentRect","normalizedRect","HORIZONTAL_SPACE_AFTER_ANNOTATION","popupLeft","popupTop","textPosition","lineSpan","lineCoordinates","square","circle","containerClassName","svgElementName","vertices","points","polyline","thickness","mark","underline","strikeout","AnnotationLayer","accessibilityManager","annotationEditorUIManager","structTreeLayer","_annotationEditorUIManager","hasEditableAnnotations","annotations","popupToElements","popupAnnotations","elementParams","noHTML","isPopupAnnotation","rendered","replaceChildren","getAriaAttributes","ariaAttributes","sort","top1","bot1","mid1","top2","bot2","mid2","centerX1","centerX2","addPointerInTextLayer","addLinkAnnotations","_defaultBorderStyle","firstChild","replaceWith","editableAnnotation","_hasNoCanvas","getEditableAnnotations","getEditableAnnotation","removePointerInTextLayer","updateFakeAnnotations","rawWidth","EOL_PATTERN","FreeTextEditor","_colorPicker","_translateEmpty","_defaultColor","_defaultFontSize","_internalPadding","setFontsize","editorDiv","savedFontsize","col","savedColor","overlayDiv","contentEditable","editorDivKeydown","editorDivFocus","editorDivBlur","editorDivInput","editorDivPaste","innerText","prevChild","childNodes","savedDisplay","savedVisibility","savedText","newText","trimEnd","setText","nodeValue","deleteFromDocument","insertNode","collapseToStart","startContainer","startOffset","bufferBefore","bufferAfter","newRange","Range","beforeLength","setStart","setEnd","removeAllRanges","addRange","padding","Outline","toSVGPath","_rotation","_rescale","_rescaleAndSwap","_translate","svgRound","_normalizePagePoint","createBezierPoints","FreeDrawOutliner","scaleFactor","innerMargin","lastTop","lastBottom","diffX","diffY","diffD","K","nX","nY","thX","thY","lastTopX","lastTopY","lastBottomX","lastBottomY","newFreeDrawOutline","outline","FreeDrawOutline","getOutlines","last","N","lastPoint","firstPointX","firstPointY","lastPointX","lastPointY","ltrCallback","bezierBbox","newOutliner","getNewOutline","outliner","HighlightOutliner","NUMBER_OF_DIGITS","EPSILON","shiftedMinX","shiftedMinY","lastEdge","edge","outlineVerticalEdges","edges","allEdges","edge1","edge2","outlines","HighlightOutline","middle","y4","polygon","prevX","prevY","classNamesForOutlining","FreeHighlightOutliner","FreeHighlightOutline","HighlightEditor","_moveCaret","_defaultThickness","_defaultOpacity","highlightId","numberOfColors","outlinerForOutline","highlightOutlines","clipPathId","extraThickness","drawLayer","finalizeDraw","drawOutline","rootClass","highlightOutline","free","updateProperties","setColorAndOpacity","opa","savedOpacity","savedThickness","setThickness","th","addUndoableEditor","mustBeSelected","draw","highlightDiv","pointerover","hovered","pointerleave","setPosition","startHighlighting","_freeHighlight","_freeHighlightId","_freeHighlightClipId","DrawingOptions","updateProperty","updateSVGProperty","toSVGProperties","updateAll","DrawingEditor","_drawId","mustBeCommitted","_addOutlines","drawOutlines","drawId","drawingOptions","_drawingOptions","defaultProperties","_mergeSVGProperties","defaultSVGProperties","p1Keys","getDefaultDrawingOptions","_options","typesMap","supportMultipleDrawings","propertyName","_defaultDrawingOptions","_currentParent","_currentDrawId","_updateProperty","savedValue","getPathResizingSVGProperties","getPathResizedSVGProperties","_x","_y","getPathTranslatedSVGProperties","moving","updateParent","pW","pH","updateRotation","updateParentDimensions","onScaleChangingWhenDrawing","drawDiv","createDrawerInstance","_parentWidth","_parentHeight","startDrawing","_isLTR","_endDraw","isCancellable","removeLastElement","_drawMove","startNew","_cleanup","lastElement","getLastElement","setLastElement","isAborted","_INNER_MARGIN","createDrawingOptions","_data","deserializeDraw","_pageX","_pageY","_pageWidth","_pageHeight","_innerWidth","serializeDraw","InkDrawOutliner","InkDrawOutline","firstX","firstY","secondX","secondY","c1x","c1y","c2x","c2y","serializedLines","serializedPoints","rescaleFn","newLines","len","margin","marginX","marginY","oldMarginX","oldMarginY","newMarginX","newMarginY","diffMarginX","diffMarginY","rotationTransform","s1x","s1y","s2x","s2y","newParentWidth","newParentHeight","InkDrawingOptions","viewerParameters","_viewParameters","InkEditor","ContourDrawOutline","BASE_HEADER_LENGTH","POINTS_PROPERTIES_NUMBER","SignatureExtractor","sigmaSFactor","sigmaR","kernelSize","i0","j0","kk","shiftI","shiftJ","threshold","lnbd","nbd","contours","ij","pix","i2","j2","isHole","contour","contour0","i1","j1","i3","j3","i4","j4","ij3","ax","ay","abx","aby","dist","nabx","naby","aa","invS","phi","atan","cosPhi","sinPhi","tmax","poly","partialPhi","dmax","sigmaS","kernel","sigmaS2","halfSize","exp","rangeValues","sigmaR2","out","histogram","sum","norm","neighbour","M","L","spos","originalBitmap","prevWidth","prevHeight","log2","isteps","grayImage","uint8Buf","extractContoursFromText","fontStyle","SCALE","contourList","processDrawnLines","curves","mustSmooth","areContours","linesAndPoints","xScale","yScale","newCurves","reducedPoints","newPoints","compressSignature","bufferType","minDiff","maxDiff","outlinesLength","dx","Int8Array","Int16Array","headerLength","BYTES_PER_ELEMENT","CompressionStream","writer","getWriter","BufferCtor","diffs","Response","readable","decompressSignature","signatureData","DecompressionStream","numberOfDrawings","diffsOffset","SignatureOptions","DrawnSignatureOptions","SignatureEditor","_defaultDrawnSignatureOptions","hasDescription","hasDescriptionStats","hasNoAltText","uuid","heightInPage","addSignature","setUuid","getSignaturePreview","outlineData","hasBeenSaved","getFromImage","getFromText","fontInfo","getDrawnSignature","isSignature","alt","StampEditor","bitmapUrl","bitmapFile","pasteEditor","getAsFile","hasAltTextStats","fromId","alt_text_modal","alt_text_type","mlGuessAltText","updateAltTextData","isEnabledFor","copyCanvas","guess","channels","accept","files","click","bitmapId","MAX_RATIO","maxDataDimension","maxPreviewDimension","bitmapWidth","bitmapHeight","outputScale","scaledWidth","scaledHeight","boxDim","boxDimWidth","boxDimHeight","patternCtx","dataWidth","dataHeight","offscreenCtx","toUrl","toDataURL","missingCanvas","structParent","_structTree","changes","isSame","isSameAltText","stamps","area","prevData","isSamePageIndex","AnnotationEditorLayer","editorTypes","_initialized","isInvisible","disableTextSelection","toggleAnnotationLayerPointerEvents","enableTextSelection","annotationElementIds","DBL_CLICK_THRESHOLD","lastPointerDownTimestamp","elementsFromPoint","regex","needFakeAnnotation","changedAnnotations","resetAnnotations","editables","currentActive","attach","detach","moveElementInDOM","currentMode","startDrawingSession","pause","oldRotation","DrawLayer","_svgFactory","pathId","clipPathUse","isPathUpdatable","hasClip","use","mustRemoveSelfIntersections","maskId","use1","use2","cloneNode","elementOrId","pathElement","_pdfjsTestingUtils","pdfjsLib","FeatureTest","ImageKind","NATIVE_WEAK_MAP","isObject","createNonEnumerableProperty","shared","sharedKey","hiddenKeys","OBJECT_ALREADY_INITIALIZED","getterFor","TYPE","store","facade","STATE","number","iters","V8","ENVIRONMENT","normalizeComponent","scriptExports","staticRenderFns","functionalTemplate","injectStyles","scopeId","moduleIdentifier","shadowMode","hook","_compiled","functional","_scopeId","$vnode","ssrContext","__VUE_SSR_CONTEXT__","_registeredComponents","_ssrRegister","$root","$options","shadowRoot","_injectStyles","originalRender","existing","beforeCreate","concat","callWithSafeIterationClosing","MAP_WITHOUT_THROWING_ON_INVALID_ITERATOR","mapWithoutClosingOnEarlyError","toIndexedObject","object","descriptor","TO_STRING_TAG","F","activeXDocument","definePropertiesModule","documentCreateElement","GT","LT","PROTOTYPE","SCRIPT","IE_PROTO","EmptyConstructor","scriptTag","NullProtoObjectViaActiveX","parentWindow","NullProtoObjectViaIFrame","iframeDocument","iframe","JS","appendChild","contentWindow","NullProtoObject","ActiveXObject","domain","Properties","FILTER_WITHOUT_THROWING_ON_INVALID_ITERATOR","filterWithoutClosingOnEarlyError","isArrayIteratorMethod","lengthOfArrayLike","getIterator","Result","stopped","ResultPrototype","iterable","unboundFunction","iterFn","that","AS_ENTRIES","IS_ITERATOR","condition","callFn","isSymbol","ordinaryToPrimitive","TO_PRIMITIVE","pref","exoticToPrim","toObject","CORRECT_PROTOTYPE_GETTER","ObjectPrototype","replacement","isForced","feature","detection","POLYFILL","NATIVE","string","NATIVE_ARRAY_BUFFER","arrayBufferByteLength","postfix","random","someWithoutClosingOnEarlyError","functionToString","getOwnPropertySymbols","setArrayLength","doesNotExceedSafeInteger","INCORRECT_TO_LENGTH","properErrorOnNonWritableLength","argCount","ArrayPrototype","userAgentStartsWith","Bun","Deno","WorkerThreads","channel","$detach","getBuiltInNodeModule","PROPER_STRUCTURED_CLONE_TRANSFER","$ArrayBuffer","$MessageChannel","MessageChannel","transferable","port1","V8_VERSION","symbol","sham","SILENT_ON_NON_WRITABLE_LENGTH_SET","METHOD_NAME","ExpectedError","IteratorPrototype","CLOSED","check","definePropertyModule","createPropertyDescriptor","documentAll","IE8_DOM_DEFINE","V8_PROTOTYPE_DEFINE_BUG","toPropertyKey","$defineProperty","$getOwnPropertyDescriptor","ENUMERABLE","WRITABLE","P","Attributes","getOwnPropertyNamesModule","getOwnPropertySymbolsModule","isDetached","IndexedObject","requireObjectCoercible","emptyObject","isUndef","isDef","isTrue","isFalse","isPrimitive","isFunction","_toString","isPlainObject","isRegExp","isValidArrayIndex","isFinite","isPromise","replacer","_key","__v_isRef","toNumber","makeMap","expectsLowerCase","list","isReservedAttribute","remove$2","hit","camelizeRE","camelize","capitalize","charAt","hyphenateRE","hyphenate","polyfillBind","boundFn","_length","nativeBind","toArray","ret","extend","to","_from","noop","no","identity","looseEqual","isObjectA","isObjectB","isArrayA","isArrayB","getTime","keysA","keysB","looseIndexOf","SSR_ATTR","ASSET_TYPES","LIFECYCLE_HOOKS","config","optionMergeStrategies","silent","productionTip","devtools","performance","errorHandler","warnHandler","ignoredElements","keyCodes","isReservedTag","isReservedAttr","isUnknownElement","getTagNamespace","parsePlatformTagName","mustUseProp","_lifecycleHooks","unicodeRegExp","isReserved","def","bailRE","parsePath","segments","hasProto","inBrowser","UA","isIE","isIE9","isEdge","isIOS","_isServer","isFF","nativeWatch","watch","supportsPassive","isServerRendering","env","VUE_ENV","__VUE_DEVTOOLS_GLOBAL_HOOK__","isNative","Ctor","_Set","hasSymbol","Reflect","ownKeys","currentInstance","setCurrentInstance","vm","_scope","VNode","elm","componentOptions","asyncFactory","ns","fnContext","fnOptions","fnScopeId","componentInstance","raw","isStatic","isRootInsert","isComment","isCloned","isOnce","asyncMeta","isAsyncPlaceholder","createEmptyVNode","createTextVNode","cloneVNode","vnode","cloned","SuppressedError","uid$2","pendingCleanupDeps","cleanupDeps","subs","_pending","Dep","addSub","sub","removeSub","depend","addDep","notify","targetStack","pushTarget","popTarget","arrayProto","arrayMethods","methodsToPatch","original","_i","inserted","ob","__ob__","observeArray","arrayKeys","getOwnPropertyNames","NO_INITIAL_VALUE","shouldObserve","toggleObserving","mockDep","Observer","shallow","mock","vmCount","defineReactive","observe","ssrMockReactivity","isExtensible","__v_skip","isRef","customSetter","observeEvenIfShallow","childOb","dependArray","newVal","isReadonly","_isVue","del","shallowReactive","makeReactive","__v_isReadonly","proxyWithRefUnwrap","oldValue","WATCHER","activeEffectScope","EffectScope","detached","active","effects","cleanups","scopes","run","currentEffectScope","fromParent","teardown","recordEffectScope","effect","scope","getCurrentScope","resolveProvided","_provided","parentProvides","$parent","normalizeEvent","createFnInvoker","fns","invoker","invokeWithErrorHandling","updateListeners","oldOn","createOnceHandler","cur","mergeVNodeHook","hookKey","oldHook","wrappedHook","merged","extractPropsFromVNodeData","propOptions","props","attrs","checkProp","simpleNormalizeChildren","normalizeChildren","normalizeArrayChildren","isTextNode","nestedIndex","lastIndex","_isVList","renderList","renderSlot","fallbackRender","bindObject","nodes","scopedSlotFn","$scopedSlots","$slots","slot","$createElement","resolveFilter","resolveAsset","isKeyNotMatch","expect","actual","checkKeyCodes","eventKeyCode","builtInKeyCode","eventKeyName","builtInKeyName","mappedKeyCode","bindObjectProps","asProp","isSync","_loop_1","domProps","camelizedKey","hyphenatedKey","$event","renderStatic","isInFor","_staticTrees","tree","_renderProxy","_c","markStatic","markOnce","markStaticNode","bindObjectListeners","ours","resolveScopedSlots","hasDynamicKeys","contentHashKey","$stable","proxy","$key","bindDynamicKeys","baseObj","prependModifier","installRenderHelpers","_o","_n","_s","_l","_t","_q","_m","_f","_k","_b","_v","_e","_u","_g","_d","_p","resolveSlots","slots","default","name_1","name_2","isWhitespace","normalizeScopedSlots","ownerVm","scopedSlots","normalSlots","prevScopedSlots","hasNormalSlots","isStable","_normalized","$hasNormal","key_1","normalizeScopedSlot","key_2","proxyNormalSlot","normalized","initSetup","_setupContext","createSetupContext","setupResult","_props","_setupState","__sfc","_setupProxy","_attrsProxy","syncSetupProxy","$attrs","listeners","_listenersProxy","$listeners","initSlotsProxy","emit","$emit","expose","exposed","instance","changed","defineProxyAttr","_slotsProxy","syncSetupSlots","initRender","_vnode","parentVnode","_parentVnode","renderContext","_renderChildren","createElement$1","parentData","_parentListeners","currentRenderingInstance","renderMixin","Vue","$nextTick","nextTick","_render","_a","_isMounted","prevInst","prevRenderInst","handleError","ensureCtor","comp","__esModule","toStringTag","createAsyncPlaceholder","resolveAsyncComponent","baseCtor","errorComp","resolved","owners","loading","loadingComp","owners_1","sync_1","timerLoading_1","timerTimeout_1","$on","forceRender_1","renderCompleted","$forceUpdate","reject_1","res_1","component","getFirstComponentChild","SIMPLE_NORMALIZE","ALWAYS_NORMALIZE","normalizationType","alwaysNormalize","_createElement","is","pre","createComponent","applyNS","registerDeepBindings","traverse","class","hooks","errorCaptured","globalHandleError","_handled","logError","timerFunc","isUsingMicroTask","pending","flushCallbacks","copies","p_1","MutationObserver","setImmediate","counter_1","observer","textNode_1","characterData","cb","_resolve","createLifeCycle","hookName","injectHook","mergeLifecycleHook","seenObjects","_traverse","seen","isA","isFrozen","depId","target$1","uid$1","Watcher","expOrFn","isRenderWatcher","_vm","_watcher","deep","user","lazy","sync","dirty","newDeps","depIds","newDepIds","queueWatcher","evaluate","_isBeingDestroyed","onStop","initEvents","_events","_hasHookEvent","updateComponentListeners","add$1","remove$1","$off","createOnceHandler$1","_target","onceHandler","oldListeners","eventsMixin","hookRE","$once","i_1","cbs","activeInstance","setActiveInstance","prevActiveInstance","initLifecycle","abstract","$children","$refs","_inactive","_directInactive","_isDestroyed","lifecycleMixin","_update","hydrating","prevEl","$el","prevVnode","restoreActiveInstance","__patch__","__vue__","$destroy","callHook$1","mountComponent","updateComponent","watcherOptions","preWatchers","_preWatchers","updateChildComponent","propsData","renderChildren","newScopedSlots","oldScopedSlots","hasDynamicScopedSlot","needsForceUpdate","prevVNode","prevListeners","propKeys","_propKeys","validateProp","isInInactiveTree","activateChildComponent","direct","deactivateChildComponent","setContext","prevScope","handlers","queue","activatedChildren","waiting","flushing","resetSchedulerState","currentFlushTimestamp","getNow","performance_1","createEvent","sortCompareFn","flushSchedulerQueue","watcher","activatedQueue","updatedQueue","callActivatedHooks","callUpdatedHooks","queueActivatedComponent","noRecurse","initProvide","provideOption","provide","provided","initInjections","resolveInject","inject","provideKey","provideDefault","FunctionalRenderContext","contextVm","_this","_original","isCompiled","needNormalization","injections","createFunctionalComponent","mergeProps","cloneAndMarkFunctionalResult","vnodes","getComponentName","__name","_componentTag","componentVNodeHooks","keepAlive","mountedNode","prepatch","createComponentInstanceForVnode","$mount","oldVnode","hooksToMerge","_base","cid","resolveConstructorOptions","model","transformModel","nativeOn","installComponentHooks","_isComponent","inlineTemplate","toMerge","_merged","mergeHook","f1","f2","strats","mergeData","recursive","toVal","fromVal","mergeDataOrFn","parentVal","childVal","instanceData","defaultData","dedupeHooks","mergeAssets","parent_1","methods","computed","defaultStrat","normalizeProps","normalizeInject","normalizeDirectives$1","dirs","directives","mergeOptions","extends","mixins","mergeField","strat","warnMissing","assets","camelizedId","PascalCaseId","absent","booleanIndex","getTypeIndex","stringIndex","getPropDefaultValue","prevShouldObserve","getType","functionTypeCheckRE","isSameType","expectedTypes","sharedPropertyDefinition","sourceKey","initState","initProps$1","initMethods","initData","initComputed$1","initWatch","propsOptions","isRoot","computedWatcherOptions","watchers","_computedWatchers","isSSR","userDef","defineComputed","shouldCache","createComputedGetter","createGetterInvoker","createWatcher","$watch","stateMixin","dataDef","propsDef","$set","$delete","immediate","initMixin$1","_init","_uid","initInternalComponent","vnodeComponentOptions","superOptions","cachedSuperOptions","modifiedOptions","resolveModifiedOptions","extendOptions","latest","sealed","sealedOptions","initUse","plugin","installedPlugins","_installedPlugins","unshift","install","initMixin","mixin","initExtend","Super","SuperId","cachedCtors","_Ctor","Sub","initProps","initComputed","Comp","initAssetRegisters","_getComponentName","pruneCache","keepAliveInstance","pruneCacheEntry","patternTypes","KeepAlive","exclude","cacheVNode","vnodeToCache","keyToCache","created","mounted","updated","builtInComponents","initGlobalAPI","configDef","util","observable","acceptValue","attr","isEnumeratedAttr","isValidContentEditableValue","convertEnumeratedValue","isFalsyAttrValue","isBooleanAttr","xlinkNS","isXlink","getXlinkProp","genClassForVnode","childNode","mergeClassData","renderClass","staticClass","dynamicClass","stringifyClass","stringifyArray","stringifyObject","stringified","namespaceMap","math","isHTMLTag","isSVG","unknownElementCache","HTMLUnknownElement","isTextInputType","query","namespace","createComment","newNode","referenceNode","removeChild","setTextContent","setStyleScope","nodeOps","registerRef","isRemoval","refValue","$refsValue","isFor","refInFor","_isString","_isRef","setSetupRef","emptyNode","sameVnode","sameInputType","typeA","typeB","createKeyToOldIdx","beginIdx","endIdx","createPatchFunction","backend","modules","emptyNodeAt","createRmCb","childElm","removeNode","createElm","insertedVnodeQueue","parentElm","refElm","nested","ownerArray","setScope","createChildren","invokeCreateHooks","isReactivated","initComponent","reactivateComponent","pendingInsert","isPatchable","innerNode","transition","activate","i_2","ancestor","addVnodes","startIdx","invokeDestroyHook","removeVnodes","ch","removeAndInvokeRemoveHook","rm","i_3","updateChildren","oldCh","newCh","removeOnly","oldKeyToIdx","idxInOld","vnodeToMove","oldStartIdx","newStartIdx","oldEndIdx","oldStartVnode","oldEndVnode","newEndIdx","newStartVnode","newEndVnode","canMove","patchVnode","findIdxInOld","i_5","hydrate","postpatch","invokeInsertHook","initial","i_6","isRenderedModule","inVPre","hasChildNodes","innerHTML","childrenMatch","i_7","fullInvoke","isInitialPatch","isRealElement","hasAttribute","oldElm","_leaveCb","patchable","i_8","i_9","insert_1","i_10","updateDirectives","oldDir","isCreate","isDestroy","oldDirs","normalizeDirectives","newDirs","dirsWithInsert","dirsWithPostpatch","oldArg","callHook","componentUpdated","callInsert","emptyModifiers","modifiers","getRawDirName","setupDef","rawName","baseModules","updateAttrs","inheritAttrs","oldAttrs","_v_attr_proxy","setAttr","removeAttributeNS","isInPre","baseSetAttr","setAttributeNS","__ieph","blocker_1","updateClass","oldData","cls","transitionClass","_transitionClasses","_prevClass","klass","RANGE_TOKEN","CHECKBOX_RADIO_TOKEN","normalizeEvents","event_1","useMicrotaskFix","attachedTimestamp_1","original_1","_wrapper","currentTarget","updateDOMListeners","svgContainer","events","updateDOMProps","oldProps","strCur","shouldUpdateValue","checkVal","composing","isNotInFocusAndDirty","isDirtyWithModifiers","notInFocus","_vModifiers","parseStyleText","cssText","listDelimiter","propertyDelimiter","normalizeStyleData","normalizeStyleBinding","staticStyle","bindingStyle","getStyle","checkChild","styleData","emptyStyle","cssVarRE","importantRE","setProp","normalizedName","vendorNames","capName","updateStyle","oldStaticStyle","oldStyleBinding","normalizedStyle","oldStyle","newStyle","whitespaceRE","addClass","removeClass","tar","resolveTransition","autoCssTransition","enterClass","enterToClass","enterActiveClass","leaveClass","leaveToClass","leaveActiveClass","hasTransition","TRANSITION","ANIMATION","transitionProp","transitionEndEvent","animationProp","animationEndEvent","ontransitionend","onwebkittransitionend","onanimationend","onwebkitanimationend","raf","nextFrame","addTransitionClass","transitionClasses","removeTransitionClass","whenTransitionEnds","expectedType","getTransitionInfo","propCount","ended","onEnd","transformRE","transitionDelays","transitionDurations","transitionTimeout","getTimeout","animationDelays","animationDurations","animationTimeout","hasTransform","delays","durations","toMs","enter","toggleDisplay","_enterCb","appearClass","appearToClass","appearActiveClass","beforeEnter","afterEnter","enterCancelled","beforeAppear","appear","afterAppear","appearCancelled","duration","transitionNode","isAppear","startClass","activeClass","toClass","beforeEnterHook","enterHook","afterEnterHook","enterCancelledHook","explicitEnterDuration","expectsCSS","userWantsControl","getHookArgumentsLength","pendingNode","isValidDuration","leave","beforeLeave","afterLeave","leaveCancelled","delayLeave","explicitLeaveDuration","performLeave","invokerFns","_enter","platformModules","patch","vmodel","directive","binding","_vOptions","onCompositionStart","onCompositionEnd","prevOptions_1","curOptions_1","needReset","hasNoMatchingOption","actuallySetSelected","isMultiple","initEvent","locateNode","originalDisplay","__vOriginalDisplay","unbind","platformDirectives","transitionProps","getRealChild","compOptions","extractTransitionData","placeholder","rawChild","hasParentTransition","isSameChild","oldChild","isNotTextNode","isVShowDirective","Transition","_leaving","oldRawChild","delayedLeave_1","moveClass","TransitionGroup","beforeMount","kept","prevChildren","rawChildren","transitionData","removed","hasMove","callPendingCbs","recordPosition","applyTranslation","_reflow","offsetHeight","moved","el_1","WebkitTransform","transitionDuration","_moveCb","_hasMove","newPos","oldPos","dy","platformComponents","toIntegerOrInfinity","integer","uncurryThisAccessor","toIndex","notDetached","detachTransferable","ArrayBufferPrototype","DataViewPrototype","maxByteLength","getInt8","setInt8","newLength","preserveResizability","newBuffer","newByteLength","fixedLength","copyLength","V","NATIVE_BIND","toLength","defineBuiltIn","ENTRIES","defineGlobalProperty","copyConstructorProperties","targetProperty","sourceProperty","TARGET","GLOBAL","global","STATIC","dontCallGetSet","defineBuiltInAccessor","objectKeys","defineProperties","MAX_SAFE_INTEGER","unsafe","nonConfigurable","nonWritable","TO_STRING_TAG_SUPPORT","classofRaw","CORRECT_ARGUMENTS","tryGet","callee","toPrimitive","NATIVE_SYMBOL","propertyIsEnumerable","propertyIsEnumerableModule","forEachWithoutClosingOnEarlyError","SHARED","copyright","license","PrototypeOfArrayIteratorPrototype","arrayIterator","BUGGY_SAFARI_ITERATORS","NEW_ITERATOR_PROTOTYPE","$RangeError","RangeError","getOwnPropertyDescriptorModule","exceptions","aFunction","$transfer","anInstance","createProperty","CONSTRUCTOR","NativeIterator","IteratorConstructor","defineIteratorPrototypeAccessor","WellKnownSymbolsStore","createWellKnownSymbol","withoutSetter","stringHandling","$propertyIsEnumerable","NASHORN_BUG","IS_NODE","defineBuiltIns","createIterResultObject","iteratorCloseAll","ITERATOR_HELPER","WRAP_FOR_VALID_ITERATOR","NORMAL","THROW","setInternalState","createIteratorProxyPrototype","nextHandler","returnHandlerResult","returnMethod","openIters","WrapForValidIteratorPrototype","IteratorHelperPrototype","RETURN_HANDLER_RESULT","uncurryThisWithBind","v8","innerResult","innerError","toAbsoluteIndex","createMethod","IS_INCLUDES","$this","fromIndex"],"ignoreList":[],"sourceRoot":""}