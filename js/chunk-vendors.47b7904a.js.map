{"version":3,"file":"js/chunk-vendors.47b7904a.js","mappings":"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","sources":["webpack://@libresign/pdf-elements/./node_modules/core-js/internals/is-object.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/get-iterator.js","webpack://@libresign/pdf-elements/./node_modules/core-js/modules/es.iterator.find.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/make-built-in.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/function-name.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/html.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/hidden-keys.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/function-bind-native.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/an-instance.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/iterator-helper-throws-on-invalid-iterator.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/math-trunc.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/is-symbol.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/get-iterator-method.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/object-keys.js","webpack://@libresign/pdf-elements/./node_modules/pdfjs-dist/build/pdf.mjs","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/internal-state.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/to-integer-or-infinity.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/iterator-close-all.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/object-is-prototype-of.js","webpack://@libresign/pdf-elements/./node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js","webpack://@libresign/pdf-elements/./node_modules/core-js/modules/es.iterator.map.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/get-iterator-direct.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/object-keys-internal.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/define-built-in-accessor.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/to-string-tag-support.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/classof-raw.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/correct-prototype-getter.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/object-create.js","webpack://@libresign/pdf-elements/./node_modules/core-js/modules/es.iterator.filter.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/create-iter-result-object.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/iterate.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/to-primitive.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/object-get-prototype-of.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/is-forced.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/environment-user-agent.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/uid.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/inspect-source.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/object-get-own-property-symbols.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/descriptors.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/document-create-element.js","webpack://@libresign/pdf-elements/./node_modules/core-js/modules/es.array.push.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/is-null-or-undefined.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/is-array-iterator-method.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/ordinary-to-primitive.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/is-array.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/symbol-constructor-detection.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/array-set-length.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/iterator-helper-without-closing-on-early-error.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/global-this.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/create-property.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/is-callable.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/object-define-property.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/own-keys.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/to-indexed-object.js","webpack://@libresign/pdf-elements/./node_modules/vue/dist/vue.runtime.esm.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/to-absolute-index.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/shared.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/ie8-dom-define.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/get-method.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/function-bind-context.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/shared-key.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/length-of-array-like.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/iterators.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/define-built-ins.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/call-with-safe-iteration-closing.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/is-pure.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/export.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/create-non-enumerable-property.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/object-define-properties.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/try-to-string.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/does-not-exceed-safe-integer.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/define-built-in.js","webpack://@libresign/pdf-elements/./node_modules/debounce/index.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/classof.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/to-property-key.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/create-property-descriptor.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/use-symbol-as-uid.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/indexed-object.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/object-get-own-property-descriptor.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/function-uncurry-this-clause.js","webpack://@libresign/pdf-elements/./node_modules/core-js/modules/es.iterator.for-each.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/shared-store.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/iterators-core.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/copy-constructor-properties.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/require-object-coercible.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/get-built-in.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/to-length.js","webpack://@libresign/pdf-elements/./node_modules/core-js/modules/es.iterator.constructor.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/well-known-symbol.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/object-get-own-property-names.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/an-object.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/weak-map-basic-detection.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/v8-prototype-define-bug.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/enum-bug-keys.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/object-property-is-enumerable.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/to-object.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/fails.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/has-own-property.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/a-callable.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/define-global-property.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/iterator-create-proxy.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/function-uncurry-this.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/environment-v8-version.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/iterator-close.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/function-call.js","webpack://@libresign/pdf-elements/./node_modules/core-js/internals/array-includes.js"],"sourcesContent":["'use strict';\nvar isCallable = require('../internals/is-callable');\n\nmodule.exports = function (it) {\n  return typeof it == 'object' ? it !== null : isCallable(it);\n};\n","'use strict';\nvar call = require('../internals/function-call');\nvar aCallable = require('../internals/a-callable');\nvar anObject = require('../internals/an-object');\nvar tryToString = require('../internals/try-to-string');\nvar getIteratorMethod = require('../internals/get-iterator-method');\n\nvar $TypeError = TypeError;\n\nmodule.exports = function (argument, usingIterator) {\n  var iteratorMethod = arguments.length < 2 ? getIteratorMethod(argument) : usingIterator;\n  if (aCallable(iteratorMethod)) return anObject(call(iteratorMethod, argument));\n  throw new $TypeError(tryToString(argument) + ' is not iterable');\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar call = require('../internals/function-call');\nvar iterate = require('../internals/iterate');\nvar aCallable = require('../internals/a-callable');\nvar anObject = require('../internals/an-object');\nvar getIteratorDirect = require('../internals/get-iterator-direct');\nvar iteratorClose = require('../internals/iterator-close');\nvar iteratorHelperWithoutClosingOnEarlyError = require('../internals/iterator-helper-without-closing-on-early-error');\n\nvar findWithoutClosingOnEarlyError = iteratorHelperWithoutClosingOnEarlyError('find', TypeError);\n\n// `Iterator.prototype.find` method\n// https://tc39.es/ecma262/#sec-iterator.prototype.find\n$({ target: 'Iterator', proto: true, real: true, forced: findWithoutClosingOnEarlyError }, {\n  find: function find(predicate) {\n    anObject(this);\n    try {\n      aCallable(predicate);\n    } catch (error) {\n      iteratorClose(this, 'throw', error);\n    }\n\n    if (findWithoutClosingOnEarlyError) return call(findWithoutClosingOnEarlyError, this, predicate);\n\n    var record = getIteratorDirect(this);\n    var counter = 0;\n    return iterate(record, function (value, stop) {\n      if (predicate(value, counter++)) return stop(value);\n    }, { IS_RECORD: true, INTERRUPTED: true }).result;\n  }\n});\n","'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar fails = require('../internals/fails');\nvar isCallable = require('../internals/is-callable');\nvar hasOwn = require('../internals/has-own-property');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar CONFIGURABLE_FUNCTION_NAME = require('../internals/function-name').CONFIGURABLE;\nvar inspectSource = require('../internals/inspect-source');\nvar InternalStateModule = require('../internals/internal-state');\n\nvar enforceInternalState = InternalStateModule.enforce;\nvar getInternalState = InternalStateModule.get;\nvar $String = String;\n// eslint-disable-next-line es/no-object-defineproperty -- safe\nvar defineProperty = Object.defineProperty;\nvar stringSlice = uncurryThis(''.slice);\nvar replace = uncurryThis(''.replace);\nvar join = uncurryThis([].join);\n\nvar CONFIGURABLE_LENGTH = DESCRIPTORS && !fails(function () {\n  return defineProperty(function () { /* empty */ }, 'length', { value: 8 }).length !== 8;\n});\n\nvar TEMPLATE = String(String).split('String');\n\nvar makeBuiltIn = module.exports = function (value, name, options) {\n  if (stringSlice($String(name), 0, 7) === 'Symbol(') {\n    name = '[' + replace($String(name), /^Symbol\\(([^)]*)\\).*$/, '$1') + ']';\n  }\n  if (options && options.getter) name = 'get ' + name;\n  if (options && options.setter) name = 'set ' + name;\n  if (!hasOwn(value, 'name') || (CONFIGURABLE_FUNCTION_NAME && value.name !== name)) {\n    if (DESCRIPTORS) defineProperty(value, 'name', { value: name, configurable: true });\n    else value.name = name;\n  }\n  if (CONFIGURABLE_LENGTH && options && hasOwn(options, 'arity') && value.length !== options.arity) {\n    defineProperty(value, 'length', { value: options.arity });\n  }\n  try {\n    if (options && hasOwn(options, 'constructor') && options.constructor) {\n      if (DESCRIPTORS) defineProperty(value, 'prototype', { writable: false });\n    // in V8 ~ Chrome 53, prototypes of some methods, like `Array.prototype.values`, are non-writable\n    } else if (value.prototype) value.prototype = undefined;\n  } catch (error) { /* empty */ }\n  var state = enforceInternalState(value);\n  if (!hasOwn(state, 'source')) {\n    state.source = join(TEMPLATE, typeof name == 'string' ? name : '');\n  } return value;\n};\n\n// add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative\n// eslint-disable-next-line no-extend-native -- required\nFunction.prototype.toString = makeBuiltIn(function toString() {\n  return isCallable(this) && getInternalState(this).source || inspectSource(this);\n}, 'toString');\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar hasOwn = require('../internals/has-own-property');\n\nvar FunctionPrototype = Function.prototype;\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar getDescriptor = DESCRIPTORS && Object.getOwnPropertyDescriptor;\n\nvar EXISTS = hasOwn(FunctionPrototype, 'name');\n// additional protection from minified / mangled / dropped function names\nvar PROPER = EXISTS && (function something() { /* empty */ }).name === 'something';\nvar CONFIGURABLE = EXISTS && (!DESCRIPTORS || (DESCRIPTORS && getDescriptor(FunctionPrototype, 'name').configurable));\n\nmodule.exports = {\n  EXISTS: EXISTS,\n  PROPER: PROPER,\n  CONFIGURABLE: CONFIGURABLE\n};\n","'use strict';\nvar getBuiltIn = require('../internals/get-built-in');\n\nmodule.exports = getBuiltIn('document', 'documentElement');\n","'use strict';\nmodule.exports = {};\n","'use strict';\nvar fails = require('../internals/fails');\n\nmodule.exports = !fails(function () {\n  // eslint-disable-next-line es/no-function-prototype-bind -- safe\n  var test = (function () { /* empty */ }).bind();\n  // eslint-disable-next-line no-prototype-builtins -- safe\n  return typeof test != 'function' || test.hasOwnProperty('prototype');\n});\n","'use strict';\nvar isPrototypeOf = require('../internals/object-is-prototype-of');\n\nvar $TypeError = TypeError;\n\nmodule.exports = function (it, Prototype) {\n  if (isPrototypeOf(Prototype, it)) return it;\n  throw new $TypeError('Incorrect invocation');\n};\n","'use strict';\n// Should throw an error on invalid iterator\n// https://issues.chromium.org/issues/336839115\nmodule.exports = function (methodName, argument) {\n  // eslint-disable-next-line es/no-iterator -- required for testing\n  var method = typeof Iterator == 'function' && Iterator.prototype[methodName];\n  if (method) try {\n    method.call({ next: null }, argument).next();\n  } catch (error) {\n    return true;\n  }\n};\n","'use strict';\nvar ceil = Math.ceil;\nvar floor = Math.floor;\n\n// `Math.trunc` method\n// https://tc39.es/ecma262/#sec-math.trunc\n// eslint-disable-next-line es/no-math-trunc -- safe\nmodule.exports = Math.trunc || function trunc(x) {\n  var n = +x;\n  return (n > 0 ? floor : ceil)(n);\n};\n","'use strict';\nvar getBuiltIn = require('../internals/get-built-in');\nvar isCallable = require('../internals/is-callable');\nvar isPrototypeOf = require('../internals/object-is-prototype-of');\nvar USE_SYMBOL_AS_UID = require('../internals/use-symbol-as-uid');\n\nvar $Object = Object;\n\nmodule.exports = USE_SYMBOL_AS_UID ? function (it) {\n  return typeof it == 'symbol';\n} : function (it) {\n  var $Symbol = getBuiltIn('Symbol');\n  return isCallable($Symbol) && isPrototypeOf($Symbol.prototype, $Object(it));\n};\n","'use strict';\nvar classof = require('../internals/classof');\nvar getMethod = require('../internals/get-method');\nvar isNullOrUndefined = require('../internals/is-null-or-undefined');\nvar Iterators = require('../internals/iterators');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar ITERATOR = wellKnownSymbol('iterator');\n\nmodule.exports = function (it) {\n  if (!isNullOrUndefined(it)) return getMethod(it, ITERATOR)\n    || getMethod(it, '@@iterator')\n    || Iterators[classof(it)];\n};\n","'use strict';\nvar internalObjectKeys = require('../internals/object-keys-internal');\nvar enumBugKeys = require('../internals/enum-bug-keys');\n\n// `Object.keys` method\n// https://tc39.es/ecma262/#sec-object.keys\n// eslint-disable-next-line es/no-object-keys -- safe\nmodule.exports = Object.keys || function keys(O) {\n  return internalObjectKeys(O, enumBugKeys);\n};\n","/**\n * @licstart The following is the entire license notice for the\n * JavaScript code in this page\n *\n * Copyright 2024 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * @licend The above is the entire license notice for the\n * JavaScript code in this page\n */\n\n/**\n * pdfjsVersion = 5.4.530\n * pdfjsBuild = 50cc4adac\n */\n/******/ // The require scope\n/******/ var __webpack_require__ = {};\n/******/ \n/************************************************************************/\n/******/ /* webpack/runtime/define property getters */\n/******/ (() => {\n/******/ \t// define getter functions for harmony exports\n/******/ \t__webpack_require__.d = (exports, definition) => {\n/******/ \t\tfor(var key in definition) {\n/******/ \t\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n/******/ \t\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n/******/ \t\t\t}\n/******/ \t\t}\n/******/ \t};\n/******/ })();\n/******/ \n/******/ /* webpack/runtime/hasOwnProperty shorthand */\n/******/ (() => {\n/******/ \t__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))\n/******/ })();\n/******/ \n/************************************************************************/\nvar __webpack_exports__ = {};\n\n;// ./src/shared/util.js\nconst isNodeJS = typeof process === \"object\" && process + \"\" === \"[object process]\" && !process.versions.nw && !(process.versions.electron && process.type && process.type !== \"browser\");\nconst FONT_IDENTITY_MATRIX = [0.001, 0, 0, 0.001, 0, 0];\nconst LINE_FACTOR = 1.35;\nconst LINE_DESCENT_FACTOR = 0.35;\nconst BASELINE_FACTOR = LINE_DESCENT_FACTOR / LINE_FACTOR;\nconst RenderingIntentFlag = {\n  ANY: 0x01,\n  DISPLAY: 0x02,\n  PRINT: 0x04,\n  SAVE: 0x08,\n  ANNOTATIONS_FORMS: 0x10,\n  ANNOTATIONS_STORAGE: 0x20,\n  ANNOTATIONS_DISABLE: 0x40,\n  IS_EDITING: 0x80,\n  OPLIST: 0x100\n};\nconst AnnotationMode = {\n  DISABLE: 0,\n  ENABLE: 1,\n  ENABLE_FORMS: 2,\n  ENABLE_STORAGE: 3\n};\nconst AnnotationEditorPrefix = \"pdfjs_internal_editor_\";\nconst AnnotationEditorType = {\n  DISABLE: -1,\n  NONE: 0,\n  FREETEXT: 3,\n  HIGHLIGHT: 9,\n  STAMP: 13,\n  INK: 15,\n  POPUP: 16,\n  SIGNATURE: 101,\n  COMMENT: 102\n};\nconst AnnotationEditorParamsType = {\n  RESIZE: 1,\n  CREATE: 2,\n  FREETEXT_SIZE: 11,\n  FREETEXT_COLOR: 12,\n  FREETEXT_OPACITY: 13,\n  INK_COLOR: 21,\n  INK_THICKNESS: 22,\n  INK_OPACITY: 23,\n  HIGHLIGHT_COLOR: 31,\n  HIGHLIGHT_THICKNESS: 32,\n  HIGHLIGHT_FREE: 33,\n  HIGHLIGHT_SHOW_ALL: 34,\n  DRAW_STEP: 41\n};\nconst PermissionFlag = {\n  PRINT: 0x04,\n  MODIFY_CONTENTS: 0x08,\n  COPY: 0x10,\n  MODIFY_ANNOTATIONS: 0x20,\n  FILL_INTERACTIVE_FORMS: 0x100,\n  COPY_FOR_ACCESSIBILITY: 0x200,\n  ASSEMBLE: 0x400,\n  PRINT_HIGH_QUALITY: 0x800\n};\nconst MeshFigureType = {\n  TRIANGLES: 1,\n  LATTICE: 2,\n  PATCH: 3\n};\nconst TextRenderingMode = {\n  FILL: 0,\n  STROKE: 1,\n  FILL_STROKE: 2,\n  INVISIBLE: 3,\n  FILL_ADD_TO_PATH: 4,\n  STROKE_ADD_TO_PATH: 5,\n  FILL_STROKE_ADD_TO_PATH: 6,\n  ADD_TO_PATH: 7,\n  FILL_STROKE_MASK: 3,\n  ADD_TO_PATH_FLAG: 4\n};\nconst util_ImageKind = {\n  GRAYSCALE_1BPP: 1,\n  RGB_24BPP: 2,\n  RGBA_32BPP: 3\n};\nconst AnnotationType = {\n  TEXT: 1,\n  LINK: 2,\n  FREETEXT: 3,\n  LINE: 4,\n  SQUARE: 5,\n  CIRCLE: 6,\n  POLYGON: 7,\n  POLYLINE: 8,\n  HIGHLIGHT: 9,\n  UNDERLINE: 10,\n  SQUIGGLY: 11,\n  STRIKEOUT: 12,\n  STAMP: 13,\n  CARET: 14,\n  INK: 15,\n  POPUP: 16,\n  FILEATTACHMENT: 17,\n  SOUND: 18,\n  MOVIE: 19,\n  WIDGET: 20,\n  SCREEN: 21,\n  PRINTERMARK: 22,\n  TRAPNET: 23,\n  WATERMARK: 24,\n  THREED: 25,\n  REDACT: 26\n};\nconst AnnotationReplyType = {\n  GROUP: \"Group\",\n  REPLY: \"R\"\n};\nconst AnnotationFlag = {\n  INVISIBLE: 0x01,\n  HIDDEN: 0x02,\n  PRINT: 0x04,\n  NOZOOM: 0x08,\n  NOROTATE: 0x10,\n  NOVIEW: 0x20,\n  READONLY: 0x40,\n  LOCKED: 0x80,\n  TOGGLENOVIEW: 0x100,\n  LOCKEDCONTENTS: 0x200\n};\nconst AnnotationFieldFlag = {\n  READONLY: 0x0000001,\n  REQUIRED: 0x0000002,\n  NOEXPORT: 0x0000004,\n  MULTILINE: 0x0001000,\n  PASSWORD: 0x0002000,\n  NOTOGGLETOOFF: 0x0004000,\n  RADIO: 0x0008000,\n  PUSHBUTTON: 0x0010000,\n  COMBO: 0x0020000,\n  EDIT: 0x0040000,\n  SORT: 0x0080000,\n  FILESELECT: 0x0100000,\n  MULTISELECT: 0x0200000,\n  DONOTSPELLCHECK: 0x0400000,\n  DONOTSCROLL: 0x0800000,\n  COMB: 0x1000000,\n  RICHTEXT: 0x2000000,\n  RADIOSINUNISON: 0x2000000,\n  COMMITONSELCHANGE: 0x4000000\n};\nconst AnnotationBorderStyleType = {\n  SOLID: 1,\n  DASHED: 2,\n  BEVELED: 3,\n  INSET: 4,\n  UNDERLINE: 5\n};\nconst AnnotationActionEventType = {\n  E: \"Mouse Enter\",\n  X: \"Mouse Exit\",\n  D: \"Mouse Down\",\n  U: \"Mouse Up\",\n  Fo: \"Focus\",\n  Bl: \"Blur\",\n  PO: \"PageOpen\",\n  PC: \"PageClose\",\n  PV: \"PageVisible\",\n  PI: \"PageInvisible\",\n  K: \"Keystroke\",\n  F: \"Format\",\n  V: \"Validate\",\n  C: \"Calculate\"\n};\nconst DocumentActionEventType = {\n  WC: \"WillClose\",\n  WS: \"WillSave\",\n  DS: \"DidSave\",\n  WP: \"WillPrint\",\n  DP: \"DidPrint\"\n};\nconst PageActionEventType = {\n  O: \"PageOpen\",\n  C: \"PageClose\"\n};\nconst VerbosityLevel = {\n  ERRORS: 0,\n  WARNINGS: 1,\n  INFOS: 5\n};\nconst OPS = {\n  dependency: 1,\n  setLineWidth: 2,\n  setLineCap: 3,\n  setLineJoin: 4,\n  setMiterLimit: 5,\n  setDash: 6,\n  setRenderingIntent: 7,\n  setFlatness: 8,\n  setGState: 9,\n  save: 10,\n  restore: 11,\n  transform: 12,\n  moveTo: 13,\n  lineTo: 14,\n  curveTo: 15,\n  curveTo2: 16,\n  curveTo3: 17,\n  closePath: 18,\n  rectangle: 19,\n  stroke: 20,\n  closeStroke: 21,\n  fill: 22,\n  eoFill: 23,\n  fillStroke: 24,\n  eoFillStroke: 25,\n  closeFillStroke: 26,\n  closeEOFillStroke: 27,\n  endPath: 28,\n  clip: 29,\n  eoClip: 30,\n  beginText: 31,\n  endText: 32,\n  setCharSpacing: 33,\n  setWordSpacing: 34,\n  setHScale: 35,\n  setLeading: 36,\n  setFont: 37,\n  setTextRenderingMode: 38,\n  setTextRise: 39,\n  moveText: 40,\n  setLeadingMoveText: 41,\n  setTextMatrix: 42,\n  nextLine: 43,\n  showText: 44,\n  showSpacedText: 45,\n  nextLineShowText: 46,\n  nextLineSetSpacingShowText: 47,\n  setCharWidth: 48,\n  setCharWidthAndBounds: 49,\n  setStrokeColorSpace: 50,\n  setFillColorSpace: 51,\n  setStrokeColor: 52,\n  setStrokeColorN: 53,\n  setFillColor: 54,\n  setFillColorN: 55,\n  setStrokeGray: 56,\n  setFillGray: 57,\n  setStrokeRGBColor: 58,\n  setFillRGBColor: 59,\n  setStrokeCMYKColor: 60,\n  setFillCMYKColor: 61,\n  shadingFill: 62,\n  beginInlineImage: 63,\n  beginImageData: 64,\n  endInlineImage: 65,\n  paintXObject: 66,\n  markPoint: 67,\n  markPointProps: 68,\n  beginMarkedContent: 69,\n  beginMarkedContentProps: 70,\n  endMarkedContent: 71,\n  beginCompat: 72,\n  endCompat: 73,\n  paintFormXObjectBegin: 74,\n  paintFormXObjectEnd: 75,\n  beginGroup: 76,\n  endGroup: 77,\n  beginAnnotation: 80,\n  endAnnotation: 81,\n  paintImageMaskXObject: 83,\n  paintImageMaskXObjectGroup: 84,\n  paintImageXObject: 85,\n  paintInlineImageXObject: 86,\n  paintInlineImageXObjectGroup: 87,\n  paintImageXObjectRepeat: 88,\n  paintImageMaskXObjectRepeat: 89,\n  paintSolidColorImageMask: 90,\n  constructPath: 91,\n  setStrokeTransparent: 92,\n  setFillTransparent: 93,\n  rawFillPath: 94\n};\nconst DrawOPS = {\n  moveTo: 0,\n  lineTo: 1,\n  curveTo: 2,\n  quadraticCurveTo: 3,\n  closePath: 4\n};\nconst PasswordResponses = {\n  NEED_PASSWORD: 1,\n  INCORRECT_PASSWORD: 2\n};\nlet verbosity = VerbosityLevel.WARNINGS;\nfunction setVerbosityLevel(level) {\n  if (Number.isInteger(level)) {\n    verbosity = level;\n  }\n}\nfunction getVerbosityLevel() {\n  return verbosity;\n}\nfunction info(msg) {\n  if (verbosity >= VerbosityLevel.INFOS) {\n    console.info(`Info: ${msg}`);\n  }\n}\nfunction warn(msg) {\n  if (verbosity >= VerbosityLevel.WARNINGS) {\n    console.warn(`Warning: ${msg}`);\n  }\n}\nfunction unreachable(msg) {\n  throw new Error(msg);\n}\nfunction assert(cond, msg) {\n  if (!cond) {\n    unreachable(msg);\n  }\n}\nfunction _isValidProtocol(url) {\n  switch (url?.protocol) {\n    case \"http:\":\n    case \"https:\":\n    case \"ftp:\":\n    case \"mailto:\":\n    case \"tel:\":\n      return true;\n    default:\n      return false;\n  }\n}\nfunction createValidAbsoluteUrl(url, baseUrl = null, options = null) {\n  if (!url) {\n    return null;\n  }\n  if (options && typeof url === \"string\") {\n    if (options.addDefaultProtocol && url.startsWith(\"www.\")) {\n      const dots = url.match(/\\./g);\n      if (dots?.length >= 2) {\n        url = `http://${url}`;\n      }\n    }\n    if (options.tryConvertEncoding) {\n      try {\n        url = stringToUTF8String(url);\n      } catch {}\n    }\n  }\n  const absoluteUrl = baseUrl ? URL.parse(url, baseUrl) : URL.parse(url);\n  return _isValidProtocol(absoluteUrl) ? absoluteUrl : null;\n}\nfunction updateUrlHash(url, hash, allowRel = false) {\n  const res = URL.parse(url);\n  if (res) {\n    res.hash = hash;\n    return res.href;\n  }\n  if (allowRel && createValidAbsoluteUrl(url, \"http://example.com\")) {\n    return url.split(\"#\", 1)[0] + `${hash ? `#${hash}` : \"\"}`;\n  }\n  return \"\";\n}\nfunction shadow(obj, prop, value, nonSerializable = false) {\n  Object.defineProperty(obj, prop, {\n    value,\n    enumerable: !nonSerializable,\n    configurable: true,\n    writable: false\n  });\n  return value;\n}\nconst BaseException = function BaseExceptionClosure() {\n  function BaseException(message, name) {\n    this.message = message;\n    this.name = name;\n  }\n  BaseException.prototype = new Error();\n  BaseException.constructor = BaseException;\n  return BaseException;\n}();\nclass PasswordException extends BaseException {\n  constructor(msg, code) {\n    super(msg, \"PasswordException\");\n    this.code = code;\n  }\n}\nclass UnknownErrorException extends BaseException {\n  constructor(msg, details) {\n    super(msg, \"UnknownErrorException\");\n    this.details = details;\n  }\n}\nclass InvalidPDFException extends BaseException {\n  constructor(msg) {\n    super(msg, \"InvalidPDFException\");\n  }\n}\nclass ResponseException extends BaseException {\n  constructor(msg, status, missing) {\n    super(msg, \"ResponseException\");\n    this.status = status;\n    this.missing = missing;\n  }\n}\nclass FormatError extends BaseException {\n  constructor(msg) {\n    super(msg, \"FormatError\");\n  }\n}\nclass AbortException extends BaseException {\n  constructor(msg) {\n    super(msg, \"AbortException\");\n  }\n}\nfunction bytesToString(bytes) {\n  if (typeof bytes !== \"object\" || bytes?.length === undefined) {\n    unreachable(\"Invalid argument for bytesToString\");\n  }\n  const length = bytes.length;\n  const MAX_ARGUMENT_COUNT = 8192;\n  if (length < MAX_ARGUMENT_COUNT) {\n    return String.fromCharCode.apply(null, bytes);\n  }\n  const strBuf = [];\n  for (let i = 0; i < length; i += MAX_ARGUMENT_COUNT) {\n    const chunkEnd = Math.min(i + MAX_ARGUMENT_COUNT, length);\n    const chunk = bytes.subarray(i, chunkEnd);\n    strBuf.push(String.fromCharCode.apply(null, chunk));\n  }\n  return strBuf.join(\"\");\n}\nfunction stringToBytes(str) {\n  if (typeof str !== \"string\") {\n    unreachable(\"Invalid argument for stringToBytes\");\n  }\n  const length = str.length;\n  const bytes = new Uint8Array(length);\n  for (let i = 0; i < length; ++i) {\n    bytes[i] = str.charCodeAt(i) & 0xff;\n  }\n  return bytes;\n}\nfunction string32(value) {\n  return String.fromCharCode(value >> 24 & 0xff, value >> 16 & 0xff, value >> 8 & 0xff, value & 0xff);\n}\nfunction objectSize(obj) {\n  return Object.keys(obj).length;\n}\nfunction isLittleEndian() {\n  const buffer8 = new Uint8Array(4);\n  buffer8[0] = 1;\n  const view32 = new Uint32Array(buffer8.buffer, 0, 1);\n  return view32[0] === 1;\n}\nfunction isEvalSupported() {\n  try {\n    new Function(\"\");\n    return true;\n  } catch {\n    return false;\n  }\n}\nclass util_FeatureTest {\n  static get isLittleEndian() {\n    return shadow(this, \"isLittleEndian\", isLittleEndian());\n  }\n  static get isEvalSupported() {\n    return shadow(this, \"isEvalSupported\", isEvalSupported());\n  }\n  static get isOffscreenCanvasSupported() {\n    return shadow(this, \"isOffscreenCanvasSupported\", typeof OffscreenCanvas !== \"undefined\");\n  }\n  static get isImageDecoderSupported() {\n    return shadow(this, \"isImageDecoderSupported\", typeof ImageDecoder !== \"undefined\");\n  }\n  static get isFloat16ArraySupported() {\n    return shadow(this, \"isFloat16ArraySupported\", typeof Float16Array !== \"undefined\");\n  }\n  static get isSanitizerSupported() {\n    return shadow(this, \"isSanitizerSupported\", typeof Sanitizer !== \"undefined\");\n  }\n  static get platform() {\n    const {\n      platform,\n      userAgent\n    } = navigator;\n    return shadow(this, \"platform\", {\n      isAndroid: userAgent.includes(\"Android\"),\n      isLinux: platform.includes(\"Linux\"),\n      isMac: platform.includes(\"Mac\"),\n      isWindows: platform.includes(\"Win\"),\n      isFirefox: userAgent.includes(\"Firefox\")\n    });\n  }\n  static get isCSSRoundSupported() {\n    return shadow(this, \"isCSSRoundSupported\", globalThis.CSS?.supports?.(\"width: round(1.5px, 1px)\"));\n  }\n}\nconst hexNumbers = Array.from(Array(256).keys(), n => n.toString(16).padStart(2, \"0\"));\nclass Util {\n  static makeHexColor(r, g, b) {\n    return `#${hexNumbers[r]}${hexNumbers[g]}${hexNumbers[b]}`;\n  }\n  static domMatrixToTransform(dm) {\n    return [dm.a, dm.b, dm.c, dm.d, dm.e, dm.f];\n  }\n  static scaleMinMax(transform, minMax) {\n    let temp;\n    if (transform[0]) {\n      if (transform[0] < 0) {\n        temp = minMax[0];\n        minMax[0] = minMax[2];\n        minMax[2] = temp;\n      }\n      minMax[0] *= transform[0];\n      minMax[2] *= transform[0];\n      if (transform[3] < 0) {\n        temp = minMax[1];\n        minMax[1] = minMax[3];\n        minMax[3] = temp;\n      }\n      minMax[1] *= transform[3];\n      minMax[3] *= transform[3];\n    } else {\n      temp = minMax[0];\n      minMax[0] = minMax[1];\n      minMax[1] = temp;\n      temp = minMax[2];\n      minMax[2] = minMax[3];\n      minMax[3] = temp;\n      if (transform[1] < 0) {\n        temp = minMax[1];\n        minMax[1] = minMax[3];\n        minMax[3] = temp;\n      }\n      minMax[1] *= transform[1];\n      minMax[3] *= transform[1];\n      if (transform[2] < 0) {\n        temp = minMax[0];\n        minMax[0] = minMax[2];\n        minMax[2] = temp;\n      }\n      minMax[0] *= transform[2];\n      minMax[2] *= transform[2];\n    }\n    minMax[0] += transform[4];\n    minMax[1] += transform[5];\n    minMax[2] += transform[4];\n    minMax[3] += transform[5];\n  }\n  static transform(m1, m2) {\n    return [m1[0] * m2[0] + m1[2] * m2[1], m1[1] * m2[0] + m1[3] * m2[1], m1[0] * m2[2] + m1[2] * m2[3], m1[1] * m2[2] + m1[3] * m2[3], m1[0] * m2[4] + m1[2] * m2[5] + m1[4], m1[1] * m2[4] + m1[3] * m2[5] + m1[5]];\n  }\n  static multiplyByDOMMatrix(m, md) {\n    return [m[0] * md.a + m[2] * md.b, m[1] * md.a + m[3] * md.b, m[0] * md.c + m[2] * md.d, m[1] * md.c + m[3] * md.d, m[0] * md.e + m[2] * md.f + m[4], m[1] * md.e + m[3] * md.f + m[5]];\n  }\n  static applyTransform(p, m, pos = 0) {\n    const p0 = p[pos];\n    const p1 = p[pos + 1];\n    p[pos] = p0 * m[0] + p1 * m[2] + m[4];\n    p[pos + 1] = p0 * m[1] + p1 * m[3] + m[5];\n  }\n  static applyTransformToBezier(p, transform, pos = 0) {\n    const m0 = transform[0];\n    const m1 = transform[1];\n    const m2 = transform[2];\n    const m3 = transform[3];\n    const m4 = transform[4];\n    const m5 = transform[5];\n    for (let i = 0; i < 6; i += 2) {\n      const pI = p[pos + i];\n      const pI1 = p[pos + i + 1];\n      p[pos + i] = pI * m0 + pI1 * m2 + m4;\n      p[pos + i + 1] = pI * m1 + pI1 * m3 + m5;\n    }\n  }\n  static applyInverseTransform(p, m) {\n    const p0 = p[0];\n    const p1 = p[1];\n    const d = m[0] * m[3] - m[1] * m[2];\n    p[0] = (p0 * m[3] - p1 * m[2] + m[2] * m[5] - m[4] * m[3]) / d;\n    p[1] = (-p0 * m[1] + p1 * m[0] + m[4] * m[1] - m[5] * m[0]) / d;\n  }\n  static axialAlignedBoundingBox(rect, transform, output) {\n    const m0 = transform[0];\n    const m1 = transform[1];\n    const m2 = transform[2];\n    const m3 = transform[3];\n    const m4 = transform[4];\n    const m5 = transform[5];\n    const r0 = rect[0];\n    const r1 = rect[1];\n    const r2 = rect[2];\n    const r3 = rect[3];\n    let a0 = m0 * r0 + m4;\n    let a2 = a0;\n    let a1 = m0 * r2 + m4;\n    let a3 = a1;\n    let b0 = m3 * r1 + m5;\n    let b2 = b0;\n    let b1 = m3 * r3 + m5;\n    let b3 = b1;\n    if (m1 !== 0 || m2 !== 0) {\n      const m1r0 = m1 * r0;\n      const m1r2 = m1 * r2;\n      const m2r1 = m2 * r1;\n      const m2r3 = m2 * r3;\n      a0 += m2r1;\n      a3 += m2r1;\n      a1 += m2r3;\n      a2 += m2r3;\n      b0 += m1r0;\n      b3 += m1r0;\n      b1 += m1r2;\n      b2 += m1r2;\n    }\n    output[0] = Math.min(output[0], a0, a1, a2, a3);\n    output[1] = Math.min(output[1], b0, b1, b2, b3);\n    output[2] = Math.max(output[2], a0, a1, a2, a3);\n    output[3] = Math.max(output[3], b0, b1, b2, b3);\n  }\n  static inverseTransform(m) {\n    const d = m[0] * m[3] - m[1] * m[2];\n    return [m[3] / d, -m[1] / d, -m[2] / d, m[0] / d, (m[2] * m[5] - m[4] * m[3]) / d, (m[4] * m[1] - m[5] * m[0]) / d];\n  }\n  static singularValueDecompose2dScale(matrix, output) {\n    const m0 = matrix[0];\n    const m1 = matrix[1];\n    const m2 = matrix[2];\n    const m3 = matrix[3];\n    const a = m0 ** 2 + m1 ** 2;\n    const b = m0 * m2 + m1 * m3;\n    const c = m2 ** 2 + m3 ** 2;\n    const first = (a + c) / 2;\n    const second = Math.sqrt(first ** 2 - (a * c - b ** 2));\n    output[0] = Math.sqrt(first + second || 1);\n    output[1] = Math.sqrt(first - second || 1);\n  }\n  static normalizeRect(rect) {\n    const r = rect.slice(0);\n    if (rect[0] > rect[2]) {\n      r[0] = rect[2];\n      r[2] = rect[0];\n    }\n    if (rect[1] > rect[3]) {\n      r[1] = rect[3];\n      r[3] = rect[1];\n    }\n    return r;\n  }\n  static intersect(rect1, rect2) {\n    const xLow = Math.max(Math.min(rect1[0], rect1[2]), Math.min(rect2[0], rect2[2]));\n    const xHigh = Math.min(Math.max(rect1[0], rect1[2]), Math.max(rect2[0], rect2[2]));\n    if (xLow > xHigh) {\n      return null;\n    }\n    const yLow = Math.max(Math.min(rect1[1], rect1[3]), Math.min(rect2[1], rect2[3]));\n    const yHigh = Math.min(Math.max(rect1[1], rect1[3]), Math.max(rect2[1], rect2[3]));\n    if (yLow > yHigh) {\n      return null;\n    }\n    return [xLow, yLow, xHigh, yHigh];\n  }\n  static pointBoundingBox(x, y, minMax) {\n    minMax[0] = Math.min(minMax[0], x);\n    minMax[1] = Math.min(minMax[1], y);\n    minMax[2] = Math.max(minMax[2], x);\n    minMax[3] = Math.max(minMax[3], y);\n  }\n  static rectBoundingBox(x0, y0, x1, y1, minMax) {\n    minMax[0] = Math.min(minMax[0], x0, x1);\n    minMax[1] = Math.min(minMax[1], y0, y1);\n    minMax[2] = Math.max(minMax[2], x0, x1);\n    minMax[3] = Math.max(minMax[3], y0, y1);\n  }\n  static #getExtremumOnCurve(x0, x1, x2, x3, y0, y1, y2, y3, t, minMax) {\n    if (t <= 0 || t >= 1) {\n      return;\n    }\n    const mt = 1 - t;\n    const tt = t * t;\n    const ttt = tt * t;\n    const x = mt * (mt * (mt * x0 + 3 * t * x1) + 3 * tt * x2) + ttt * x3;\n    const y = mt * (mt * (mt * y0 + 3 * t * y1) + 3 * tt * y2) + ttt * y3;\n    minMax[0] = Math.min(minMax[0], x);\n    minMax[1] = Math.min(minMax[1], y);\n    minMax[2] = Math.max(minMax[2], x);\n    minMax[3] = Math.max(minMax[3], y);\n  }\n  static #getExtremum(x0, x1, x2, x3, y0, y1, y2, y3, a, b, c, minMax) {\n    if (Math.abs(a) < 1e-12) {\n      if (Math.abs(b) >= 1e-12) {\n        this.#getExtremumOnCurve(x0, x1, x2, x3, y0, y1, y2, y3, -c / b, minMax);\n      }\n      return;\n    }\n    const delta = b ** 2 - 4 * c * a;\n    if (delta < 0) {\n      return;\n    }\n    const sqrtDelta = Math.sqrt(delta);\n    const a2 = 2 * a;\n    this.#getExtremumOnCurve(x0, x1, x2, x3, y0, y1, y2, y3, (-b + sqrtDelta) / a2, minMax);\n    this.#getExtremumOnCurve(x0, x1, x2, x3, y0, y1, y2, y3, (-b - sqrtDelta) / a2, minMax);\n  }\n  static bezierBoundingBox(x0, y0, x1, y1, x2, y2, x3, y3, minMax) {\n    minMax[0] = Math.min(minMax[0], x0, x3);\n    minMax[1] = Math.min(minMax[1], y0, y3);\n    minMax[2] = Math.max(minMax[2], x0, x3);\n    minMax[3] = Math.max(minMax[3], y0, y3);\n    this.#getExtremum(x0, x1, x2, x3, y0, y1, y2, y3, 3 * (-x0 + 3 * (x1 - x2) + x3), 6 * (x0 - 2 * x1 + x2), 3 * (x1 - x0), minMax);\n    this.#getExtremum(x0, x1, x2, x3, y0, y1, y2, y3, 3 * (-y0 + 3 * (y1 - y2) + y3), 6 * (y0 - 2 * y1 + y2), 3 * (y1 - y0), minMax);\n  }\n}\nconst PDFStringTranslateTable = (/* unused pure expression or super */ null && ([0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0x2d8, 0x2c7, 0x2c6, 0x2d9, 0x2dd, 0x2db, 0x2da, 0x2dc, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0x2022, 0x2020, 0x2021, 0x2026, 0x2014, 0x2013, 0x192, 0x2044, 0x2039, 0x203a, 0x2212, 0x2030, 0x201e, 0x201c, 0x201d, 0x2018, 0x2019, 0x201a, 0x2122, 0xfb01, 0xfb02, 0x141, 0x152, 0x160, 0x178, 0x17d, 0x131, 0x142, 0x153, 0x161, 0x17e, 0, 0x20ac]));\nfunction stringToPDFString(str, keepEscapeSequence = false) {\n  if (str[0] >= \"\\xEF\") {\n    let encoding;\n    if (str[0] === \"\\xFE\" && str[1] === \"\\xFF\") {\n      encoding = \"utf-16be\";\n      if (str.length % 2 === 1) {\n        str = str.slice(0, -1);\n      }\n    } else if (str[0] === \"\\xFF\" && str[1] === \"\\xFE\") {\n      encoding = \"utf-16le\";\n      if (str.length % 2 === 1) {\n        str = str.slice(0, -1);\n      }\n    } else if (str[0] === \"\\xEF\" && str[1] === \"\\xBB\" && str[2] === \"\\xBF\") {\n      encoding = \"utf-8\";\n    }\n    if (encoding) {\n      try {\n        const decoder = new TextDecoder(encoding, {\n          fatal: true\n        });\n        const buffer = stringToBytes(str);\n        const decoded = decoder.decode(buffer);\n        if (keepEscapeSequence || !decoded.includes(\"\\x1b\")) {\n          return decoded;\n        }\n        return decoded.replaceAll(/\\x1b[^\\x1b]*(?:\\x1b|$)/g, \"\");\n      } catch (ex) {\n        warn(`stringToPDFString: \"${ex}\".`);\n      }\n    }\n  }\n  const strBuf = [];\n  for (let i = 0, ii = str.length; i < ii; i++) {\n    const charCode = str.charCodeAt(i);\n    if (!keepEscapeSequence && charCode === 0x1b) {\n      while (++i < ii && str.charCodeAt(i) !== 0x1b) {}\n      continue;\n    }\n    const code = PDFStringTranslateTable[charCode];\n    strBuf.push(code ? String.fromCharCode(code) : str.charAt(i));\n  }\n  return strBuf.join(\"\");\n}\nfunction stringToUTF8String(str) {\n  return decodeURIComponent(escape(str));\n}\nfunction utf8StringToString(str) {\n  return unescape(encodeURIComponent(str));\n}\nfunction isArrayEqual(arr1, arr2) {\n  if (arr1.length !== arr2.length) {\n    return false;\n  }\n  for (let i = 0, ii = arr1.length; i < ii; i++) {\n    if (arr1[i] !== arr2[i]) {\n      return false;\n    }\n  }\n  return true;\n}\nfunction getModificationDate(date = new Date()) {\n  if (!(date instanceof Date)) {\n    date = new Date(date);\n  }\n  const buffer = [date.getUTCFullYear().toString(), (date.getUTCMonth() + 1).toString().padStart(2, \"0\"), date.getUTCDate().toString().padStart(2, \"0\"), date.getUTCHours().toString().padStart(2, \"0\"), date.getUTCMinutes().toString().padStart(2, \"0\"), date.getUTCSeconds().toString().padStart(2, \"0\")];\n  return buffer.join(\"\");\n}\nlet NormalizeRegex = null;\nlet NormalizationMap = null;\nfunction normalizeUnicode(str) {\n  if (!NormalizeRegex) {\n    NormalizeRegex = /([\\u00a0\\u00b5\\u037e\\u0eb3\\u2000-\\u200a\\u202f\\u2126\\ufb00-\\ufb04\\ufb06\\ufb20-\\ufb36\\ufb38-\\ufb3c\\ufb3e\\ufb40-\\ufb41\\ufb43-\\ufb44\\ufb46-\\ufba1\\ufba4-\\ufba9\\ufbae-\\ufbb1\\ufbd3-\\ufbdc\\ufbde-\\ufbe7\\ufbea-\\ufbf8\\ufbfc-\\ufbfd\\ufc00-\\ufc5d\\ufc64-\\ufcf1\\ufcf5-\\ufd3d\\ufd88\\ufdf4\\ufdfa-\\ufdfb\\ufe71\\ufe77\\ufe79\\ufe7b\\ufe7d]+)|(\\ufb05+)/gu;\n    NormalizationMap = new Map([[\"\", \"t\"]]);\n  }\n  return str.replaceAll(NormalizeRegex, (_, p1, p2) => p1 ? p1.normalize(\"NFKC\") : NormalizationMap.get(p2));\n}\nfunction getUuid() {\n  if (typeof crypto.randomUUID === \"function\") {\n    return crypto.randomUUID();\n  }\n  const buf = new Uint8Array(32);\n  crypto.getRandomValues(buf);\n  return bytesToString(buf);\n}\nconst AnnotationPrefix = \"pdfjs_internal_id_\";\nfunction _isValidExplicitDest(validRef, validName, dest) {\n  if (!Array.isArray(dest) || dest.length < 2) {\n    return false;\n  }\n  const [page, zoom, ...args] = dest;\n  if (!validRef(page) && !Number.isInteger(page)) {\n    return false;\n  }\n  if (!validName(zoom)) {\n    return false;\n  }\n  const argsLen = args.length;\n  let allowNull = true;\n  switch (zoom.name) {\n    case \"XYZ\":\n      if (argsLen < 2 || argsLen > 3) {\n        return false;\n      }\n      break;\n    case \"Fit\":\n    case \"FitB\":\n      return argsLen === 0;\n    case \"FitH\":\n    case \"FitBH\":\n    case \"FitV\":\n    case \"FitBV\":\n      if (argsLen > 1) {\n        return false;\n      }\n      break;\n    case \"FitR\":\n      if (argsLen !== 4) {\n        return false;\n      }\n      allowNull = false;\n      break;\n    default:\n      return false;\n  }\n  for (const arg of args) {\n    if (typeof arg === \"number\" || allowNull && arg === null) {\n      continue;\n    }\n    return false;\n  }\n  return true;\n}\nfunction MathClamp(v, min, max) {\n  return Math.min(Math.max(v, min), max);\n}\nfunction toHexUtil(arr) {\n  if (Uint8Array.prototype.toHex) {\n    return arr.toHex();\n  }\n  return Array.from(arr, num => hexNumbers[num]).join(\"\");\n}\nfunction toBase64Util(arr) {\n  if (Uint8Array.prototype.toBase64) {\n    return arr.toBase64();\n  }\n  return btoa(bytesToString(arr));\n}\nfunction fromBase64Util(str) {\n  if (Uint8Array.fromBase64) {\n    return Uint8Array.fromBase64(str);\n  }\n  return stringToBytes(atob(str));\n}\nif (typeof Promise.try !== \"function\") {\n  Promise.try = function (fn, ...args) {\n    return new Promise(resolve => {\n      resolve(fn(...args));\n    });\n  };\n}\nif (typeof Math.sumPrecise !== \"function\") {\n  Math.sumPrecise = function (numbers) {\n    return numbers.reduce((a, b) => a + b, 0);\n  };\n}\n\n;// ./src/display/xfa_text.js\nclass XfaText {\n  static textContent(xfa) {\n    const items = [];\n    const output = {\n      items,\n      styles: Object.create(null)\n    };\n    function walk(node) {\n      if (!node) {\n        return;\n      }\n      let str = null;\n      const name = node.name;\n      if (name === \"#text\") {\n        str = node.value;\n      } else if (!XfaText.shouldBuildText(name)) {\n        return;\n      } else if (node?.attributes?.textContent) {\n        str = node.attributes.textContent;\n      } else if (node.value) {\n        str = node.value;\n      }\n      if (str !== null) {\n        items.push({\n          str\n        });\n      }\n      if (!node.children) {\n        return;\n      }\n      for (const child of node.children) {\n        walk(child);\n      }\n    }\n    walk(xfa);\n    return output;\n  }\n  static shouldBuildText(name) {\n    return !(name === \"textarea\" || name === \"input\" || name === \"option\" || name === \"select\");\n  }\n}\n\n;// ./src/display/xfa_layer.js\n\nclass XfaLayer {\n  static setupStorage(html, id, element, storage, intent) {\n    const storedData = storage.getValue(id, {\n      value: null\n    });\n    switch (element.name) {\n      case \"textarea\":\n        if (storedData.value !== null) {\n          html.textContent = storedData.value;\n        }\n        if (intent === \"print\") {\n          break;\n        }\n        html.addEventListener(\"input\", event => {\n          storage.setValue(id, {\n            value: event.target.value\n          });\n        });\n        break;\n      case \"input\":\n        if (element.attributes.type === \"radio\" || element.attributes.type === \"checkbox\") {\n          if (storedData.value === element.attributes.xfaOn) {\n            html.setAttribute(\"checked\", true);\n          } else if (storedData.value === element.attributes.xfaOff) {\n            html.removeAttribute(\"checked\");\n          }\n          if (intent === \"print\") {\n            break;\n          }\n          html.addEventListener(\"change\", event => {\n            storage.setValue(id, {\n              value: event.target.checked ? event.target.getAttribute(\"xfaOn\") : event.target.getAttribute(\"xfaOff\")\n            });\n          });\n        } else {\n          if (storedData.value !== null) {\n            html.setAttribute(\"value\", storedData.value);\n          }\n          if (intent === \"print\") {\n            break;\n          }\n          html.addEventListener(\"input\", event => {\n            storage.setValue(id, {\n              value: event.target.value\n            });\n          });\n        }\n        break;\n      case \"select\":\n        if (storedData.value !== null) {\n          html.setAttribute(\"value\", storedData.value);\n          for (const option of element.children) {\n            if (option.attributes.value === storedData.value) {\n              option.attributes.selected = true;\n            } else if (option.attributes.hasOwnProperty(\"selected\")) {\n              delete option.attributes.selected;\n            }\n          }\n        }\n        html.addEventListener(\"input\", event => {\n          const options = event.target.options;\n          const value = options.selectedIndex === -1 ? \"\" : options[options.selectedIndex].value;\n          storage.setValue(id, {\n            value\n          });\n        });\n        break;\n    }\n  }\n  static setAttributes({\n    html,\n    element,\n    storage = null,\n    intent,\n    linkService\n  }) {\n    const {\n      attributes\n    } = element;\n    const isHTMLAnchorElement = html instanceof HTMLAnchorElement;\n    if (attributes.type === \"radio\") {\n      attributes.name = `${attributes.name}-${intent}`;\n    }\n    for (const [key, value] of Object.entries(attributes)) {\n      if (value === null || value === undefined) {\n        continue;\n      }\n      switch (key) {\n        case \"class\":\n          if (value.length) {\n            html.setAttribute(key, value.join(\" \"));\n          }\n          break;\n        case \"dataId\":\n          break;\n        case \"id\":\n          html.setAttribute(\"data-element-id\", value);\n          break;\n        case \"style\":\n          Object.assign(html.style, value);\n          break;\n        case \"textContent\":\n          html.textContent = value;\n          break;\n        default:\n          if (!isHTMLAnchorElement || key !== \"href\" && key !== \"newWindow\") {\n            html.setAttribute(key, value);\n          }\n      }\n    }\n    if (isHTMLAnchorElement) {\n      linkService.addLinkAttributes(html, attributes.href, attributes.newWindow);\n    }\n    if (storage && attributes.dataId) {\n      this.setupStorage(html, attributes.dataId, element, storage);\n    }\n  }\n  static render(parameters) {\n    const storage = parameters.annotationStorage;\n    const linkService = parameters.linkService;\n    const root = parameters.xfaHtml;\n    const intent = parameters.intent || \"display\";\n    const rootHtml = document.createElement(root.name);\n    if (root.attributes) {\n      this.setAttributes({\n        html: rootHtml,\n        element: root,\n        intent,\n        linkService\n      });\n    }\n    const isNotForRichText = intent !== \"richText\";\n    const rootDiv = parameters.div;\n    rootDiv.append(rootHtml);\n    if (parameters.viewport) {\n      const transform = `matrix(${parameters.viewport.transform.join(\",\")})`;\n      rootDiv.style.transform = transform;\n    }\n    if (isNotForRichText) {\n      rootDiv.setAttribute(\"class\", \"xfaLayer xfaFont\");\n    }\n    const textDivs = [];\n    if (root.children.length === 0) {\n      if (root.value) {\n        const node = document.createTextNode(root.value);\n        rootHtml.append(node);\n        if (isNotForRichText && XfaText.shouldBuildText(root.name)) {\n          textDivs.push(node);\n        }\n      }\n      return {\n        textDivs\n      };\n    }\n    const stack = [[root, -1, rootHtml]];\n    while (stack.length > 0) {\n      const [parent, i, html] = stack.at(-1);\n      if (i + 1 === parent.children.length) {\n        stack.pop();\n        continue;\n      }\n      const child = parent.children[++stack.at(-1)[1]];\n      if (child === null) {\n        continue;\n      }\n      const {\n        name\n      } = child;\n      if (name === \"#text\") {\n        const node = document.createTextNode(child.value);\n        textDivs.push(node);\n        html.append(node);\n        continue;\n      }\n      const childHtml = child?.attributes?.xmlns ? document.createElementNS(child.attributes.xmlns, name) : document.createElement(name);\n      html.append(childHtml);\n      if (child.attributes) {\n        this.setAttributes({\n          html: childHtml,\n          element: child,\n          storage,\n          intent,\n          linkService\n        });\n      }\n      if (child.children?.length > 0) {\n        stack.push([child, -1, childHtml]);\n      } else if (child.value) {\n        const node = document.createTextNode(child.value);\n        if (isNotForRichText && XfaText.shouldBuildText(name)) {\n          textDivs.push(node);\n        }\n        childHtml.append(node);\n      }\n    }\n    for (const el of rootDiv.querySelectorAll(\".xfaNonInteractive input, .xfaNonInteractive textarea\")) {\n      el.setAttribute(\"readOnly\", true);\n    }\n    return {\n      textDivs\n    };\n  }\n  static update(parameters) {\n    const transform = `matrix(${parameters.viewport.transform.join(\",\")})`;\n    parameters.div.style.transform = transform;\n    parameters.div.hidden = false;\n  }\n}\n\n;// ./src/display/display_utils.js\n\n\nconst SVG_NS = \"http://www.w3.org/2000/svg\";\nclass PixelsPerInch {\n  static CSS = 96.0;\n  static PDF = 72.0;\n  static PDF_TO_CSS_UNITS = this.CSS / this.PDF;\n}\nasync function fetchData(url, type = \"text\") {\n  if (isValidFetchUrl(url, document.baseURI)) {\n    const response = await fetch(url);\n    if (!response.ok) {\n      throw new Error(response.statusText);\n    }\n    switch (type) {\n      case \"arraybuffer\":\n        return response.arrayBuffer();\n      case \"blob\":\n        return response.blob();\n      case \"json\":\n        return response.json();\n    }\n    return response.text();\n  }\n  return new Promise((resolve, reject) => {\n    const request = new XMLHttpRequest();\n    request.open(\"GET\", url, true);\n    request.responseType = type;\n    request.onreadystatechange = () => {\n      if (request.readyState !== XMLHttpRequest.DONE) {\n        return;\n      }\n      if (request.status === 200 || request.status === 0) {\n        switch (type) {\n          case \"arraybuffer\":\n          case \"blob\":\n          case \"json\":\n            resolve(request.response);\n            return;\n        }\n        resolve(request.responseText);\n        return;\n      }\n      reject(new Error(request.statusText));\n    };\n    request.send(null);\n  });\n}\nclass PageViewport {\n  constructor({\n    viewBox,\n    userUnit,\n    scale,\n    rotation,\n    offsetX = 0,\n    offsetY = 0,\n    dontFlip = false\n  }) {\n    this.viewBox = viewBox;\n    this.userUnit = userUnit;\n    this.scale = scale;\n    this.rotation = rotation;\n    this.offsetX = offsetX;\n    this.offsetY = offsetY;\n    scale *= userUnit;\n    const centerX = (viewBox[2] + viewBox[0]) / 2;\n    const centerY = (viewBox[3] + viewBox[1]) / 2;\n    let rotateA, rotateB, rotateC, rotateD;\n    rotation %= 360;\n    if (rotation < 0) {\n      rotation += 360;\n    }\n    switch (rotation) {\n      case 180:\n        rotateA = -1;\n        rotateB = 0;\n        rotateC = 0;\n        rotateD = 1;\n        break;\n      case 90:\n        rotateA = 0;\n        rotateB = 1;\n        rotateC = 1;\n        rotateD = 0;\n        break;\n      case 270:\n        rotateA = 0;\n        rotateB = -1;\n        rotateC = -1;\n        rotateD = 0;\n        break;\n      case 0:\n        rotateA = 1;\n        rotateB = 0;\n        rotateC = 0;\n        rotateD = -1;\n        break;\n      default:\n        throw new Error(\"PageViewport: Invalid rotation, must be a multiple of 90 degrees.\");\n    }\n    if (dontFlip) {\n      rotateC = -rotateC;\n      rotateD = -rotateD;\n    }\n    let offsetCanvasX, offsetCanvasY;\n    let width, height;\n    if (rotateA === 0) {\n      offsetCanvasX = Math.abs(centerY - viewBox[1]) * scale + offsetX;\n      offsetCanvasY = Math.abs(centerX - viewBox[0]) * scale + offsetY;\n      width = (viewBox[3] - viewBox[1]) * scale;\n      height = (viewBox[2] - viewBox[0]) * scale;\n    } else {\n      offsetCanvasX = Math.abs(centerX - viewBox[0]) * scale + offsetX;\n      offsetCanvasY = Math.abs(centerY - viewBox[1]) * scale + offsetY;\n      width = (viewBox[2] - viewBox[0]) * scale;\n      height = (viewBox[3] - viewBox[1]) * scale;\n    }\n    this.transform = [rotateA * scale, rotateB * scale, rotateC * scale, rotateD * scale, offsetCanvasX - rotateA * scale * centerX - rotateC * scale * centerY, offsetCanvasY - rotateB * scale * centerX - rotateD * scale * centerY];\n    this.width = width;\n    this.height = height;\n  }\n  get rawDims() {\n    const dims = this.viewBox;\n    return shadow(this, \"rawDims\", {\n      pageWidth: dims[2] - dims[0],\n      pageHeight: dims[3] - dims[1],\n      pageX: dims[0],\n      pageY: dims[1]\n    });\n  }\n  clone({\n    scale = this.scale,\n    rotation = this.rotation,\n    offsetX = this.offsetX,\n    offsetY = this.offsetY,\n    dontFlip = false\n  } = {}) {\n    return new PageViewport({\n      viewBox: this.viewBox.slice(),\n      userUnit: this.userUnit,\n      scale,\n      rotation,\n      offsetX,\n      offsetY,\n      dontFlip\n    });\n  }\n  convertToViewportPoint(x, y) {\n    const p = [x, y];\n    Util.applyTransform(p, this.transform);\n    return p;\n  }\n  convertToViewportRectangle(rect) {\n    const topLeft = [rect[0], rect[1]];\n    Util.applyTransform(topLeft, this.transform);\n    const bottomRight = [rect[2], rect[3]];\n    Util.applyTransform(bottomRight, this.transform);\n    return [topLeft[0], topLeft[1], bottomRight[0], bottomRight[1]];\n  }\n  convertToPdfPoint(x, y) {\n    const p = [x, y];\n    Util.applyInverseTransform(p, this.transform);\n    return p;\n  }\n}\nclass RenderingCancelledException extends BaseException {\n  constructor(msg, extraDelay = 0) {\n    super(msg, \"RenderingCancelledException\");\n    this.extraDelay = extraDelay;\n  }\n}\nfunction isDataScheme(url) {\n  const ii = url.length;\n  let i = 0;\n  while (i < ii && url[i].trim() === \"\") {\n    i++;\n  }\n  return url.substring(i, i + 5).toLowerCase() === \"data:\";\n}\nfunction isPdfFile(filename) {\n  return typeof filename === \"string\" && /\\.pdf$/i.test(filename);\n}\nfunction getFilenameFromUrl(url) {\n  [url] = url.split(/[#?]/, 1);\n  return url.substring(url.lastIndexOf(\"/\") + 1);\n}\nfunction getPdfFilenameFromUrl(url, defaultFilename = \"document.pdf\") {\n  if (typeof url !== \"string\") {\n    return defaultFilename;\n  }\n  if (isDataScheme(url)) {\n    warn('getPdfFilenameFromUrl: ignore \"data:\"-URL for performance reasons.');\n    return defaultFilename;\n  }\n  const getURL = urlString => {\n    try {\n      return new URL(urlString);\n    } catch {\n      try {\n        return new URL(decodeURIComponent(urlString));\n      } catch {\n        try {\n          return new URL(urlString, \"https://foo.bar\");\n        } catch {\n          try {\n            return new URL(decodeURIComponent(urlString), \"https://foo.bar\");\n          } catch {\n            return null;\n          }\n        }\n      }\n    }\n  };\n  const newURL = getURL(url);\n  if (!newURL) {\n    return defaultFilename;\n  }\n  const decode = name => {\n    try {\n      let decoded = decodeURIComponent(name);\n      if (decoded.includes(\"/\")) {\n        decoded = decoded.split(\"/\").at(-1);\n        if (decoded.test(/^\\.pdf$/i)) {\n          return decoded;\n        }\n        return name;\n      }\n      return decoded;\n    } catch {\n      return name;\n    }\n  };\n  const pdfRegex = /\\.pdf$/i;\n  const filename = newURL.pathname.split(\"/\").at(-1);\n  if (pdfRegex.test(filename)) {\n    return decode(filename);\n  }\n  if (newURL.searchParams.size > 0) {\n    const values = Array.from(newURL.searchParams.values()).reverse();\n    for (const value of values) {\n      if (pdfRegex.test(value)) {\n        return decode(value);\n      }\n    }\n    const keys = Array.from(newURL.searchParams.keys()).reverse();\n    for (const key of keys) {\n      if (pdfRegex.test(key)) {\n        return decode(key);\n      }\n    }\n  }\n  if (newURL.hash) {\n    const reFilename = /[^/?#=]+\\.pdf\\b(?!.*\\.pdf\\b)/i;\n    const hashFilename = reFilename.exec(newURL.hash);\n    if (hashFilename) {\n      return decode(hashFilename[0]);\n    }\n  }\n  return defaultFilename;\n}\nclass StatTimer {\n  started = Object.create(null);\n  times = [];\n  time(name) {\n    if (name in this.started) {\n      warn(`Timer is already running for ${name}`);\n    }\n    this.started[name] = Date.now();\n  }\n  timeEnd(name) {\n    if (!(name in this.started)) {\n      warn(`Timer has not been started for ${name}`);\n    }\n    this.times.push({\n      name,\n      start: this.started[name],\n      end: Date.now()\n    });\n    delete this.started[name];\n  }\n  toString() {\n    const outBuf = [];\n    let longest = 0;\n    for (const {\n      name\n    } of this.times) {\n      longest = Math.max(name.length, longest);\n    }\n    for (const {\n      name,\n      start,\n      end\n    } of this.times) {\n      outBuf.push(`${name.padEnd(longest)} ${end - start}ms\\n`);\n    }\n    return outBuf.join(\"\");\n  }\n}\nfunction isValidFetchUrl(url, baseUrl) {\n  const res = baseUrl ? URL.parse(url, baseUrl) : URL.parse(url);\n  return res?.protocol === \"http:\" || res?.protocol === \"https:\";\n}\nfunction noContextMenu(e) {\n  e.preventDefault();\n}\nfunction stopEvent(e) {\n  e.preventDefault();\n  e.stopPropagation();\n}\nfunction deprecated(details) {\n  console.log(\"Deprecated API usage: \" + details);\n}\nclass PDFDateString {\n  static #regex;\n  static toDateObject(input) {\n    if (input instanceof Date) {\n      return input;\n    }\n    if (!input || typeof input !== \"string\") {\n      return null;\n    }\n    this.#regex ||= new RegExp(\"^D:\" + \"(\\\\d{4})\" + \"(\\\\d{2})?\" + \"(\\\\d{2})?\" + \"(\\\\d{2})?\" + \"(\\\\d{2})?\" + \"(\\\\d{2})?\" + \"([Z|+|-])?\" + \"(\\\\d{2})?\" + \"'?\" + \"(\\\\d{2})?\" + \"'?\");\n    const matches = this.#regex.exec(input);\n    if (!matches) {\n      return null;\n    }\n    const year = parseInt(matches[1], 10);\n    let month = parseInt(matches[2], 10);\n    month = month >= 1 && month <= 12 ? month - 1 : 0;\n    let day = parseInt(matches[3], 10);\n    day = day >= 1 && day <= 31 ? day : 1;\n    let hour = parseInt(matches[4], 10);\n    hour = hour >= 0 && hour <= 23 ? hour : 0;\n    let minute = parseInt(matches[5], 10);\n    minute = minute >= 0 && minute <= 59 ? minute : 0;\n    let second = parseInt(matches[6], 10);\n    second = second >= 0 && second <= 59 ? second : 0;\n    const universalTimeRelation = matches[7] || \"Z\";\n    let offsetHour = parseInt(matches[8], 10);\n    offsetHour = offsetHour >= 0 && offsetHour <= 23 ? offsetHour : 0;\n    let offsetMinute = parseInt(matches[9], 10) || 0;\n    offsetMinute = offsetMinute >= 0 && offsetMinute <= 59 ? offsetMinute : 0;\n    if (universalTimeRelation === \"-\") {\n      hour += offsetHour;\n      minute += offsetMinute;\n    } else if (universalTimeRelation === \"+\") {\n      hour -= offsetHour;\n      minute -= offsetMinute;\n    }\n    return new Date(Date.UTC(year, month, day, hour, minute, second));\n  }\n}\nfunction getXfaPageViewport(xfaPage, {\n  scale = 1,\n  rotation = 0\n}) {\n  const {\n    width,\n    height\n  } = xfaPage.attributes.style;\n  const viewBox = [0, 0, parseInt(width), parseInt(height)];\n  return new PageViewport({\n    viewBox,\n    userUnit: 1,\n    scale,\n    rotation\n  });\n}\nfunction getRGB(color) {\n  if (color.startsWith(\"#\")) {\n    const colorRGB = parseInt(color.slice(1), 16);\n    return [(colorRGB & 0xff0000) >> 16, (colorRGB & 0x00ff00) >> 8, colorRGB & 0x0000ff];\n  }\n  if (color.startsWith(\"rgb(\")) {\n    return color.slice(4, -1).split(\",\").map(x => parseInt(x));\n  }\n  if (color.startsWith(\"rgba(\")) {\n    return color.slice(5, -1).split(\",\").map(x => parseInt(x)).slice(0, 3);\n  }\n  warn(`Not a valid color format: \"${color}\"`);\n  return [0, 0, 0];\n}\nfunction getColorValues(colors) {\n  const span = document.createElement(\"span\");\n  span.style.visibility = \"hidden\";\n  span.style.colorScheme = \"only light\";\n  document.body.append(span);\n  for (const name of colors.keys()) {\n    span.style.color = name;\n    const computedColor = window.getComputedStyle(span).color;\n    colors.set(name, getRGB(computedColor));\n  }\n  span.remove();\n}\nfunction getCurrentTransform(ctx) {\n  const {\n    a,\n    b,\n    c,\n    d,\n    e,\n    f\n  } = ctx.getTransform();\n  return [a, b, c, d, e, f];\n}\nfunction getCurrentTransformInverse(ctx) {\n  const {\n    a,\n    b,\n    c,\n    d,\n    e,\n    f\n  } = ctx.getTransform().invertSelf();\n  return [a, b, c, d, e, f];\n}\nfunction setLayerDimensions(div, viewport, mustFlip = false, mustRotate = true) {\n  if (viewport instanceof PageViewport) {\n    const {\n      pageWidth,\n      pageHeight\n    } = viewport.rawDims;\n    const {\n      style\n    } = div;\n    const useRound = util_FeatureTest.isCSSRoundSupported;\n    const w = `var(--total-scale-factor) * ${pageWidth}px`,\n      h = `var(--total-scale-factor) * ${pageHeight}px`;\n    const widthStr = useRound ? `round(down, ${w}, var(--scale-round-x))` : `calc(${w})`,\n      heightStr = useRound ? `round(down, ${h}, var(--scale-round-y))` : `calc(${h})`;\n    if (!mustFlip || viewport.rotation % 180 === 0) {\n      style.width = widthStr;\n      style.height = heightStr;\n    } else {\n      style.width = heightStr;\n      style.height = widthStr;\n    }\n  }\n  if (mustRotate) {\n    div.setAttribute(\"data-main-rotation\", viewport.rotation);\n  }\n}\nclass OutputScale {\n  constructor() {\n    const {\n      pixelRatio\n    } = OutputScale;\n    this.sx = pixelRatio;\n    this.sy = pixelRatio;\n  }\n  get scaled() {\n    return this.sx !== 1 || this.sy !== 1;\n  }\n  get symmetric() {\n    return this.sx === this.sy;\n  }\n  limitCanvas(width, height, maxPixels, maxDim, capAreaFactor = -1) {\n    let maxAreaScale = Infinity,\n      maxWidthScale = Infinity,\n      maxHeightScale = Infinity;\n    maxPixels = OutputScale.capPixels(maxPixels, capAreaFactor);\n    if (maxPixels > 0) {\n      maxAreaScale = Math.sqrt(maxPixels / (width * height));\n    }\n    if (maxDim !== -1) {\n      maxWidthScale = maxDim / width;\n      maxHeightScale = maxDim / height;\n    }\n    const maxScale = Math.min(maxAreaScale, maxWidthScale, maxHeightScale);\n    if (this.sx > maxScale || this.sy > maxScale) {\n      this.sx = maxScale;\n      this.sy = maxScale;\n      return true;\n    }\n    return false;\n  }\n  static get pixelRatio() {\n    return globalThis.devicePixelRatio || 1;\n  }\n  static capPixels(maxPixels, capAreaFactor) {\n    if (capAreaFactor >= 0) {\n      const winPixels = Math.ceil(window.screen.availWidth * window.screen.availHeight * this.pixelRatio ** 2 * (1 + capAreaFactor / 100));\n      return maxPixels > 0 ? Math.min(maxPixels, winPixels) : winPixels;\n    }\n    return maxPixels;\n  }\n}\nconst SupportedImageMimeTypes = [\"image/apng\", \"image/avif\", \"image/bmp\", \"image/gif\", \"image/jpeg\", \"image/png\", \"image/svg+xml\", \"image/webp\", \"image/x-icon\"];\nclass ColorScheme {\n  static get isDarkMode() {\n    return shadow(this, \"isDarkMode\", !!window?.matchMedia?.(\"(prefers-color-scheme: dark)\").matches);\n  }\n}\nclass CSSConstants {\n  static get commentForegroundColor() {\n    const element = document.createElement(\"span\");\n    element.classList.add(\"comment\", \"sidebar\");\n    const {\n      style\n    } = element;\n    style.width = style.height = \"0\";\n    style.display = \"none\";\n    style.color = \"var(--comment-fg-color)\";\n    document.body.append(element);\n    const {\n      color\n    } = window.getComputedStyle(element);\n    element.remove();\n    return shadow(this, \"commentForegroundColor\", getRGB(color));\n  }\n}\nfunction applyOpacity(r, g, b, opacity) {\n  opacity = Math.min(Math.max(opacity ?? 1, 0), 1);\n  const white = 255 * (1 - opacity);\n  r = Math.round(r * opacity + white);\n  g = Math.round(g * opacity + white);\n  b = Math.round(b * opacity + white);\n  return [r, g, b];\n}\nfunction RGBToHSL(rgb, output) {\n  const r = rgb[0] / 255;\n  const g = rgb[1] / 255;\n  const b = rgb[2] / 255;\n  const max = Math.max(r, g, b);\n  const min = Math.min(r, g, b);\n  const l = (max + min) / 2;\n  if (max === min) {\n    output[0] = output[1] = 0;\n  } else {\n    const d = max - min;\n    output[1] = l < 0.5 ? d / (max + min) : d / (2 - max - min);\n    switch (max) {\n      case r:\n        output[0] = ((g - b) / d + (g < b ? 6 : 0)) * 60;\n        break;\n      case g:\n        output[0] = ((b - r) / d + 2) * 60;\n        break;\n      case b:\n        output[0] = ((r - g) / d + 4) * 60;\n        break;\n    }\n  }\n  output[2] = l;\n}\nfunction HSLToRGB(hsl, output) {\n  const h = hsl[0];\n  const s = hsl[1];\n  const l = hsl[2];\n  const c = (1 - Math.abs(2 * l - 1)) * s;\n  const x = c * (1 - Math.abs(h / 60 % 2 - 1));\n  const m = l - c / 2;\n  switch (Math.floor(h / 60)) {\n    case 0:\n      output[0] = c + m;\n      output[1] = x + m;\n      output[2] = m;\n      break;\n    case 1:\n      output[0] = x + m;\n      output[1] = c + m;\n      output[2] = m;\n      break;\n    case 2:\n      output[0] = m;\n      output[1] = c + m;\n      output[2] = x + m;\n      break;\n    case 3:\n      output[0] = m;\n      output[1] = x + m;\n      output[2] = c + m;\n      break;\n    case 4:\n      output[0] = x + m;\n      output[1] = m;\n      output[2] = c + m;\n      break;\n    case 5:\n    case 6:\n      output[0] = c + m;\n      output[1] = m;\n      output[2] = x + m;\n      break;\n  }\n}\nfunction computeLuminance(x) {\n  return x <= 0.03928 ? x / 12.92 : ((x + 0.055) / 1.055) ** 2.4;\n}\nfunction contrastRatio(hsl1, hsl2, output) {\n  HSLToRGB(hsl1, output);\n  output.map(computeLuminance);\n  const lum1 = 0.2126 * output[0] + 0.7152 * output[1] + 0.0722 * output[2];\n  HSLToRGB(hsl2, output);\n  output.map(computeLuminance);\n  const lum2 = 0.2126 * output[0] + 0.7152 * output[1] + 0.0722 * output[2];\n  return lum1 > lum2 ? (lum1 + 0.05) / (lum2 + 0.05) : (lum2 + 0.05) / (lum1 + 0.05);\n}\nconst contrastCache = new Map();\nfunction findContrastColor(baseColor, fixedColor) {\n  const key = baseColor[0] + baseColor[1] * 0x100 + baseColor[2] * 0x10000 + fixedColor[0] * 0x1000000 + fixedColor[1] * 0x100000000 + fixedColor[2] * 0x10000000000;\n  let cachedValue = contrastCache.get(key);\n  if (cachedValue) {\n    return cachedValue;\n  }\n  const array = new Float32Array(9);\n  const output = array.subarray(0, 3);\n  const baseHSL = array.subarray(3, 6);\n  RGBToHSL(baseColor, baseHSL);\n  const fixedHSL = array.subarray(6, 9);\n  RGBToHSL(fixedColor, fixedHSL);\n  const isFixedColorDark = fixedHSL[2] < 0.5;\n  const minContrast = isFixedColorDark ? 12 : 4.5;\n  baseHSL[2] = isFixedColorDark ? Math.sqrt(baseHSL[2]) : 1 - Math.sqrt(1 - baseHSL[2]);\n  if (contrastRatio(baseHSL, fixedHSL, output) < minContrast) {\n    let start, end;\n    if (isFixedColorDark) {\n      start = baseHSL[2];\n      end = 1;\n    } else {\n      start = 0;\n      end = baseHSL[2];\n    }\n    const PRECISION = 0.005;\n    while (end - start > PRECISION) {\n      const mid = baseHSL[2] = (start + end) / 2;\n      if (isFixedColorDark === contrastRatio(baseHSL, fixedHSL, output) < minContrast) {\n        start = mid;\n      } else {\n        end = mid;\n      }\n    }\n    baseHSL[2] = isFixedColorDark ? end : start;\n  }\n  HSLToRGB(baseHSL, output);\n  cachedValue = Util.makeHexColor(Math.round(output[0] * 255), Math.round(output[1] * 255), Math.round(output[2] * 255));\n  contrastCache.set(key, cachedValue);\n  return cachedValue;\n}\nfunction renderRichText({\n  html,\n  dir,\n  className\n}, container) {\n  const fragment = document.createDocumentFragment();\n  if (typeof html === \"string\") {\n    const p = document.createElement(\"p\");\n    p.dir = dir || \"auto\";\n    const lines = html.split(/(?:\\r\\n?|\\n)/);\n    for (let i = 0, ii = lines.length; i < ii; ++i) {\n      const line = lines[i];\n      p.append(document.createTextNode(line));\n      if (i < ii - 1) {\n        p.append(document.createElement(\"br\"));\n      }\n    }\n    fragment.append(p);\n  } else {\n    XfaLayer.render({\n      xfaHtml: html,\n      div: fragment,\n      intent: \"richText\"\n    });\n  }\n  fragment.firstElementChild.classList.add(\"richText\", className);\n  container.append(fragment);\n}\nfunction makePathFromDrawOPS(data) {\n  const path = new Path2D();\n  if (!data) {\n    return path;\n  }\n  for (let i = 0, ii = data.length; i < ii;) {\n    switch (data[i++]) {\n      case DrawOPS.moveTo:\n        path.moveTo(data[i++], data[i++]);\n        break;\n      case DrawOPS.lineTo:\n        path.lineTo(data[i++], data[i++]);\n        break;\n      case DrawOPS.curveTo:\n        path.bezierCurveTo(data[i++], data[i++], data[i++], data[i++], data[i++], data[i++]);\n        break;\n      case DrawOPS.quadraticCurveTo:\n        path.quadraticCurveTo(data[i++], data[i++], data[i++], data[i++]);\n        break;\n      case DrawOPS.closePath:\n        path.closePath();\n        break;\n      default:\n        warn(`Unrecognized drawing path operator: ${data[i - 1]}`);\n        break;\n    }\n  }\n  return path;\n}\n\n;// ./src/display/editor/toolbar.js\n\nclass EditorToolbar {\n  #toolbar = null;\n  #colorPicker = null;\n  #editor;\n  #buttons = null;\n  #altText = null;\n  #comment = null;\n  #commentButtonDivider = null;\n  #signatureDescriptionButton = null;\n  static #l10nRemove = null;\n  constructor(editor) {\n    this.#editor = editor;\n    EditorToolbar.#l10nRemove ||= Object.freeze({\n      freetext: \"pdfjs-editor-remove-freetext-button\",\n      highlight: \"pdfjs-editor-remove-highlight-button\",\n      ink: \"pdfjs-editor-remove-ink-button\",\n      stamp: \"pdfjs-editor-remove-stamp-button\",\n      signature: \"pdfjs-editor-remove-signature-button\"\n    });\n  }\n  render() {\n    const editToolbar = this.#toolbar = document.createElement(\"div\");\n    editToolbar.classList.add(\"editToolbar\", \"hidden\");\n    editToolbar.setAttribute(\"role\", \"toolbar\");\n    const signal = this.#editor._uiManager._signal;\n    if (signal instanceof AbortSignal && !signal.aborted) {\n      editToolbar.addEventListener(\"contextmenu\", noContextMenu, {\n        signal\n      });\n      editToolbar.addEventListener(\"pointerdown\", EditorToolbar.#pointerDown, {\n        signal\n      });\n    }\n    const buttons = this.#buttons = document.createElement(\"div\");\n    buttons.className = \"buttons\";\n    editToolbar.append(buttons);\n    const position = this.#editor.toolbarPosition;\n    if (position) {\n      const {\n        style\n      } = editToolbar;\n      const x = this.#editor._uiManager.direction === \"ltr\" ? 1 - position[0] : position[0];\n      style.insetInlineEnd = `${100 * x}%`;\n      style.top = `calc(${100 * position[1]}% + var(--editor-toolbar-vert-offset))`;\n    }\n    return editToolbar;\n  }\n  get div() {\n    return this.#toolbar;\n  }\n  static #pointerDown(e) {\n    e.stopPropagation();\n  }\n  #focusIn(e) {\n    this.#editor._focusEventsAllowed = false;\n    stopEvent(e);\n  }\n  #focusOut(e) {\n    this.#editor._focusEventsAllowed = true;\n    stopEvent(e);\n  }\n  #addListenersToElement(element) {\n    const signal = this.#editor._uiManager._signal;\n    if (!(signal instanceof AbortSignal) || signal.aborted) {\n      return false;\n    }\n    element.addEventListener(\"focusin\", this.#focusIn.bind(this), {\n      capture: true,\n      signal\n    });\n    element.addEventListener(\"focusout\", this.#focusOut.bind(this), {\n      capture: true,\n      signal\n    });\n    element.addEventListener(\"contextmenu\", noContextMenu, {\n      signal\n    });\n    return true;\n  }\n  hide() {\n    this.#toolbar.classList.add(\"hidden\");\n    this.#colorPicker?.hideDropdown();\n  }\n  show() {\n    this.#toolbar.classList.remove(\"hidden\");\n    this.#altText?.shown();\n    this.#comment?.shown();\n  }\n  addDeleteButton() {\n    const {\n      editorType,\n      _uiManager\n    } = this.#editor;\n    const button = document.createElement(\"button\");\n    button.classList.add(\"basic\", \"deleteButton\");\n    button.tabIndex = 0;\n    button.setAttribute(\"data-l10n-id\", EditorToolbar.#l10nRemove[editorType]);\n    if (this.#addListenersToElement(button)) {\n      button.addEventListener(\"click\", e => {\n        _uiManager.delete();\n      }, {\n        signal: _uiManager._signal\n      });\n    }\n    this.#buttons.append(button);\n  }\n  get #divider() {\n    const divider = document.createElement(\"div\");\n    divider.className = \"divider\";\n    return divider;\n  }\n  async addAltText(altText) {\n    const button = await altText.render();\n    this.#addListenersToElement(button);\n    this.#buttons.append(button, this.#divider);\n    this.#altText = altText;\n  }\n  addComment(comment, beforeElement = null) {\n    if (this.#comment) {\n      return;\n    }\n    const button = comment.renderForToolbar();\n    if (!button) {\n      return;\n    }\n    this.#addListenersToElement(button);\n    const divider = this.#commentButtonDivider = this.#divider;\n    if (!beforeElement) {\n      this.#buttons.append(button, divider);\n    } else {\n      this.#buttons.insertBefore(button, beforeElement);\n      this.#buttons.insertBefore(divider, beforeElement);\n    }\n    this.#comment = comment;\n    comment.toolbar = this;\n  }\n  addColorPicker(colorPicker) {\n    if (this.#colorPicker) {\n      return;\n    }\n    this.#colorPicker = colorPicker;\n    const button = colorPicker.renderButton();\n    this.#addListenersToElement(button);\n    this.#buttons.append(button, this.#divider);\n  }\n  async addEditSignatureButton(signatureManager) {\n    const button = this.#signatureDescriptionButton = await signatureManager.renderEditButton(this.#editor);\n    this.#addListenersToElement(button);\n    this.#buttons.append(button, this.#divider);\n  }\n  removeButton(name) {\n    switch (name) {\n      case \"comment\":\n        this.#comment?.removeToolbarCommentButton();\n        this.#comment = null;\n        this.#commentButtonDivider?.remove();\n        this.#commentButtonDivider = null;\n        break;\n    }\n  }\n  async addButton(name, tool) {\n    switch (name) {\n      case \"colorPicker\":\n        if (tool) {\n          this.addColorPicker(tool);\n        }\n        break;\n      case \"altText\":\n        if (tool) {\n          await this.addAltText(tool);\n        }\n        break;\n      case \"editSignature\":\n        if (tool) {\n          await this.addEditSignatureButton(tool);\n        }\n        break;\n      case \"delete\":\n        this.addDeleteButton();\n        break;\n      case \"comment\":\n        if (tool) {\n          this.addComment(tool);\n        }\n        break;\n    }\n  }\n  async addButtonBefore(name, tool, beforeSelector) {\n    if (!tool && name === \"comment\") {\n      return;\n    }\n    const beforeElement = this.#buttons.querySelector(beforeSelector);\n    if (!beforeElement) {\n      return;\n    }\n    if (name === \"comment\") {\n      this.addComment(tool, beforeElement);\n    }\n  }\n  updateEditSignatureButton(description) {\n    if (this.#signatureDescriptionButton) {\n      this.#signatureDescriptionButton.title = description;\n    }\n  }\n  remove() {\n    this.#toolbar.remove();\n    this.#colorPicker?.destroy();\n    this.#colorPicker = null;\n  }\n}\nclass FloatingToolbar {\n  #buttons = null;\n  #toolbar = null;\n  #uiManager;\n  constructor(uiManager) {\n    this.#uiManager = uiManager;\n  }\n  #render() {\n    const editToolbar = this.#toolbar = document.createElement(\"div\");\n    editToolbar.className = \"editToolbar\";\n    editToolbar.setAttribute(\"role\", \"toolbar\");\n    const signal = this.#uiManager._signal;\n    if (signal instanceof AbortSignal && !signal.aborted) {\n      editToolbar.addEventListener(\"contextmenu\", noContextMenu, {\n        signal\n      });\n    }\n    const buttons = this.#buttons = document.createElement(\"div\");\n    buttons.className = \"buttons\";\n    editToolbar.append(buttons);\n    if (this.#uiManager.hasCommentManager()) {\n      this.#makeButton(\"commentButton\", `pdfjs-comment-floating-button`, \"pdfjs-comment-floating-button-label\", () => {\n        this.#uiManager.commentSelection(\"floating_button\");\n      });\n    }\n    this.#makeButton(\"highlightButton\", `pdfjs-highlight-floating-button1`, \"pdfjs-highlight-floating-button-label\", () => {\n      this.#uiManager.highlightSelection(\"floating_button\");\n    });\n    return editToolbar;\n  }\n  #getLastPoint(boxes, isLTR) {\n    let lastY = 0;\n    let lastX = 0;\n    for (const box of boxes) {\n      const y = box.y + box.height;\n      if (y < lastY) {\n        continue;\n      }\n      const x = box.x + (isLTR ? box.width : 0);\n      if (y > lastY) {\n        lastX = x;\n        lastY = y;\n        continue;\n      }\n      if (isLTR) {\n        if (x > lastX) {\n          lastX = x;\n        }\n      } else if (x < lastX) {\n        lastX = x;\n      }\n    }\n    return [isLTR ? 1 - lastX : lastX, lastY];\n  }\n  show(parent, boxes, isLTR) {\n    const [x, y] = this.#getLastPoint(boxes, isLTR);\n    const {\n      style\n    } = this.#toolbar ||= this.#render();\n    parent.append(this.#toolbar);\n    style.insetInlineEnd = `${100 * x}%`;\n    style.top = `calc(${100 * y}% + var(--editor-toolbar-vert-offset))`;\n  }\n  hide() {\n    this.#toolbar.remove();\n  }\n  #makeButton(buttonClass, l10nId, labelL10nId, clickHandler) {\n    const button = document.createElement(\"button\");\n    button.classList.add(\"basic\", buttonClass);\n    button.tabIndex = 0;\n    button.setAttribute(\"data-l10n-id\", l10nId);\n    const span = document.createElement(\"span\");\n    button.append(span);\n    span.className = \"visuallyHidden\";\n    span.setAttribute(\"data-l10n-id\", labelL10nId);\n    const signal = this.#uiManager._signal;\n    if (signal instanceof AbortSignal && !signal.aborted) {\n      button.addEventListener(\"contextmenu\", noContextMenu, {\n        signal\n      });\n      button.addEventListener(\"click\", clickHandler, {\n        signal\n      });\n    }\n    this.#buttons.append(button);\n  }\n}\n\n;// ./src/display/editor/tools.js\n\n\n\nfunction bindEvents(obj, element, names) {\n  for (const name of names) {\n    element.addEventListener(name, obj[name].bind(obj));\n  }\n}\nclass CurrentPointers {\n  static #pointerId = NaN;\n  static #pointerIds = null;\n  static #moveTimestamp = NaN;\n  static #pointerType = null;\n  static initializeAndAddPointerId(pointerId) {\n    (CurrentPointers.#pointerIds ||= new Set()).add(pointerId);\n  }\n  static setPointer(pointerType, pointerId) {\n    CurrentPointers.#pointerId ||= pointerId;\n    CurrentPointers.#pointerType ??= pointerType;\n  }\n  static setTimeStamp(timeStamp) {\n    CurrentPointers.#moveTimestamp = timeStamp;\n  }\n  static isSamePointerId(pointerId) {\n    return CurrentPointers.#pointerId === pointerId;\n  }\n  static isSamePointerIdOrRemove(pointerId) {\n    if (CurrentPointers.#pointerId === pointerId) {\n      return true;\n    }\n    CurrentPointers.#pointerIds?.delete(pointerId);\n    return false;\n  }\n  static isSamePointerType(pointerType) {\n    return CurrentPointers.#pointerType === pointerType;\n  }\n  static isInitializedAndDifferentPointerType(pointerType) {\n    return CurrentPointers.#pointerType !== null && !CurrentPointers.isSamePointerType(pointerType);\n  }\n  static isSameTimeStamp(timeStamp) {\n    return CurrentPointers.#moveTimestamp === timeStamp;\n  }\n  static isUsingMultiplePointers() {\n    return CurrentPointers.#pointerIds?.size >= 1;\n  }\n  static clearPointerType() {\n    CurrentPointers.#pointerType = null;\n  }\n  static clearPointerIds() {\n    CurrentPointers.#pointerId = NaN;\n    CurrentPointers.#pointerIds = null;\n  }\n  static clearTimeStamp() {\n    CurrentPointers.#moveTimestamp = NaN;\n  }\n}\nclass IdManager {\n  #id = 0;\n  get id() {\n    return `${AnnotationEditorPrefix}${this.#id++}`;\n  }\n}\nclass ImageManager {\n  #baseId = getUuid();\n  #id = 0;\n  #cache = null;\n  static get _isSVGFittingCanvas() {\n    const svg = `data:image/svg+xml;charset=UTF-8,<svg viewBox=\"0 0 1 1\" width=\"1\" height=\"1\" xmlns=\"http://www.w3.org/2000/svg\"><rect width=\"1\" height=\"1\" style=\"fill:red;\"/></svg>`;\n    const canvas = new OffscreenCanvas(1, 3);\n    const ctx = canvas.getContext(\"2d\", {\n      willReadFrequently: true\n    });\n    const image = new Image();\n    image.src = svg;\n    const promise = image.decode().then(() => {\n      ctx.drawImage(image, 0, 0, 1, 1, 0, 0, 1, 3);\n      return new Uint32Array(ctx.getImageData(0, 0, 1, 1).data.buffer)[0] === 0;\n    });\n    return shadow(this, \"_isSVGFittingCanvas\", promise);\n  }\n  async #get(key, rawData) {\n    this.#cache ||= new Map();\n    let data = this.#cache.get(key);\n    if (data === null) {\n      return null;\n    }\n    if (data?.bitmap) {\n      data.refCounter += 1;\n      return data;\n    }\n    try {\n      data ||= {\n        bitmap: null,\n        id: `image_${this.#baseId}_${this.#id++}`,\n        refCounter: 0,\n        isSvg: false\n      };\n      let image;\n      if (typeof rawData === \"string\") {\n        data.url = rawData;\n        image = await fetchData(rawData, \"blob\");\n      } else if (rawData instanceof File) {\n        image = data.file = rawData;\n      } else if (rawData instanceof Blob) {\n        image = rawData;\n      }\n      if (image.type === \"image/svg+xml\") {\n        const mustRemoveAspectRatioPromise = ImageManager._isSVGFittingCanvas;\n        const fileReader = new FileReader();\n        const imageElement = new Image();\n        const imagePromise = new Promise((resolve, reject) => {\n          imageElement.onload = () => {\n            data.bitmap = imageElement;\n            data.isSvg = true;\n            resolve();\n          };\n          fileReader.onload = async () => {\n            const url = data.svgUrl = fileReader.result;\n            imageElement.src = (await mustRemoveAspectRatioPromise) ? `${url}#svgView(preserveAspectRatio(none))` : url;\n          };\n          imageElement.onerror = fileReader.onerror = reject;\n        });\n        fileReader.readAsDataURL(image);\n        await imagePromise;\n      } else {\n        data.bitmap = await createImageBitmap(image);\n      }\n      data.refCounter = 1;\n    } catch (e) {\n      warn(e);\n      data = null;\n    }\n    this.#cache.set(key, data);\n    if (data) {\n      this.#cache.set(data.id, data);\n    }\n    return data;\n  }\n  async getFromFile(file) {\n    const {\n      lastModified,\n      name,\n      size,\n      type\n    } = file;\n    return this.#get(`${lastModified}_${name}_${size}_${type}`, file);\n  }\n  async getFromUrl(url) {\n    return this.#get(url, url);\n  }\n  async getFromBlob(id, blobPromise) {\n    const blob = await blobPromise;\n    return this.#get(id, blob);\n  }\n  async getFromId(id) {\n    this.#cache ||= new Map();\n    const data = this.#cache.get(id);\n    if (!data) {\n      return null;\n    }\n    if (data.bitmap) {\n      data.refCounter += 1;\n      return data;\n    }\n    if (data.file) {\n      return this.getFromFile(data.file);\n    }\n    if (data.blobPromise) {\n      const {\n        blobPromise\n      } = data;\n      delete data.blobPromise;\n      return this.getFromBlob(data.id, blobPromise);\n    }\n    return this.getFromUrl(data.url);\n  }\n  getFromCanvas(id, canvas) {\n    this.#cache ||= new Map();\n    let data = this.#cache.get(id);\n    if (data?.bitmap) {\n      data.refCounter += 1;\n      return data;\n    }\n    const offscreen = new OffscreenCanvas(canvas.width, canvas.height);\n    const ctx = offscreen.getContext(\"2d\");\n    ctx.drawImage(canvas, 0, 0);\n    data = {\n      bitmap: offscreen.transferToImageBitmap(),\n      id: `image_${this.#baseId}_${this.#id++}`,\n      refCounter: 1,\n      isSvg: false\n    };\n    this.#cache.set(id, data);\n    this.#cache.set(data.id, data);\n    return data;\n  }\n  getSvgUrl(id) {\n    const data = this.#cache.get(id);\n    if (!data?.isSvg) {\n      return null;\n    }\n    return data.svgUrl;\n  }\n  deleteId(id) {\n    this.#cache ||= new Map();\n    const data = this.#cache.get(id);\n    if (!data) {\n      return;\n    }\n    data.refCounter -= 1;\n    if (data.refCounter !== 0) {\n      return;\n    }\n    const {\n      bitmap\n    } = data;\n    if (!data.url && !data.file) {\n      const canvas = new OffscreenCanvas(bitmap.width, bitmap.height);\n      const ctx = canvas.getContext(\"bitmaprenderer\");\n      ctx.transferFromImageBitmap(bitmap);\n      data.blobPromise = canvas.convertToBlob();\n    }\n    bitmap.close?.();\n    data.bitmap = null;\n  }\n  isValidId(id) {\n    return id.startsWith(`image_${this.#baseId}_`);\n  }\n}\nclass CommandManager {\n  #commands = [];\n  #locked = false;\n  #maxSize;\n  #position = -1;\n  constructor(maxSize = 128) {\n    this.#maxSize = maxSize;\n  }\n  add({\n    cmd,\n    undo,\n    post,\n    mustExec,\n    type = NaN,\n    overwriteIfSameType = false,\n    keepUndo = false\n  }) {\n    if (mustExec) {\n      cmd();\n    }\n    if (this.#locked) {\n      return;\n    }\n    const save = {\n      cmd,\n      undo,\n      post,\n      type\n    };\n    if (this.#position === -1) {\n      if (this.#commands.length > 0) {\n        this.#commands.length = 0;\n      }\n      this.#position = 0;\n      this.#commands.push(save);\n      return;\n    }\n    if (overwriteIfSameType && this.#commands[this.#position].type === type) {\n      if (keepUndo) {\n        save.undo = this.#commands[this.#position].undo;\n      }\n      this.#commands[this.#position] = save;\n      return;\n    }\n    const next = this.#position + 1;\n    if (next === this.#maxSize) {\n      this.#commands.splice(0, 1);\n    } else {\n      this.#position = next;\n      if (next < this.#commands.length) {\n        this.#commands.splice(next);\n      }\n    }\n    this.#commands.push(save);\n  }\n  undo() {\n    if (this.#position === -1) {\n      return;\n    }\n    this.#locked = true;\n    const {\n      undo,\n      post\n    } = this.#commands[this.#position];\n    undo();\n    post?.();\n    this.#locked = false;\n    this.#position -= 1;\n  }\n  redo() {\n    if (this.#position < this.#commands.length - 1) {\n      this.#position += 1;\n      this.#locked = true;\n      const {\n        cmd,\n        post\n      } = this.#commands[this.#position];\n      cmd();\n      post?.();\n      this.#locked = false;\n    }\n  }\n  hasSomethingToUndo() {\n    return this.#position !== -1;\n  }\n  hasSomethingToRedo() {\n    return this.#position < this.#commands.length - 1;\n  }\n  cleanType(type) {\n    if (this.#position === -1) {\n      return;\n    }\n    for (let i = this.#position; i >= 0; i--) {\n      if (this.#commands[i].type !== type) {\n        this.#commands.splice(i + 1, this.#position - i);\n        this.#position = i;\n        return;\n      }\n    }\n    this.#commands.length = 0;\n    this.#position = -1;\n  }\n  destroy() {\n    this.#commands = null;\n  }\n}\nclass KeyboardManager {\n  constructor(callbacks) {\n    this.buffer = [];\n    this.callbacks = new Map();\n    this.allKeys = new Set();\n    const {\n      isMac\n    } = util_FeatureTest.platform;\n    for (const [keys, callback, options = {}] of callbacks) {\n      for (const key of keys) {\n        const isMacKey = key.startsWith(\"mac+\");\n        if (isMac && isMacKey) {\n          this.callbacks.set(key.slice(4), {\n            callback,\n            options\n          });\n          this.allKeys.add(key.split(\"+\").at(-1));\n        } else if (!isMac && !isMacKey) {\n          this.callbacks.set(key, {\n            callback,\n            options\n          });\n          this.allKeys.add(key.split(\"+\").at(-1));\n        }\n      }\n    }\n  }\n  #serialize(event) {\n    if (event.altKey) {\n      this.buffer.push(\"alt\");\n    }\n    if (event.ctrlKey) {\n      this.buffer.push(\"ctrl\");\n    }\n    if (event.metaKey) {\n      this.buffer.push(\"meta\");\n    }\n    if (event.shiftKey) {\n      this.buffer.push(\"shift\");\n    }\n    this.buffer.push(event.key);\n    const str = this.buffer.join(\"+\");\n    this.buffer.length = 0;\n    return str;\n  }\n  exec(self, event) {\n    if (!this.allKeys.has(event.key)) {\n      return;\n    }\n    const info = this.callbacks.get(this.#serialize(event));\n    if (!info) {\n      return;\n    }\n    const {\n      callback,\n      options: {\n        bubbles = false,\n        args = [],\n        checker = null\n      }\n    } = info;\n    if (checker && !checker(self, event)) {\n      return;\n    }\n    callback.bind(self, ...args, event)();\n    if (!bubbles) {\n      stopEvent(event);\n    }\n  }\n}\nclass ColorManager {\n  static _colorsMapping = new Map([[\"CanvasText\", [0, 0, 0]], [\"Canvas\", [255, 255, 255]]]);\n  get _colors() {\n    const colors = new Map([[\"CanvasText\", null], [\"Canvas\", null]]);\n    getColorValues(colors);\n    return shadow(this, \"_colors\", colors);\n  }\n  convert(color) {\n    const rgb = getRGB(color);\n    if (!window.matchMedia(\"(forced-colors: active)\").matches) {\n      return rgb;\n    }\n    for (const [name, RGB] of this._colors) {\n      if (RGB.every((x, i) => x === rgb[i])) {\n        return ColorManager._colorsMapping.get(name);\n      }\n    }\n    return rgb;\n  }\n  getHexCode(name) {\n    const rgb = this._colors.get(name);\n    if (!rgb) {\n      return name;\n    }\n    return Util.makeHexColor(...rgb);\n  }\n}\nclass AnnotationEditorUIManager {\n  #abortController = new AbortController();\n  #activeEditor = null;\n  #allEditableAnnotations = null;\n  #allEditors = new Map();\n  #allLayers = new Map();\n  #altTextManager = null;\n  #annotationStorage = null;\n  #changedExistingAnnotations = null;\n  #commandManager = new CommandManager();\n  #commentManager = null;\n  #copyPasteAC = null;\n  #currentDrawingSession = null;\n  #currentPageIndex = 0;\n  #deletedAnnotationsElementIds = new Set();\n  #draggingEditors = null;\n  #editorTypes = null;\n  #editorsToRescale = new Set();\n  _editorUndoBar = null;\n  #enableHighlightFloatingButton = false;\n  #enableUpdatedAddImage = false;\n  #enableNewAltTextWhenAddingImage = false;\n  #filterFactory = null;\n  #focusMainContainerTimeoutId = null;\n  #focusManagerAC = null;\n  #highlightColors = null;\n  #highlightWhenShiftUp = false;\n  #floatingToolbar = null;\n  #idManager = new IdManager();\n  #isEnabled = false;\n  #isPointerDown = false;\n  #isWaiting = false;\n  #keyboardManagerAC = null;\n  #lastActiveElement = null;\n  #mainHighlightColorPicker = null;\n  #missingCanvases = null;\n  #mlManager = null;\n  #mode = AnnotationEditorType.NONE;\n  #selectedEditors = new Set();\n  #selectedTextNode = null;\n  #signatureManager = null;\n  #pageColors = null;\n  #showAllStates = null;\n  #pdfDocument = null;\n  #previousStates = {\n    isEditing: false,\n    isEmpty: true,\n    hasSomethingToUndo: false,\n    hasSomethingToRedo: false,\n    hasSelectedEditor: false,\n    hasSelectedText: false\n  };\n  #translation = [0, 0];\n  #translationTimeoutId = null;\n  #container = null;\n  #viewer = null;\n  #viewerAlert = null;\n  #updateModeCapability = null;\n  static TRANSLATE_SMALL = 1;\n  static TRANSLATE_BIG = 10;\n  static get _keyboardManager() {\n    const proto = AnnotationEditorUIManager.prototype;\n    const arrowChecker = self => self.#container.contains(document.activeElement) && document.activeElement.tagName !== \"BUTTON\" && self.hasSomethingToControl();\n    const textInputChecker = (_self, {\n      target: el\n    }) => {\n      if (el instanceof HTMLInputElement) {\n        const {\n          type\n        } = el;\n        return type !== \"text\" && type !== \"number\";\n      }\n      return true;\n    };\n    const small = this.TRANSLATE_SMALL;\n    const big = this.TRANSLATE_BIG;\n    return shadow(this, \"_keyboardManager\", new KeyboardManager([[[\"ctrl+a\", \"mac+meta+a\"], proto.selectAll, {\n      checker: textInputChecker\n    }], [[\"ctrl+z\", \"mac+meta+z\"], proto.undo, {\n      checker: textInputChecker\n    }], [[\"ctrl+y\", \"ctrl+shift+z\", \"mac+meta+shift+z\", \"ctrl+shift+Z\", \"mac+meta+shift+Z\"], proto.redo, {\n      checker: textInputChecker\n    }], [[\"Backspace\", \"alt+Backspace\", \"ctrl+Backspace\", \"shift+Backspace\", \"mac+Backspace\", \"mac+alt+Backspace\", \"mac+ctrl+Backspace\", \"Delete\", \"ctrl+Delete\", \"shift+Delete\", \"mac+Delete\"], proto.delete, {\n      checker: textInputChecker\n    }], [[\"Enter\", \"mac+Enter\"], proto.addNewEditorFromKeyboard, {\n      checker: (self, {\n        target: el\n      }) => !(el instanceof HTMLButtonElement) && self.#container.contains(el) && !self.isEnterHandled\n    }], [[\" \", \"mac+ \"], proto.addNewEditorFromKeyboard, {\n      checker: (self, {\n        target: el\n      }) => !(el instanceof HTMLButtonElement) && self.#container.contains(document.activeElement)\n    }], [[\"Escape\", \"mac+Escape\"], proto.unselectAll], [[\"ArrowLeft\", \"mac+ArrowLeft\"], proto.translateSelectedEditors, {\n      args: [-small, 0],\n      checker: arrowChecker\n    }], [[\"ctrl+ArrowLeft\", \"mac+shift+ArrowLeft\"], proto.translateSelectedEditors, {\n      args: [-big, 0],\n      checker: arrowChecker\n    }], [[\"ArrowRight\", \"mac+ArrowRight\"], proto.translateSelectedEditors, {\n      args: [small, 0],\n      checker: arrowChecker\n    }], [[\"ctrl+ArrowRight\", \"mac+shift+ArrowRight\"], proto.translateSelectedEditors, {\n      args: [big, 0],\n      checker: arrowChecker\n    }], [[\"ArrowUp\", \"mac+ArrowUp\"], proto.translateSelectedEditors, {\n      args: [0, -small],\n      checker: arrowChecker\n    }], [[\"ctrl+ArrowUp\", \"mac+shift+ArrowUp\"], proto.translateSelectedEditors, {\n      args: [0, -big],\n      checker: arrowChecker\n    }], [[\"ArrowDown\", \"mac+ArrowDown\"], proto.translateSelectedEditors, {\n      args: [0, small],\n      checker: arrowChecker\n    }], [[\"ctrl+ArrowDown\", \"mac+shift+ArrowDown\"], proto.translateSelectedEditors, {\n      args: [0, big],\n      checker: arrowChecker\n    }]]));\n  }\n  constructor(container, viewer, viewerAlert, altTextManager, commentManager, signatureManager, eventBus, pdfDocument, pageColors, highlightColors, enableHighlightFloatingButton, enableUpdatedAddImage, enableNewAltTextWhenAddingImage, mlManager, editorUndoBar, supportsPinchToZoom) {\n    const signal = this._signal = this.#abortController.signal;\n    this.#container = container;\n    this.#viewer = viewer;\n    this.#viewerAlert = viewerAlert;\n    this.#altTextManager = altTextManager;\n    this.#commentManager = commentManager;\n    this.#signatureManager = signatureManager;\n    this.#pdfDocument = pdfDocument;\n    this._eventBus = eventBus;\n    eventBus._on(\"editingaction\", this.onEditingAction.bind(this), {\n      signal\n    });\n    eventBus._on(\"pagechanging\", this.onPageChanging.bind(this), {\n      signal\n    });\n    eventBus._on(\"scalechanging\", this.onScaleChanging.bind(this), {\n      signal\n    });\n    eventBus._on(\"rotationchanging\", this.onRotationChanging.bind(this), {\n      signal\n    });\n    eventBus._on(\"setpreference\", this.onSetPreference.bind(this), {\n      signal\n    });\n    eventBus._on(\"switchannotationeditorparams\", evt => this.updateParams(evt.type, evt.value), {\n      signal\n    });\n    window.addEventListener(\"pointerdown\", () => {\n      this.#isPointerDown = true;\n    }, {\n      capture: true,\n      signal\n    });\n    window.addEventListener(\"pointerup\", () => {\n      this.#isPointerDown = false;\n    }, {\n      capture: true,\n      signal\n    });\n    this.#addSelectionListener();\n    this.#addDragAndDropListeners();\n    this.#addKeyboardManager();\n    this.#annotationStorage = pdfDocument.annotationStorage;\n    this.#filterFactory = pdfDocument.filterFactory;\n    this.#pageColors = pageColors;\n    this.#highlightColors = highlightColors || null;\n    this.#enableHighlightFloatingButton = enableHighlightFloatingButton;\n    this.#enableUpdatedAddImage = enableUpdatedAddImage;\n    this.#enableNewAltTextWhenAddingImage = enableNewAltTextWhenAddingImage;\n    this.#mlManager = mlManager || null;\n    this.viewParameters = {\n      realScale: PixelsPerInch.PDF_TO_CSS_UNITS,\n      rotation: 0\n    };\n    this.isShiftKeyDown = false;\n    this._editorUndoBar = editorUndoBar || null;\n    this._supportsPinchToZoom = supportsPinchToZoom !== false;\n    commentManager?.setSidebarUiManager(this);\n  }\n  destroy() {\n    this.#updateModeCapability?.resolve();\n    this.#updateModeCapability = null;\n    this.#abortController?.abort();\n    this.#abortController = null;\n    this._signal = null;\n    for (const layer of this.#allLayers.values()) {\n      layer.destroy();\n    }\n    this.#allLayers.clear();\n    this.#allEditors.clear();\n    this.#editorsToRescale.clear();\n    this.#missingCanvases?.clear();\n    this.#activeEditor = null;\n    this.#selectedEditors.clear();\n    this.#commandManager.destroy();\n    this.#altTextManager?.destroy();\n    this.#commentManager?.destroy();\n    this.#signatureManager?.destroy();\n    this.#floatingToolbar?.hide();\n    this.#floatingToolbar = null;\n    this.#mainHighlightColorPicker?.destroy();\n    this.#mainHighlightColorPicker = null;\n    this.#allEditableAnnotations = null;\n    if (this.#focusMainContainerTimeoutId) {\n      clearTimeout(this.#focusMainContainerTimeoutId);\n      this.#focusMainContainerTimeoutId = null;\n    }\n    if (this.#translationTimeoutId) {\n      clearTimeout(this.#translationTimeoutId);\n      this.#translationTimeoutId = null;\n    }\n    this._editorUndoBar?.destroy();\n    this.#pdfDocument = null;\n  }\n  combinedSignal(ac) {\n    return AbortSignal.any([this._signal, ac.signal]);\n  }\n  get mlManager() {\n    return this.#mlManager;\n  }\n  get useNewAltTextFlow() {\n    return this.#enableUpdatedAddImage;\n  }\n  get useNewAltTextWhenAddingImage() {\n    return this.#enableNewAltTextWhenAddingImage;\n  }\n  get hcmFilter() {\n    return shadow(this, \"hcmFilter\", this.#pageColors ? this.#filterFactory.addHCMFilter(this.#pageColors.foreground, this.#pageColors.background) : \"none\");\n  }\n  get direction() {\n    return shadow(this, \"direction\", getComputedStyle(this.#container).direction);\n  }\n  get _highlightColors() {\n    return shadow(this, \"_highlightColors\", this.#highlightColors ? new Map(this.#highlightColors.split(\",\").map(pair => {\n      pair = pair.split(\"=\").map(x => x.trim());\n      pair[1] = pair[1].toUpperCase();\n      return pair;\n    })) : null);\n  }\n  get highlightColors() {\n    const {\n      _highlightColors\n    } = this;\n    if (!_highlightColors) {\n      return shadow(this, \"highlightColors\", null);\n    }\n    const map = new Map();\n    const hasHCM = !!this.#pageColors;\n    for (const [name, color] of _highlightColors) {\n      const isNameForHCM = name.endsWith(\"_HCM\");\n      if (hasHCM && isNameForHCM) {\n        map.set(name.replace(\"_HCM\", \"\"), color);\n        continue;\n      }\n      if (!hasHCM && !isNameForHCM) {\n        map.set(name, color);\n      }\n    }\n    return shadow(this, \"highlightColors\", map);\n  }\n  get highlightColorNames() {\n    return shadow(this, \"highlightColorNames\", this.highlightColors ? new Map(Array.from(this.highlightColors, e => e.reverse())) : null);\n  }\n  getNonHCMColor(color) {\n    if (!this._highlightColors) {\n      return color;\n    }\n    const colorName = this.highlightColorNames.get(color);\n    return this._highlightColors.get(colorName) || color;\n  }\n  getNonHCMColorName(color) {\n    return this.highlightColorNames.get(color) || color;\n  }\n  setCurrentDrawingSession(layer) {\n    if (layer) {\n      this.unselectAll();\n      this.disableUserSelect(true);\n    } else {\n      this.disableUserSelect(false);\n    }\n    this.#currentDrawingSession = layer;\n  }\n  setMainHighlightColorPicker(colorPicker) {\n    this.#mainHighlightColorPicker = colorPicker;\n  }\n  editAltText(editor, firstTime = false) {\n    this.#altTextManager?.editAltText(this, editor, firstTime);\n  }\n  hasCommentManager() {\n    return !!this.#commentManager;\n  }\n  editComment(editor, posX, posY, options) {\n    this.#commentManager?.showDialog(this, editor, posX, posY, options);\n  }\n  selectComment(pageIndex, uid) {\n    const layer = this.#allLayers.get(pageIndex);\n    const editor = layer?.getEditorByUID(uid);\n    editor?.toggleComment(true, true);\n  }\n  updateComment(editor) {\n    this.#commentManager?.updateComment(editor.getData());\n  }\n  updatePopupColor(editor) {\n    this.#commentManager?.updatePopupColor(editor);\n  }\n  removeComment(editor) {\n    this.#commentManager?.removeComments([editor.uid]);\n  }\n  toggleComment(editor, isSelected, visibility = undefined) {\n    this.#commentManager?.toggleCommentPopup(editor, isSelected, visibility);\n  }\n  makeCommentColor(color, opacity) {\n    return color && this.#commentManager?.makeCommentColor(color, opacity) || null;\n  }\n  getCommentDialogElement() {\n    return this.#commentManager?.dialogElement || null;\n  }\n  async waitForEditorsRendered(pageNumber) {\n    if (this.#allLayers.has(pageNumber - 1)) {\n      return;\n    }\n    const {\n      resolve,\n      promise\n    } = Promise.withResolvers();\n    const onEditorsRendered = evt => {\n      if (evt.pageNumber === pageNumber) {\n        this._eventBus._off(\"editorsrendered\", onEditorsRendered);\n        resolve();\n      }\n    };\n    this._eventBus.on(\"editorsrendered\", onEditorsRendered);\n    await promise;\n  }\n  getSignature(editor) {\n    this.#signatureManager?.getSignature({\n      uiManager: this,\n      editor\n    });\n  }\n  get signatureManager() {\n    return this.#signatureManager;\n  }\n  switchToMode(mode, callback) {\n    this._eventBus.on(\"annotationeditormodechanged\", callback, {\n      once: true,\n      signal: this._signal\n    });\n    this._eventBus.dispatch(\"showannotationeditorui\", {\n      source: this,\n      mode\n    });\n  }\n  setPreference(name, value) {\n    this._eventBus.dispatch(\"setpreference\", {\n      source: this,\n      name,\n      value\n    });\n  }\n  onSetPreference({\n    name,\n    value\n  }) {\n    switch (name) {\n      case \"enableNewAltTextWhenAddingImage\":\n        this.#enableNewAltTextWhenAddingImage = value;\n        break;\n    }\n  }\n  onPageChanging({\n    pageNumber\n  }) {\n    this.#currentPageIndex = pageNumber - 1;\n  }\n  focusMainContainer() {\n    this.#container.focus();\n  }\n  findParent(x, y) {\n    for (const layer of this.#allLayers.values()) {\n      const {\n        x: layerX,\n        y: layerY,\n        width,\n        height\n      } = layer.div.getBoundingClientRect();\n      if (x >= layerX && x <= layerX + width && y >= layerY && y <= layerY + height) {\n        return layer;\n      }\n    }\n    return null;\n  }\n  disableUserSelect(value = false) {\n    this.#viewer.classList.toggle(\"noUserSelect\", value);\n  }\n  addShouldRescale(editor) {\n    this.#editorsToRescale.add(editor);\n  }\n  removeShouldRescale(editor) {\n    this.#editorsToRescale.delete(editor);\n  }\n  onScaleChanging({\n    scale\n  }) {\n    this.commitOrRemove();\n    this.viewParameters.realScale = scale * PixelsPerInch.PDF_TO_CSS_UNITS;\n    for (const editor of this.#editorsToRescale) {\n      editor.onScaleChanging();\n    }\n    this.#currentDrawingSession?.onScaleChanging();\n  }\n  onRotationChanging({\n    pagesRotation\n  }) {\n    this.commitOrRemove();\n    this.viewParameters.rotation = pagesRotation;\n  }\n  #getAnchorElementForSelection({\n    anchorNode\n  }) {\n    return anchorNode.nodeType === Node.TEXT_NODE ? anchorNode.parentElement : anchorNode;\n  }\n  #getLayerForTextLayer(textLayer) {\n    const {\n      currentLayer\n    } = this;\n    if (currentLayer.hasTextLayer(textLayer)) {\n      return currentLayer;\n    }\n    for (const layer of this.#allLayers.values()) {\n      if (layer.hasTextLayer(textLayer)) {\n        return layer;\n      }\n    }\n    return null;\n  }\n  highlightSelection(methodOfCreation = \"\", comment = false) {\n    const selection = document.getSelection();\n    if (!selection || selection.isCollapsed) {\n      return;\n    }\n    const {\n      anchorNode,\n      anchorOffset,\n      focusNode,\n      focusOffset\n    } = selection;\n    const text = selection.toString();\n    const anchorElement = this.#getAnchorElementForSelection(selection);\n    const textLayer = anchorElement.closest(\".textLayer\");\n    const boxes = this.getSelectionBoxes(textLayer);\n    if (!boxes) {\n      return;\n    }\n    selection.empty();\n    const layer = this.#getLayerForTextLayer(textLayer);\n    const isNoneMode = this.#mode === AnnotationEditorType.NONE;\n    const callback = () => {\n      const editor = layer?.createAndAddNewEditor({\n        x: 0,\n        y: 0\n      }, false, {\n        methodOfCreation,\n        boxes,\n        anchorNode,\n        anchorOffset,\n        focusNode,\n        focusOffset,\n        text\n      });\n      if (isNoneMode) {\n        this.showAllEditors(\"highlight\", true, true);\n      }\n      if (comment) {\n        editor?.editComment();\n      }\n    };\n    if (isNoneMode) {\n      this.switchToMode(AnnotationEditorType.HIGHLIGHT, callback);\n      return;\n    }\n    callback();\n  }\n  commentSelection(methodOfCreation = \"\") {\n    this.highlightSelection(methodOfCreation, true);\n  }\n  #displayFloatingToolbar() {\n    const selection = document.getSelection();\n    if (!selection || selection.isCollapsed) {\n      return;\n    }\n    const anchorElement = this.#getAnchorElementForSelection(selection);\n    const textLayer = anchorElement.closest(\".textLayer\");\n    const boxes = this.getSelectionBoxes(textLayer);\n    if (!boxes) {\n      return;\n    }\n    this.#floatingToolbar ||= new FloatingToolbar(this);\n    this.#floatingToolbar.show(textLayer, boxes, this.direction === \"ltr\");\n  }\n  getAndRemoveDataFromAnnotationStorage(annotationId) {\n    if (!this.#annotationStorage) {\n      return null;\n    }\n    const key = `${AnnotationEditorPrefix}${annotationId}`;\n    const storedValue = this.#annotationStorage.getRawValue(key);\n    if (storedValue) {\n      this.#annotationStorage.remove(key);\n    }\n    return storedValue;\n  }\n  addToAnnotationStorage(editor) {\n    if (!editor.isEmpty() && this.#annotationStorage && !this.#annotationStorage.has(editor.id)) {\n      this.#annotationStorage.setValue(editor.id, editor);\n    }\n  }\n  a11yAlert(messageId, args = null) {\n    const viewerAlert = this.#viewerAlert;\n    if (!viewerAlert) {\n      return;\n    }\n    viewerAlert.setAttribute(\"data-l10n-id\", messageId);\n    if (args) {\n      viewerAlert.setAttribute(\"data-l10n-args\", JSON.stringify(args));\n    } else {\n      viewerAlert.removeAttribute(\"data-l10n-args\");\n    }\n  }\n  #selectionChange() {\n    const selection = document.getSelection();\n    if (!selection || selection.isCollapsed) {\n      if (this.#selectedTextNode) {\n        this.#floatingToolbar?.hide();\n        this.#selectedTextNode = null;\n        this.#dispatchUpdateStates({\n          hasSelectedText: false\n        });\n      }\n      return;\n    }\n    const {\n      anchorNode\n    } = selection;\n    if (anchorNode === this.#selectedTextNode) {\n      return;\n    }\n    const anchorElement = this.#getAnchorElementForSelection(selection);\n    const textLayer = anchorElement.closest(\".textLayer\");\n    if (!textLayer) {\n      if (this.#selectedTextNode) {\n        this.#floatingToolbar?.hide();\n        this.#selectedTextNode = null;\n        this.#dispatchUpdateStates({\n          hasSelectedText: false\n        });\n      }\n      return;\n    }\n    this.#floatingToolbar?.hide();\n    this.#selectedTextNode = anchorNode;\n    this.#dispatchUpdateStates({\n      hasSelectedText: true\n    });\n    if (this.#mode !== AnnotationEditorType.HIGHLIGHT && this.#mode !== AnnotationEditorType.NONE) {\n      return;\n    }\n    if (this.#mode === AnnotationEditorType.HIGHLIGHT) {\n      this.showAllEditors(\"highlight\", true, true);\n    }\n    this.#highlightWhenShiftUp = this.isShiftKeyDown;\n    if (!this.isShiftKeyDown) {\n      const activeLayer = this.#mode === AnnotationEditorType.HIGHLIGHT ? this.#getLayerForTextLayer(textLayer) : null;\n      activeLayer?.toggleDrawing();\n      if (this.#isPointerDown) {\n        const ac = new AbortController();\n        const signal = this.combinedSignal(ac);\n        const pointerup = e => {\n          if (e.type === \"pointerup\" && e.button !== 0) {\n            return;\n          }\n          ac.abort();\n          activeLayer?.toggleDrawing(true);\n          if (e.type === \"pointerup\") {\n            this.#onSelectEnd(\"main_toolbar\");\n          }\n        };\n        window.addEventListener(\"pointerup\", pointerup, {\n          signal\n        });\n        window.addEventListener(\"blur\", pointerup, {\n          signal\n        });\n      } else {\n        activeLayer?.toggleDrawing(true);\n        this.#onSelectEnd(\"main_toolbar\");\n      }\n    }\n  }\n  #onSelectEnd(methodOfCreation = \"\") {\n    if (this.#mode === AnnotationEditorType.HIGHLIGHT) {\n      this.highlightSelection(methodOfCreation);\n    } else if (this.#enableHighlightFloatingButton) {\n      this.#displayFloatingToolbar();\n    }\n  }\n  #addSelectionListener() {\n    document.addEventListener(\"selectionchange\", this.#selectionChange.bind(this), {\n      signal: this._signal\n    });\n  }\n  #addFocusManager() {\n    if (this.#focusManagerAC) {\n      return;\n    }\n    this.#focusManagerAC = new AbortController();\n    const signal = this.combinedSignal(this.#focusManagerAC);\n    window.addEventListener(\"focus\", this.focus.bind(this), {\n      signal\n    });\n    window.addEventListener(\"blur\", this.blur.bind(this), {\n      signal\n    });\n  }\n  #removeFocusManager() {\n    this.#focusManagerAC?.abort();\n    this.#focusManagerAC = null;\n  }\n  blur() {\n    this.isShiftKeyDown = false;\n    if (this.#highlightWhenShiftUp) {\n      this.#highlightWhenShiftUp = false;\n      this.#onSelectEnd(\"main_toolbar\");\n    }\n    if (!this.hasSelection) {\n      return;\n    }\n    const {\n      activeElement\n    } = document;\n    for (const editor of this.#selectedEditors) {\n      if (editor.div.contains(activeElement)) {\n        this.#lastActiveElement = [editor, activeElement];\n        editor._focusEventsAllowed = false;\n        break;\n      }\n    }\n  }\n  focus() {\n    if (!this.#lastActiveElement) {\n      return;\n    }\n    const [lastEditor, lastActiveElement] = this.#lastActiveElement;\n    this.#lastActiveElement = null;\n    lastActiveElement.addEventListener(\"focusin\", () => {\n      lastEditor._focusEventsAllowed = true;\n    }, {\n      once: true,\n      signal: this._signal\n    });\n    lastActiveElement.focus();\n  }\n  #addKeyboardManager() {\n    if (this.#keyboardManagerAC) {\n      return;\n    }\n    this.#keyboardManagerAC = new AbortController();\n    const signal = this.combinedSignal(this.#keyboardManagerAC);\n    window.addEventListener(\"keydown\", this.keydown.bind(this), {\n      signal\n    });\n    window.addEventListener(\"keyup\", this.keyup.bind(this), {\n      signal\n    });\n  }\n  #removeKeyboardManager() {\n    this.#keyboardManagerAC?.abort();\n    this.#keyboardManagerAC = null;\n  }\n  #addCopyPasteListeners() {\n    if (this.#copyPasteAC) {\n      return;\n    }\n    this.#copyPasteAC = new AbortController();\n    const signal = this.combinedSignal(this.#copyPasteAC);\n    document.addEventListener(\"copy\", this.copy.bind(this), {\n      signal\n    });\n    document.addEventListener(\"cut\", this.cut.bind(this), {\n      signal\n    });\n    document.addEventListener(\"paste\", this.paste.bind(this), {\n      signal\n    });\n  }\n  #removeCopyPasteListeners() {\n    this.#copyPasteAC?.abort();\n    this.#copyPasteAC = null;\n  }\n  #addDragAndDropListeners() {\n    const signal = this._signal;\n    document.addEventListener(\"dragover\", this.dragOver.bind(this), {\n      signal\n    });\n    document.addEventListener(\"drop\", this.drop.bind(this), {\n      signal\n    });\n  }\n  addEditListeners() {\n    this.#addKeyboardManager();\n    this.setEditingState(true);\n  }\n  removeEditListeners() {\n    this.#removeKeyboardManager();\n    this.setEditingState(false);\n  }\n  dragOver(event) {\n    for (const {\n      type\n    } of event.dataTransfer.items) {\n      for (const editorType of this.#editorTypes) {\n        if (editorType.isHandlingMimeForPasting(type)) {\n          event.dataTransfer.dropEffect = \"copy\";\n          event.preventDefault();\n          return;\n        }\n      }\n    }\n  }\n  drop(event) {\n    for (const item of event.dataTransfer.items) {\n      for (const editorType of this.#editorTypes) {\n        if (editorType.isHandlingMimeForPasting(item.type)) {\n          editorType.paste(item, this.currentLayer);\n          event.preventDefault();\n          return;\n        }\n      }\n    }\n  }\n  copy(event) {\n    event.preventDefault();\n    this.#activeEditor?.commitOrRemove();\n    if (!this.hasSelection) {\n      return;\n    }\n    const editors = [];\n    for (const editor of this.#selectedEditors) {\n      const serialized = editor.serialize(true);\n      if (serialized) {\n        editors.push(serialized);\n      }\n    }\n    if (editors.length === 0) {\n      return;\n    }\n    event.clipboardData.setData(\"application/pdfjs\", JSON.stringify(editors));\n  }\n  cut(event) {\n    this.copy(event);\n    this.delete();\n  }\n  async paste(event) {\n    event.preventDefault();\n    const {\n      clipboardData\n    } = event;\n    for (const item of clipboardData.items) {\n      for (const editorType of this.#editorTypes) {\n        if (editorType.isHandlingMimeForPasting(item.type)) {\n          editorType.paste(item, this.currentLayer);\n          return;\n        }\n      }\n    }\n    let data = clipboardData.getData(\"application/pdfjs\");\n    if (!data) {\n      return;\n    }\n    try {\n      data = JSON.parse(data);\n    } catch (ex) {\n      warn(`paste: \"${ex.message}\".`);\n      return;\n    }\n    if (!Array.isArray(data)) {\n      return;\n    }\n    this.unselectAll();\n    const layer = this.currentLayer;\n    try {\n      const newEditors = [];\n      for (const editor of data) {\n        const deserializedEditor = await layer.deserialize(editor);\n        if (!deserializedEditor) {\n          return;\n        }\n        newEditors.push(deserializedEditor);\n      }\n      const cmd = () => {\n        for (const editor of newEditors) {\n          this.#addEditorToLayer(editor);\n        }\n        this.#selectEditors(newEditors);\n      };\n      const undo = () => {\n        for (const editor of newEditors) {\n          editor.remove();\n        }\n      };\n      this.addCommands({\n        cmd,\n        undo,\n        mustExec: true\n      });\n    } catch (ex) {\n      warn(`paste: \"${ex.message}\".`);\n    }\n  }\n  keydown(event) {\n    if (!this.isShiftKeyDown && event.key === \"Shift\") {\n      this.isShiftKeyDown = true;\n    }\n    if (this.#mode !== AnnotationEditorType.NONE && !this.isEditorHandlingKeyboard) {\n      AnnotationEditorUIManager._keyboardManager.exec(this, event);\n    }\n  }\n  keyup(event) {\n    if (this.isShiftKeyDown && event.key === \"Shift\") {\n      this.isShiftKeyDown = false;\n      if (this.#highlightWhenShiftUp) {\n        this.#highlightWhenShiftUp = false;\n        this.#onSelectEnd(\"main_toolbar\");\n      }\n    }\n  }\n  onEditingAction({\n    name\n  }) {\n    switch (name) {\n      case \"undo\":\n      case \"redo\":\n      case \"delete\":\n      case \"selectAll\":\n        this[name]();\n        break;\n      case \"highlightSelection\":\n        this.highlightSelection(\"context_menu\");\n        break;\n      case \"commentSelection\":\n        this.commentSelection(\"context_menu\");\n        break;\n    }\n  }\n  #dispatchUpdateStates(details) {\n    const hasChanged = Object.entries(details).some(([key, value]) => this.#previousStates[key] !== value);\n    if (hasChanged) {\n      this._eventBus.dispatch(\"annotationeditorstateschanged\", {\n        source: this,\n        details: Object.assign(this.#previousStates, details)\n      });\n      if (this.#mode === AnnotationEditorType.HIGHLIGHT && details.hasSelectedEditor === false) {\n        this.#dispatchUpdateUI([[AnnotationEditorParamsType.HIGHLIGHT_FREE, true]]);\n      }\n    }\n  }\n  #dispatchUpdateUI(details) {\n    this._eventBus.dispatch(\"annotationeditorparamschanged\", {\n      source: this,\n      details\n    });\n  }\n  setEditingState(isEditing) {\n    if (isEditing) {\n      this.#addFocusManager();\n      this.#addCopyPasteListeners();\n      this.#dispatchUpdateStates({\n        isEditing: this.#mode !== AnnotationEditorType.NONE,\n        isEmpty: this.#isEmpty(),\n        hasSomethingToUndo: this.#commandManager.hasSomethingToUndo(),\n        hasSomethingToRedo: this.#commandManager.hasSomethingToRedo(),\n        hasSelectedEditor: false\n      });\n    } else {\n      this.#removeFocusManager();\n      this.#removeCopyPasteListeners();\n      this.#dispatchUpdateStates({\n        isEditing: false\n      });\n      this.disableUserSelect(false);\n    }\n  }\n  registerEditorTypes(types) {\n    if (this.#editorTypes) {\n      return;\n    }\n    this.#editorTypes = types;\n    for (const editorType of this.#editorTypes) {\n      this.#dispatchUpdateUI(editorType.defaultPropertiesToUpdate);\n    }\n  }\n  getId() {\n    return this.#idManager.id;\n  }\n  get currentLayer() {\n    return this.#allLayers.get(this.#currentPageIndex);\n  }\n  getLayer(pageIndex) {\n    return this.#allLayers.get(pageIndex);\n  }\n  get currentPageIndex() {\n    return this.#currentPageIndex;\n  }\n  addLayer(layer) {\n    this.#allLayers.set(layer.pageIndex, layer);\n    if (this.#isEnabled) {\n      layer.enable();\n    } else {\n      layer.disable();\n    }\n  }\n  removeLayer(layer) {\n    this.#allLayers.delete(layer.pageIndex);\n  }\n  async updateMode(mode, editId = null, isFromUser = false, isFromKeyboard = false, mustEnterInEditMode = false, editComment = false) {\n    if (this.#mode === mode) {\n      return;\n    }\n    if (this.#updateModeCapability) {\n      await this.#updateModeCapability.promise;\n      if (!this.#updateModeCapability) {\n        return;\n      }\n    }\n    this.#updateModeCapability = Promise.withResolvers();\n    this.#currentDrawingSession?.commitOrRemove();\n    if (this.#mode === AnnotationEditorType.POPUP) {\n      this.#commentManager?.hideSidebar();\n    }\n    this.#commentManager?.destroyPopup();\n    this.#mode = mode;\n    if (mode === AnnotationEditorType.NONE) {\n      this.setEditingState(false);\n      this.#disableAll();\n      for (const editor of this.#allEditors.values()) {\n        editor.hideStandaloneCommentButton();\n      }\n      this._editorUndoBar?.hide();\n      this.toggleComment(null);\n      this.#updateModeCapability.resolve();\n      return;\n    }\n    for (const editor of this.#allEditors.values()) {\n      editor.addStandaloneCommentButton();\n    }\n    if (mode === AnnotationEditorType.SIGNATURE) {\n      await this.#signatureManager?.loadSignatures();\n    }\n    if (isFromUser) {\n      CurrentPointers.clearPointerType();\n    }\n    this.setEditingState(true);\n    await this.#enableAll();\n    this.unselectAll();\n    for (const layer of this.#allLayers.values()) {\n      layer.updateMode(mode);\n    }\n    if (mode === AnnotationEditorType.POPUP) {\n      this.#allEditableAnnotations ||= await this.#pdfDocument.getAnnotationsByType(new Set(this.#editorTypes.map(editorClass => editorClass._editorType)));\n      const elementIds = new Set();\n      const allComments = [];\n      for (const editor of this.#allEditors.values()) {\n        const {\n          annotationElementId,\n          hasComment,\n          deleted\n        } = editor;\n        if (annotationElementId) {\n          elementIds.add(annotationElementId);\n        }\n        if (hasComment && !deleted) {\n          allComments.push(editor.getData());\n        }\n      }\n      for (const annotation of this.#allEditableAnnotations) {\n        const {\n          id,\n          popupRef,\n          contentsObj\n        } = annotation;\n        if (popupRef && contentsObj?.str && !elementIds.has(id) && !this.#deletedAnnotationsElementIds.has(id)) {\n          allComments.push(annotation);\n        }\n      }\n      this.#commentManager?.showSidebar(allComments);\n    }\n    if (!editId) {\n      if (isFromKeyboard) {\n        this.addNewEditorFromKeyboard();\n      }\n      this.#updateModeCapability.resolve();\n      return;\n    }\n    for (const editor of this.#allEditors.values()) {\n      if (editor.uid === editId) {\n        this.setSelected(editor);\n        if (editComment) {\n          editor.editComment();\n        } else if (mustEnterInEditMode) {\n          editor.enterInEditMode();\n        } else {\n          editor.focus();\n        }\n      } else {\n        editor.unselect();\n      }\n    }\n    this.#updateModeCapability.resolve();\n  }\n  addNewEditorFromKeyboard() {\n    if (this.currentLayer.canCreateNewEmptyEditor()) {\n      this.currentLayer.addNewEditor();\n    }\n  }\n  updateToolbar(options) {\n    if (options.mode === this.#mode) {\n      return;\n    }\n    this._eventBus.dispatch(\"switchannotationeditormode\", {\n      source: this,\n      ...options\n    });\n  }\n  updateParams(type, value) {\n    if (!this.#editorTypes) {\n      return;\n    }\n    switch (type) {\n      case AnnotationEditorParamsType.CREATE:\n        this.currentLayer.addNewEditor(value);\n        return;\n      case AnnotationEditorParamsType.HIGHLIGHT_SHOW_ALL:\n        this._eventBus.dispatch(\"reporttelemetry\", {\n          source: this,\n          details: {\n            type: \"editing\",\n            data: {\n              type: \"highlight\",\n              action: \"toggle_visibility\"\n            }\n          }\n        });\n        (this.#showAllStates ||= new Map()).set(type, value);\n        this.showAllEditors(\"highlight\", value);\n        break;\n    }\n    if (this.hasSelection) {\n      for (const editor of this.#selectedEditors) {\n        editor.updateParams(type, value);\n      }\n    } else {\n      for (const editorType of this.#editorTypes) {\n        editorType.updateDefaultParams(type, value);\n      }\n    }\n  }\n  showAllEditors(type, visible, updateButton = false) {\n    for (const editor of this.#allEditors.values()) {\n      if (editor.editorType === type) {\n        editor.show(visible);\n      }\n    }\n    const state = this.#showAllStates?.get(AnnotationEditorParamsType.HIGHLIGHT_SHOW_ALL) ?? true;\n    if (state !== visible) {\n      this.#dispatchUpdateUI([[AnnotationEditorParamsType.HIGHLIGHT_SHOW_ALL, visible]]);\n    }\n  }\n  enableWaiting(mustWait = false) {\n    if (this.#isWaiting === mustWait) {\n      return;\n    }\n    this.#isWaiting = mustWait;\n    for (const layer of this.#allLayers.values()) {\n      if (mustWait) {\n        layer.disableClick();\n      } else {\n        layer.enableClick();\n      }\n      layer.div.classList.toggle(\"waiting\", mustWait);\n    }\n  }\n  async #enableAll() {\n    if (!this.#isEnabled) {\n      this.#isEnabled = true;\n      const promises = [];\n      for (const layer of this.#allLayers.values()) {\n        promises.push(layer.enable());\n      }\n      await Promise.all(promises);\n      for (const editor of this.#allEditors.values()) {\n        editor.enable();\n      }\n    }\n  }\n  #disableAll() {\n    this.unselectAll();\n    if (this.#isEnabled) {\n      this.#isEnabled = false;\n      for (const layer of this.#allLayers.values()) {\n        layer.disable();\n      }\n      for (const editor of this.#allEditors.values()) {\n        editor.disable();\n      }\n    }\n  }\n  *getEditors(pageIndex) {\n    for (const editor of this.#allEditors.values()) {\n      if (editor.pageIndex === pageIndex) {\n        yield editor;\n      }\n    }\n  }\n  getEditor(id) {\n    return this.#allEditors.get(id);\n  }\n  addEditor(editor) {\n    this.#allEditors.set(editor.id, editor);\n  }\n  removeEditor(editor) {\n    if (editor.div.contains(document.activeElement)) {\n      if (this.#focusMainContainerTimeoutId) {\n        clearTimeout(this.#focusMainContainerTimeoutId);\n      }\n      this.#focusMainContainerTimeoutId = setTimeout(() => {\n        this.focusMainContainer();\n        this.#focusMainContainerTimeoutId = null;\n      }, 0);\n    }\n    this.#allEditors.delete(editor.id);\n    if (editor.annotationElementId) {\n      this.#missingCanvases?.delete(editor.annotationElementId);\n    }\n    this.unselect(editor);\n    if (!editor.annotationElementId || !this.#deletedAnnotationsElementIds.has(editor.annotationElementId)) {\n      this.#annotationStorage?.remove(editor.id);\n    }\n  }\n  addDeletedAnnotationElement(editor) {\n    this.#deletedAnnotationsElementIds.add(editor.annotationElementId);\n    this.addChangedExistingAnnotation(editor);\n    editor.deleted = true;\n  }\n  isDeletedAnnotationElement(annotationElementId) {\n    return this.#deletedAnnotationsElementIds.has(annotationElementId);\n  }\n  removeDeletedAnnotationElement(editor) {\n    this.#deletedAnnotationsElementIds.delete(editor.annotationElementId);\n    this.removeChangedExistingAnnotation(editor);\n    editor.deleted = false;\n  }\n  #addEditorToLayer(editor) {\n    const layer = this.#allLayers.get(editor.pageIndex);\n    if (layer) {\n      layer.addOrRebuild(editor);\n    } else {\n      this.addEditor(editor);\n      this.addToAnnotationStorage(editor);\n    }\n  }\n  setActiveEditor(editor) {\n    if (this.#activeEditor === editor) {\n      return;\n    }\n    this.#activeEditor = editor;\n    if (editor) {\n      this.#dispatchUpdateUI(editor.propertiesToUpdate);\n    }\n  }\n  get #lastSelectedEditor() {\n    let ed = null;\n    for (ed of this.#selectedEditors) {}\n    return ed;\n  }\n  updateUI(editor) {\n    if (this.#lastSelectedEditor === editor) {\n      this.#dispatchUpdateUI(editor.propertiesToUpdate);\n    }\n  }\n  updateUIForDefaultProperties(editorType) {\n    this.#dispatchUpdateUI(editorType.defaultPropertiesToUpdate);\n  }\n  toggleSelected(editor) {\n    if (this.#selectedEditors.has(editor)) {\n      this.#selectedEditors.delete(editor);\n      editor.unselect();\n      this.#dispatchUpdateStates({\n        hasSelectedEditor: this.hasSelection\n      });\n      return;\n    }\n    this.#selectedEditors.add(editor);\n    editor.select();\n    this.#dispatchUpdateUI(editor.propertiesToUpdate);\n    this.#dispatchUpdateStates({\n      hasSelectedEditor: true\n    });\n  }\n  setSelected(editor) {\n    this.updateToolbar({\n      mode: editor.mode,\n      editId: editor.uid\n    });\n    this.#currentDrawingSession?.commitOrRemove();\n    for (const ed of this.#selectedEditors) {\n      if (ed !== editor) {\n        ed.unselect();\n      }\n    }\n    this.#selectedEditors.clear();\n    this.#selectedEditors.add(editor);\n    editor.select();\n    this.#dispatchUpdateUI(editor.propertiesToUpdate);\n    this.#dispatchUpdateStates({\n      hasSelectedEditor: true\n    });\n  }\n  isSelected(editor) {\n    return this.#selectedEditors.has(editor);\n  }\n  get firstSelectedEditor() {\n    return this.#selectedEditors.values().next().value;\n  }\n  unselect(editor) {\n    editor.unselect();\n    this.#selectedEditors.delete(editor);\n    this.#dispatchUpdateStates({\n      hasSelectedEditor: this.hasSelection\n    });\n  }\n  get hasSelection() {\n    return this.#selectedEditors.size !== 0;\n  }\n  get isEnterHandled() {\n    return this.#selectedEditors.size === 1 && this.firstSelectedEditor.isEnterHandled;\n  }\n  undo() {\n    this.#commandManager.undo();\n    this.#dispatchUpdateStates({\n      hasSomethingToUndo: this.#commandManager.hasSomethingToUndo(),\n      hasSomethingToRedo: true,\n      isEmpty: this.#isEmpty()\n    });\n    this._editorUndoBar?.hide();\n  }\n  redo() {\n    this.#commandManager.redo();\n    this.#dispatchUpdateStates({\n      hasSomethingToUndo: true,\n      hasSomethingToRedo: this.#commandManager.hasSomethingToRedo(),\n      isEmpty: this.#isEmpty()\n    });\n  }\n  addCommands(params) {\n    this.#commandManager.add(params);\n    this.#dispatchUpdateStates({\n      hasSomethingToUndo: true,\n      hasSomethingToRedo: false,\n      isEmpty: this.#isEmpty()\n    });\n  }\n  cleanUndoStack(type) {\n    this.#commandManager.cleanType(type);\n  }\n  #isEmpty() {\n    if (this.#allEditors.size === 0) {\n      return true;\n    }\n    if (this.#allEditors.size === 1) {\n      for (const editor of this.#allEditors.values()) {\n        return editor.isEmpty();\n      }\n    }\n    return false;\n  }\n  delete() {\n    this.commitOrRemove();\n    const drawingEditor = this.currentLayer?.endDrawingSession(true);\n    if (!this.hasSelection && !drawingEditor) {\n      return;\n    }\n    const editors = drawingEditor ? [drawingEditor] : [...this.#selectedEditors];\n    const cmd = () => {\n      this._editorUndoBar?.show(undo, editors.length === 1 ? editors[0].editorType : editors.length);\n      for (const editor of editors) {\n        editor.remove();\n      }\n    };\n    const undo = () => {\n      for (const editor of editors) {\n        this.#addEditorToLayer(editor);\n      }\n    };\n    this.addCommands({\n      cmd,\n      undo,\n      mustExec: true\n    });\n  }\n  commitOrRemove() {\n    this.#activeEditor?.commitOrRemove();\n  }\n  hasSomethingToControl() {\n    return this.#activeEditor || this.hasSelection;\n  }\n  #selectEditors(editors) {\n    for (const editor of this.#selectedEditors) {\n      editor.unselect();\n    }\n    this.#selectedEditors.clear();\n    for (const editor of editors) {\n      if (editor.isEmpty()) {\n        continue;\n      }\n      this.#selectedEditors.add(editor);\n      editor.select();\n    }\n    this.#dispatchUpdateStates({\n      hasSelectedEditor: this.hasSelection\n    });\n  }\n  selectAll() {\n    for (const editor of this.#selectedEditors) {\n      editor.commit();\n    }\n    this.#selectEditors(this.#allEditors.values());\n  }\n  unselectAll() {\n    if (this.#activeEditor) {\n      this.#activeEditor.commitOrRemove();\n      if (this.#mode !== AnnotationEditorType.NONE) {\n        return;\n      }\n    }\n    if (this.#currentDrawingSession?.commitOrRemove()) {\n      return;\n    }\n    if (!this.hasSelection) {\n      return;\n    }\n    for (const editor of this.#selectedEditors) {\n      editor.unselect();\n    }\n    this.#selectedEditors.clear();\n    this.#dispatchUpdateStates({\n      hasSelectedEditor: false\n    });\n  }\n  translateSelectedEditors(x, y, noCommit = false) {\n    if (!noCommit) {\n      this.commitOrRemove();\n    }\n    if (!this.hasSelection) {\n      return;\n    }\n    this.#translation[0] += x;\n    this.#translation[1] += y;\n    const [totalX, totalY] = this.#translation;\n    const editors = [...this.#selectedEditors];\n    const TIME_TO_WAIT = 1000;\n    if (this.#translationTimeoutId) {\n      clearTimeout(this.#translationTimeoutId);\n    }\n    this.#translationTimeoutId = setTimeout(() => {\n      this.#translationTimeoutId = null;\n      this.#translation[0] = this.#translation[1] = 0;\n      this.addCommands({\n        cmd: () => {\n          for (const editor of editors) {\n            if (this.#allEditors.has(editor.id)) {\n              editor.translateInPage(totalX, totalY);\n              editor.translationDone();\n            }\n          }\n        },\n        undo: () => {\n          for (const editor of editors) {\n            if (this.#allEditors.has(editor.id)) {\n              editor.translateInPage(-totalX, -totalY);\n              editor.translationDone();\n            }\n          }\n        },\n        mustExec: false\n      });\n    }, TIME_TO_WAIT);\n    for (const editor of editors) {\n      editor.translateInPage(x, y);\n      editor.translationDone();\n    }\n  }\n  setUpDragSession() {\n    if (!this.hasSelection) {\n      return;\n    }\n    this.disableUserSelect(true);\n    this.#draggingEditors = new Map();\n    for (const editor of this.#selectedEditors) {\n      this.#draggingEditors.set(editor, {\n        savedX: editor.x,\n        savedY: editor.y,\n        savedPageIndex: editor.pageIndex,\n        newX: 0,\n        newY: 0,\n        newPageIndex: -1\n      });\n    }\n  }\n  endDragSession() {\n    if (!this.#draggingEditors) {\n      return false;\n    }\n    this.disableUserSelect(false);\n    const map = this.#draggingEditors;\n    this.#draggingEditors = null;\n    let mustBeAddedInUndoStack = false;\n    for (const [{\n      x,\n      y,\n      pageIndex\n    }, value] of map) {\n      value.newX = x;\n      value.newY = y;\n      value.newPageIndex = pageIndex;\n      mustBeAddedInUndoStack ||= x !== value.savedX || y !== value.savedY || pageIndex !== value.savedPageIndex;\n    }\n    if (!mustBeAddedInUndoStack) {\n      return false;\n    }\n    const move = (editor, x, y, pageIndex) => {\n      if (this.#allEditors.has(editor.id)) {\n        const parent = this.#allLayers.get(pageIndex);\n        if (parent) {\n          editor._setParentAndPosition(parent, x, y);\n        } else {\n          editor.pageIndex = pageIndex;\n          editor.x = x;\n          editor.y = y;\n        }\n      }\n    };\n    this.addCommands({\n      cmd: () => {\n        for (const [editor, {\n          newX,\n          newY,\n          newPageIndex\n        }] of map) {\n          move(editor, newX, newY, newPageIndex);\n        }\n      },\n      undo: () => {\n        for (const [editor, {\n          savedX,\n          savedY,\n          savedPageIndex\n        }] of map) {\n          move(editor, savedX, savedY, savedPageIndex);\n        }\n      },\n      mustExec: true\n    });\n    return true;\n  }\n  dragSelectedEditors(tx, ty) {\n    if (!this.#draggingEditors) {\n      return;\n    }\n    for (const editor of this.#draggingEditors.keys()) {\n      editor.drag(tx, ty);\n    }\n  }\n  rebuild(editor) {\n    if (editor.parent === null) {\n      const parent = this.getLayer(editor.pageIndex);\n      if (parent) {\n        parent.changeParent(editor);\n        parent.addOrRebuild(editor);\n      } else {\n        this.addEditor(editor);\n        this.addToAnnotationStorage(editor);\n        editor.rebuild();\n      }\n    } else {\n      editor.parent.addOrRebuild(editor);\n    }\n  }\n  get isEditorHandlingKeyboard() {\n    return this.getActive()?.shouldGetKeyboardEvents() || this.#selectedEditors.size === 1 && this.firstSelectedEditor.shouldGetKeyboardEvents();\n  }\n  isActive(editor) {\n    return this.#activeEditor === editor;\n  }\n  getActive() {\n    return this.#activeEditor;\n  }\n  getMode() {\n    return this.#mode;\n  }\n  isEditingMode() {\n    return this.#mode !== AnnotationEditorType.NONE;\n  }\n  get imageManager() {\n    return shadow(this, \"imageManager\", new ImageManager());\n  }\n  getSelectionBoxes(textLayer) {\n    if (!textLayer) {\n      return null;\n    }\n    const selection = document.getSelection();\n    for (let i = 0, ii = selection.rangeCount; i < ii; i++) {\n      if (!textLayer.contains(selection.getRangeAt(i).commonAncestorContainer)) {\n        return null;\n      }\n    }\n    const {\n      x: layerX,\n      y: layerY,\n      width: parentWidth,\n      height: parentHeight\n    } = textLayer.getBoundingClientRect();\n    let rotator;\n    switch (textLayer.getAttribute(\"data-main-rotation\")) {\n      case \"90\":\n        rotator = (x, y, w, h) => ({\n          x: (y - layerY) / parentHeight,\n          y: 1 - (x + w - layerX) / parentWidth,\n          width: h / parentHeight,\n          height: w / parentWidth\n        });\n        break;\n      case \"180\":\n        rotator = (x, y, w, h) => ({\n          x: 1 - (x + w - layerX) / parentWidth,\n          y: 1 - (y + h - layerY) / parentHeight,\n          width: w / parentWidth,\n          height: h / parentHeight\n        });\n        break;\n      case \"270\":\n        rotator = (x, y, w, h) => ({\n          x: 1 - (y + h - layerY) / parentHeight,\n          y: (x - layerX) / parentWidth,\n          width: h / parentHeight,\n          height: w / parentWidth\n        });\n        break;\n      default:\n        rotator = (x, y, w, h) => ({\n          x: (x - layerX) / parentWidth,\n          y: (y - layerY) / parentHeight,\n          width: w / parentWidth,\n          height: h / parentHeight\n        });\n        break;\n    }\n    const boxes = [];\n    for (let i = 0, ii = selection.rangeCount; i < ii; i++) {\n      const range = selection.getRangeAt(i);\n      if (range.collapsed) {\n        continue;\n      }\n      for (const {\n        x,\n        y,\n        width,\n        height\n      } of range.getClientRects()) {\n        if (width === 0 || height === 0) {\n          continue;\n        }\n        boxes.push(rotator(x, y, width, height));\n      }\n    }\n    return boxes.length === 0 ? null : boxes;\n  }\n  addChangedExistingAnnotation({\n    annotationElementId,\n    id\n  }) {\n    (this.#changedExistingAnnotations ||= new Map()).set(annotationElementId, id);\n  }\n  removeChangedExistingAnnotation({\n    annotationElementId\n  }) {\n    this.#changedExistingAnnotations?.delete(annotationElementId);\n  }\n  renderAnnotationElement(annotation) {\n    const editorId = this.#changedExistingAnnotations?.get(annotation.data.id);\n    if (!editorId) {\n      return;\n    }\n    const editor = this.#annotationStorage.getRawValue(editorId);\n    if (!editor) {\n      return;\n    }\n    if (this.#mode === AnnotationEditorType.NONE && !editor.hasBeenModified) {\n      return;\n    }\n    editor.renderAnnotationElement(annotation);\n  }\n  setMissingCanvas(annotationId, annotationElementId, canvas) {\n    const editor = this.#missingCanvases?.get(annotationId);\n    if (!editor) {\n      return;\n    }\n    editor.setCanvas(annotationElementId, canvas);\n    this.#missingCanvases.delete(annotationId);\n  }\n  addMissingCanvas(annotationId, editor) {\n    (this.#missingCanvases ||= new Map()).set(annotationId, editor);\n  }\n}\n\n;// ./src/display/editor/alt_text.js\n\nclass AltText {\n  #altText = null;\n  #altTextDecorative = false;\n  #altTextButton = null;\n  #altTextButtonLabel = null;\n  #altTextTooltip = null;\n  #altTextTooltipTimeout = null;\n  #altTextWasFromKeyBoard = false;\n  #badge = null;\n  #editor = null;\n  #guessedText = null;\n  #textWithDisclaimer = null;\n  #useNewAltTextFlow = false;\n  static #l10nNewButton = null;\n  static _l10n = null;\n  constructor(editor) {\n    this.#editor = editor;\n    this.#useNewAltTextFlow = editor._uiManager.useNewAltTextFlow;\n    AltText.#l10nNewButton ||= Object.freeze({\n      added: \"pdfjs-editor-new-alt-text-added-button\",\n      \"added-label\": \"pdfjs-editor-new-alt-text-added-button-label\",\n      missing: \"pdfjs-editor-new-alt-text-missing-button\",\n      \"missing-label\": \"pdfjs-editor-new-alt-text-missing-button-label\",\n      review: \"pdfjs-editor-new-alt-text-to-review-button\",\n      \"review-label\": \"pdfjs-editor-new-alt-text-to-review-button-label\"\n    });\n  }\n  static initialize(l10n) {\n    AltText._l10n ??= l10n;\n  }\n  async render() {\n    const altText = this.#altTextButton = document.createElement(\"button\");\n    altText.className = \"altText\";\n    altText.tabIndex = \"0\";\n    const label = this.#altTextButtonLabel = document.createElement(\"span\");\n    altText.append(label);\n    if (this.#useNewAltTextFlow) {\n      altText.classList.add(\"new\");\n      altText.setAttribute(\"data-l10n-id\", AltText.#l10nNewButton.missing);\n      label.setAttribute(\"data-l10n-id\", AltText.#l10nNewButton[\"missing-label\"]);\n    } else {\n      altText.setAttribute(\"data-l10n-id\", \"pdfjs-editor-alt-text-button\");\n      label.setAttribute(\"data-l10n-id\", \"pdfjs-editor-alt-text-button-label\");\n    }\n    const signal = this.#editor._uiManager._signal;\n    altText.addEventListener(\"contextmenu\", noContextMenu, {\n      signal\n    });\n    altText.addEventListener(\"pointerdown\", event => event.stopPropagation(), {\n      signal\n    });\n    const onClick = event => {\n      event.preventDefault();\n      this.#editor._uiManager.editAltText(this.#editor);\n      if (this.#useNewAltTextFlow) {\n        this.#editor._reportTelemetry({\n          action: \"pdfjs.image.alt_text.image_status_label_clicked\",\n          data: {\n            label: this.#label\n          }\n        });\n      }\n    };\n    altText.addEventListener(\"click\", onClick, {\n      capture: true,\n      signal\n    });\n    altText.addEventListener(\"keydown\", event => {\n      if (event.target === altText && event.key === \"Enter\") {\n        this.#altTextWasFromKeyBoard = true;\n        onClick(event);\n      }\n    }, {\n      signal\n    });\n    await this.#setState();\n    return altText;\n  }\n  get #label() {\n    return this.#altText && \"added\" || this.#altText === null && this.guessedText && \"review\" || \"missing\";\n  }\n  finish() {\n    if (!this.#altTextButton) {\n      return;\n    }\n    this.#altTextButton.focus({\n      focusVisible: this.#altTextWasFromKeyBoard\n    });\n    this.#altTextWasFromKeyBoard = false;\n  }\n  isEmpty() {\n    if (this.#useNewAltTextFlow) {\n      return this.#altText === null;\n    }\n    return !this.#altText && !this.#altTextDecorative;\n  }\n  hasData() {\n    if (this.#useNewAltTextFlow) {\n      return this.#altText !== null || !!this.#guessedText;\n    }\n    return this.isEmpty();\n  }\n  get guessedText() {\n    return this.#guessedText;\n  }\n  async setGuessedText(guessedText) {\n    if (this.#altText !== null) {\n      return;\n    }\n    this.#guessedText = guessedText;\n    this.#textWithDisclaimer = await AltText._l10n.get(\"pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer\", {\n      generatedAltText: guessedText\n    });\n    this.#setState();\n  }\n  toggleAltTextBadge(visibility = false) {\n    if (!this.#useNewAltTextFlow || this.#altText) {\n      this.#badge?.remove();\n      this.#badge = null;\n      return;\n    }\n    if (!this.#badge) {\n      const badge = this.#badge = document.createElement(\"div\");\n      badge.className = \"noAltTextBadge\";\n      this.#editor.div.append(badge);\n    }\n    this.#badge.classList.toggle(\"hidden\", !visibility);\n  }\n  serialize(isForCopying) {\n    let altText = this.#altText;\n    if (!isForCopying && this.#guessedText === altText) {\n      altText = this.#textWithDisclaimer;\n    }\n    return {\n      altText,\n      decorative: this.#altTextDecorative,\n      guessedText: this.#guessedText,\n      textWithDisclaimer: this.#textWithDisclaimer\n    };\n  }\n  get data() {\n    return {\n      altText: this.#altText,\n      decorative: this.#altTextDecorative\n    };\n  }\n  set data({\n    altText,\n    decorative,\n    guessedText,\n    textWithDisclaimer,\n    cancel = false\n  }) {\n    if (guessedText) {\n      this.#guessedText = guessedText;\n      this.#textWithDisclaimer = textWithDisclaimer;\n    }\n    if (this.#altText === altText && this.#altTextDecorative === decorative) {\n      return;\n    }\n    if (!cancel) {\n      this.#altText = altText;\n      this.#altTextDecorative = decorative;\n    }\n    this.#setState();\n  }\n  toggle(enabled = false) {\n    if (!this.#altTextButton) {\n      return;\n    }\n    if (!enabled && this.#altTextTooltipTimeout) {\n      clearTimeout(this.#altTextTooltipTimeout);\n      this.#altTextTooltipTimeout = null;\n    }\n    this.#altTextButton.disabled = !enabled;\n  }\n  shown() {\n    this.#editor._reportTelemetry({\n      action: \"pdfjs.image.alt_text.image_status_label_displayed\",\n      data: {\n        label: this.#label\n      }\n    });\n  }\n  destroy() {\n    this.#altTextButton?.remove();\n    this.#altTextButton = null;\n    this.#altTextButtonLabel = null;\n    this.#altTextTooltip = null;\n    this.#badge?.remove();\n    this.#badge = null;\n  }\n  async #setState() {\n    const button = this.#altTextButton;\n    if (!button) {\n      return;\n    }\n    if (this.#useNewAltTextFlow) {\n      button.classList.toggle(\"done\", !!this.#altText);\n      button.setAttribute(\"data-l10n-id\", AltText.#l10nNewButton[this.#label]);\n      this.#altTextButtonLabel?.setAttribute(\"data-l10n-id\", AltText.#l10nNewButton[`${this.#label}-label`]);\n      if (!this.#altText) {\n        this.#altTextTooltip?.remove();\n        return;\n      }\n    } else {\n      if (!this.#altText && !this.#altTextDecorative) {\n        button.classList.remove(\"done\");\n        this.#altTextTooltip?.remove();\n        return;\n      }\n      button.classList.add(\"done\");\n      button.setAttribute(\"data-l10n-id\", \"pdfjs-editor-alt-text-edit-button\");\n    }\n    let tooltip = this.#altTextTooltip;\n    if (!tooltip) {\n      this.#altTextTooltip = tooltip = document.createElement(\"span\");\n      tooltip.className = \"tooltip\";\n      tooltip.setAttribute(\"role\", \"tooltip\");\n      tooltip.id = `alt-text-tooltip-${this.#editor.id}`;\n      const DELAY_TO_SHOW_TOOLTIP = 100;\n      const signal = this.#editor._uiManager._signal;\n      signal.addEventListener(\"abort\", () => {\n        clearTimeout(this.#altTextTooltipTimeout);\n        this.#altTextTooltipTimeout = null;\n      }, {\n        once: true\n      });\n      button.addEventListener(\"mouseenter\", () => {\n        this.#altTextTooltipTimeout = setTimeout(() => {\n          this.#altTextTooltipTimeout = null;\n          this.#altTextTooltip.classList.add(\"show\");\n          this.#editor._reportTelemetry({\n            action: \"alt_text_tooltip\"\n          });\n        }, DELAY_TO_SHOW_TOOLTIP);\n      }, {\n        signal\n      });\n      button.addEventListener(\"mouseleave\", () => {\n        if (this.#altTextTooltipTimeout) {\n          clearTimeout(this.#altTextTooltipTimeout);\n          this.#altTextTooltipTimeout = null;\n        }\n        this.#altTextTooltip?.classList.remove(\"show\");\n      }, {\n        signal\n      });\n    }\n    if (this.#altTextDecorative) {\n      tooltip.setAttribute(\"data-l10n-id\", \"pdfjs-editor-alt-text-decorative-tooltip\");\n    } else {\n      tooltip.removeAttribute(\"data-l10n-id\");\n      tooltip.textContent = this.#altText;\n    }\n    if (!tooltip.parentNode) {\n      button.append(tooltip);\n    }\n    const element = this.#editor.getElementForAltText();\n    element?.setAttribute(\"aria-describedby\", tooltip.id);\n  }\n}\n\n;// ./src/display/editor/comment.js\n\nclass Comment {\n  #commentStandaloneButton = null;\n  #commentToolbarButton = null;\n  #commentWasFromKeyBoard = false;\n  #editor = null;\n  #initialText = null;\n  #richText = null;\n  #text = null;\n  #date = null;\n  #deleted = false;\n  #popupPosition = null;\n  constructor(editor) {\n    this.#editor = editor;\n  }\n  renderForToolbar() {\n    const button = this.#commentToolbarButton = document.createElement(\"button\");\n    button.className = \"comment\";\n    return this.#render(button, false);\n  }\n  renderForStandalone() {\n    const button = this.#commentStandaloneButton = document.createElement(\"button\");\n    button.className = \"annotationCommentButton\";\n    const position = this.#editor.commentButtonPosition;\n    if (position) {\n      const {\n        style\n      } = button;\n      style.insetInlineEnd = `calc(${100 * (this.#editor._uiManager.direction === \"ltr\" ? 1 - position[0] : position[0])}% - var(--comment-button-dim))`;\n      style.top = `calc(${100 * position[1]}% - var(--comment-button-dim))`;\n      const color = this.#editor.commentButtonColor;\n      if (color) {\n        style.backgroundColor = color;\n      }\n    }\n    return this.#render(button, true);\n  }\n  focusButton() {\n    setTimeout(() => {\n      (this.#commentStandaloneButton ?? this.#commentToolbarButton)?.focus();\n    }, 0);\n  }\n  onUpdatedColor() {\n    if (!this.#commentStandaloneButton) {\n      return;\n    }\n    const color = this.#editor.commentButtonColor;\n    if (color) {\n      this.#commentStandaloneButton.style.backgroundColor = color;\n    }\n    this.#editor._uiManager.updatePopupColor(this.#editor);\n  }\n  get commentButtonWidth() {\n    return (this.#commentStandaloneButton?.getBoundingClientRect().width ?? 0) / this.#editor.parent.boundingClientRect.width;\n  }\n  get commentPopupPositionInLayer() {\n    if (this.#popupPosition) {\n      return this.#popupPosition;\n    }\n    if (!this.#commentStandaloneButton) {\n      return null;\n    }\n    const {\n      x,\n      y,\n      height\n    } = this.#commentStandaloneButton.getBoundingClientRect();\n    const {\n      x: parentX,\n      y: parentY,\n      width: parentWidth,\n      height: parentHeight\n    } = this.#editor.parent.boundingClientRect;\n    return [(x - parentX) / parentWidth, (y + height - parentY) / parentHeight];\n  }\n  set commentPopupPositionInLayer(pos) {\n    this.#popupPosition = pos;\n  }\n  hasDefaultPopupPosition() {\n    return this.#popupPosition === null;\n  }\n  removeStandaloneCommentButton() {\n    this.#commentStandaloneButton?.remove();\n    this.#commentStandaloneButton = null;\n  }\n  removeToolbarCommentButton() {\n    this.#commentToolbarButton?.remove();\n    this.#commentToolbarButton = null;\n  }\n  setCommentButtonStates({\n    selected,\n    hasPopup\n  }) {\n    if (!this.#commentStandaloneButton) {\n      return;\n    }\n    this.#commentStandaloneButton.classList.toggle(\"selected\", selected);\n    this.#commentStandaloneButton.ariaExpanded = hasPopup;\n  }\n  #render(comment, isStandalone) {\n    if (!this.#editor._uiManager.hasCommentManager()) {\n      return null;\n    }\n    comment.tabIndex = \"0\";\n    comment.ariaHasPopup = \"dialog\";\n    if (isStandalone) {\n      comment.ariaControls = \"commentPopup\";\n      comment.setAttribute(\"data-l10n-id\", \"pdfjs-show-comment-button\");\n    } else {\n      comment.ariaControlsElements = [this.#editor._uiManager.getCommentDialogElement()];\n      comment.setAttribute(\"data-l10n-id\", \"pdfjs-editor-add-comment-button\");\n    }\n    const signal = this.#editor._uiManager._signal;\n    if (!(signal instanceof AbortSignal) || signal.aborted) {\n      return comment;\n    }\n    comment.addEventListener(\"contextmenu\", noContextMenu, {\n      signal\n    });\n    if (isStandalone) {\n      comment.addEventListener(\"focusin\", e => {\n        this.#editor._focusEventsAllowed = false;\n        stopEvent(e);\n      }, {\n        capture: true,\n        signal\n      });\n      comment.addEventListener(\"focusout\", e => {\n        this.#editor._focusEventsAllowed = true;\n        stopEvent(e);\n      }, {\n        capture: true,\n        signal\n      });\n    }\n    comment.addEventListener(\"pointerdown\", event => event.stopPropagation(), {\n      signal\n    });\n    const onClick = event => {\n      event.preventDefault();\n      if (comment === this.#commentToolbarButton) {\n        this.edit();\n      } else {\n        this.#editor.toggleComment(true);\n      }\n    };\n    comment.addEventListener(\"click\", onClick, {\n      capture: true,\n      signal\n    });\n    comment.addEventListener(\"keydown\", event => {\n      if (event.target === comment && event.key === \"Enter\") {\n        this.#commentWasFromKeyBoard = true;\n        onClick(event);\n      }\n    }, {\n      signal\n    });\n    comment.addEventListener(\"pointerenter\", () => {\n      this.#editor.toggleComment(false, true);\n    }, {\n      signal\n    });\n    comment.addEventListener(\"pointerleave\", () => {\n      this.#editor.toggleComment(false, false);\n    }, {\n      signal\n    });\n    return comment;\n  }\n  edit(options) {\n    const position = this.commentPopupPositionInLayer;\n    let posX, posY;\n    if (position) {\n      [posX, posY] = position;\n    } else {\n      [posX, posY] = this.#editor.commentButtonPosition;\n      const {\n        width,\n        height,\n        x,\n        y\n      } = this.#editor;\n      posX = x + posX * width;\n      posY = y + posY * height;\n    }\n    const parentDimensions = this.#editor.parent.boundingClientRect;\n    const {\n      x: parentX,\n      y: parentY,\n      width: parentWidth,\n      height: parentHeight\n    } = parentDimensions;\n    this.#editor._uiManager.editComment(this.#editor, parentX + posX * parentWidth, parentY + posY * parentHeight, {\n      ...options,\n      parentDimensions\n    });\n  }\n  finish() {\n    if (!this.#commentToolbarButton) {\n      return;\n    }\n    this.#commentToolbarButton.focus({\n      focusVisible: this.#commentWasFromKeyBoard\n    });\n    this.#commentWasFromKeyBoard = false;\n  }\n  isDeleted() {\n    return this.#deleted || this.#text === \"\";\n  }\n  isEmpty() {\n    return this.#text === null;\n  }\n  hasBeenEdited() {\n    return this.isDeleted() || this.#text !== this.#initialText;\n  }\n  serialize() {\n    return this.data;\n  }\n  get data() {\n    return {\n      text: this.#text,\n      richText: this.#richText,\n      date: this.#date,\n      deleted: this.isDeleted()\n    };\n  }\n  set data(text) {\n    if (text !== this.#text) {\n      this.#richText = null;\n    }\n    if (text === null) {\n      this.#text = \"\";\n      this.#deleted = true;\n      return;\n    }\n    this.#text = text;\n    this.#date = new Date();\n    this.#deleted = false;\n  }\n  setInitialText(text, richText = null) {\n    this.#initialText = text;\n    this.data = text;\n    this.#date = null;\n    this.#richText = richText;\n  }\n  shown() {}\n  destroy() {\n    this.#commentToolbarButton?.remove();\n    this.#commentToolbarButton = null;\n    this.#commentStandaloneButton?.remove();\n    this.#commentStandaloneButton = null;\n    this.#text = \"\";\n    this.#richText = null;\n    this.#date = null;\n    this.#editor = null;\n    this.#commentWasFromKeyBoard = false;\n    this.#deleted = false;\n  }\n}\n\n;// ./src/display/touch_manager.js\n\nclass TouchManager {\n  #container;\n  #isPinching = false;\n  #isPinchingStopped = null;\n  #isPinchingDisabled;\n  #onPinchStart;\n  #onPinching;\n  #onPinchEnd;\n  #pointerDownAC = null;\n  #signal;\n  #touchInfo = null;\n  #touchManagerAC;\n  #touchMoveAC = null;\n  constructor({\n    container,\n    isPinchingDisabled = null,\n    isPinchingStopped = null,\n    onPinchStart = null,\n    onPinching = null,\n    onPinchEnd = null,\n    signal\n  }) {\n    this.#container = container;\n    this.#isPinchingStopped = isPinchingStopped;\n    this.#isPinchingDisabled = isPinchingDisabled;\n    this.#onPinchStart = onPinchStart;\n    this.#onPinching = onPinching;\n    this.#onPinchEnd = onPinchEnd;\n    this.#touchManagerAC = new AbortController();\n    this.#signal = AbortSignal.any([signal, this.#touchManagerAC.signal]);\n    container.addEventListener(\"touchstart\", this.#onTouchStart.bind(this), {\n      passive: false,\n      signal: this.#signal\n    });\n  }\n  get MIN_TOUCH_DISTANCE_TO_PINCH() {\n    return 35 / OutputScale.pixelRatio;\n  }\n  #onTouchStart(evt) {\n    if (this.#isPinchingDisabled?.()) {\n      return;\n    }\n    if (evt.touches.length === 1) {\n      if (this.#pointerDownAC) {\n        return;\n      }\n      const pointerDownAC = this.#pointerDownAC = new AbortController();\n      const signal = AbortSignal.any([this.#signal, pointerDownAC.signal]);\n      const container = this.#container;\n      const opts = {\n        capture: true,\n        signal,\n        passive: false\n      };\n      const cancelPointerDown = e => {\n        if (e.pointerType === \"touch\") {\n          this.#pointerDownAC?.abort();\n          this.#pointerDownAC = null;\n        }\n      };\n      container.addEventListener(\"pointerdown\", e => {\n        if (e.pointerType === \"touch\") {\n          stopEvent(e);\n          cancelPointerDown(e);\n        }\n      }, opts);\n      container.addEventListener(\"pointerup\", cancelPointerDown, opts);\n      container.addEventListener(\"pointercancel\", cancelPointerDown, opts);\n      return;\n    }\n    if (!this.#touchMoveAC) {\n      this.#touchMoveAC = new AbortController();\n      const signal = AbortSignal.any([this.#signal, this.#touchMoveAC.signal]);\n      const container = this.#container;\n      const opt = {\n        signal,\n        capture: false,\n        passive: false\n      };\n      container.addEventListener(\"touchmove\", this.#onTouchMove.bind(this), opt);\n      const onTouchEnd = this.#onTouchEnd.bind(this);\n      container.addEventListener(\"touchend\", onTouchEnd, opt);\n      container.addEventListener(\"touchcancel\", onTouchEnd, opt);\n      opt.capture = true;\n      container.addEventListener(\"pointerdown\", stopEvent, opt);\n      container.addEventListener(\"pointermove\", stopEvent, opt);\n      container.addEventListener(\"pointercancel\", stopEvent, opt);\n      container.addEventListener(\"pointerup\", stopEvent, opt);\n      this.#onPinchStart?.();\n    }\n    stopEvent(evt);\n    if (evt.touches.length !== 2 || this.#isPinchingStopped?.()) {\n      this.#touchInfo = null;\n      return;\n    }\n    let [touch0, touch1] = evt.touches;\n    if (touch0.identifier > touch1.identifier) {\n      [touch0, touch1] = [touch1, touch0];\n    }\n    this.#touchInfo = {\n      touch0X: touch0.screenX,\n      touch0Y: touch0.screenY,\n      touch1X: touch1.screenX,\n      touch1Y: touch1.screenY\n    };\n  }\n  #onTouchMove(evt) {\n    if (!this.#touchInfo || evt.touches.length !== 2) {\n      return;\n    }\n    stopEvent(evt);\n    let [touch0, touch1] = evt.touches;\n    if (touch0.identifier > touch1.identifier) {\n      [touch0, touch1] = [touch1, touch0];\n    }\n    const {\n      screenX: screen0X,\n      screenY: screen0Y\n    } = touch0;\n    const {\n      screenX: screen1X,\n      screenY: screen1Y\n    } = touch1;\n    const touchInfo = this.#touchInfo;\n    const {\n      touch0X: pTouch0X,\n      touch0Y: pTouch0Y,\n      touch1X: pTouch1X,\n      touch1Y: pTouch1Y\n    } = touchInfo;\n    const prevGapX = pTouch1X - pTouch0X;\n    const prevGapY = pTouch1Y - pTouch0Y;\n    const currGapX = screen1X - screen0X;\n    const currGapY = screen1Y - screen0Y;\n    const distance = Math.hypot(currGapX, currGapY) || 1;\n    const pDistance = Math.hypot(prevGapX, prevGapY) || 1;\n    if (!this.#isPinching && Math.abs(pDistance - distance) <= TouchManager.MIN_TOUCH_DISTANCE_TO_PINCH) {\n      return;\n    }\n    touchInfo.touch0X = screen0X;\n    touchInfo.touch0Y = screen0Y;\n    touchInfo.touch1X = screen1X;\n    touchInfo.touch1Y = screen1Y;\n    if (!this.#isPinching) {\n      this.#isPinching = true;\n      return;\n    }\n    const origin = [(screen0X + screen1X) / 2, (screen0Y + screen1Y) / 2];\n    this.#onPinching?.(origin, pDistance, distance);\n  }\n  #onTouchEnd(evt) {\n    if (evt.touches.length >= 2) {\n      return;\n    }\n    if (this.#touchMoveAC) {\n      this.#touchMoveAC.abort();\n      this.#touchMoveAC = null;\n      this.#onPinchEnd?.();\n    }\n    if (!this.#touchInfo) {\n      return;\n    }\n    stopEvent(evt);\n    this.#touchInfo = null;\n    this.#isPinching = false;\n  }\n  destroy() {\n    this.#touchManagerAC?.abort();\n    this.#touchManagerAC = null;\n    this.#pointerDownAC?.abort();\n    this.#pointerDownAC = null;\n  }\n}\n\n;// ./src/display/editor/editor.js\n\n\n\n\n\n\n\nclass AnnotationEditor {\n  #accessibilityData = null;\n  #allResizerDivs = null;\n  #altText = null;\n  #comment = null;\n  #commentStandaloneButton = null;\n  #disabled = false;\n  #dragPointerId = null;\n  #dragPointerType = \"\";\n  #resizersDiv = null;\n  #lastPointerCoords = null;\n  #savedDimensions = null;\n  #fakeAnnotation = null;\n  #focusAC = null;\n  #focusedResizerName = \"\";\n  #hasBeenClicked = false;\n  #initialRect = null;\n  #isEditing = false;\n  #isInEditMode = false;\n  #isResizerEnabledForKeyboard = false;\n  #moveInDOMTimeout = null;\n  #prevDragX = 0;\n  #prevDragY = 0;\n  #telemetryTimeouts = null;\n  #touchManager = null;\n  isSelected = false;\n  _isCopy = false;\n  _editToolbar = null;\n  _initialOptions = Object.create(null);\n  _initialData = null;\n  _isVisible = true;\n  _uiManager = null;\n  _focusEventsAllowed = true;\n  static _l10n = null;\n  static _l10nResizer = null;\n  #isDraggable = false;\n  #zIndex = AnnotationEditor._zIndex++;\n  static _borderLineWidth = -1;\n  static _colorManager = new ColorManager();\n  static _zIndex = 1;\n  static _telemetryTimeout = 1000;\n  static get _resizerKeyboardManager() {\n    const resize = AnnotationEditor.prototype._resizeWithKeyboard;\n    const small = AnnotationEditorUIManager.TRANSLATE_SMALL;\n    const big = AnnotationEditorUIManager.TRANSLATE_BIG;\n    return shadow(this, \"_resizerKeyboardManager\", new KeyboardManager([[[\"ArrowLeft\", \"mac+ArrowLeft\"], resize, {\n      args: [-small, 0]\n    }], [[\"ctrl+ArrowLeft\", \"mac+shift+ArrowLeft\"], resize, {\n      args: [-big, 0]\n    }], [[\"ArrowRight\", \"mac+ArrowRight\"], resize, {\n      args: [small, 0]\n    }], [[\"ctrl+ArrowRight\", \"mac+shift+ArrowRight\"], resize, {\n      args: [big, 0]\n    }], [[\"ArrowUp\", \"mac+ArrowUp\"], resize, {\n      args: [0, -small]\n    }], [[\"ctrl+ArrowUp\", \"mac+shift+ArrowUp\"], resize, {\n      args: [0, -big]\n    }], [[\"ArrowDown\", \"mac+ArrowDown\"], resize, {\n      args: [0, small]\n    }], [[\"ctrl+ArrowDown\", \"mac+shift+ArrowDown\"], resize, {\n      args: [0, big]\n    }], [[\"Escape\", \"mac+Escape\"], AnnotationEditor.prototype._stopResizingWithKeyboard]]));\n  }\n  constructor(parameters) {\n    this.parent = parameters.parent;\n    this.id = parameters.id;\n    this.width = this.height = null;\n    this.pageIndex = parameters.parent.pageIndex;\n    this.name = parameters.name;\n    this.div = null;\n    this._uiManager = parameters.uiManager;\n    this.annotationElementId = null;\n    this._willKeepAspectRatio = false;\n    this._initialOptions.isCentered = parameters.isCentered;\n    this._structTreeParentId = null;\n    this.annotationElementId = parameters.annotationElementId || null;\n    this.creationDate = parameters.creationDate || new Date();\n    this.modificationDate = parameters.modificationDate || null;\n    this.canAddComment = true;\n    const {\n      rotation,\n      rawDims: {\n        pageWidth,\n        pageHeight,\n        pageX,\n        pageY\n      }\n    } = this.parent.viewport;\n    this.rotation = rotation;\n    this.pageRotation = (360 + rotation - this._uiManager.viewParameters.rotation) % 360;\n    this.pageDimensions = [pageWidth, pageHeight];\n    this.pageTranslation = [pageX, pageY];\n    const [width, height] = this.parentDimensions;\n    this.x = parameters.x / width;\n    this.y = parameters.y / height;\n    this.isAttachedToDOM = false;\n    this.deleted = false;\n  }\n  get editorType() {\n    return Object.getPrototypeOf(this).constructor._type;\n  }\n  get mode() {\n    return Object.getPrototypeOf(this).constructor._editorType;\n  }\n  static get isDrawer() {\n    return false;\n  }\n  static get _defaultLineColor() {\n    return shadow(this, \"_defaultLineColor\", this._colorManager.getHexCode(\"CanvasText\"));\n  }\n  static deleteAnnotationElement(editor) {\n    const fakeEditor = new FakeEditor({\n      id: editor.parent.getNextId(),\n      parent: editor.parent,\n      uiManager: editor._uiManager\n    });\n    fakeEditor.annotationElementId = editor.annotationElementId;\n    fakeEditor.deleted = true;\n    fakeEditor._uiManager.addToAnnotationStorage(fakeEditor);\n  }\n  static initialize(l10n, _uiManager) {\n    AnnotationEditor._l10n ??= l10n;\n    AnnotationEditor._l10nResizer ||= Object.freeze({\n      topLeft: \"pdfjs-editor-resizer-top-left\",\n      topMiddle: \"pdfjs-editor-resizer-top-middle\",\n      topRight: \"pdfjs-editor-resizer-top-right\",\n      middleRight: \"pdfjs-editor-resizer-middle-right\",\n      bottomRight: \"pdfjs-editor-resizer-bottom-right\",\n      bottomMiddle: \"pdfjs-editor-resizer-bottom-middle\",\n      bottomLeft: \"pdfjs-editor-resizer-bottom-left\",\n      middleLeft: \"pdfjs-editor-resizer-middle-left\"\n    });\n    if (AnnotationEditor._borderLineWidth !== -1) {\n      return;\n    }\n    const style = getComputedStyle(document.documentElement);\n    AnnotationEditor._borderLineWidth = parseFloat(style.getPropertyValue(\"--outline-width\")) || 0;\n  }\n  static updateDefaultParams(_type, _value) {}\n  static get defaultPropertiesToUpdate() {\n    return [];\n  }\n  static isHandlingMimeForPasting(mime) {\n    return false;\n  }\n  static paste(item, parent) {\n    unreachable(\"Not implemented\");\n  }\n  get propertiesToUpdate() {\n    return [];\n  }\n  get _isDraggable() {\n    return this.#isDraggable;\n  }\n  set _isDraggable(value) {\n    this.#isDraggable = value;\n    this.div?.classList.toggle(\"draggable\", value);\n  }\n  get uid() {\n    return this.annotationElementId || this.id;\n  }\n  get isEnterHandled() {\n    return true;\n  }\n  center() {\n    const [pageWidth, pageHeight] = this.pageDimensions;\n    switch (this.parentRotation) {\n      case 90:\n        this.x -= this.height * pageHeight / (pageWidth * 2);\n        this.y += this.width * pageWidth / (pageHeight * 2);\n        break;\n      case 180:\n        this.x += this.width / 2;\n        this.y += this.height / 2;\n        break;\n      case 270:\n        this.x += this.height * pageHeight / (pageWidth * 2);\n        this.y -= this.width * pageWidth / (pageHeight * 2);\n        break;\n      default:\n        this.x -= this.width / 2;\n        this.y -= this.height / 2;\n        break;\n    }\n    this.fixAndSetPosition();\n  }\n  addCommands(params) {\n    this._uiManager.addCommands(params);\n  }\n  get currentLayer() {\n    return this._uiManager.currentLayer;\n  }\n  setInBackground() {\n    this.div.style.zIndex = 0;\n  }\n  setInForeground() {\n    this.div.style.zIndex = this.#zIndex;\n  }\n  setParent(parent) {\n    if (parent !== null) {\n      this.pageIndex = parent.pageIndex;\n      this.pageDimensions = parent.pageDimensions;\n    } else {\n      this.#stopResizing();\n      this.#fakeAnnotation?.remove();\n      this.#fakeAnnotation = null;\n    }\n    this.parent = parent;\n  }\n  focusin(event) {\n    if (!this._focusEventsAllowed) {\n      return;\n    }\n    if (!this.#hasBeenClicked) {\n      this.parent.setSelected(this);\n    } else {\n      this.#hasBeenClicked = false;\n    }\n  }\n  focusout(event) {\n    if (!this._focusEventsAllowed) {\n      return;\n    }\n    if (!this.isAttachedToDOM) {\n      return;\n    }\n    const target = event.relatedTarget;\n    if (target?.closest(`#${this.id}`)) {\n      return;\n    }\n    event.preventDefault();\n    if (!this.parent?.isMultipleSelection) {\n      this.commitOrRemove();\n    }\n  }\n  commitOrRemove() {\n    if (this.isEmpty()) {\n      this.remove();\n    } else {\n      this.commit();\n    }\n  }\n  commit() {\n    if (!this.isInEditMode()) {\n      return;\n    }\n    this.addToAnnotationStorage();\n  }\n  addToAnnotationStorage() {\n    this._uiManager.addToAnnotationStorage(this);\n  }\n  setAt(x, y, tx, ty) {\n    const [width, height] = this.parentDimensions;\n    [tx, ty] = this.screenToPageTranslation(tx, ty);\n    this.x = (x + tx) / width;\n    this.y = (y + ty) / height;\n    this.fixAndSetPosition();\n  }\n  _moveAfterPaste(baseX, baseY) {\n    const [parentWidth, parentHeight] = this.parentDimensions;\n    this.setAt(baseX * parentWidth, baseY * parentHeight, this.width * parentWidth, this.height * parentHeight);\n    this._onTranslated();\n  }\n  #translate([width, height], x, y) {\n    [x, y] = this.screenToPageTranslation(x, y);\n    this.x += x / width;\n    this.y += y / height;\n    this._onTranslating(this.x, this.y);\n    this.fixAndSetPosition();\n  }\n  translate(x, y) {\n    this.#translate(this.parentDimensions, x, y);\n  }\n  translateInPage(x, y) {\n    this.#initialRect ||= [this.x, this.y, this.width, this.height];\n    this.#translate(this.pageDimensions, x, y);\n    this.div.scrollIntoView({\n      block: \"nearest\"\n    });\n  }\n  translationDone() {\n    this._onTranslated(this.x, this.y);\n  }\n  drag(tx, ty) {\n    this.#initialRect ||= [this.x, this.y, this.width, this.height];\n    const {\n      div,\n      parentDimensions: [parentWidth, parentHeight]\n    } = this;\n    this.x += tx / parentWidth;\n    this.y += ty / parentHeight;\n    if (this.parent && (this.x < 0 || this.x > 1 || this.y < 0 || this.y > 1)) {\n      const {\n        x,\n        y\n      } = this.div.getBoundingClientRect();\n      if (this.parent.findNewParent(this, x, y)) {\n        this.x -= Math.floor(this.x);\n        this.y -= Math.floor(this.y);\n      }\n    }\n    let {\n      x,\n      y\n    } = this;\n    const [bx, by] = this.getBaseTranslation();\n    x += bx;\n    y += by;\n    const {\n      style\n    } = div;\n    style.left = `${(100 * x).toFixed(2)}%`;\n    style.top = `${(100 * y).toFixed(2)}%`;\n    this._onTranslating(x, y);\n    div.scrollIntoView({\n      block: \"nearest\"\n    });\n  }\n  _onTranslating(x, y) {}\n  _onTranslated(x, y) {}\n  get _hasBeenMoved() {\n    return !!this.#initialRect && (this.#initialRect[0] !== this.x || this.#initialRect[1] !== this.y);\n  }\n  get _hasBeenResized() {\n    return !!this.#initialRect && (this.#initialRect[2] !== this.width || this.#initialRect[3] !== this.height);\n  }\n  getBaseTranslation() {\n    const [parentWidth, parentHeight] = this.parentDimensions;\n    const {\n      _borderLineWidth\n    } = AnnotationEditor;\n    const x = _borderLineWidth / parentWidth;\n    const y = _borderLineWidth / parentHeight;\n    switch (this.rotation) {\n      case 90:\n        return [-x, y];\n      case 180:\n        return [x, y];\n      case 270:\n        return [x, -y];\n      default:\n        return [-x, -y];\n    }\n  }\n  get _mustFixPosition() {\n    return true;\n  }\n  fixAndSetPosition(rotation = this.rotation) {\n    const {\n      div: {\n        style\n      },\n      pageDimensions: [pageWidth, pageHeight]\n    } = this;\n    let {\n      x,\n      y,\n      width,\n      height\n    } = this;\n    width *= pageWidth;\n    height *= pageHeight;\n    x *= pageWidth;\n    y *= pageHeight;\n    if (this._mustFixPosition) {\n      switch (rotation) {\n        case 0:\n          x = MathClamp(x, 0, pageWidth - width);\n          y = MathClamp(y, 0, pageHeight - height);\n          break;\n        case 90:\n          x = MathClamp(x, 0, pageWidth - height);\n          y = MathClamp(y, width, pageHeight);\n          break;\n        case 180:\n          x = MathClamp(x, width, pageWidth);\n          y = MathClamp(y, height, pageHeight);\n          break;\n        case 270:\n          x = MathClamp(x, height, pageWidth);\n          y = MathClamp(y, 0, pageHeight - width);\n          break;\n      }\n    }\n    this.x = x /= pageWidth;\n    this.y = y /= pageHeight;\n    const [bx, by] = this.getBaseTranslation();\n    x += bx;\n    y += by;\n    style.left = `${(100 * x).toFixed(2)}%`;\n    style.top = `${(100 * y).toFixed(2)}%`;\n    this.moveInDOM();\n  }\n  static #rotatePoint(x, y, angle) {\n    switch (angle) {\n      case 90:\n        return [y, -x];\n      case 180:\n        return [-x, -y];\n      case 270:\n        return [-y, x];\n      default:\n        return [x, y];\n    }\n  }\n  screenToPageTranslation(x, y) {\n    return AnnotationEditor.#rotatePoint(x, y, this.parentRotation);\n  }\n  pageTranslationToScreen(x, y) {\n    return AnnotationEditor.#rotatePoint(x, y, 360 - this.parentRotation);\n  }\n  #getRotationMatrix(rotation) {\n    switch (rotation) {\n      case 90:\n        {\n          const [pageWidth, pageHeight] = this.pageDimensions;\n          return [0, -pageWidth / pageHeight, pageHeight / pageWidth, 0];\n        }\n      case 180:\n        return [-1, 0, 0, -1];\n      case 270:\n        {\n          const [pageWidth, pageHeight] = this.pageDimensions;\n          return [0, pageWidth / pageHeight, -pageHeight / pageWidth, 0];\n        }\n      default:\n        return [1, 0, 0, 1];\n    }\n  }\n  get parentScale() {\n    return this._uiManager.viewParameters.realScale;\n  }\n  get parentRotation() {\n    return (this._uiManager.viewParameters.rotation + this.pageRotation) % 360;\n  }\n  get parentDimensions() {\n    const {\n      parentScale,\n      pageDimensions: [pageWidth, pageHeight]\n    } = this;\n    return [pageWidth * parentScale, pageHeight * parentScale];\n  }\n  setDims() {\n    const {\n      div: {\n        style\n      },\n      width,\n      height\n    } = this;\n    style.width = `${(100 * width).toFixed(2)}%`;\n    style.height = `${(100 * height).toFixed(2)}%`;\n  }\n  getInitialTranslation() {\n    return [0, 0];\n  }\n  #createResizers() {\n    if (this.#resizersDiv) {\n      return;\n    }\n    this.#resizersDiv = document.createElement(\"div\");\n    this.#resizersDiv.classList.add(\"resizers\");\n    const classes = this._willKeepAspectRatio ? [\"topLeft\", \"topRight\", \"bottomRight\", \"bottomLeft\"] : [\"topLeft\", \"topMiddle\", \"topRight\", \"middleRight\", \"bottomRight\", \"bottomMiddle\", \"bottomLeft\", \"middleLeft\"];\n    const signal = this._uiManager._signal;\n    for (const name of classes) {\n      const div = document.createElement(\"div\");\n      this.#resizersDiv.append(div);\n      div.classList.add(\"resizer\", name);\n      div.setAttribute(\"data-resizer-name\", name);\n      div.addEventListener(\"pointerdown\", this.#resizerPointerdown.bind(this, name), {\n        signal\n      });\n      div.addEventListener(\"contextmenu\", noContextMenu, {\n        signal\n      });\n      div.tabIndex = -1;\n    }\n    this.div.prepend(this.#resizersDiv);\n  }\n  #resizerPointerdown(name, event) {\n    event.preventDefault();\n    const {\n      isMac\n    } = util_FeatureTest.platform;\n    if (event.button !== 0 || event.ctrlKey && isMac) {\n      return;\n    }\n    this.#altText?.toggle(false);\n    const savedDraggable = this._isDraggable;\n    this._isDraggable = false;\n    this.#lastPointerCoords = [event.screenX, event.screenY];\n    const ac = new AbortController();\n    const signal = this._uiManager.combinedSignal(ac);\n    this.parent.togglePointerEvents(false);\n    window.addEventListener(\"pointermove\", this.#resizerPointermove.bind(this, name), {\n      passive: true,\n      capture: true,\n      signal\n    });\n    window.addEventListener(\"touchmove\", stopEvent, {\n      passive: false,\n      signal\n    });\n    window.addEventListener(\"contextmenu\", noContextMenu, {\n      signal\n    });\n    this.#savedDimensions = {\n      savedX: this.x,\n      savedY: this.y,\n      savedWidth: this.width,\n      savedHeight: this.height\n    };\n    const savedParentCursor = this.parent.div.style.cursor;\n    const savedCursor = this.div.style.cursor;\n    this.div.style.cursor = this.parent.div.style.cursor = window.getComputedStyle(event.target).cursor;\n    const pointerUpCallback = () => {\n      ac.abort();\n      this.parent.togglePointerEvents(true);\n      this.#altText?.toggle(true);\n      this._isDraggable = savedDraggable;\n      this.parent.div.style.cursor = savedParentCursor;\n      this.div.style.cursor = savedCursor;\n      this.#addResizeToUndoStack();\n    };\n    window.addEventListener(\"pointerup\", pointerUpCallback, {\n      signal\n    });\n    window.addEventListener(\"blur\", pointerUpCallback, {\n      signal\n    });\n  }\n  #resize(x, y, width, height) {\n    this.width = width;\n    this.height = height;\n    this.x = x;\n    this.y = y;\n    this.setDims();\n    this.fixAndSetPosition();\n    this._onResized();\n  }\n  _onResized() {}\n  #addResizeToUndoStack() {\n    if (!this.#savedDimensions) {\n      return;\n    }\n    const {\n      savedX,\n      savedY,\n      savedWidth,\n      savedHeight\n    } = this.#savedDimensions;\n    this.#savedDimensions = null;\n    const newX = this.x;\n    const newY = this.y;\n    const newWidth = this.width;\n    const newHeight = this.height;\n    if (newX === savedX && newY === savedY && newWidth === savedWidth && newHeight === savedHeight) {\n      return;\n    }\n    this.addCommands({\n      cmd: this.#resize.bind(this, newX, newY, newWidth, newHeight),\n      undo: this.#resize.bind(this, savedX, savedY, savedWidth, savedHeight),\n      mustExec: true\n    });\n  }\n  static _round(x) {\n    return Math.round(x * 10000) / 10000;\n  }\n  #resizerPointermove(name, event) {\n    const [parentWidth, parentHeight] = this.parentDimensions;\n    const savedX = this.x;\n    const savedY = this.y;\n    const savedWidth = this.width;\n    const savedHeight = this.height;\n    const minWidth = AnnotationEditor.MIN_SIZE / parentWidth;\n    const minHeight = AnnotationEditor.MIN_SIZE / parentHeight;\n    const rotationMatrix = this.#getRotationMatrix(this.rotation);\n    const transf = (x, y) => [rotationMatrix[0] * x + rotationMatrix[2] * y, rotationMatrix[1] * x + rotationMatrix[3] * y];\n    const invRotationMatrix = this.#getRotationMatrix(360 - this.rotation);\n    const invTransf = (x, y) => [invRotationMatrix[0] * x + invRotationMatrix[2] * y, invRotationMatrix[1] * x + invRotationMatrix[3] * y];\n    let getPoint;\n    let getOpposite;\n    let isDiagonal = false;\n    let isHorizontal = false;\n    switch (name) {\n      case \"topLeft\":\n        isDiagonal = true;\n        getPoint = (w, h) => [0, 0];\n        getOpposite = (w, h) => [w, h];\n        break;\n      case \"topMiddle\":\n        getPoint = (w, h) => [w / 2, 0];\n        getOpposite = (w, h) => [w / 2, h];\n        break;\n      case \"topRight\":\n        isDiagonal = true;\n        getPoint = (w, h) => [w, 0];\n        getOpposite = (w, h) => [0, h];\n        break;\n      case \"middleRight\":\n        isHorizontal = true;\n        getPoint = (w, h) => [w, h / 2];\n        getOpposite = (w, h) => [0, h / 2];\n        break;\n      case \"bottomRight\":\n        isDiagonal = true;\n        getPoint = (w, h) => [w, h];\n        getOpposite = (w, h) => [0, 0];\n        break;\n      case \"bottomMiddle\":\n        getPoint = (w, h) => [w / 2, h];\n        getOpposite = (w, h) => [w / 2, 0];\n        break;\n      case \"bottomLeft\":\n        isDiagonal = true;\n        getPoint = (w, h) => [0, h];\n        getOpposite = (w, h) => [w, 0];\n        break;\n      case \"middleLeft\":\n        isHorizontal = true;\n        getPoint = (w, h) => [0, h / 2];\n        getOpposite = (w, h) => [w, h / 2];\n        break;\n    }\n    const point = getPoint(savedWidth, savedHeight);\n    const oppositePoint = getOpposite(savedWidth, savedHeight);\n    let transfOppositePoint = transf(...oppositePoint);\n    const oppositeX = AnnotationEditor._round(savedX + transfOppositePoint[0]);\n    const oppositeY = AnnotationEditor._round(savedY + transfOppositePoint[1]);\n    let ratioX = 1;\n    let ratioY = 1;\n    let deltaX, deltaY;\n    if (!event.fromKeyboard) {\n      const {\n        screenX,\n        screenY\n      } = event;\n      const [lastScreenX, lastScreenY] = this.#lastPointerCoords;\n      [deltaX, deltaY] = this.screenToPageTranslation(screenX - lastScreenX, screenY - lastScreenY);\n      this.#lastPointerCoords[0] = screenX;\n      this.#lastPointerCoords[1] = screenY;\n    } else {\n      ({\n        deltaX,\n        deltaY\n      } = event);\n    }\n    [deltaX, deltaY] = invTransf(deltaX / parentWidth, deltaY / parentHeight);\n    if (isDiagonal) {\n      const oldDiag = Math.hypot(savedWidth, savedHeight);\n      ratioX = ratioY = Math.max(Math.min(Math.hypot(oppositePoint[0] - point[0] - deltaX, oppositePoint[1] - point[1] - deltaY) / oldDiag, 1 / savedWidth, 1 / savedHeight), minWidth / savedWidth, minHeight / savedHeight);\n    } else if (isHorizontal) {\n      ratioX = MathClamp(Math.abs(oppositePoint[0] - point[0] - deltaX), minWidth, 1) / savedWidth;\n    } else {\n      ratioY = MathClamp(Math.abs(oppositePoint[1] - point[1] - deltaY), minHeight, 1) / savedHeight;\n    }\n    const newWidth = AnnotationEditor._round(savedWidth * ratioX);\n    const newHeight = AnnotationEditor._round(savedHeight * ratioY);\n    transfOppositePoint = transf(...getOpposite(newWidth, newHeight));\n    const newX = oppositeX - transfOppositePoint[0];\n    const newY = oppositeY - transfOppositePoint[1];\n    this.#initialRect ||= [this.x, this.y, this.width, this.height];\n    this.width = newWidth;\n    this.height = newHeight;\n    this.x = newX;\n    this.y = newY;\n    this.setDims();\n    this.fixAndSetPosition();\n    this._onResizing();\n  }\n  _onResizing() {}\n  altTextFinish() {\n    this.#altText?.finish();\n  }\n  get toolbarButtons() {\n    return null;\n  }\n  async addEditToolbar() {\n    if (this._editToolbar || this.#isInEditMode) {\n      return this._editToolbar;\n    }\n    this._editToolbar = new EditorToolbar(this);\n    this.div.append(this._editToolbar.render());\n    const {\n      toolbarButtons\n    } = this;\n    if (toolbarButtons) {\n      for (const [name, tool] of toolbarButtons) {\n        await this._editToolbar.addButton(name, tool);\n      }\n    }\n    if (!this.hasComment) {\n      this._editToolbar.addButton(\"comment\", this.addCommentButton());\n    }\n    this._editToolbar.addButton(\"delete\");\n    return this._editToolbar;\n  }\n  addCommentButtonInToolbar() {\n    this._editToolbar?.addButtonBefore(\"comment\", this.addCommentButton(), \".deleteButton\");\n  }\n  removeCommentButtonFromToolbar() {\n    this._editToolbar?.removeButton(\"comment\");\n  }\n  removeEditToolbar() {\n    this._editToolbar?.remove();\n    this._editToolbar = null;\n    this.#altText?.destroy();\n  }\n  addContainer(container) {\n    const editToolbarDiv = this._editToolbar?.div;\n    if (editToolbarDiv) {\n      editToolbarDiv.before(container);\n    } else {\n      this.div.append(container);\n    }\n  }\n  getClientDimensions() {\n    return this.div.getBoundingClientRect();\n  }\n  createAltText() {\n    if (!this.#altText) {\n      AltText.initialize(AnnotationEditor._l10n);\n      this.#altText = new AltText(this);\n      if (this.#accessibilityData) {\n        this.#altText.data = this.#accessibilityData;\n        this.#accessibilityData = null;\n      }\n    }\n    return this.#altText;\n  }\n  get altTextData() {\n    return this.#altText?.data;\n  }\n  set altTextData(data) {\n    if (!this.#altText) {\n      return;\n    }\n    this.#altText.data = data;\n  }\n  get guessedAltText() {\n    return this.#altText?.guessedText;\n  }\n  async setGuessedAltText(text) {\n    await this.#altText?.setGuessedText(text);\n  }\n  serializeAltText(isForCopying) {\n    return this.#altText?.serialize(isForCopying);\n  }\n  hasAltText() {\n    return !!this.#altText && !this.#altText.isEmpty();\n  }\n  hasAltTextData() {\n    return this.#altText?.hasData() ?? false;\n  }\n  focusCommentButton() {\n    this.#comment?.focusButton();\n  }\n  addCommentButton() {\n    return this.canAddComment ? this.#comment ||= new Comment(this) : null;\n  }\n  addStandaloneCommentButton() {\n    if (!this._uiManager.hasCommentManager()) {\n      return;\n    }\n    if (this.#commentStandaloneButton) {\n      if (this._uiManager.isEditingMode()) {\n        this.#commentStandaloneButton.classList.remove(\"hidden\");\n      }\n      return;\n    }\n    if (!this.hasComment) {\n      return;\n    }\n    this.#commentStandaloneButton = this.#comment.renderForStandalone();\n    this.div.append(this.#commentStandaloneButton);\n  }\n  removeStandaloneCommentButton() {\n    this.#comment.removeStandaloneCommentButton();\n    this.#commentStandaloneButton = null;\n  }\n  hideStandaloneCommentButton() {\n    this.#commentStandaloneButton?.classList.add(\"hidden\");\n  }\n  get comment() {\n    const {\n      data: {\n        richText,\n        text,\n        date,\n        deleted\n      }\n    } = this.#comment;\n    return {\n      text,\n      richText,\n      date,\n      deleted,\n      color: this.getNonHCMColor(),\n      opacity: this.opacity ?? 1\n    };\n  }\n  set comment(text) {\n    this.#comment ||= new Comment(this);\n    this.#comment.data = text;\n    if (this.hasComment) {\n      this.removeCommentButtonFromToolbar();\n      this.addStandaloneCommentButton();\n      this._uiManager.updateComment(this);\n    } else {\n      this.addCommentButtonInToolbar();\n      this.removeStandaloneCommentButton();\n      this._uiManager.removeComment(this);\n    }\n  }\n  setCommentData({\n    comment,\n    popupRef,\n    richText\n  }) {\n    if (!popupRef) {\n      return;\n    }\n    this.#comment ||= new Comment(this);\n    this.#comment.setInitialText(comment, richText);\n    if (!this.annotationElementId) {\n      return;\n    }\n    const storedData = this._uiManager.getAndRemoveDataFromAnnotationStorage(this.annotationElementId);\n    if (storedData) {\n      this.updateFromAnnotationLayer(storedData);\n    }\n  }\n  get hasEditedComment() {\n    return this.#comment?.hasBeenEdited();\n  }\n  get hasDeletedComment() {\n    return this.#comment?.isDeleted();\n  }\n  get hasComment() {\n    return !!this.#comment && !this.#comment.isEmpty() && !this.#comment.isDeleted();\n  }\n  async editComment(options) {\n    this.#comment ||= new Comment(this);\n    this.#comment.edit(options);\n  }\n  toggleComment(isSelected, visibility = undefined) {\n    if (this.hasComment) {\n      this._uiManager.toggleComment(this, isSelected, visibility);\n    }\n  }\n  setSelectedCommentButton(selected) {\n    this.#comment.setSelectedButton(selected);\n  }\n  addComment(serialized) {\n    if (this.hasEditedComment) {\n      const DEFAULT_POPUP_WIDTH = 180;\n      const DEFAULT_POPUP_HEIGHT = 100;\n      const [,,, trY] = serialized.rect;\n      const [pageWidth] = this.pageDimensions;\n      const [pageX] = this.pageTranslation;\n      const blX = pageX + pageWidth + 1;\n      const blY = trY - DEFAULT_POPUP_HEIGHT;\n      const trX = blX + DEFAULT_POPUP_WIDTH;\n      serialized.popup = {\n        contents: this.comment.text,\n        deleted: this.comment.deleted,\n        rect: [blX, blY, trX, trY]\n      };\n    }\n  }\n  updateFromAnnotationLayer({\n    popup: {\n      contents,\n      deleted\n    }\n  }) {\n    this.#comment.data = deleted ? null : contents;\n  }\n  get parentBoundingClientRect() {\n    return this.parent.boundingClientRect;\n  }\n  render() {\n    const div = this.div = document.createElement(\"div\");\n    div.setAttribute(\"data-editor-rotation\", (360 - this.rotation) % 360);\n    div.className = this.name;\n    div.setAttribute(\"id\", this.id);\n    div.tabIndex = this.#disabled ? -1 : 0;\n    div.setAttribute(\"role\", \"application\");\n    if (this.defaultL10nId) {\n      div.setAttribute(\"data-l10n-id\", this.defaultL10nId);\n    }\n    if (!this._isVisible) {\n      div.classList.add(\"hidden\");\n    }\n    this.setInForeground();\n    this.#addFocusListeners();\n    const [parentWidth, parentHeight] = this.parentDimensions;\n    if (this.parentRotation % 180 !== 0) {\n      div.style.maxWidth = `${(100 * parentHeight / parentWidth).toFixed(2)}%`;\n      div.style.maxHeight = `${(100 * parentWidth / parentHeight).toFixed(2)}%`;\n    }\n    const [tx, ty] = this.getInitialTranslation();\n    this.translate(tx, ty);\n    bindEvents(this, div, [\"keydown\", \"pointerdown\", \"dblclick\"]);\n    if (this.isResizable && this._uiManager._supportsPinchToZoom) {\n      this.#touchManager ||= new TouchManager({\n        container: div,\n        isPinchingDisabled: () => !this.isSelected,\n        onPinchStart: this.#touchPinchStartCallback.bind(this),\n        onPinching: this.#touchPinchCallback.bind(this),\n        onPinchEnd: this.#touchPinchEndCallback.bind(this),\n        signal: this._uiManager._signal\n      });\n    }\n    this.addStandaloneCommentButton();\n    this._uiManager._editorUndoBar?.hide();\n    return div;\n  }\n  #touchPinchStartCallback() {\n    this.#savedDimensions = {\n      savedX: this.x,\n      savedY: this.y,\n      savedWidth: this.width,\n      savedHeight: this.height\n    };\n    this.#altText?.toggle(false);\n    this.parent.togglePointerEvents(false);\n  }\n  #touchPinchCallback(_origin, prevDistance, distance) {\n    const slowDownFactor = 0.7;\n    let factor = slowDownFactor * (distance / prevDistance) + 1 - slowDownFactor;\n    if (factor === 1) {\n      return;\n    }\n    const rotationMatrix = this.#getRotationMatrix(this.rotation);\n    const transf = (x, y) => [rotationMatrix[0] * x + rotationMatrix[2] * y, rotationMatrix[1] * x + rotationMatrix[3] * y];\n    const [parentWidth, parentHeight] = this.parentDimensions;\n    const savedX = this.x;\n    const savedY = this.y;\n    const savedWidth = this.width;\n    const savedHeight = this.height;\n    const minWidth = AnnotationEditor.MIN_SIZE / parentWidth;\n    const minHeight = AnnotationEditor.MIN_SIZE / parentHeight;\n    factor = Math.max(Math.min(factor, 1 / savedWidth, 1 / savedHeight), minWidth / savedWidth, minHeight / savedHeight);\n    const newWidth = AnnotationEditor._round(savedWidth * factor);\n    const newHeight = AnnotationEditor._round(savedHeight * factor);\n    if (newWidth === savedWidth && newHeight === savedHeight) {\n      return;\n    }\n    this.#initialRect ||= [savedX, savedY, savedWidth, savedHeight];\n    const transfCenterPoint = transf(savedWidth / 2, savedHeight / 2);\n    const centerX = AnnotationEditor._round(savedX + transfCenterPoint[0]);\n    const centerY = AnnotationEditor._round(savedY + transfCenterPoint[1]);\n    const newTransfCenterPoint = transf(newWidth / 2, newHeight / 2);\n    this.x = centerX - newTransfCenterPoint[0];\n    this.y = centerY - newTransfCenterPoint[1];\n    this.width = newWidth;\n    this.height = newHeight;\n    this.setDims();\n    this.fixAndSetPosition();\n    this._onResizing();\n  }\n  #touchPinchEndCallback() {\n    this.#altText?.toggle(true);\n    this.parent.togglePointerEvents(true);\n    this.#addResizeToUndoStack();\n  }\n  pointerdown(event) {\n    const {\n      isMac\n    } = util_FeatureTest.platform;\n    if (event.button !== 0 || event.ctrlKey && isMac) {\n      event.preventDefault();\n      return;\n    }\n    this.#hasBeenClicked = true;\n    if (this._isDraggable) {\n      this.#setUpDragSession(event);\n      return;\n    }\n    this.#selectOnPointerEvent(event);\n  }\n  #selectOnPointerEvent(event) {\n    const {\n      isMac\n    } = util_FeatureTest.platform;\n    if (event.ctrlKey && !isMac || event.shiftKey || event.metaKey && isMac) {\n      this.parent.toggleSelected(this);\n    } else {\n      this.parent.setSelected(this);\n    }\n  }\n  #setUpDragSession(event) {\n    const {\n      isSelected\n    } = this;\n    this._uiManager.setUpDragSession();\n    let hasDraggingStarted = false;\n    const ac = new AbortController();\n    const signal = this._uiManager.combinedSignal(ac);\n    const opts = {\n      capture: true,\n      passive: false,\n      signal\n    };\n    const cancelDrag = e => {\n      ac.abort();\n      this.#dragPointerId = null;\n      this.#hasBeenClicked = false;\n      if (!this._uiManager.endDragSession()) {\n        this.#selectOnPointerEvent(e);\n      }\n      if (hasDraggingStarted) {\n        this._onStopDragging();\n      }\n    };\n    if (isSelected) {\n      this.#prevDragX = event.clientX;\n      this.#prevDragY = event.clientY;\n      this.#dragPointerId = event.pointerId;\n      this.#dragPointerType = event.pointerType;\n      window.addEventListener(\"pointermove\", e => {\n        if (!hasDraggingStarted) {\n          hasDraggingStarted = true;\n          this._uiManager.toggleComment(this, true, false);\n          this._onStartDragging();\n        }\n        const {\n          clientX: x,\n          clientY: y,\n          pointerId\n        } = e;\n        if (pointerId !== this.#dragPointerId) {\n          stopEvent(e);\n          return;\n        }\n        const [tx, ty] = this.screenToPageTranslation(x - this.#prevDragX, y - this.#prevDragY);\n        this.#prevDragX = x;\n        this.#prevDragY = y;\n        this._uiManager.dragSelectedEditors(tx, ty);\n      }, opts);\n      window.addEventListener(\"touchmove\", stopEvent, opts);\n      window.addEventListener(\"pointerdown\", e => {\n        if (e.pointerType === this.#dragPointerType) {\n          if (this.#touchManager || e.isPrimary) {\n            cancelDrag(e);\n          }\n        }\n        stopEvent(e);\n      }, opts);\n    }\n    const pointerUpCallback = e => {\n      if (!this.#dragPointerId || this.#dragPointerId === e.pointerId) {\n        cancelDrag(e);\n        return;\n      }\n      stopEvent(e);\n    };\n    window.addEventListener(\"pointerup\", pointerUpCallback, {\n      signal\n    });\n    window.addEventListener(\"blur\", pointerUpCallback, {\n      signal\n    });\n  }\n  _onStartDragging() {}\n  _onStopDragging() {}\n  moveInDOM() {\n    if (this.#moveInDOMTimeout) {\n      clearTimeout(this.#moveInDOMTimeout);\n    }\n    this.#moveInDOMTimeout = setTimeout(() => {\n      this.#moveInDOMTimeout = null;\n      this.parent?.moveEditorInDOM(this);\n    }, 0);\n  }\n  _setParentAndPosition(parent, x, y) {\n    parent.changeParent(this);\n    this.x = x;\n    this.y = y;\n    this.fixAndSetPosition();\n    this._onTranslated();\n  }\n  getRect(tx, ty, rotation = this.rotation) {\n    const scale = this.parentScale;\n    const [pageWidth, pageHeight] = this.pageDimensions;\n    const [pageX, pageY] = this.pageTranslation;\n    const shiftX = tx / scale;\n    const shiftY = ty / scale;\n    const x = this.x * pageWidth;\n    const y = this.y * pageHeight;\n    const width = this.width * pageWidth;\n    const height = this.height * pageHeight;\n    switch (rotation) {\n      case 0:\n        return [x + shiftX + pageX, pageHeight - y - shiftY - height + pageY, x + shiftX + width + pageX, pageHeight - y - shiftY + pageY];\n      case 90:\n        return [x + shiftY + pageX, pageHeight - y + shiftX + pageY, x + shiftY + height + pageX, pageHeight - y + shiftX + width + pageY];\n      case 180:\n        return [x - shiftX - width + pageX, pageHeight - y + shiftY + pageY, x - shiftX + pageX, pageHeight - y + shiftY + height + pageY];\n      case 270:\n        return [x - shiftY - height + pageX, pageHeight - y - shiftX - width + pageY, x - shiftY + pageX, pageHeight - y - shiftX + pageY];\n      default:\n        throw new Error(\"Invalid rotation\");\n    }\n  }\n  getRectInCurrentCoords(rect, pageHeight) {\n    const [x1, y1, x2, y2] = rect;\n    const width = x2 - x1;\n    const height = y2 - y1;\n    switch (this.rotation) {\n      case 0:\n        return [x1, pageHeight - y2, width, height];\n      case 90:\n        return [x1, pageHeight - y1, height, width];\n      case 180:\n        return [x2, pageHeight - y1, width, height];\n      case 270:\n        return [x2, pageHeight - y2, height, width];\n      default:\n        throw new Error(\"Invalid rotation\");\n    }\n  }\n  getPDFRect() {\n    return this.getRect(0, 0);\n  }\n  getNonHCMColor() {\n    return this.color && AnnotationEditor._colorManager.convert(this._uiManager.getNonHCMColor(this.color));\n  }\n  onUpdatedColor() {\n    this.#comment?.onUpdatedColor();\n  }\n  getData() {\n    const {\n      comment: {\n        text: str,\n        color,\n        date,\n        opacity,\n        deleted,\n        richText\n      },\n      uid: id,\n      pageIndex,\n      creationDate,\n      modificationDate\n    } = this;\n    return {\n      id,\n      pageIndex,\n      rect: this.getPDFRect(),\n      richText,\n      contentsObj: {\n        str\n      },\n      creationDate,\n      modificationDate: date || modificationDate,\n      popupRef: !deleted,\n      color,\n      opacity\n    };\n  }\n  onceAdded(focus) {}\n  isEmpty() {\n    return false;\n  }\n  enableEditMode() {\n    if (this.isInEditMode()) {\n      return false;\n    }\n    this.parent.setEditingState(false);\n    this.#isInEditMode = true;\n    return true;\n  }\n  disableEditMode() {\n    if (!this.isInEditMode()) {\n      return false;\n    }\n    this.parent.setEditingState(true);\n    this.#isInEditMode = false;\n    return true;\n  }\n  isInEditMode() {\n    return this.#isInEditMode;\n  }\n  shouldGetKeyboardEvents() {\n    return this.#isResizerEnabledForKeyboard;\n  }\n  needsToBeRebuilt() {\n    return this.div && !this.isAttachedToDOM;\n  }\n  get isOnScreen() {\n    const {\n      top,\n      left,\n      bottom,\n      right\n    } = this.getClientDimensions();\n    const {\n      innerHeight,\n      innerWidth\n    } = window;\n    return left < innerWidth && right > 0 && top < innerHeight && bottom > 0;\n  }\n  #addFocusListeners() {\n    if (this.#focusAC || !this.div) {\n      return;\n    }\n    this.#focusAC = new AbortController();\n    const signal = this._uiManager.combinedSignal(this.#focusAC);\n    this.div.addEventListener(\"focusin\", this.focusin.bind(this), {\n      signal\n    });\n    this.div.addEventListener(\"focusout\", this.focusout.bind(this), {\n      signal\n    });\n  }\n  rebuild() {\n    this.#addFocusListeners();\n  }\n  rotate(_angle) {}\n  resize() {}\n  serializeDeleted() {\n    return {\n      id: this.annotationElementId,\n      deleted: true,\n      pageIndex: this.pageIndex,\n      popupRef: this._initialData?.popupRef || \"\"\n    };\n  }\n  serialize(isForCopying = false, context = null) {\n    return {\n      annotationType: this.mode,\n      pageIndex: this.pageIndex,\n      rect: this.getPDFRect(),\n      rotation: this.rotation,\n      structTreeParentId: this._structTreeParentId,\n      popupRef: this._initialData?.popupRef || \"\"\n    };\n  }\n  static async deserialize(data, parent, uiManager) {\n    const editor = new this.prototype.constructor({\n      parent,\n      id: parent.getNextId(),\n      uiManager,\n      annotationElementId: data.annotationElementId,\n      creationDate: data.creationDate,\n      modificationDate: data.modificationDate\n    });\n    editor.rotation = data.rotation;\n    editor.#accessibilityData = data.accessibilityData;\n    editor._isCopy = data.isCopy || false;\n    const [pageWidth, pageHeight] = editor.pageDimensions;\n    const [x, y, width, height] = editor.getRectInCurrentCoords(data.rect, pageHeight);\n    editor.x = x / pageWidth;\n    editor.y = y / pageHeight;\n    editor.width = width / pageWidth;\n    editor.height = height / pageHeight;\n    return editor;\n  }\n  get hasBeenModified() {\n    return !!this.annotationElementId && (this.deleted || this.serialize() !== null);\n  }\n  remove() {\n    this.#focusAC?.abort();\n    this.#focusAC = null;\n    if (!this.isEmpty()) {\n      this.commit();\n    }\n    if (this.parent) {\n      this.parent.remove(this);\n    } else {\n      this._uiManager.removeEditor(this);\n    }\n    this.hideCommentPopup();\n    if (this.#moveInDOMTimeout) {\n      clearTimeout(this.#moveInDOMTimeout);\n      this.#moveInDOMTimeout = null;\n    }\n    this.#stopResizing();\n    this.removeEditToolbar();\n    if (this.#telemetryTimeouts) {\n      for (const timeout of this.#telemetryTimeouts.values()) {\n        clearTimeout(timeout);\n      }\n      this.#telemetryTimeouts = null;\n    }\n    this.parent = null;\n    this.#touchManager?.destroy();\n    this.#touchManager = null;\n    this.#fakeAnnotation?.remove();\n    this.#fakeAnnotation = null;\n  }\n  get isResizable() {\n    return false;\n  }\n  makeResizable() {\n    if (this.isResizable) {\n      this.#createResizers();\n      this.#resizersDiv.classList.remove(\"hidden\");\n    }\n  }\n  get toolbarPosition() {\n    return null;\n  }\n  get commentButtonPosition() {\n    return this._uiManager.direction === \"ltr\" ? [1, 0] : [0, 0];\n  }\n  get commentButtonPositionInPage() {\n    const {\n      commentButtonPosition: [posX, posY]\n    } = this;\n    const [blX, blY, trX, trY] = this.getPDFRect();\n    return [AnnotationEditor._round(blX + (trX - blX) * posX), AnnotationEditor._round(blY + (trY - blY) * (1 - posY))];\n  }\n  get commentButtonColor() {\n    return this._uiManager.makeCommentColor(this.getNonHCMColor(), this.opacity);\n  }\n  get commentPopupPosition() {\n    return this.#comment.commentPopupPositionInLayer;\n  }\n  set commentPopupPosition(pos) {\n    this.#comment.commentPopupPositionInLayer = pos;\n  }\n  hasDefaultPopupPosition() {\n    return this.#comment.hasDefaultPopupPosition();\n  }\n  get commentButtonWidth() {\n    return this.#comment.commentButtonWidth;\n  }\n  get elementBeforePopup() {\n    return this.div;\n  }\n  setCommentButtonStates(options) {\n    this.#comment?.setCommentButtonStates(options);\n  }\n  keydown(event) {\n    if (!this.isResizable || event.target !== this.div || event.key !== \"Enter\") {\n      return;\n    }\n    this._uiManager.setSelected(this);\n    this.#savedDimensions = {\n      savedX: this.x,\n      savedY: this.y,\n      savedWidth: this.width,\n      savedHeight: this.height\n    };\n    const children = this.#resizersDiv.children;\n    if (!this.#allResizerDivs) {\n      this.#allResizerDivs = Array.from(children);\n      const boundResizerKeydown = this.#resizerKeydown.bind(this);\n      const boundResizerBlur = this.#resizerBlur.bind(this);\n      const signal = this._uiManager._signal;\n      for (const div of this.#allResizerDivs) {\n        const name = div.getAttribute(\"data-resizer-name\");\n        div.setAttribute(\"role\", \"spinbutton\");\n        div.addEventListener(\"keydown\", boundResizerKeydown, {\n          signal\n        });\n        div.addEventListener(\"blur\", boundResizerBlur, {\n          signal\n        });\n        div.addEventListener(\"focus\", this.#resizerFocus.bind(this, name), {\n          signal\n        });\n        div.setAttribute(\"data-l10n-id\", AnnotationEditor._l10nResizer[name]);\n      }\n    }\n    const first = this.#allResizerDivs[0];\n    let firstPosition = 0;\n    for (const div of children) {\n      if (div === first) {\n        break;\n      }\n      firstPosition++;\n    }\n    const nextFirstPosition = (360 - this.rotation + this.parentRotation) % 360 / 90 * (this.#allResizerDivs.length / 4);\n    if (nextFirstPosition !== firstPosition) {\n      if (nextFirstPosition < firstPosition) {\n        for (let i = 0; i < firstPosition - nextFirstPosition; i++) {\n          this.#resizersDiv.append(this.#resizersDiv.firstElementChild);\n        }\n      } else if (nextFirstPosition > firstPosition) {\n        for (let i = 0; i < nextFirstPosition - firstPosition; i++) {\n          this.#resizersDiv.firstElementChild.before(this.#resizersDiv.lastElementChild);\n        }\n      }\n      let i = 0;\n      for (const child of children) {\n        const div = this.#allResizerDivs[i++];\n        const name = div.getAttribute(\"data-resizer-name\");\n        child.setAttribute(\"data-l10n-id\", AnnotationEditor._l10nResizer[name]);\n      }\n    }\n    this.#setResizerTabIndex(0);\n    this.#isResizerEnabledForKeyboard = true;\n    this.#resizersDiv.firstElementChild.focus({\n      focusVisible: true\n    });\n    event.preventDefault();\n    event.stopImmediatePropagation();\n  }\n  #resizerKeydown(event) {\n    AnnotationEditor._resizerKeyboardManager.exec(this, event);\n  }\n  #resizerBlur(event) {\n    if (this.#isResizerEnabledForKeyboard && event.relatedTarget?.parentNode !== this.#resizersDiv) {\n      this.#stopResizing();\n    }\n  }\n  #resizerFocus(name) {\n    this.#focusedResizerName = this.#isResizerEnabledForKeyboard ? name : \"\";\n  }\n  #setResizerTabIndex(value) {\n    if (!this.#allResizerDivs) {\n      return;\n    }\n    for (const div of this.#allResizerDivs) {\n      div.tabIndex = value;\n    }\n  }\n  _resizeWithKeyboard(x, y) {\n    if (!this.#isResizerEnabledForKeyboard) {\n      return;\n    }\n    this.#resizerPointermove(this.#focusedResizerName, {\n      deltaX: x,\n      deltaY: y,\n      fromKeyboard: true\n    });\n  }\n  #stopResizing() {\n    this.#isResizerEnabledForKeyboard = false;\n    this.#setResizerTabIndex(-1);\n    this.#addResizeToUndoStack();\n  }\n  _stopResizingWithKeyboard() {\n    this.#stopResizing();\n    this.div.focus();\n  }\n  select() {\n    if (this.isSelected && this._editToolbar) {\n      this._editToolbar.show();\n      return;\n    }\n    this.isSelected = true;\n    this.makeResizable();\n    this.div?.classList.add(\"selectedEditor\");\n    if (!this._editToolbar) {\n      this.addEditToolbar().then(() => {\n        if (this.div?.classList.contains(\"selectedEditor\")) {\n          this._editToolbar?.show();\n        }\n      });\n      return;\n    }\n    this._editToolbar?.show();\n    this.#altText?.toggleAltTextBadge(false);\n  }\n  focus() {\n    if (this.div && !this.div.contains(document.activeElement)) {\n      setTimeout(() => this.div?.focus({\n        preventScroll: true\n      }), 0);\n    }\n  }\n  unselect() {\n    if (!this.isSelected) {\n      return;\n    }\n    this.isSelected = false;\n    this.#resizersDiv?.classList.add(\"hidden\");\n    this.div?.classList.remove(\"selectedEditor\");\n    if (this.div?.contains(document.activeElement)) {\n      this._uiManager.currentLayer.div.focus({\n        preventScroll: true\n      });\n    }\n    this._editToolbar?.hide();\n    this.#altText?.toggleAltTextBadge(true);\n    this.hideCommentPopup();\n  }\n  hideCommentPopup() {\n    if (this.hasComment) {\n      this._uiManager.toggleComment(null);\n    }\n  }\n  updateParams(type, value) {}\n  disableEditing() {}\n  enableEditing() {}\n  get canChangeContent() {\n    return false;\n  }\n  enterInEditMode() {\n    if (!this.canChangeContent) {\n      return;\n    }\n    this.enableEditMode();\n    this.div.focus();\n  }\n  dblclick(event) {\n    if (event.target.nodeName === \"BUTTON\") {\n      return;\n    }\n    this.enterInEditMode();\n    this.parent.updateToolbar({\n      mode: this.constructor._editorType,\n      editId: this.uid\n    });\n  }\n  getElementForAltText() {\n    return this.div;\n  }\n  get contentDiv() {\n    return this.div;\n  }\n  get isEditing() {\n    return this.#isEditing;\n  }\n  set isEditing(value) {\n    this.#isEditing = value;\n    if (!this.parent) {\n      return;\n    }\n    if (value) {\n      this.parent.setSelected(this);\n      this.parent.setActiveEditor(this);\n    } else {\n      this.parent.setActiveEditor(null);\n    }\n  }\n  static get MIN_SIZE() {\n    return 16;\n  }\n  static canCreateNewEmptyEditor() {\n    return true;\n  }\n  get telemetryInitialData() {\n    return {\n      action: \"added\"\n    };\n  }\n  get telemetryFinalData() {\n    return null;\n  }\n  _reportTelemetry(data, mustWait = false) {\n    if (mustWait) {\n      this.#telemetryTimeouts ||= new Map();\n      const {\n        action\n      } = data;\n      let timeout = this.#telemetryTimeouts.get(action);\n      if (timeout) {\n        clearTimeout(timeout);\n      }\n      timeout = setTimeout(() => {\n        this._reportTelemetry(data);\n        this.#telemetryTimeouts.delete(action);\n        if (this.#telemetryTimeouts.size === 0) {\n          this.#telemetryTimeouts = null;\n        }\n      }, AnnotationEditor._telemetryTimeout);\n      this.#telemetryTimeouts.set(action, timeout);\n      return;\n    }\n    data.type ||= this.editorType;\n    this._uiManager._eventBus.dispatch(\"reporttelemetry\", {\n      source: this,\n      details: {\n        type: \"editing\",\n        data\n      }\n    });\n  }\n  show(visible = this._isVisible) {\n    this.div.classList.toggle(\"hidden\", !visible);\n    this._isVisible = visible;\n  }\n  enable() {\n    if (this.div) {\n      this.div.tabIndex = 0;\n    }\n    this.#disabled = false;\n  }\n  disable() {\n    if (this.div) {\n      this.div.tabIndex = -1;\n    }\n    this.#disabled = true;\n  }\n  updateFakeAnnotationElement(annotationLayer) {\n    if (!this.#fakeAnnotation && !this.deleted) {\n      this.#fakeAnnotation = annotationLayer.addFakeAnnotation(this);\n      return;\n    }\n    if (this.deleted) {\n      this.#fakeAnnotation.remove();\n      this.#fakeAnnotation = null;\n      return;\n    }\n    if (this.hasEditedComment || this._hasBeenMoved || this._hasBeenResized) {\n      this.#fakeAnnotation.updateEdited({\n        rect: this.getPDFRect(),\n        popup: this.comment\n      });\n    }\n  }\n  renderAnnotationElement(annotation) {\n    if (this.deleted) {\n      annotation.hide();\n      return null;\n    }\n    let content = annotation.container.querySelector(\".annotationContent\");\n    if (!content) {\n      content = document.createElement(\"div\");\n      content.classList.add(\"annotationContent\", this.editorType);\n      annotation.container.prepend(content);\n    } else if (content.nodeName === \"CANVAS\") {\n      const canvas = content;\n      content = document.createElement(\"div\");\n      content.classList.add(\"annotationContent\", this.editorType);\n      canvas.before(content);\n    }\n    return content;\n  }\n  resetAnnotationElement(annotation) {\n    const {\n      firstElementChild\n    } = annotation.container;\n    if (firstElementChild?.nodeName === \"DIV\" && firstElementChild.classList.contains(\"annotationContent\")) {\n      firstElementChild.remove();\n    }\n  }\n}\nclass FakeEditor extends AnnotationEditor {\n  constructor(params) {\n    super(params);\n    this.annotationElementId = params.annotationElementId;\n    this.deleted = true;\n  }\n  serialize() {\n    return this.serializeDeleted();\n  }\n}\n\n;// ./src/shared/murmurhash3.js\nconst SEED = 0xc3d2e1f0;\nconst MASK_HIGH = 0xffff0000;\nconst MASK_LOW = 0xffff;\nclass MurmurHash3_64 {\n  constructor(seed) {\n    this.h1 = seed ? seed & 0xffffffff : SEED;\n    this.h2 = seed ? seed & 0xffffffff : SEED;\n  }\n  update(input) {\n    let data, length;\n    if (typeof input === \"string\") {\n      data = new Uint8Array(input.length * 2);\n      length = 0;\n      for (let i = 0, ii = input.length; i < ii; i++) {\n        const code = input.charCodeAt(i);\n        if (code <= 0xff) {\n          data[length++] = code;\n        } else {\n          data[length++] = code >>> 8;\n          data[length++] = code & 0xff;\n        }\n      }\n    } else if (ArrayBuffer.isView(input)) {\n      data = input.slice();\n      length = data.byteLength;\n    } else {\n      throw new Error(\"Invalid data format, must be a string or TypedArray.\");\n    }\n    const blockCounts = length >> 2;\n    const tailLength = length - blockCounts * 4;\n    const dataUint32 = new Uint32Array(data.buffer, 0, blockCounts);\n    let k1 = 0,\n      k2 = 0;\n    let h1 = this.h1,\n      h2 = this.h2;\n    const C1 = 0xcc9e2d51,\n      C2 = 0x1b873593;\n    const C1_LOW = C1 & MASK_LOW,\n      C2_LOW = C2 & MASK_LOW;\n    for (let i = 0; i < blockCounts; i++) {\n      if (i & 1) {\n        k1 = dataUint32[i];\n        k1 = k1 * C1 & MASK_HIGH | k1 * C1_LOW & MASK_LOW;\n        k1 = k1 << 15 | k1 >>> 17;\n        k1 = k1 * C2 & MASK_HIGH | k1 * C2_LOW & MASK_LOW;\n        h1 ^= k1;\n        h1 = h1 << 13 | h1 >>> 19;\n        h1 = h1 * 5 + 0xe6546b64;\n      } else {\n        k2 = dataUint32[i];\n        k2 = k2 * C1 & MASK_HIGH | k2 * C1_LOW & MASK_LOW;\n        k2 = k2 << 15 | k2 >>> 17;\n        k2 = k2 * C2 & MASK_HIGH | k2 * C2_LOW & MASK_LOW;\n        h2 ^= k2;\n        h2 = h2 << 13 | h2 >>> 19;\n        h2 = h2 * 5 + 0xe6546b64;\n      }\n    }\n    k1 = 0;\n    switch (tailLength) {\n      case 3:\n        k1 ^= data[blockCounts * 4 + 2] << 16;\n      case 2:\n        k1 ^= data[blockCounts * 4 + 1] << 8;\n      case 1:\n        k1 ^= data[blockCounts * 4];\n        k1 = k1 * C1 & MASK_HIGH | k1 * C1_LOW & MASK_LOW;\n        k1 = k1 << 15 | k1 >>> 17;\n        k1 = k1 * C2 & MASK_HIGH | k1 * C2_LOW & MASK_LOW;\n        if (blockCounts & 1) {\n          h1 ^= k1;\n        } else {\n          h2 ^= k1;\n        }\n    }\n    this.h1 = h1;\n    this.h2 = h2;\n  }\n  hexdigest() {\n    let h1 = this.h1,\n      h2 = this.h2;\n    h1 ^= h2 >>> 1;\n    h1 = h1 * 0xed558ccd & MASK_HIGH | h1 * 0x8ccd & MASK_LOW;\n    h2 = h2 * 0xff51afd7 & MASK_HIGH | ((h2 << 16 | h1 >>> 16) * 0xafd7ed55 & MASK_HIGH) >>> 16;\n    h1 ^= h2 >>> 1;\n    h1 = h1 * 0x1a85ec53 & MASK_HIGH | h1 * 0xec53 & MASK_LOW;\n    h2 = h2 * 0xc4ceb9fe & MASK_HIGH | ((h2 << 16 | h1 >>> 16) * 0xb9fe1a85 & MASK_HIGH) >>> 16;\n    h1 ^= h2 >>> 1;\n    return (h1 >>> 0).toString(16).padStart(8, \"0\") + (h2 >>> 0).toString(16).padStart(8, \"0\");\n  }\n}\n\n;// ./src/display/annotation_storage.js\n\n\n\nconst SerializableEmpty = Object.freeze({\n  map: null,\n  hash: \"\",\n  transfer: undefined\n});\nclass AnnotationStorage {\n  #modified = false;\n  #modifiedIds = null;\n  #editorsMap = null;\n  #storage = new Map();\n  constructor() {\n    this.onSetModified = null;\n    this.onResetModified = null;\n    this.onAnnotationEditor = null;\n  }\n  getValue(key, defaultValue) {\n    const value = this.#storage.get(key);\n    if (value === undefined) {\n      return defaultValue;\n    }\n    return Object.assign(defaultValue, value);\n  }\n  getRawValue(key) {\n    return this.#storage.get(key);\n  }\n  remove(key) {\n    const storedValue = this.#storage.get(key);\n    if (storedValue === undefined) {\n      return;\n    }\n    if (storedValue instanceof AnnotationEditor) {\n      this.#editorsMap.delete(storedValue.annotationElementId);\n    }\n    this.#storage.delete(key);\n    if (this.#storage.size === 0) {\n      this.resetModified();\n    }\n    if (typeof this.onAnnotationEditor === \"function\") {\n      for (const value of this.#storage.values()) {\n        if (value instanceof AnnotationEditor) {\n          return;\n        }\n      }\n      this.onAnnotationEditor(null);\n    }\n  }\n  setValue(key, value) {\n    const obj = this.#storage.get(key);\n    let modified = false;\n    if (obj !== undefined) {\n      for (const [entry, val] of Object.entries(value)) {\n        if (obj[entry] !== val) {\n          modified = true;\n          obj[entry] = val;\n        }\n      }\n    } else {\n      modified = true;\n      this.#storage.set(key, value);\n    }\n    if (modified) {\n      this.#setModified();\n    }\n    if (value instanceof AnnotationEditor) {\n      (this.#editorsMap ||= new Map()).set(value.annotationElementId, value);\n      if (typeof this.onAnnotationEditor === \"function\") {\n        this.onAnnotationEditor(value.constructor._type);\n      }\n    }\n  }\n  has(key) {\n    return this.#storage.has(key);\n  }\n  get size() {\n    return this.#storage.size;\n  }\n  #setModified() {\n    if (!this.#modified) {\n      this.#modified = true;\n      if (typeof this.onSetModified === \"function\") {\n        this.onSetModified();\n      }\n    }\n  }\n  resetModified() {\n    if (this.#modified) {\n      this.#modified = false;\n      if (typeof this.onResetModified === \"function\") {\n        this.onResetModified();\n      }\n    }\n  }\n  get print() {\n    return new PrintAnnotationStorage(this);\n  }\n  get serializable() {\n    if (this.#storage.size === 0) {\n      return SerializableEmpty;\n    }\n    const map = new Map(),\n      hash = new MurmurHash3_64(),\n      transfer = [];\n    const context = Object.create(null);\n    let hasBitmap = false;\n    for (const [key, val] of this.#storage) {\n      const serialized = val instanceof AnnotationEditor ? val.serialize(false, context) : val;\n      if (serialized) {\n        map.set(key, serialized);\n        hash.update(`${key}:${JSON.stringify(serialized)}`);\n        hasBitmap ||= !!serialized.bitmap;\n      }\n    }\n    if (hasBitmap) {\n      for (const value of map.values()) {\n        if (value.bitmap) {\n          transfer.push(value.bitmap);\n        }\n      }\n    }\n    return map.size > 0 ? {\n      map,\n      hash: hash.hexdigest(),\n      transfer\n    } : SerializableEmpty;\n  }\n  get editorStats() {\n    let stats = null;\n    const typeToEditor = new Map();\n    let numberOfEditedComments = 0;\n    let numberOfDeletedComments = 0;\n    for (const value of this.#storage.values()) {\n      if (!(value instanceof AnnotationEditor)) {\n        if (value.popup) {\n          if (value.popup.deleted) {\n            numberOfDeletedComments += 1;\n          } else {\n            numberOfEditedComments += 1;\n          }\n        }\n        continue;\n      }\n      if (value.isCommentDeleted) {\n        numberOfDeletedComments += 1;\n      } else if (value.hasEditedComment) {\n        numberOfEditedComments += 1;\n      }\n      const editorStats = value.telemetryFinalData;\n      if (!editorStats) {\n        continue;\n      }\n      const {\n        type\n      } = editorStats;\n      if (!typeToEditor.has(type)) {\n        typeToEditor.set(type, Object.getPrototypeOf(value).constructor);\n      }\n      stats ||= Object.create(null);\n      const map = stats[type] ||= new Map();\n      for (const [key, val] of Object.entries(editorStats)) {\n        if (key === \"type\") {\n          continue;\n        }\n        let counters = map.get(key);\n        if (!counters) {\n          counters = new Map();\n          map.set(key, counters);\n        }\n        const count = counters.get(val) ?? 0;\n        counters.set(val, count + 1);\n      }\n    }\n    if (numberOfDeletedComments > 0 || numberOfEditedComments > 0) {\n      stats ||= Object.create(null);\n      stats.comments = {\n        deleted: numberOfDeletedComments,\n        edited: numberOfEditedComments\n      };\n    }\n    if (!stats) {\n      return null;\n    }\n    for (const [type, editor] of typeToEditor) {\n      stats[type] = editor.computeTelemetryFinalData(stats[type]);\n    }\n    return stats;\n  }\n  resetModifiedIds() {\n    this.#modifiedIds = null;\n  }\n  updateEditor(annotationId, data) {\n    const value = this.#editorsMap?.get(annotationId);\n    if (value) {\n      value.updateFromAnnotationLayer(data);\n      return true;\n    }\n    return false;\n  }\n  getEditor(annotationId) {\n    return this.#editorsMap?.get(annotationId) || null;\n  }\n  get modifiedIds() {\n    if (this.#modifiedIds) {\n      return this.#modifiedIds;\n    }\n    const ids = [];\n    if (this.#editorsMap) {\n      for (const value of this.#editorsMap.values()) {\n        if (!value.serialize()) {\n          continue;\n        }\n        ids.push(value.annotationElementId);\n      }\n    }\n    return this.#modifiedIds = {\n      ids: new Set(ids),\n      hash: ids.join(\",\")\n    };\n  }\n  [Symbol.iterator]() {\n    return this.#storage.entries();\n  }\n}\nclass PrintAnnotationStorage extends AnnotationStorage {\n  #serializable;\n  constructor(parent) {\n    super();\n    const {\n      map,\n      hash,\n      transfer\n    } = parent.serializable;\n    const clone = structuredClone(map, transfer ? {\n      transfer\n    } : null);\n    this.#serializable = {\n      map: clone,\n      hash,\n      transfer\n    };\n  }\n  get print() {\n    unreachable(\"Should not call PrintAnnotationStorage.print\");\n  }\n  get serializable() {\n    return this.#serializable;\n  }\n  get modifiedIds() {\n    return shadow(this, \"modifiedIds\", {\n      ids: new Set(),\n      hash: \"\"\n    });\n  }\n}\n\n;// ./src/display/font_loader.js\n\n\nclass FontLoader {\n  #systemFonts = new Set();\n  constructor({\n    ownerDocument = globalThis.document,\n    styleElement = null\n  }) {\n    this._document = ownerDocument;\n    this.nativeFontFaces = new Set();\n    this.styleElement = null;\n    this.loadingRequests = [];\n    this.loadTestFontId = 0;\n  }\n  addNativeFontFace(nativeFontFace) {\n    this.nativeFontFaces.add(nativeFontFace);\n    this._document.fonts.add(nativeFontFace);\n  }\n  removeNativeFontFace(nativeFontFace) {\n    this.nativeFontFaces.delete(nativeFontFace);\n    this._document.fonts.delete(nativeFontFace);\n  }\n  insertRule(rule) {\n    if (!this.styleElement) {\n      this.styleElement = this._document.createElement(\"style\");\n      this._document.documentElement.getElementsByTagName(\"head\")[0].append(this.styleElement);\n    }\n    const styleSheet = this.styleElement.sheet;\n    styleSheet.insertRule(rule, styleSheet.cssRules.length);\n  }\n  clear() {\n    for (const nativeFontFace of this.nativeFontFaces) {\n      this._document.fonts.delete(nativeFontFace);\n    }\n    this.nativeFontFaces.clear();\n    this.#systemFonts.clear();\n    if (this.styleElement) {\n      this.styleElement.remove();\n      this.styleElement = null;\n    }\n  }\n  async loadSystemFont({\n    systemFontInfo: info,\n    disableFontFace,\n    _inspectFont\n  }) {\n    if (!info || this.#systemFonts.has(info.loadedName)) {\n      return;\n    }\n    assert(!disableFontFace, \"loadSystemFont shouldn't be called when `disableFontFace` is set.\");\n    if (this.isFontLoadingAPISupported) {\n      const {\n        loadedName,\n        src,\n        style\n      } = info;\n      const fontFace = new FontFace(loadedName, src, style);\n      this.addNativeFontFace(fontFace);\n      try {\n        await fontFace.load();\n        this.#systemFonts.add(loadedName);\n        _inspectFont?.(info);\n      } catch {\n        warn(`Cannot load system font: ${info.baseFontName}, installing it could help to improve PDF rendering.`);\n        this.removeNativeFontFace(fontFace);\n      }\n      return;\n    }\n    unreachable(\"Not implemented: loadSystemFont without the Font Loading API.\");\n  }\n  async bind(font) {\n    if (font.attached || font.missingFile && !font.systemFontInfo) {\n      return;\n    }\n    font.attached = true;\n    if (font.systemFontInfo) {\n      await this.loadSystemFont(font);\n      return;\n    }\n    if (this.isFontLoadingAPISupported) {\n      const nativeFontFace = font.createNativeFontFace();\n      if (nativeFontFace) {\n        this.addNativeFontFace(nativeFontFace);\n        try {\n          await nativeFontFace.loaded;\n        } catch (ex) {\n          warn(`Failed to load font '${nativeFontFace.family}': '${ex}'.`);\n          font.disableFontFace = true;\n          throw ex;\n        }\n      }\n      return;\n    }\n    const rule = font.createFontFaceRule();\n    if (rule) {\n      this.insertRule(rule);\n      if (this.isSyncFontLoadingSupported) {\n        return;\n      }\n      await new Promise(resolve => {\n        const request = this._queueLoadingCallback(resolve);\n        this._prepareFontLoadEvent(font, request);\n      });\n    }\n  }\n  get isFontLoadingAPISupported() {\n    const hasFonts = !!this._document?.fonts;\n    return shadow(this, \"isFontLoadingAPISupported\", hasFonts);\n  }\n  get isSyncFontLoadingSupported() {\n    return shadow(this, \"isSyncFontLoadingSupported\", isNodeJS || util_FeatureTest.platform.isFirefox);\n  }\n  _queueLoadingCallback(callback) {\n    function completeRequest() {\n      assert(!request.done, \"completeRequest() cannot be called twice.\");\n      request.done = true;\n      while (loadingRequests.length > 0 && loadingRequests[0].done) {\n        const otherRequest = loadingRequests.shift();\n        setTimeout(otherRequest.callback, 0);\n      }\n    }\n    const {\n      loadingRequests\n    } = this;\n    const request = {\n      done: false,\n      complete: completeRequest,\n      callback\n    };\n    loadingRequests.push(request);\n    return request;\n  }\n  get _loadTestFont() {\n    const testFont = atob(\"T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQA\" + \"FQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAA\" + \"ALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgA\" + \"AAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1\" + \"AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD\" + \"6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACM\" + \"AooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4D\" + \"IP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAA\" + \"AAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUA\" + \"AQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgAB\" + \"AAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABY\" + \"AAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAA\" + \"AC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\" + \"AAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\" + \"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\" + \"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\" + \"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\" + \"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAA\" + \"AAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQAC\" + \"AQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3\" + \"Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTj\" + \"FQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==\");\n    return shadow(this, \"_loadTestFont\", testFont);\n  }\n  _prepareFontLoadEvent(font, request) {\n    function int32(data, offset) {\n      return data.charCodeAt(offset) << 24 | data.charCodeAt(offset + 1) << 16 | data.charCodeAt(offset + 2) << 8 | data.charCodeAt(offset + 3) & 0xff;\n    }\n    function spliceString(s, offset, remove, insert) {\n      const chunk1 = s.substring(0, offset);\n      const chunk2 = s.substring(offset + remove);\n      return chunk1 + insert + chunk2;\n    }\n    let i, ii;\n    const canvas = this._document.createElement(\"canvas\");\n    canvas.width = 1;\n    canvas.height = 1;\n    const ctx = canvas.getContext(\"2d\");\n    let called = 0;\n    function isFontReady(name, callback) {\n      if (++called > 30) {\n        warn(\"Load test font never loaded.\");\n        callback();\n        return;\n      }\n      ctx.font = \"30px \" + name;\n      ctx.fillText(\".\", 0, 20);\n      const imageData = ctx.getImageData(0, 0, 1, 1);\n      if (imageData.data[3] > 0) {\n        callback();\n        return;\n      }\n      setTimeout(isFontReady.bind(null, name, callback));\n    }\n    const loadTestFontId = `lt${Date.now()}${this.loadTestFontId++}`;\n    let data = this._loadTestFont;\n    const COMMENT_OFFSET = 976;\n    data = spliceString(data, COMMENT_OFFSET, loadTestFontId.length, loadTestFontId);\n    const CFF_CHECKSUM_OFFSET = 16;\n    const XXXX_VALUE = 0x58585858;\n    let checksum = int32(data, CFF_CHECKSUM_OFFSET);\n    for (i = 0, ii = loadTestFontId.length - 3; i < ii; i += 4) {\n      checksum = checksum - XXXX_VALUE + int32(loadTestFontId, i) | 0;\n    }\n    if (i < loadTestFontId.length) {\n      checksum = checksum - XXXX_VALUE + int32(loadTestFontId + \"XXX\", i) | 0;\n    }\n    data = spliceString(data, CFF_CHECKSUM_OFFSET, 4, string32(checksum));\n    const url = `url(data:font/opentype;base64,${btoa(data)});`;\n    const rule = `@font-face {font-family:\"${loadTestFontId}\";src:${url}}`;\n    this.insertRule(rule);\n    const div = this._document.createElement(\"div\");\n    div.style.visibility = \"hidden\";\n    div.style.width = div.style.height = \"10px\";\n    div.style.position = \"absolute\";\n    div.style.top = div.style.left = \"0px\";\n    for (const name of [font.loadedName, loadTestFontId]) {\n      const span = this._document.createElement(\"span\");\n      span.textContent = \"Hi\";\n      span.style.fontFamily = name;\n      div.append(span);\n    }\n    this._document.body.append(div);\n    isFontReady(loadTestFontId, () => {\n      div.remove();\n      request.complete();\n    });\n  }\n}\nclass FontFaceObject {\n  #fontData;\n  constructor(translatedData, inspectFont = null, extra, charProcOperatorList) {\n    this.compiledGlyphs = Object.create(null);\n    this.#fontData = translatedData;\n    this._inspectFont = inspectFont;\n    if (extra) {\n      Object.assign(this, extra);\n    }\n    if (charProcOperatorList) {\n      this.charProcOperatorList = charProcOperatorList;\n    }\n  }\n  createNativeFontFace() {\n    if (!this.data || this.disableFontFace) {\n      return null;\n    }\n    let nativeFontFace;\n    if (!this.cssFontInfo) {\n      nativeFontFace = new FontFace(this.loadedName, this.data, {});\n    } else {\n      const css = {\n        weight: this.cssFontInfo.fontWeight\n      };\n      if (this.cssFontInfo.italicAngle) {\n        css.style = `oblique ${this.cssFontInfo.italicAngle}deg`;\n      }\n      nativeFontFace = new FontFace(this.cssFontInfo.fontFamily, this.data, css);\n    }\n    this._inspectFont?.(this);\n    return nativeFontFace;\n  }\n  createFontFaceRule() {\n    if (!this.data || this.disableFontFace) {\n      return null;\n    }\n    const url = `url(data:${this.mimetype};base64,${toBase64Util(this.data)});`;\n    let rule;\n    if (!this.cssFontInfo) {\n      rule = `@font-face {font-family:\"${this.loadedName}\";src:${url}}`;\n    } else {\n      let css = `font-weight: ${this.cssFontInfo.fontWeight};`;\n      if (this.cssFontInfo.italicAngle) {\n        css += `font-style: oblique ${this.cssFontInfo.italicAngle}deg;`;\n      }\n      rule = `@font-face {font-family:\"${this.cssFontInfo.fontFamily}\";${css}src:${url}}`;\n    }\n    this._inspectFont?.(this, url);\n    return rule;\n  }\n  getPathGenerator(objs, character) {\n    if (this.compiledGlyphs[character] !== undefined) {\n      return this.compiledGlyphs[character];\n    }\n    const objId = this.loadedName + \"_path_\" + character;\n    let cmds;\n    try {\n      cmds = objs.get(objId);\n    } catch (ex) {\n      warn(`getPathGenerator - ignoring character: \"${ex}\".`);\n    }\n    const path = makePathFromDrawOPS(cmds?.path);\n    if (!this.fontExtraProperties) {\n      objs.delete(objId);\n    }\n    return this.compiledGlyphs[character] = path;\n  }\n  get black() {\n    return this.#fontData.black;\n  }\n  get bold() {\n    return this.#fontData.bold;\n  }\n  get disableFontFace() {\n    return this.#fontData.disableFontFace ?? false;\n  }\n  set disableFontFace(value) {\n    shadow(this, \"disableFontFace\", !!value);\n  }\n  get fontExtraProperties() {\n    return this.#fontData.fontExtraProperties ?? false;\n  }\n  get isInvalidPDFjsFont() {\n    return this.#fontData.isInvalidPDFjsFont;\n  }\n  get isType3Font() {\n    return this.#fontData.isType3Font;\n  }\n  get italic() {\n    return this.#fontData.italic;\n  }\n  get missingFile() {\n    return this.#fontData.missingFile;\n  }\n  get remeasure() {\n    return this.#fontData.remeasure;\n  }\n  get vertical() {\n    return this.#fontData.vertical;\n  }\n  get ascent() {\n    return this.#fontData.ascent;\n  }\n  get defaultWidth() {\n    return this.#fontData.defaultWidth;\n  }\n  get descent() {\n    return this.#fontData.descent;\n  }\n  get bbox() {\n    return this.#fontData.bbox;\n  }\n  set bbox(bbox) {\n    shadow(this, \"bbox\", bbox);\n  }\n  get fontMatrix() {\n    return this.#fontData.fontMatrix;\n  }\n  get fallbackName() {\n    return this.#fontData.fallbackName;\n  }\n  get loadedName() {\n    return this.#fontData.loadedName;\n  }\n  get mimetype() {\n    return this.#fontData.mimetype;\n  }\n  get name() {\n    return this.#fontData.name;\n  }\n  get data() {\n    return this.#fontData.data;\n  }\n  clearData() {\n    this.#fontData.clearData();\n  }\n  get cssFontInfo() {\n    return this.#fontData.cssFontInfo;\n  }\n  get systemFontInfo() {\n    return this.#fontData.systemFontInfo;\n  }\n  get defaultVMetrics() {\n    return this.#fontData.defaultVMetrics;\n  }\n}\n\n;// ./src/shared/obj-bin-transform.js\n\nclass CssFontInfo {\n  #buffer;\n  #view;\n  #decoder;\n  static strings = [\"fontFamily\", \"fontWeight\", \"italicAngle\"];\n  static write(info) {\n    const encoder = new TextEncoder();\n    const encodedStrings = {};\n    let stringsLength = 0;\n    for (const prop of CssFontInfo.strings) {\n      const encoded = encoder.encode(info[prop]);\n      encodedStrings[prop] = encoded;\n      stringsLength += 4 + encoded.length;\n    }\n    const buffer = new ArrayBuffer(stringsLength);\n    const data = new Uint8Array(buffer);\n    const view = new DataView(buffer);\n    let offset = 0;\n    for (const prop of CssFontInfo.strings) {\n      const encoded = encodedStrings[prop];\n      const length = encoded.length;\n      view.setUint32(offset, length);\n      data.set(encoded, offset + 4);\n      offset += 4 + length;\n    }\n    assert(offset === buffer.byteLength, \"CssFontInfo.write: Buffer overflow\");\n    return buffer;\n  }\n  constructor(buffer) {\n    this.#buffer = buffer;\n    this.#view = new DataView(this.#buffer);\n    this.#decoder = new TextDecoder();\n  }\n  #readString(index) {\n    assert(index < CssFontInfo.strings.length, \"Invalid string index\");\n    let offset = 0;\n    for (let i = 0; i < index; i++) {\n      offset += this.#view.getUint32(offset) + 4;\n    }\n    const length = this.#view.getUint32(offset);\n    return this.#decoder.decode(new Uint8Array(this.#buffer, offset + 4, length));\n  }\n  get fontFamily() {\n    return this.#readString(0);\n  }\n  get fontWeight() {\n    return this.#readString(1);\n  }\n  get italicAngle() {\n    return this.#readString(2);\n  }\n}\nclass SystemFontInfo {\n  #buffer;\n  #view;\n  #decoder;\n  static strings = [\"css\", \"loadedName\", \"baseFontName\", \"src\"];\n  static write(info) {\n    const encoder = new TextEncoder();\n    const encodedStrings = {};\n    let stringsLength = 0;\n    for (const prop of SystemFontInfo.strings) {\n      const encoded = encoder.encode(info[prop]);\n      encodedStrings[prop] = encoded;\n      stringsLength += 4 + encoded.length;\n    }\n    stringsLength += 4;\n    let encodedStyleStyle,\n      encodedStyleWeight,\n      lengthEstimate = 1 + stringsLength;\n    if (info.style) {\n      encodedStyleStyle = encoder.encode(info.style.style);\n      encodedStyleWeight = encoder.encode(info.style.weight);\n      lengthEstimate += 4 + encodedStyleStyle.length + 4 + encodedStyleWeight.length;\n    }\n    const buffer = new ArrayBuffer(lengthEstimate);\n    const data = new Uint8Array(buffer);\n    const view = new DataView(buffer);\n    let offset = 0;\n    view.setUint8(offset++, info.guessFallback ? 1 : 0);\n    view.setUint32(offset, 0);\n    offset += 4;\n    stringsLength = 0;\n    for (const prop of SystemFontInfo.strings) {\n      const encoded = encodedStrings[prop];\n      const length = encoded.length;\n      stringsLength += 4 + length;\n      view.setUint32(offset, length);\n      data.set(encoded, offset + 4);\n      offset += 4 + length;\n    }\n    view.setUint32(offset - stringsLength - 4, stringsLength);\n    if (info.style) {\n      view.setUint32(offset, encodedStyleStyle.length);\n      data.set(encodedStyleStyle, offset + 4);\n      offset += 4 + encodedStyleStyle.length;\n      view.setUint32(offset, encodedStyleWeight.length);\n      data.set(encodedStyleWeight, offset + 4);\n      offset += 4 + encodedStyleWeight.length;\n    }\n    assert(offset <= buffer.byteLength, \"SubstitionInfo.write: Buffer overflow\");\n    return buffer.transferToFixedLength(offset);\n  }\n  constructor(buffer) {\n    this.#buffer = buffer;\n    this.#view = new DataView(this.#buffer);\n    this.#decoder = new TextDecoder();\n  }\n  get guessFallback() {\n    return this.#view.getUint8(0) !== 0;\n  }\n  #readString(index) {\n    assert(index < SystemFontInfo.strings.length, \"Invalid string index\");\n    let offset = 5;\n    for (let i = 0; i < index; i++) {\n      offset += this.#view.getUint32(offset) + 4;\n    }\n    const length = this.#view.getUint32(offset);\n    return this.#decoder.decode(new Uint8Array(this.#buffer, offset + 4, length));\n  }\n  get css() {\n    return this.#readString(0);\n  }\n  get loadedName() {\n    return this.#readString(1);\n  }\n  get baseFontName() {\n    return this.#readString(2);\n  }\n  get src() {\n    return this.#readString(3);\n  }\n  get style() {\n    let offset = 1;\n    offset += 4 + this.#view.getUint32(offset);\n    const styleLength = this.#view.getUint32(offset);\n    const style = this.#decoder.decode(new Uint8Array(this.#buffer, offset + 4, styleLength));\n    offset += 4 + styleLength;\n    const weightLength = this.#view.getUint32(offset);\n    const weight = this.#decoder.decode(new Uint8Array(this.#buffer, offset + 4, weightLength));\n    return {\n      style,\n      weight\n    };\n  }\n}\nclass FontInfo {\n  static bools = [\"black\", \"bold\", \"disableFontFace\", \"fontExtraProperties\", \"isInvalidPDFjsFont\", \"isType3Font\", \"italic\", \"missingFile\", \"remeasure\", \"vertical\"];\n  static numbers = [\"ascent\", \"defaultWidth\", \"descent\"];\n  static strings = [\"fallbackName\", \"loadedName\", \"mimetype\", \"name\"];\n  static #OFFSET_NUMBERS = Math.ceil(this.bools.length * 2 / 8);\n  static #OFFSET_BBOX = this.#OFFSET_NUMBERS + this.numbers.length * 8;\n  static #OFFSET_FONT_MATRIX = this.#OFFSET_BBOX + 1 + 2 * 4;\n  static #OFFSET_DEFAULT_VMETRICS = this.#OFFSET_FONT_MATRIX + 1 + 8 * 6;\n  static #OFFSET_STRINGS = this.#OFFSET_DEFAULT_VMETRICS + 1 + 2 * 3;\n  #buffer;\n  #decoder;\n  #view;\n  constructor({\n    data,\n    extra\n  }) {\n    this.#buffer = data;\n    this.#decoder = new TextDecoder();\n    this.#view = new DataView(this.#buffer);\n    if (extra) {\n      Object.assign(this, extra);\n    }\n  }\n  #readBoolean(index) {\n    assert(index < FontInfo.bools.length, \"Invalid boolean index\");\n    const byteOffset = Math.floor(index / 4);\n    const bitOffset = index * 2 % 8;\n    const value = this.#view.getUint8(byteOffset) >> bitOffset & 0x03;\n    return value === 0x00 ? undefined : value === 0x02;\n  }\n  get black() {\n    return this.#readBoolean(0);\n  }\n  get bold() {\n    return this.#readBoolean(1);\n  }\n  get disableFontFace() {\n    return this.#readBoolean(2);\n  }\n  get fontExtraProperties() {\n    return this.#readBoolean(3);\n  }\n  get isInvalidPDFjsFont() {\n    return this.#readBoolean(4);\n  }\n  get isType3Font() {\n    return this.#readBoolean(5);\n  }\n  get italic() {\n    return this.#readBoolean(6);\n  }\n  get missingFile() {\n    return this.#readBoolean(7);\n  }\n  get remeasure() {\n    return this.#readBoolean(8);\n  }\n  get vertical() {\n    return this.#readBoolean(9);\n  }\n  #readNumber(index) {\n    assert(index < FontInfo.numbers.length, \"Invalid number index\");\n    return this.#view.getFloat64(FontInfo.#OFFSET_NUMBERS + index * 8);\n  }\n  get ascent() {\n    return this.#readNumber(0);\n  }\n  get defaultWidth() {\n    return this.#readNumber(1);\n  }\n  get descent() {\n    return this.#readNumber(2);\n  }\n  get bbox() {\n    let offset = FontInfo.#OFFSET_BBOX;\n    const numCoords = this.#view.getUint8(offset);\n    if (numCoords === 0) {\n      return undefined;\n    }\n    offset += 1;\n    const bbox = [];\n    for (let i = 0; i < 4; i++) {\n      bbox.push(this.#view.getInt16(offset, true));\n      offset += 2;\n    }\n    return bbox;\n  }\n  get fontMatrix() {\n    let offset = FontInfo.#OFFSET_FONT_MATRIX;\n    const numPoints = this.#view.getUint8(offset);\n    if (numPoints === 0) {\n      return undefined;\n    }\n    offset += 1;\n    const fontMatrix = [];\n    for (let i = 0; i < 6; i++) {\n      fontMatrix.push(this.#view.getFloat64(offset, true));\n      offset += 8;\n    }\n    return fontMatrix;\n  }\n  get defaultVMetrics() {\n    let offset = FontInfo.#OFFSET_DEFAULT_VMETRICS;\n    const numMetrics = this.#view.getUint8(offset);\n    if (numMetrics === 0) {\n      return undefined;\n    }\n    offset += 1;\n    const defaultVMetrics = [];\n    for (let i = 0; i < 3; i++) {\n      defaultVMetrics.push(this.#view.getInt16(offset, true));\n      offset += 2;\n    }\n    return defaultVMetrics;\n  }\n  #readString(index) {\n    assert(index < FontInfo.strings.length, \"Invalid string index\");\n    let offset = FontInfo.#OFFSET_STRINGS + 4;\n    for (let i = 0; i < index; i++) {\n      offset += this.#view.getUint32(offset) + 4;\n    }\n    const length = this.#view.getUint32(offset);\n    const stringData = new Uint8Array(length);\n    stringData.set(new Uint8Array(this.#buffer, offset + 4, length));\n    return this.#decoder.decode(stringData);\n  }\n  get fallbackName() {\n    return this.#readString(0);\n  }\n  get loadedName() {\n    return this.#readString(1);\n  }\n  get mimetype() {\n    return this.#readString(2);\n  }\n  get name() {\n    return this.#readString(3);\n  }\n  get data() {\n    let offset = FontInfo.#OFFSET_STRINGS;\n    const stringsLength = this.#view.getUint32(offset);\n    offset += 4 + stringsLength;\n    const systemFontInfoLength = this.#view.getUint32(offset);\n    offset += 4 + systemFontInfoLength;\n    const cssFontInfoLength = this.#view.getUint32(offset);\n    offset += 4 + cssFontInfoLength;\n    const length = this.#view.getUint32(offset);\n    if (length === 0) {\n      return undefined;\n    }\n    return new Uint8Array(this.#buffer, offset + 4, length);\n  }\n  clearData() {\n    let offset = FontInfo.#OFFSET_STRINGS;\n    const stringsLength = this.#view.getUint32(offset);\n    offset += 4 + stringsLength;\n    const systemFontInfoLength = this.#view.getUint32(offset);\n    offset += 4 + systemFontInfoLength;\n    const cssFontInfoLength = this.#view.getUint32(offset);\n    offset += 4 + cssFontInfoLength;\n    const length = this.#view.getUint32(offset);\n    const data = new Uint8Array(this.#buffer, offset + 4, length);\n    data.fill(0);\n    this.#view.setUint32(offset, 0);\n  }\n  get cssFontInfo() {\n    let offset = FontInfo.#OFFSET_STRINGS;\n    const stringsLength = this.#view.getUint32(offset);\n    offset += 4 + stringsLength;\n    const systemFontInfoLength = this.#view.getUint32(offset);\n    offset += 4 + systemFontInfoLength;\n    const cssFontInfoLength = this.#view.getUint32(offset);\n    if (cssFontInfoLength === 0) {\n      return null;\n    }\n    const cssFontInfoData = new Uint8Array(cssFontInfoLength);\n    cssFontInfoData.set(new Uint8Array(this.#buffer, offset + 4, cssFontInfoLength));\n    return new CssFontInfo(cssFontInfoData.buffer);\n  }\n  get systemFontInfo() {\n    let offset = FontInfo.#OFFSET_STRINGS;\n    const stringsLength = this.#view.getUint32(offset);\n    offset += 4 + stringsLength;\n    const systemFontInfoLength = this.#view.getUint32(offset);\n    if (systemFontInfoLength === 0) {\n      return null;\n    }\n    const systemFontInfoData = new Uint8Array(systemFontInfoLength);\n    systemFontInfoData.set(new Uint8Array(this.#buffer, offset + 4, systemFontInfoLength));\n    return new SystemFontInfo(systemFontInfoData.buffer);\n  }\n  static write(font) {\n    const systemFontInfoBuffer = font.systemFontInfo ? SystemFontInfo.write(font.systemFontInfo) : null;\n    const cssFontInfoBuffer = font.cssFontInfo ? CssFontInfo.write(font.cssFontInfo) : null;\n    const encoder = new TextEncoder();\n    const encodedStrings = {};\n    let stringsLength = 0;\n    for (const prop of FontInfo.strings) {\n      encodedStrings[prop] = encoder.encode(font[prop]);\n      stringsLength += 4 + encodedStrings[prop].length;\n    }\n    const lengthEstimate = FontInfo.#OFFSET_STRINGS + 4 + stringsLength + 4 + (systemFontInfoBuffer ? systemFontInfoBuffer.byteLength : 0) + 4 + (cssFontInfoBuffer ? cssFontInfoBuffer.byteLength : 0) + 4 + (font.data ? font.data.length : 0);\n    const buffer = new ArrayBuffer(lengthEstimate);\n    const data = new Uint8Array(buffer);\n    const view = new DataView(buffer);\n    let offset = 0;\n    const numBools = FontInfo.bools.length;\n    let boolByte = 0,\n      boolBit = 0;\n    for (let i = 0; i < numBools; i++) {\n      const value = font[FontInfo.bools[i]];\n      const bits = value === undefined ? 0x00 : value ? 0x02 : 0x01;\n      boolByte |= bits << boolBit;\n      boolBit += 2;\n      if (boolBit === 8 || i === numBools - 1) {\n        view.setUint8(offset++, boolByte);\n        boolByte = 0;\n        boolBit = 0;\n      }\n    }\n    assert(offset === FontInfo.#OFFSET_NUMBERS, \"FontInfo.write: Boolean properties offset mismatch\");\n    for (const prop of FontInfo.numbers) {\n      view.setFloat64(offset, font[prop]);\n      offset += 8;\n    }\n    assert(offset === FontInfo.#OFFSET_BBOX, \"FontInfo.write: Number properties offset mismatch\");\n    if (font.bbox) {\n      view.setUint8(offset++, 4);\n      for (const coord of font.bbox) {\n        view.setInt16(offset, coord, true);\n        offset += 2;\n      }\n    } else {\n      view.setUint8(offset++, 0);\n      offset += 2 * 4;\n    }\n    assert(offset === FontInfo.#OFFSET_FONT_MATRIX, \"FontInfo.write: BBox properties offset mismatch\");\n    if (font.fontMatrix) {\n      view.setUint8(offset++, 6);\n      for (const point of font.fontMatrix) {\n        view.setFloat64(offset, point, true);\n        offset += 8;\n      }\n    } else {\n      view.setUint8(offset++, 0);\n      offset += 8 * 6;\n    }\n    assert(offset === FontInfo.#OFFSET_DEFAULT_VMETRICS, \"FontInfo.write: FontMatrix properties offset mismatch\");\n    if (font.defaultVMetrics) {\n      view.setUint8(offset++, 1);\n      for (const metric of font.defaultVMetrics) {\n        view.setInt16(offset, metric, true);\n        offset += 2;\n      }\n    } else {\n      view.setUint8(offset++, 0);\n      offset += 3 * 2;\n    }\n    assert(offset === FontInfo.#OFFSET_STRINGS, \"FontInfo.write: DefaultVMetrics properties offset mismatch\");\n    view.setUint32(FontInfo.#OFFSET_STRINGS, 0);\n    offset += 4;\n    for (const prop of FontInfo.strings) {\n      const encoded = encodedStrings[prop];\n      const length = encoded.length;\n      view.setUint32(offset, length);\n      data.set(encoded, offset + 4);\n      offset += 4 + length;\n    }\n    view.setUint32(FontInfo.#OFFSET_STRINGS, offset - FontInfo.#OFFSET_STRINGS - 4);\n    if (!systemFontInfoBuffer) {\n      view.setUint32(offset, 0);\n      offset += 4;\n    } else {\n      const length = systemFontInfoBuffer.byteLength;\n      view.setUint32(offset, length);\n      assert(offset + 4 + length <= buffer.byteLength, \"FontInfo.write: Buffer overflow at systemFontInfo\");\n      data.set(new Uint8Array(systemFontInfoBuffer), offset + 4);\n      offset += 4 + length;\n    }\n    if (!cssFontInfoBuffer) {\n      view.setUint32(offset, 0);\n      offset += 4;\n    } else {\n      const length = cssFontInfoBuffer.byteLength;\n      view.setUint32(offset, length);\n      assert(offset + 4 + length <= buffer.byteLength, \"FontInfo.write: Buffer overflow at cssFontInfo\");\n      data.set(new Uint8Array(cssFontInfoBuffer), offset + 4);\n      offset += 4 + length;\n    }\n    if (font.data === undefined) {\n      view.setUint32(offset, 0);\n      offset += 4;\n    } else {\n      view.setUint32(offset, font.data.length);\n      data.set(font.data, offset + 4);\n      offset += 4 + font.data.length;\n    }\n    assert(offset <= buffer.byteLength, \"FontInfo.write: Buffer overflow\");\n    return buffer.transferToFixedLength(offset);\n  }\n}\nclass PatternInfo {\n  static #KIND = 0;\n  static #HAS_BBOX = 1;\n  static #HAS_BACKGROUND = 2;\n  static #SHADING_TYPE = 3;\n  static #N_COORD = 4;\n  static #N_COLOR = 8;\n  static #N_STOP = 12;\n  static #N_FIGURES = 16;\n  constructor(buffer) {\n    this.buffer = buffer;\n    this.view = new DataView(buffer);\n    this.data = new Uint8Array(buffer);\n  }\n  static write(ir) {\n    let kind,\n      bbox = null,\n      coords = [],\n      colors = [],\n      colorStops = [],\n      figures = [],\n      shadingType = null,\n      background = null;\n    switch (ir[0]) {\n      case \"RadialAxial\":\n        kind = ir[1] === \"axial\" ? 1 : 2;\n        bbox = ir[2];\n        colorStops = ir[3];\n        if (kind === 1) {\n          coords.push(...ir[4], ...ir[5]);\n        } else {\n          coords.push(ir[4][0], ir[4][1], ir[6], ir[5][0], ir[5][1], ir[7]);\n        }\n        break;\n      case \"Mesh\":\n        kind = 3;\n        shadingType = ir[1];\n        coords = ir[2];\n        colors = ir[3];\n        figures = ir[4] || [];\n        bbox = ir[6];\n        background = ir[7];\n        break;\n      default:\n        throw new Error(`Unsupported pattern type: ${ir[0]}`);\n    }\n    const nCoord = Math.floor(coords.length / 2);\n    const nColor = Math.floor(colors.length / 3);\n    const nStop = colorStops.length;\n    const nFigures = figures.length;\n    let figuresSize = 0;\n    for (const figure of figures) {\n      figuresSize += 1;\n      figuresSize = Math.ceil(figuresSize / 4) * 4;\n      figuresSize += 4 + figure.coords.length * 4;\n      figuresSize += 4 + figure.colors.length * 4;\n      if (figure.verticesPerRow !== undefined) {\n        figuresSize += 4;\n      }\n    }\n    const byteLen = 20 + nCoord * 8 + nColor * 3 + nStop * 8 + (bbox ? 16 : 0) + (background ? 3 : 0) + figuresSize;\n    const buffer = new ArrayBuffer(byteLen);\n    const dataView = new DataView(buffer);\n    const u8data = new Uint8Array(buffer);\n    dataView.setUint8(PatternInfo.#KIND, kind);\n    dataView.setUint8(PatternInfo.#HAS_BBOX, bbox ? 1 : 0);\n    dataView.setUint8(PatternInfo.#HAS_BACKGROUND, background ? 1 : 0);\n    dataView.setUint8(PatternInfo.#SHADING_TYPE, shadingType);\n    dataView.setUint32(PatternInfo.#N_COORD, nCoord, true);\n    dataView.setUint32(PatternInfo.#N_COLOR, nColor, true);\n    dataView.setUint32(PatternInfo.#N_STOP, nStop, true);\n    dataView.setUint32(PatternInfo.#N_FIGURES, nFigures, true);\n    let offset = 20;\n    const coordsView = new Float32Array(buffer, offset, nCoord * 2);\n    coordsView.set(coords);\n    offset += nCoord * 8;\n    u8data.set(colors, offset);\n    offset += nColor * 3;\n    for (const [pos, hex] of colorStops) {\n      dataView.setFloat32(offset, pos, true);\n      offset += 4;\n      dataView.setUint32(offset, parseInt(hex.slice(1), 16), true);\n      offset += 4;\n    }\n    if (bbox) {\n      for (const v of bbox) {\n        dataView.setFloat32(offset, v, true);\n        offset += 4;\n      }\n    }\n    if (background) {\n      u8data.set(background, offset);\n      offset += 3;\n    }\n    for (let i = 0; i < figures.length; i++) {\n      const figure = figures[i];\n      dataView.setUint8(offset, figure.type);\n      offset += 1;\n      offset = Math.ceil(offset / 4) * 4;\n      dataView.setUint32(offset, figure.coords.length, true);\n      offset += 4;\n      const figureCoordsView = new Int32Array(buffer, offset, figure.coords.length);\n      figureCoordsView.set(figure.coords);\n      offset += figure.coords.length * 4;\n      dataView.setUint32(offset, figure.colors.length, true);\n      offset += 4;\n      const colorsView = new Int32Array(buffer, offset, figure.colors.length);\n      colorsView.set(figure.colors);\n      offset += figure.colors.length * 4;\n      if (figure.verticesPerRow !== undefined) {\n        dataView.setUint32(offset, figure.verticesPerRow, true);\n        offset += 4;\n      }\n    }\n    return buffer;\n  }\n  getIR() {\n    const dataView = this.view;\n    const kind = this.data[PatternInfo.#KIND];\n    const hasBBox = !!this.data[PatternInfo.#HAS_BBOX];\n    const hasBackground = !!this.data[PatternInfo.#HAS_BACKGROUND];\n    const nCoord = dataView.getUint32(PatternInfo.#N_COORD, true);\n    const nColor = dataView.getUint32(PatternInfo.#N_COLOR, true);\n    const nStop = dataView.getUint32(PatternInfo.#N_STOP, true);\n    const nFigures = dataView.getUint32(PatternInfo.#N_FIGURES, true);\n    let offset = 20;\n    const coords = new Float32Array(this.buffer, offset, nCoord * 2);\n    offset += nCoord * 8;\n    const colors = new Uint8Array(this.buffer, offset, nColor * 3);\n    offset += nColor * 3;\n    const stops = [];\n    for (let i = 0; i < nStop; ++i) {\n      const p = dataView.getFloat32(offset, true);\n      offset += 4;\n      const rgb = dataView.getUint32(offset, true);\n      offset += 4;\n      stops.push([p, `#${rgb.toString(16).padStart(6, \"0\")}`]);\n    }\n    let bbox = null;\n    if (hasBBox) {\n      bbox = [];\n      for (let i = 0; i < 4; ++i) {\n        bbox.push(dataView.getFloat32(offset, true));\n        offset += 4;\n      }\n    }\n    let background = null;\n    if (hasBackground) {\n      background = new Uint8Array(this.buffer, offset, 3);\n      offset += 3;\n    }\n    const figures = [];\n    for (let i = 0; i < nFigures; ++i) {\n      const type = dataView.getUint8(offset);\n      offset += 1;\n      offset = Math.ceil(offset / 4) * 4;\n      const coordsLength = dataView.getUint32(offset, true);\n      offset += 4;\n      const figureCoords = new Int32Array(this.buffer, offset, coordsLength);\n      offset += coordsLength * 4;\n      const colorsLength = dataView.getUint32(offset, true);\n      offset += 4;\n      const figureColors = new Int32Array(this.buffer, offset, colorsLength);\n      offset += colorsLength * 4;\n      const figure = {\n        type,\n        coords: figureCoords,\n        colors: figureColors\n      };\n      if (type === MeshFigureType.LATTICE) {\n        figure.verticesPerRow = dataView.getUint32(offset, true);\n        offset += 4;\n      }\n      figures.push(figure);\n    }\n    if (kind === 1) {\n      return [\"RadialAxial\", \"axial\", bbox, stops, Array.from(coords.slice(0, 2)), Array.from(coords.slice(2, 4)), null, null];\n    }\n    if (kind === 2) {\n      return [\"RadialAxial\", \"radial\", bbox, stops, [coords[0], coords[1]], [coords[3], coords[4]], coords[2], coords[5]];\n    }\n    if (kind === 3) {\n      const shadingType = this.data[PatternInfo.#SHADING_TYPE];\n      let bounds = null;\n      if (coords.length > 0) {\n        let minX = coords[0],\n          maxX = coords[0];\n        let minY = coords[1],\n          maxY = coords[1];\n        for (let i = 0; i < coords.length; i += 2) {\n          const x = coords[i],\n            y = coords[i + 1];\n          minX = minX > x ? x : minX;\n          minY = minY > y ? y : minY;\n          maxX = maxX < x ? x : maxX;\n          maxY = maxY < y ? y : maxY;\n        }\n        bounds = [minX, minY, maxX, maxY];\n      }\n      return [\"Mesh\", shadingType, coords, colors, figures, bounds, bbox, background];\n    }\n    throw new Error(`Unsupported pattern kind: ${kind}`);\n  }\n}\nclass FontPathInfo {\n  static write(path) {\n    let data;\n    let buffer;\n    if (util_FeatureTest.isFloat16ArraySupported) {\n      buffer = new ArrayBuffer(path.length * 2);\n      data = new Float16Array(buffer);\n    } else {\n      buffer = new ArrayBuffer(path.length * 4);\n      data = new Float32Array(buffer);\n    }\n    data.set(path);\n    return buffer;\n  }\n  #buffer;\n  constructor(buffer) {\n    this.#buffer = buffer;\n  }\n  get path() {\n    if (util_FeatureTest.isFloat16ArraySupported) {\n      return new Float16Array(this.#buffer);\n    }\n    return new Float32Array(this.#buffer);\n  }\n}\n\n;// ./src/display/api_utils.js\n\nfunction getUrlProp(val) {\n  if (val instanceof URL) {\n    return val.href;\n  }\n  if (typeof val === \"string\") {\n    if (isNodeJS) {\n      return val;\n    }\n    const url = URL.parse(val, window.location);\n    if (url) {\n      return url.href;\n    }\n  }\n  throw new Error(\"Invalid PDF url data: \" + \"either string or URL-object is expected in the url property.\");\n}\nfunction getDataProp(val) {\n  if (isNodeJS && typeof Buffer !== \"undefined\" && val instanceof Buffer) {\n    throw new Error(\"Please provide binary data as `Uint8Array`, rather than `Buffer`.\");\n  }\n  if (val instanceof Uint8Array && val.byteLength === val.buffer.byteLength) {\n    return val;\n  }\n  if (typeof val === \"string\") {\n    return stringToBytes(val);\n  }\n  if (val instanceof ArrayBuffer || ArrayBuffer.isView(val) || typeof val === \"object\" && !isNaN(val?.length)) {\n    return new Uint8Array(val);\n  }\n  throw new Error(\"Invalid PDF binary data: either TypedArray, \" + \"string, or array-like object is expected in the data property.\");\n}\nfunction getFactoryUrlProp(val) {\n  if (typeof val !== \"string\") {\n    return null;\n  }\n  if (val.endsWith(\"/\")) {\n    return val;\n  }\n  throw new Error(`Invalid factory url: \"${val}\" must include trailing slash.`);\n}\nconst isRefProxy = v => typeof v === \"object\" && Number.isInteger(v?.num) && v.num >= 0 && Number.isInteger(v?.gen) && v.gen >= 0;\nconst isNameProxy = v => typeof v === \"object\" && typeof v?.name === \"string\";\nconst isValidExplicitDest = _isValidExplicitDest.bind(null, isRefProxy, isNameProxy);\nclass LoopbackPort {\n  #listeners = new Map();\n  #deferred = Promise.resolve();\n  postMessage(obj, transfer) {\n    const event = {\n      data: structuredClone(obj, transfer ? {\n        transfer\n      } : null)\n    };\n    this.#deferred.then(() => {\n      for (const [listener] of this.#listeners) {\n        listener.call(this, event);\n      }\n    });\n  }\n  addEventListener(name, listener, options = null) {\n    let rmAbort = null;\n    if (options?.signal instanceof AbortSignal) {\n      const {\n        signal\n      } = options;\n      if (signal.aborted) {\n        warn(\"LoopbackPort - cannot use an `aborted` signal.\");\n        return;\n      }\n      const onAbort = () => this.removeEventListener(name, listener);\n      rmAbort = () => signal.removeEventListener(\"abort\", onAbort);\n      signal.addEventListener(\"abort\", onAbort);\n    }\n    this.#listeners.set(listener, rmAbort);\n  }\n  removeEventListener(name, listener) {\n    const rmAbort = this.#listeners.get(listener);\n    rmAbort?.();\n    this.#listeners.delete(listener);\n  }\n  terminate() {\n    for (const [, rmAbort] of this.#listeners) {\n      rmAbort?.();\n    }\n    this.#listeners.clear();\n  }\n}\n\n;// ./src/shared/message_handler.js\n\nconst CallbackKind = {\n  DATA: 1,\n  ERROR: 2\n};\nconst StreamKind = {\n  CANCEL: 1,\n  CANCEL_COMPLETE: 2,\n  CLOSE: 3,\n  ENQUEUE: 4,\n  ERROR: 5,\n  PULL: 6,\n  PULL_COMPLETE: 7,\n  START_COMPLETE: 8\n};\nfunction onFn() {}\nfunction wrapReason(ex) {\n  if (ex instanceof AbortException || ex instanceof InvalidPDFException || ex instanceof PasswordException || ex instanceof ResponseException || ex instanceof UnknownErrorException) {\n    return ex;\n  }\n  if (!(ex instanceof Error || typeof ex === \"object\" && ex !== null)) {\n    unreachable('wrapReason: Expected \"reason\" to be a (possibly cloned) Error.');\n  }\n  switch (ex.name) {\n    case \"AbortException\":\n      return new AbortException(ex.message);\n    case \"InvalidPDFException\":\n      return new InvalidPDFException(ex.message);\n    case \"PasswordException\":\n      return new PasswordException(ex.message, ex.code);\n    case \"ResponseException\":\n      return new ResponseException(ex.message, ex.status, ex.missing);\n    case \"UnknownErrorException\":\n      return new UnknownErrorException(ex.message, ex.details);\n  }\n  return new UnknownErrorException(ex.message, ex.toString());\n}\nclass MessageHandler {\n  #messageAC = new AbortController();\n  constructor(sourceName, targetName, comObj) {\n    this.sourceName = sourceName;\n    this.targetName = targetName;\n    this.comObj = comObj;\n    this.callbackId = 1;\n    this.streamId = 1;\n    this.streamSinks = Object.create(null);\n    this.streamControllers = Object.create(null);\n    this.callbackCapabilities = Object.create(null);\n    this.actionHandler = Object.create(null);\n    comObj.addEventListener(\"message\", this.#onMessage.bind(this), {\n      signal: this.#messageAC.signal\n    });\n  }\n  #onMessage({\n    data\n  }) {\n    if (data.targetName !== this.sourceName) {\n      return;\n    }\n    if (data.stream) {\n      this.#processStreamMessage(data);\n      return;\n    }\n    if (data.callback) {\n      const callbackId = data.callbackId;\n      const capability = this.callbackCapabilities[callbackId];\n      if (!capability) {\n        throw new Error(`Cannot resolve callback ${callbackId}`);\n      }\n      delete this.callbackCapabilities[callbackId];\n      if (data.callback === CallbackKind.DATA) {\n        capability.resolve(data.data);\n      } else if (data.callback === CallbackKind.ERROR) {\n        capability.reject(wrapReason(data.reason));\n      } else {\n        throw new Error(\"Unexpected callback case\");\n      }\n      return;\n    }\n    const action = this.actionHandler[data.action];\n    if (!action) {\n      throw new Error(`Unknown action from worker: ${data.action}`);\n    }\n    if (data.callbackId) {\n      const sourceName = this.sourceName,\n        targetName = data.sourceName,\n        comObj = this.comObj;\n      Promise.try(action, data.data).then(function (result) {\n        comObj.postMessage({\n          sourceName,\n          targetName,\n          callback: CallbackKind.DATA,\n          callbackId: data.callbackId,\n          data: result\n        });\n      }, function (reason) {\n        comObj.postMessage({\n          sourceName,\n          targetName,\n          callback: CallbackKind.ERROR,\n          callbackId: data.callbackId,\n          reason: wrapReason(reason)\n        });\n      });\n      return;\n    }\n    if (data.streamId) {\n      this.#createStreamSink(data);\n      return;\n    }\n    action(data.data);\n  }\n  on(actionName, handler) {\n    const ah = this.actionHandler;\n    if (ah[actionName]) {\n      throw new Error(`There is already an actionName called \"${actionName}\"`);\n    }\n    ah[actionName] = handler;\n  }\n  send(actionName, data, transfers) {\n    this.comObj.postMessage({\n      sourceName: this.sourceName,\n      targetName: this.targetName,\n      action: actionName,\n      data\n    }, transfers);\n  }\n  sendWithPromise(actionName, data, transfers) {\n    const callbackId = this.callbackId++;\n    const capability = Promise.withResolvers();\n    this.callbackCapabilities[callbackId] = capability;\n    try {\n      this.comObj.postMessage({\n        sourceName: this.sourceName,\n        targetName: this.targetName,\n        action: actionName,\n        callbackId,\n        data\n      }, transfers);\n    } catch (ex) {\n      capability.reject(ex);\n    }\n    return capability.promise;\n  }\n  sendWithStream(actionName, data, queueingStrategy, transfers) {\n    const streamId = this.streamId++,\n      sourceName = this.sourceName,\n      targetName = this.targetName,\n      comObj = this.comObj;\n    return new ReadableStream({\n      start: controller => {\n        const startCapability = Promise.withResolvers();\n        this.streamControllers[streamId] = {\n          controller,\n          startCall: startCapability,\n          pullCall: null,\n          cancelCall: null,\n          isClosed: false\n        };\n        comObj.postMessage({\n          sourceName,\n          targetName,\n          action: actionName,\n          streamId,\n          data,\n          desiredSize: controller.desiredSize\n        }, transfers);\n        return startCapability.promise;\n      },\n      pull: controller => {\n        const pullCapability = Promise.withResolvers();\n        this.streamControllers[streamId].pullCall = pullCapability;\n        comObj.postMessage({\n          sourceName,\n          targetName,\n          stream: StreamKind.PULL,\n          streamId,\n          desiredSize: controller.desiredSize\n        });\n        return pullCapability.promise;\n      },\n      cancel: reason => {\n        assert(reason instanceof Error, \"cancel must have a valid reason\");\n        const cancelCapability = Promise.withResolvers();\n        this.streamControllers[streamId].cancelCall = cancelCapability;\n        this.streamControllers[streamId].isClosed = true;\n        comObj.postMessage({\n          sourceName,\n          targetName,\n          stream: StreamKind.CANCEL,\n          streamId,\n          reason: wrapReason(reason)\n        });\n        return cancelCapability.promise;\n      }\n    }, queueingStrategy);\n  }\n  #createStreamSink(data) {\n    const streamId = data.streamId,\n      sourceName = this.sourceName,\n      targetName = data.sourceName,\n      comObj = this.comObj;\n    const self = this,\n      action = this.actionHandler[data.action];\n    const streamSink = {\n      enqueue(chunk, size = 1, transfers) {\n        if (this.isCancelled) {\n          return;\n        }\n        const lastDesiredSize = this.desiredSize;\n        this.desiredSize -= size;\n        if (lastDesiredSize > 0 && this.desiredSize <= 0) {\n          this.sinkCapability = Promise.withResolvers();\n          this.ready = this.sinkCapability.promise;\n        }\n        comObj.postMessage({\n          sourceName,\n          targetName,\n          stream: StreamKind.ENQUEUE,\n          streamId,\n          chunk\n        }, transfers);\n      },\n      close() {\n        if (this.isCancelled) {\n          return;\n        }\n        this.isCancelled = true;\n        comObj.postMessage({\n          sourceName,\n          targetName,\n          stream: StreamKind.CLOSE,\n          streamId\n        });\n        delete self.streamSinks[streamId];\n      },\n      error(reason) {\n        assert(reason instanceof Error, \"error must have a valid reason\");\n        if (this.isCancelled) {\n          return;\n        }\n        this.isCancelled = true;\n        comObj.postMessage({\n          sourceName,\n          targetName,\n          stream: StreamKind.ERROR,\n          streamId,\n          reason: wrapReason(reason)\n        });\n      },\n      sinkCapability: Promise.withResolvers(),\n      onPull: null,\n      onCancel: null,\n      isCancelled: false,\n      desiredSize: data.desiredSize,\n      ready: null\n    };\n    streamSink.sinkCapability.resolve();\n    streamSink.ready = streamSink.sinkCapability.promise;\n    this.streamSinks[streamId] = streamSink;\n    Promise.try(action, data.data, streamSink).then(function () {\n      comObj.postMessage({\n        sourceName,\n        targetName,\n        stream: StreamKind.START_COMPLETE,\n        streamId,\n        success: true\n      });\n    }, function (reason) {\n      comObj.postMessage({\n        sourceName,\n        targetName,\n        stream: StreamKind.START_COMPLETE,\n        streamId,\n        reason: wrapReason(reason)\n      });\n    });\n  }\n  #processStreamMessage(data) {\n    const streamId = data.streamId,\n      sourceName = this.sourceName,\n      targetName = data.sourceName,\n      comObj = this.comObj;\n    const streamController = this.streamControllers[streamId],\n      streamSink = this.streamSinks[streamId];\n    switch (data.stream) {\n      case StreamKind.START_COMPLETE:\n        if (data.success) {\n          streamController.startCall.resolve();\n        } else {\n          streamController.startCall.reject(wrapReason(data.reason));\n        }\n        break;\n      case StreamKind.PULL_COMPLETE:\n        if (data.success) {\n          streamController.pullCall.resolve();\n        } else {\n          streamController.pullCall.reject(wrapReason(data.reason));\n        }\n        break;\n      case StreamKind.PULL:\n        if (!streamSink) {\n          comObj.postMessage({\n            sourceName,\n            targetName,\n            stream: StreamKind.PULL_COMPLETE,\n            streamId,\n            success: true\n          });\n          break;\n        }\n        if (streamSink.desiredSize <= 0 && data.desiredSize > 0) {\n          streamSink.sinkCapability.resolve();\n        }\n        streamSink.desiredSize = data.desiredSize;\n        Promise.try(streamSink.onPull || onFn).then(function () {\n          comObj.postMessage({\n            sourceName,\n            targetName,\n            stream: StreamKind.PULL_COMPLETE,\n            streamId,\n            success: true\n          });\n        }, function (reason) {\n          comObj.postMessage({\n            sourceName,\n            targetName,\n            stream: StreamKind.PULL_COMPLETE,\n            streamId,\n            reason: wrapReason(reason)\n          });\n        });\n        break;\n      case StreamKind.ENQUEUE:\n        assert(streamController, \"enqueue should have stream controller\");\n        if (streamController.isClosed) {\n          break;\n        }\n        streamController.controller.enqueue(data.chunk);\n        break;\n      case StreamKind.CLOSE:\n        assert(streamController, \"close should have stream controller\");\n        if (streamController.isClosed) {\n          break;\n        }\n        streamController.isClosed = true;\n        streamController.controller.close();\n        this.#deleteStreamController(streamController, streamId);\n        break;\n      case StreamKind.ERROR:\n        assert(streamController, \"error should have stream controller\");\n        streamController.controller.error(wrapReason(data.reason));\n        this.#deleteStreamController(streamController, streamId);\n        break;\n      case StreamKind.CANCEL_COMPLETE:\n        if (data.success) {\n          streamController.cancelCall.resolve();\n        } else {\n          streamController.cancelCall.reject(wrapReason(data.reason));\n        }\n        this.#deleteStreamController(streamController, streamId);\n        break;\n      case StreamKind.CANCEL:\n        if (!streamSink) {\n          break;\n        }\n        const dataReason = wrapReason(data.reason);\n        Promise.try(streamSink.onCancel || onFn, dataReason).then(function () {\n          comObj.postMessage({\n            sourceName,\n            targetName,\n            stream: StreamKind.CANCEL_COMPLETE,\n            streamId,\n            success: true\n          });\n        }, function (reason) {\n          comObj.postMessage({\n            sourceName,\n            targetName,\n            stream: StreamKind.CANCEL_COMPLETE,\n            streamId,\n            reason: wrapReason(reason)\n          });\n        });\n        streamSink.sinkCapability.reject(dataReason);\n        streamSink.isCancelled = true;\n        delete this.streamSinks[streamId];\n        break;\n      default:\n        throw new Error(\"Unexpected stream case\");\n    }\n  }\n  async #deleteStreamController(streamController, streamId) {\n    await Promise.allSettled([streamController.startCall?.promise, streamController.pullCall?.promise, streamController.cancelCall?.promise]);\n    delete this.streamControllers[streamId];\n  }\n  destroy() {\n    this.#messageAC?.abort();\n    this.#messageAC = null;\n  }\n}\n\n;// ./src/display/canvas_factory.js\n\nclass BaseCanvasFactory {\n  #enableHWA = false;\n  constructor({\n    enableHWA = false\n  }) {\n    this.#enableHWA = enableHWA;\n  }\n  create(width, height) {\n    if (width <= 0 || height <= 0) {\n      throw new Error(\"Invalid canvas size\");\n    }\n    const canvas = this._createCanvas(width, height);\n    return {\n      canvas,\n      context: canvas.getContext(\"2d\", {\n        willReadFrequently: !this.#enableHWA\n      })\n    };\n  }\n  reset(canvasAndContext, width, height) {\n    if (!canvasAndContext.canvas) {\n      throw new Error(\"Canvas is not specified\");\n    }\n    if (width <= 0 || height <= 0) {\n      throw new Error(\"Invalid canvas size\");\n    }\n    canvasAndContext.canvas.width = width;\n    canvasAndContext.canvas.height = height;\n  }\n  destroy(canvasAndContext) {\n    if (!canvasAndContext.canvas) {\n      throw new Error(\"Canvas is not specified\");\n    }\n    canvasAndContext.canvas.width = 0;\n    canvasAndContext.canvas.height = 0;\n    canvasAndContext.canvas = null;\n    canvasAndContext.context = null;\n  }\n  _createCanvas(width, height) {\n    unreachable(\"Abstract method `_createCanvas` called.\");\n  }\n}\nclass DOMCanvasFactory extends BaseCanvasFactory {\n  constructor({\n    ownerDocument = globalThis.document,\n    enableHWA = false\n  }) {\n    super({\n      enableHWA\n    });\n    this._document = ownerDocument;\n  }\n  _createCanvas(width, height) {\n    const canvas = this._document.createElement(\"canvas\");\n    canvas.width = width;\n    canvas.height = height;\n    return canvas;\n  }\n}\n\n;// ./src/display/cmap_reader_factory.js\n\n\nclass BaseCMapReaderFactory {\n  constructor({\n    baseUrl = null,\n    isCompressed = true\n  }) {\n    this.baseUrl = baseUrl;\n    this.isCompressed = isCompressed;\n  }\n  async fetch({\n    name\n  }) {\n    if (!this.baseUrl) {\n      throw new Error(\"Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.\");\n    }\n    if (!name) {\n      throw new Error(\"CMap name must be specified.\");\n    }\n    const url = this.baseUrl + name + (this.isCompressed ? \".bcmap\" : \"\");\n    return this._fetch(url).then(cMapData => ({\n      cMapData,\n      isCompressed: this.isCompressed\n    })).catch(reason => {\n      throw new Error(`Unable to load ${this.isCompressed ? \"binary \" : \"\"}CMap at: ${url}`);\n    });\n  }\n  async _fetch(url) {\n    unreachable(\"Abstract method `_fetch` called.\");\n  }\n}\nclass DOMCMapReaderFactory extends BaseCMapReaderFactory {\n  async _fetch(url) {\n    const data = await fetchData(url, this.isCompressed ? \"arraybuffer\" : \"text\");\n    return data instanceof ArrayBuffer ? new Uint8Array(data) : stringToBytes(data);\n  }\n}\n\n;// ./src/display/filter_factory.js\n\n\nclass BaseFilterFactory {\n  addFilter(maps) {\n    return \"none\";\n  }\n  addHCMFilter(fgColor, bgColor) {\n    return \"none\";\n  }\n  addAlphaFilter(map) {\n    return \"none\";\n  }\n  addLuminosityFilter(map) {\n    return \"none\";\n  }\n  addHighlightHCMFilter(filterName, fgColor, bgColor, newFgColor, newBgColor) {\n    return \"none\";\n  }\n  destroy(keepHCM = false) {}\n}\nclass DOMFilterFactory extends BaseFilterFactory {\n  #baseUrl;\n  #_cache;\n  #_defs;\n  #docId;\n  #document;\n  #_hcmCache;\n  #id = 0;\n  constructor({\n    docId,\n    ownerDocument = globalThis.document\n  }) {\n    super();\n    this.#docId = docId;\n    this.#document = ownerDocument;\n  }\n  get #cache() {\n    return this.#_cache ||= new Map();\n  }\n  get #hcmCache() {\n    return this.#_hcmCache ||= new Map();\n  }\n  get #defs() {\n    if (!this.#_defs) {\n      const div = this.#document.createElement(\"div\");\n      const {\n        style\n      } = div;\n      style.visibility = \"hidden\";\n      style.contain = \"strict\";\n      style.width = style.height = 0;\n      style.position = \"absolute\";\n      style.top = style.left = 0;\n      style.zIndex = -1;\n      const svg = this.#document.createElementNS(SVG_NS, \"svg\");\n      svg.setAttribute(\"width\", 0);\n      svg.setAttribute(\"height\", 0);\n      this.#_defs = this.#document.createElementNS(SVG_NS, \"defs\");\n      div.append(svg);\n      svg.append(this.#_defs);\n      this.#document.body.append(div);\n    }\n    return this.#_defs;\n  }\n  #createTables(maps) {\n    if (maps.length === 1) {\n      const mapR = maps[0];\n      const buffer = new Array(256);\n      for (let i = 0; i < 256; i++) {\n        buffer[i] = mapR[i] / 255;\n      }\n      const table = buffer.join(\",\");\n      return [table, table, table];\n    }\n    const [mapR, mapG, mapB] = maps;\n    const bufferR = new Array(256);\n    const bufferG = new Array(256);\n    const bufferB = new Array(256);\n    for (let i = 0; i < 256; i++) {\n      bufferR[i] = mapR[i] / 255;\n      bufferG[i] = mapG[i] / 255;\n      bufferB[i] = mapB[i] / 255;\n    }\n    return [bufferR.join(\",\"), bufferG.join(\",\"), bufferB.join(\",\")];\n  }\n  #createUrl(id) {\n    if (this.#baseUrl === undefined) {\n      this.#baseUrl = \"\";\n      const url = this.#document.URL;\n      if (url !== this.#document.baseURI) {\n        if (isDataScheme(url)) {\n          warn('#createUrl: ignore \"data:\"-URL for performance reasons.');\n        } else {\n          this.#baseUrl = updateUrlHash(url, \"\");\n        }\n      }\n    }\n    return `url(${this.#baseUrl}#${id})`;\n  }\n  addFilter(maps) {\n    if (!maps) {\n      return \"none\";\n    }\n    let value = this.#cache.get(maps);\n    if (value) {\n      return value;\n    }\n    const [tableR, tableG, tableB] = this.#createTables(maps);\n    const key = maps.length === 1 ? tableR : `${tableR}${tableG}${tableB}`;\n    value = this.#cache.get(key);\n    if (value) {\n      this.#cache.set(maps, value);\n      return value;\n    }\n    const id = `g_${this.#docId}_transfer_map_${this.#id++}`;\n    const url = this.#createUrl(id);\n    this.#cache.set(maps, url);\n    this.#cache.set(key, url);\n    const filter = this.#createFilter(id);\n    this.#addTransferMapConversion(tableR, tableG, tableB, filter);\n    return url;\n  }\n  addHCMFilter(fgColor, bgColor) {\n    const key = `${fgColor}-${bgColor}`;\n    const filterName = \"base\";\n    let info = this.#hcmCache.get(filterName);\n    if (info?.key === key) {\n      return info.url;\n    }\n    if (info) {\n      info.filter?.remove();\n      info.key = key;\n      info.url = \"none\";\n      info.filter = null;\n    } else {\n      info = {\n        key,\n        url: \"none\",\n        filter: null\n      };\n      this.#hcmCache.set(filterName, info);\n    }\n    if (!fgColor || !bgColor) {\n      return info.url;\n    }\n    const fgRGB = this.#getRGB(fgColor);\n    fgColor = Util.makeHexColor(...fgRGB);\n    const bgRGB = this.#getRGB(bgColor);\n    bgColor = Util.makeHexColor(...bgRGB);\n    this.#defs.style.color = \"\";\n    if (fgColor === \"#000000\" && bgColor === \"#ffffff\" || fgColor === bgColor) {\n      return info.url;\n    }\n    const map = new Array(256);\n    for (let i = 0; i <= 255; i++) {\n      const x = i / 255;\n      map[i] = x <= 0.03928 ? x / 12.92 : ((x + 0.055) / 1.055) ** 2.4;\n    }\n    const table = map.join(\",\");\n    const id = `g_${this.#docId}_hcm_filter`;\n    const filter = info.filter = this.#createFilter(id);\n    this.#addTransferMapConversion(table, table, table, filter);\n    this.#addGrayConversion(filter);\n    const getSteps = (c, n) => {\n      const start = fgRGB[c] / 255;\n      const end = bgRGB[c] / 255;\n      const arr = new Array(n + 1);\n      for (let i = 0; i <= n; i++) {\n        arr[i] = start + i / n * (end - start);\n      }\n      return arr.join(\",\");\n    };\n    this.#addTransferMapConversion(getSteps(0, 5), getSteps(1, 5), getSteps(2, 5), filter);\n    info.url = this.#createUrl(id);\n    return info.url;\n  }\n  addAlphaFilter(map) {\n    let value = this.#cache.get(map);\n    if (value) {\n      return value;\n    }\n    const [tableA] = this.#createTables([map]);\n    const key = `alpha_${tableA}`;\n    value = this.#cache.get(key);\n    if (value) {\n      this.#cache.set(map, value);\n      return value;\n    }\n    const id = `g_${this.#docId}_alpha_map_${this.#id++}`;\n    const url = this.#createUrl(id);\n    this.#cache.set(map, url);\n    this.#cache.set(key, url);\n    const filter = this.#createFilter(id);\n    this.#addTransferMapAlphaConversion(tableA, filter);\n    return url;\n  }\n  addLuminosityFilter(map) {\n    let value = this.#cache.get(map || \"luminosity\");\n    if (value) {\n      return value;\n    }\n    let tableA, key;\n    if (map) {\n      [tableA] = this.#createTables([map]);\n      key = `luminosity_${tableA}`;\n    } else {\n      key = \"luminosity\";\n    }\n    value = this.#cache.get(key);\n    if (value) {\n      this.#cache.set(map, value);\n      return value;\n    }\n    const id = `g_${this.#docId}_luminosity_map_${this.#id++}`;\n    const url = this.#createUrl(id);\n    this.#cache.set(map, url);\n    this.#cache.set(key, url);\n    const filter = this.#createFilter(id);\n    this.#addLuminosityConversion(filter);\n    if (map) {\n      this.#addTransferMapAlphaConversion(tableA, filter);\n    }\n    return url;\n  }\n  addHighlightHCMFilter(filterName, fgColor, bgColor, newFgColor, newBgColor) {\n    const key = `${fgColor}-${bgColor}-${newFgColor}-${newBgColor}`;\n    let info = this.#hcmCache.get(filterName);\n    if (info?.key === key) {\n      return info.url;\n    }\n    if (info) {\n      info.filter?.remove();\n      info.key = key;\n      info.url = \"none\";\n      info.filter = null;\n    } else {\n      info = {\n        key,\n        url: \"none\",\n        filter: null\n      };\n      this.#hcmCache.set(filterName, info);\n    }\n    if (!fgColor || !bgColor) {\n      return info.url;\n    }\n    const [fgRGB, bgRGB] = [fgColor, bgColor].map(this.#getRGB.bind(this));\n    let fgGray = Math.round(0.2126 * fgRGB[0] + 0.7152 * fgRGB[1] + 0.0722 * fgRGB[2]);\n    let bgGray = Math.round(0.2126 * bgRGB[0] + 0.7152 * bgRGB[1] + 0.0722 * bgRGB[2]);\n    let [newFgRGB, newBgRGB] = [newFgColor, newBgColor].map(this.#getRGB.bind(this));\n    if (bgGray < fgGray) {\n      [fgGray, bgGray, newFgRGB, newBgRGB] = [bgGray, fgGray, newBgRGB, newFgRGB];\n    }\n    this.#defs.style.color = \"\";\n    const getSteps = (fg, bg, n) => {\n      const arr = new Array(256);\n      const step = (bgGray - fgGray) / n;\n      const newStart = fg / 255;\n      const newStep = (bg - fg) / (255 * n);\n      let prev = 0;\n      for (let i = 0; i <= n; i++) {\n        const k = Math.round(fgGray + i * step);\n        const value = newStart + i * newStep;\n        for (let j = prev; j <= k; j++) {\n          arr[j] = value;\n        }\n        prev = k + 1;\n      }\n      for (let i = prev; i < 256; i++) {\n        arr[i] = arr[prev - 1];\n      }\n      return arr.join(\",\");\n    };\n    const id = `g_${this.#docId}_hcm_${filterName}_filter`;\n    const filter = info.filter = this.#createFilter(id);\n    this.#addGrayConversion(filter);\n    this.#addTransferMapConversion(getSteps(newFgRGB[0], newBgRGB[0], 5), getSteps(newFgRGB[1], newBgRGB[1], 5), getSteps(newFgRGB[2], newBgRGB[2], 5), filter);\n    info.url = this.#createUrl(id);\n    return info.url;\n  }\n  destroy(keepHCM = false) {\n    if (keepHCM && this.#_hcmCache?.size) {\n      return;\n    }\n    this.#_defs?.parentNode.parentNode.remove();\n    this.#_defs = null;\n    this.#_cache?.clear();\n    this.#_cache = null;\n    this.#_hcmCache?.clear();\n    this.#_hcmCache = null;\n    this.#id = 0;\n  }\n  #addLuminosityConversion(filter) {\n    const feColorMatrix = this.#document.createElementNS(SVG_NS, \"feColorMatrix\");\n    feColorMatrix.setAttribute(\"type\", \"matrix\");\n    feColorMatrix.setAttribute(\"values\", \"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0\");\n    filter.append(feColorMatrix);\n  }\n  #addGrayConversion(filter) {\n    const feColorMatrix = this.#document.createElementNS(SVG_NS, \"feColorMatrix\");\n    feColorMatrix.setAttribute(\"type\", \"matrix\");\n    feColorMatrix.setAttribute(\"values\", \"0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0\");\n    filter.append(feColorMatrix);\n  }\n  #createFilter(id) {\n    const filter = this.#document.createElementNS(SVG_NS, \"filter\");\n    filter.setAttribute(\"color-interpolation-filters\", \"sRGB\");\n    filter.setAttribute(\"id\", id);\n    this.#defs.append(filter);\n    return filter;\n  }\n  #appendFeFunc(feComponentTransfer, func, table) {\n    const feFunc = this.#document.createElementNS(SVG_NS, func);\n    feFunc.setAttribute(\"type\", \"discrete\");\n    feFunc.setAttribute(\"tableValues\", table);\n    feComponentTransfer.append(feFunc);\n  }\n  #addTransferMapConversion(rTable, gTable, bTable, filter) {\n    const feComponentTransfer = this.#document.createElementNS(SVG_NS, \"feComponentTransfer\");\n    filter.append(feComponentTransfer);\n    this.#appendFeFunc(feComponentTransfer, \"feFuncR\", rTable);\n    this.#appendFeFunc(feComponentTransfer, \"feFuncG\", gTable);\n    this.#appendFeFunc(feComponentTransfer, \"feFuncB\", bTable);\n  }\n  #addTransferMapAlphaConversion(aTable, filter) {\n    const feComponentTransfer = this.#document.createElementNS(SVG_NS, \"feComponentTransfer\");\n    filter.append(feComponentTransfer);\n    this.#appendFeFunc(feComponentTransfer, \"feFuncA\", aTable);\n  }\n  #getRGB(color) {\n    this.#defs.style.color = color;\n    return getRGB(getComputedStyle(this.#defs).getPropertyValue(\"color\"));\n  }\n}\n\n;// ./src/display/standard_fontdata_factory.js\n\n\nclass BaseStandardFontDataFactory {\n  constructor({\n    baseUrl = null\n  }) {\n    this.baseUrl = baseUrl;\n  }\n  async fetch({\n    filename\n  }) {\n    if (!this.baseUrl) {\n      throw new Error(\"Ensure that the `standardFontDataUrl` API parameter is provided.\");\n    }\n    if (!filename) {\n      throw new Error(\"Font filename must be specified.\");\n    }\n    const url = `${this.baseUrl}${filename}`;\n    return this._fetch(url).catch(reason => {\n      throw new Error(`Unable to load font data at: ${url}`);\n    });\n  }\n  async _fetch(url) {\n    unreachable(\"Abstract method `_fetch` called.\");\n  }\n}\nclass DOMStandardFontDataFactory extends BaseStandardFontDataFactory {\n  async _fetch(url) {\n    const data = await fetchData(url, \"arraybuffer\");\n    return new Uint8Array(data);\n  }\n}\n\n;// ./src/display/wasm_factory.js\n\n\nclass BaseWasmFactory {\n  constructor({\n    baseUrl = null\n  }) {\n    this.baseUrl = baseUrl;\n  }\n  async fetch({\n    filename\n  }) {\n    if (!this.baseUrl) {\n      throw new Error(\"Ensure that the `wasmUrl` API parameter is provided.\");\n    }\n    if (!filename) {\n      throw new Error(\"Wasm filename must be specified.\");\n    }\n    const url = `${this.baseUrl}${filename}`;\n    return this._fetch(url).catch(reason => {\n      throw new Error(`Unable to load wasm data at: ${url}`);\n    });\n  }\n  async _fetch(url) {\n    unreachable(\"Abstract method `_fetch` called.\");\n  }\n}\nclass DOMWasmFactory extends BaseWasmFactory {\n  async _fetch(url) {\n    const data = await fetchData(url, \"arraybuffer\");\n    return new Uint8Array(data);\n  }\n}\n\n;// ./src/display/node_utils.js\n\n\n\n\n\n\nif (isNodeJS) {\n  warn(\"Please use the `legacy` build in Node.js environments.\");\n}\nasync function node_utils_fetchData(url) {\n  const fs = process.getBuiltinModule(\"fs\");\n  const data = await fs.promises.readFile(url);\n  return new Uint8Array(data);\n}\nclass NodeFilterFactory extends BaseFilterFactory {}\nclass NodeCanvasFactory extends BaseCanvasFactory {\n  _createCanvas(width, height) {\n    const require = process.getBuiltinModule(\"module\").createRequire(import.meta.url);\n    const canvas = require(\"@napi-rs/canvas\");\n    return canvas.createCanvas(width, height);\n  }\n}\nclass NodeCMapReaderFactory extends BaseCMapReaderFactory {\n  async _fetch(url) {\n    return node_utils_fetchData(url);\n  }\n}\nclass NodeStandardFontDataFactory extends BaseStandardFontDataFactory {\n  async _fetch(url) {\n    return node_utils_fetchData(url);\n  }\n}\nclass NodeWasmFactory extends BaseWasmFactory {\n  async _fetch(url) {\n    return node_utils_fetchData(url);\n  }\n}\n\n;// ./src/display/canvas_dependency_tracker.js\n\nconst FORCED_DEPENDENCY_LABEL = \"__forcedDependency\";\nconst {\n  floor,\n  ceil\n} = Math;\nfunction expandBBox(array, index, minX, minY, maxX, maxY) {\n  array[index * 4 + 0] = Math.min(array[index * 4 + 0], minX);\n  array[index * 4 + 1] = Math.min(array[index * 4 + 1], minY);\n  array[index * 4 + 2] = Math.max(array[index * 4 + 2], maxX);\n  array[index * 4 + 3] = Math.max(array[index * 4 + 3], maxY);\n}\nconst EMPTY_BBOX = new Uint32Array(new Uint8Array([255, 255, 0, 0]).buffer)[0];\nclass BBoxReader {\n  #bboxes;\n  #coords;\n  constructor(bboxes, coords) {\n    this.#bboxes = bboxes;\n    this.#coords = coords;\n  }\n  get length() {\n    return this.#bboxes.length;\n  }\n  isEmpty(i) {\n    return this.#bboxes[i] === EMPTY_BBOX;\n  }\n  minX(i) {\n    return this.#coords[i * 4 + 0] / 256;\n  }\n  minY(i) {\n    return this.#coords[i * 4 + 1] / 256;\n  }\n  maxX(i) {\n    return (this.#coords[i * 4 + 2] + 1) / 256;\n  }\n  maxY(i) {\n    return (this.#coords[i * 4 + 3] + 1) / 256;\n  }\n}\nconst ensureDebugMetadata = (map, key) => {\n  if (!map) {\n    return undefined;\n  }\n  let value = map.get(key);\n  if (!value) {\n    value = {\n      dependencies: new Set(),\n      isRenderingOperation: false\n    };\n    map.set(key, value);\n  }\n  return value;\n};\nclass CanvasDependencyTracker {\n  #simple = {\n    __proto__: null\n  };\n  #incremental = {\n    __proto__: null,\n    transform: [],\n    moveText: [],\n    sameLineText: [],\n    [FORCED_DEPENDENCY_LABEL]: []\n  };\n  #namedDependencies = new Map();\n  #savesStack = [];\n  #markedContentStack = [];\n  #baseTransformStack = [[1, 0, 0, 1, 0, 0]];\n  #clipBox = [-Infinity, -Infinity, Infinity, Infinity];\n  #pendingBBox = new Float64Array([Infinity, Infinity, -Infinity, -Infinity]);\n  #pendingBBoxIdx = -1;\n  #pendingDependencies = new Set();\n  #operations = new Map();\n  #fontBBoxTrustworthy = new Map();\n  #canvasWidth;\n  #canvasHeight;\n  #bboxesCoords;\n  #bboxes;\n  #debugMetadata;\n  constructor(canvas, operationsCount, recordDebugMetadata = false) {\n    this.#canvasWidth = canvas.width;\n    this.#canvasHeight = canvas.height;\n    this.#initializeBBoxes(operationsCount);\n    if (recordDebugMetadata) {\n      this.#debugMetadata = new Map();\n    }\n  }\n  growOperationsCount(operationsCount) {\n    if (operationsCount >= this.#bboxes.length) {\n      this.#initializeBBoxes(operationsCount, this.#bboxes);\n    }\n  }\n  #initializeBBoxes(operationsCount, oldBBoxes) {\n    const buffer = new ArrayBuffer(operationsCount * 4);\n    this.#bboxesCoords = new Uint8ClampedArray(buffer);\n    this.#bboxes = new Uint32Array(buffer);\n    if (oldBBoxes && oldBBoxes.length > 0) {\n      this.#bboxes.set(oldBBoxes);\n      this.#bboxes.fill(EMPTY_BBOX, oldBBoxes.length);\n    } else {\n      this.#bboxes.fill(EMPTY_BBOX);\n    }\n  }\n  save(opIdx) {\n    this.#simple = {\n      __proto__: this.#simple\n    };\n    this.#incremental = {\n      __proto__: this.#incremental,\n      transform: {\n        __proto__: this.#incremental.transform\n      },\n      moveText: {\n        __proto__: this.#incremental.moveText\n      },\n      sameLineText: {\n        __proto__: this.#incremental.sameLineText\n      },\n      [FORCED_DEPENDENCY_LABEL]: {\n        __proto__: this.#incremental[FORCED_DEPENDENCY_LABEL]\n      }\n    };\n    this.#clipBox = {\n      __proto__: this.#clipBox\n    };\n    this.#savesStack.push(opIdx);\n    return this;\n  }\n  restore(opIdx) {\n    const previous = Object.getPrototypeOf(this.#simple);\n    if (previous === null) {\n      return this;\n    }\n    this.#simple = previous;\n    this.#incremental = Object.getPrototypeOf(this.#incremental);\n    this.#clipBox = Object.getPrototypeOf(this.#clipBox);\n    const lastSave = this.#savesStack.pop();\n    if (lastSave !== undefined) {\n      ensureDebugMetadata(this.#debugMetadata, opIdx)?.dependencies.add(lastSave);\n      this.#bboxes[opIdx] = this.#bboxes[lastSave];\n    }\n    return this;\n  }\n  recordOpenMarker(idx) {\n    this.#savesStack.push(idx);\n    return this;\n  }\n  getOpenMarker() {\n    if (this.#savesStack.length === 0) {\n      return null;\n    }\n    return this.#savesStack.at(-1);\n  }\n  recordCloseMarker(opIdx) {\n    const lastSave = this.#savesStack.pop();\n    if (lastSave !== undefined) {\n      ensureDebugMetadata(this.#debugMetadata, opIdx)?.dependencies.add(lastSave);\n      this.#bboxes[opIdx] = this.#bboxes[lastSave];\n    }\n    return this;\n  }\n  beginMarkedContent(opIdx) {\n    this.#markedContentStack.push(opIdx);\n    return this;\n  }\n  endMarkedContent(opIdx) {\n    const lastSave = this.#markedContentStack.pop();\n    if (lastSave !== undefined) {\n      ensureDebugMetadata(this.#debugMetadata, opIdx)?.dependencies.add(lastSave);\n      this.#bboxes[opIdx] = this.#bboxes[lastSave];\n    }\n    return this;\n  }\n  pushBaseTransform(ctx) {\n    this.#baseTransformStack.push(Util.multiplyByDOMMatrix(this.#baseTransformStack.at(-1), ctx.getTransform()));\n    return this;\n  }\n  popBaseTransform() {\n    if (this.#baseTransformStack.length > 1) {\n      this.#baseTransformStack.pop();\n    }\n    return this;\n  }\n  recordSimpleData(name, idx) {\n    this.#simple[name] = idx;\n    return this;\n  }\n  recordIncrementalData(name, idx) {\n    this.#incremental[name].push(idx);\n    return this;\n  }\n  resetIncrementalData(name, idx) {\n    this.#incremental[name].length = 0;\n    return this;\n  }\n  recordNamedData(name, idx) {\n    this.#namedDependencies.set(name, idx);\n    return this;\n  }\n  recordSimpleDataFromNamed(name, depName, fallbackIdx) {\n    this.#simple[name] = this.#namedDependencies.get(depName) ?? fallbackIdx;\n  }\n  recordFutureForcedDependency(name, idx) {\n    this.recordIncrementalData(FORCED_DEPENDENCY_LABEL, idx);\n    return this;\n  }\n  inheritSimpleDataAsFutureForcedDependencies(names) {\n    for (const name of names) {\n      if (name in this.#simple) {\n        this.recordFutureForcedDependency(name, this.#simple[name]);\n      }\n    }\n    return this;\n  }\n  inheritPendingDependenciesAsFutureForcedDependencies() {\n    for (const dep of this.#pendingDependencies) {\n      this.recordFutureForcedDependency(FORCED_DEPENDENCY_LABEL, dep);\n    }\n    return this;\n  }\n  resetBBox(idx) {\n    if (this.#pendingBBoxIdx !== idx) {\n      this.#pendingBBoxIdx = idx;\n      this.#pendingBBox[0] = Infinity;\n      this.#pendingBBox[1] = Infinity;\n      this.#pendingBBox[2] = -Infinity;\n      this.#pendingBBox[3] = -Infinity;\n    }\n    return this;\n  }\n  recordClipBox(idx, ctx, minX, maxX, minY, maxY) {\n    const transform = Util.multiplyByDOMMatrix(this.#baseTransformStack.at(-1), ctx.getTransform());\n    const clipBox = [Infinity, Infinity, -Infinity, -Infinity];\n    Util.axialAlignedBoundingBox([minX, minY, maxX, maxY], transform, clipBox);\n    const intersection = Util.intersect(this.#clipBox, clipBox);\n    if (intersection) {\n      this.#clipBox[0] = intersection[0];\n      this.#clipBox[1] = intersection[1];\n      this.#clipBox[2] = intersection[2];\n      this.#clipBox[3] = intersection[3];\n    } else {\n      this.#clipBox[0] = this.#clipBox[1] = Infinity;\n      this.#clipBox[2] = this.#clipBox[3] = -Infinity;\n    }\n    return this;\n  }\n  recordBBox(idx, ctx, minX, maxX, minY, maxY) {\n    const clipBox = this.#clipBox;\n    if (clipBox[0] === Infinity) {\n      return this;\n    }\n    const transform = Util.multiplyByDOMMatrix(this.#baseTransformStack.at(-1), ctx.getTransform());\n    if (clipBox[0] === -Infinity) {\n      Util.axialAlignedBoundingBox([minX, minY, maxX, maxY], transform, this.#pendingBBox);\n      return this;\n    }\n    const bbox = [Infinity, Infinity, -Infinity, -Infinity];\n    Util.axialAlignedBoundingBox([minX, minY, maxX, maxY], transform, bbox);\n    this.#pendingBBox[0] = Math.min(this.#pendingBBox[0], Math.max(bbox[0], clipBox[0]));\n    this.#pendingBBox[1] = Math.min(this.#pendingBBox[1], Math.max(bbox[1], clipBox[1]));\n    this.#pendingBBox[2] = Math.max(this.#pendingBBox[2], Math.min(bbox[2], clipBox[2]));\n    this.#pendingBBox[3] = Math.max(this.#pendingBBox[3], Math.min(bbox[3], clipBox[3]));\n    return this;\n  }\n  recordCharacterBBox(idx, ctx, font, scale = 1, x = 0, y = 0, getMeasure) {\n    const fontBBox = font.bbox;\n    let isBBoxTrustworthy;\n    let computedBBox;\n    if (fontBBox) {\n      isBBoxTrustworthy = fontBBox[2] !== fontBBox[0] && fontBBox[3] !== fontBBox[1] && this.#fontBBoxTrustworthy.get(font);\n      if (isBBoxTrustworthy !== false) {\n        computedBBox = [0, 0, 0, 0];\n        Util.axialAlignedBoundingBox(fontBBox, font.fontMatrix, computedBBox);\n        if (scale !== 1 || x !== 0 || y !== 0) {\n          Util.scaleMinMax([scale, 0, 0, -scale, x, y], computedBBox);\n        }\n        if (isBBoxTrustworthy) {\n          return this.recordBBox(idx, ctx, computedBBox[0], computedBBox[2], computedBBox[1], computedBBox[3]);\n        }\n      }\n    }\n    if (!getMeasure) {\n      return this.recordFullPageBBox(idx);\n    }\n    const measure = getMeasure();\n    if (fontBBox && computedBBox && isBBoxTrustworthy === undefined) {\n      isBBoxTrustworthy = computedBBox[0] <= x - measure.actualBoundingBoxLeft && computedBBox[2] >= x + measure.actualBoundingBoxRight && computedBBox[1] <= y - measure.actualBoundingBoxAscent && computedBBox[3] >= y + measure.actualBoundingBoxDescent;\n      this.#fontBBoxTrustworthy.set(font, isBBoxTrustworthy);\n      if (isBBoxTrustworthy) {\n        return this.recordBBox(idx, ctx, computedBBox[0], computedBBox[2], computedBBox[1], computedBBox[3]);\n      }\n    }\n    return this.recordBBox(idx, ctx, x - measure.actualBoundingBoxLeft, x + measure.actualBoundingBoxRight, y - measure.actualBoundingBoxAscent, y + measure.actualBoundingBoxDescent);\n  }\n  recordFullPageBBox(idx) {\n    this.#pendingBBox[0] = Math.max(0, this.#clipBox[0]);\n    this.#pendingBBox[1] = Math.max(0, this.#clipBox[1]);\n    this.#pendingBBox[2] = Math.min(this.#canvasWidth, this.#clipBox[2]);\n    this.#pendingBBox[3] = Math.min(this.#canvasHeight, this.#clipBox[3]);\n    return this;\n  }\n  getSimpleIndex(dependencyName) {\n    return this.#simple[dependencyName];\n  }\n  recordDependencies(idx, dependencyNames) {\n    const pendingDependencies = this.#pendingDependencies;\n    const simple = this.#simple;\n    const incremental = this.#incremental;\n    for (const name of dependencyNames) {\n      if (name in this.#simple) {\n        pendingDependencies.add(simple[name]);\n      } else if (name in incremental) {\n        incremental[name].forEach(pendingDependencies.add, pendingDependencies);\n      }\n    }\n    return this;\n  }\n  recordNamedDependency(idx, name) {\n    if (this.#namedDependencies.has(name)) {\n      this.#pendingDependencies.add(this.#namedDependencies.get(name));\n    }\n    return this;\n  }\n  recordOperation(idx, preserve = false) {\n    this.recordDependencies(idx, [FORCED_DEPENDENCY_LABEL]);\n    if (this.#debugMetadata) {\n      const metadata = ensureDebugMetadata(this.#debugMetadata, idx);\n      const {\n        dependencies\n      } = metadata;\n      this.#pendingDependencies.forEach(dependencies.add, dependencies);\n      this.#savesStack.forEach(dependencies.add, dependencies);\n      this.#markedContentStack.forEach(dependencies.add, dependencies);\n      dependencies.delete(idx);\n      metadata.isRenderingOperation = true;\n    }\n    if (this.#pendingBBoxIdx === idx) {\n      const minX = floor(this.#pendingBBox[0] * 256 / this.#canvasWidth);\n      const minY = floor(this.#pendingBBox[1] * 256 / this.#canvasHeight);\n      const maxX = ceil(this.#pendingBBox[2] * 256 / this.#canvasWidth);\n      const maxY = ceil(this.#pendingBBox[3] * 256 / this.#canvasHeight);\n      expandBBox(this.#bboxesCoords, idx, minX, minY, maxX, maxY);\n      for (const depIdx of this.#pendingDependencies) {\n        if (depIdx !== idx) {\n          expandBBox(this.#bboxesCoords, depIdx, minX, minY, maxX, maxY);\n        }\n      }\n      for (const saveIdx of this.#savesStack) {\n        if (saveIdx !== idx) {\n          expandBBox(this.#bboxesCoords, saveIdx, minX, minY, maxX, maxY);\n        }\n      }\n      for (const saveIdx of this.#markedContentStack) {\n        if (saveIdx !== idx) {\n          expandBBox(this.#bboxesCoords, saveIdx, minX, minY, maxX, maxY);\n        }\n      }\n      if (!preserve) {\n        this.#pendingDependencies.clear();\n        this.#pendingBBoxIdx = -1;\n      }\n    }\n    return this;\n  }\n  recordShowTextOperation(idx, preserve = false) {\n    const deps = Array.from(this.#pendingDependencies);\n    this.recordOperation(idx, preserve);\n    this.recordIncrementalData(\"sameLineText\", idx);\n    for (const dep of deps) {\n      this.recordIncrementalData(\"sameLineText\", dep);\n    }\n    return this;\n  }\n  bboxToClipBoxDropOperation(idx, preserve = false) {\n    if (this.#pendingBBoxIdx === idx) {\n      this.#pendingBBoxIdx = -1;\n      this.#clipBox[0] = Math.max(this.#clipBox[0], this.#pendingBBox[0]);\n      this.#clipBox[1] = Math.max(this.#clipBox[1], this.#pendingBBox[1]);\n      this.#clipBox[2] = Math.min(this.#clipBox[2], this.#pendingBBox[2]);\n      this.#clipBox[3] = Math.min(this.#clipBox[3], this.#pendingBBox[3]);\n      if (!preserve) {\n        this.#pendingDependencies.clear();\n      }\n    }\n    return this;\n  }\n  _takePendingDependencies() {\n    const pendingDependencies = this.#pendingDependencies;\n    this.#pendingDependencies = new Set();\n    return pendingDependencies;\n  }\n  _extractOperation(idx) {\n    const operation = this.#operations.get(idx);\n    this.#operations.delete(idx);\n    return operation;\n  }\n  _pushPendingDependencies(dependencies) {\n    for (const dep of dependencies) {\n      this.#pendingDependencies.add(dep);\n    }\n  }\n  take() {\n    this.#fontBBoxTrustworthy.clear();\n    return new BBoxReader(this.#bboxes, this.#bboxesCoords);\n  }\n  takeDebugMetadata() {\n    return this.#debugMetadata;\n  }\n}\nclass CanvasNestedDependencyTracker {\n  #dependencyTracker;\n  #opIdx;\n  #ignoreBBoxes;\n  #nestingLevel = 0;\n  #savesLevel = 0;\n  constructor(dependencyTracker, opIdx, ignoreBBoxes) {\n    if (dependencyTracker instanceof CanvasNestedDependencyTracker && dependencyTracker.#ignoreBBoxes === !!ignoreBBoxes) {\n      return dependencyTracker;\n    }\n    this.#dependencyTracker = dependencyTracker;\n    this.#opIdx = opIdx;\n    this.#ignoreBBoxes = !!ignoreBBoxes;\n  }\n  growOperationsCount() {\n    throw new Error(\"Unreachable\");\n  }\n  save(opIdx) {\n    this.#savesLevel++;\n    this.#dependencyTracker.save(this.#opIdx);\n    return this;\n  }\n  restore(opIdx) {\n    if (this.#savesLevel > 0) {\n      this.#dependencyTracker.restore(this.#opIdx);\n      this.#savesLevel--;\n    }\n    return this;\n  }\n  recordOpenMarker(idx) {\n    this.#nestingLevel++;\n    return this;\n  }\n  getOpenMarker() {\n    return this.#nestingLevel > 0 ? this.#opIdx : this.#dependencyTracker.getOpenMarker();\n  }\n  recordCloseMarker(idx) {\n    this.#nestingLevel--;\n    return this;\n  }\n  beginMarkedContent(opIdx) {\n    return this;\n  }\n  endMarkedContent(opIdx) {\n    return this;\n  }\n  pushBaseTransform(ctx) {\n    this.#dependencyTracker.pushBaseTransform(ctx);\n    return this;\n  }\n  popBaseTransform() {\n    this.#dependencyTracker.popBaseTransform();\n    return this;\n  }\n  recordSimpleData(name, idx) {\n    this.#dependencyTracker.recordSimpleData(name, this.#opIdx);\n    return this;\n  }\n  recordIncrementalData(name, idx) {\n    this.#dependencyTracker.recordIncrementalData(name, this.#opIdx);\n    return this;\n  }\n  resetIncrementalData(name, idx) {\n    this.#dependencyTracker.resetIncrementalData(name, this.#opIdx);\n    return this;\n  }\n  recordNamedData(name, idx) {\n    return this;\n  }\n  recordSimpleDataFromNamed(name, depName, fallbackIdx) {\n    this.#dependencyTracker.recordSimpleDataFromNamed(name, depName, this.#opIdx);\n    return this;\n  }\n  recordFutureForcedDependency(name, idx) {\n    this.#dependencyTracker.recordFutureForcedDependency(name, this.#opIdx);\n    return this;\n  }\n  inheritSimpleDataAsFutureForcedDependencies(names) {\n    this.#dependencyTracker.inheritSimpleDataAsFutureForcedDependencies(names);\n    return this;\n  }\n  inheritPendingDependenciesAsFutureForcedDependencies() {\n    this.#dependencyTracker.inheritPendingDependenciesAsFutureForcedDependencies();\n    return this;\n  }\n  resetBBox(idx) {\n    if (!this.#ignoreBBoxes) {\n      this.#dependencyTracker.resetBBox(this.#opIdx);\n    }\n    return this;\n  }\n  recordClipBox(idx, ctx, minX, maxX, minY, maxY) {\n    if (!this.#ignoreBBoxes) {\n      this.#dependencyTracker.recordClipBox(this.#opIdx, ctx, minX, maxX, minY, maxY);\n    }\n    return this;\n  }\n  recordBBox(idx, ctx, minX, maxX, minY, maxY) {\n    if (!this.#ignoreBBoxes) {\n      this.#dependencyTracker.recordBBox(this.#opIdx, ctx, minX, maxX, minY, maxY);\n    }\n    return this;\n  }\n  recordCharacterBBox(idx, ctx, font, scale, x, y, getMeasure) {\n    if (!this.#ignoreBBoxes) {\n      this.#dependencyTracker.recordCharacterBBox(this.#opIdx, ctx, font, scale, x, y, getMeasure);\n    }\n    return this;\n  }\n  recordFullPageBBox(idx) {\n    if (!this.#ignoreBBoxes) {\n      this.#dependencyTracker.recordFullPageBBox(this.#opIdx);\n    }\n    return this;\n  }\n  getSimpleIndex(dependencyName) {\n    return this.#dependencyTracker.getSimpleIndex(dependencyName);\n  }\n  recordDependencies(idx, dependencyNames) {\n    this.#dependencyTracker.recordDependencies(this.#opIdx, dependencyNames);\n    return this;\n  }\n  recordNamedDependency(idx, name) {\n    this.#dependencyTracker.recordNamedDependency(this.#opIdx, name);\n    return this;\n  }\n  recordOperation(idx) {\n    this.#dependencyTracker.recordOperation(this.#opIdx, true);\n    return this;\n  }\n  recordShowTextOperation(idx) {\n    this.#dependencyTracker.recordShowTextOperation(this.#opIdx, true);\n    return this;\n  }\n  bboxToClipBoxDropOperation(idx) {\n    if (!this.#ignoreBBoxes) {\n      this.#dependencyTracker.bboxToClipBoxDropOperation(this.#opIdx, true);\n    }\n    return this;\n  }\n  take() {\n    throw new Error(\"Unreachable\");\n  }\n  takeDebugMetadata() {\n    throw new Error(\"Unreachable\");\n  }\n}\nconst Dependencies = {\n  stroke: [\"path\", \"transform\", \"filter\", \"strokeColor\", \"strokeAlpha\", \"lineWidth\", \"lineCap\", \"lineJoin\", \"miterLimit\", \"dash\"],\n  fill: [\"path\", \"transform\", \"filter\", \"fillColor\", \"fillAlpha\", \"globalCompositeOperation\", \"SMask\"],\n  imageXObject: [\"transform\", \"SMask\", \"filter\", \"fillAlpha\", \"strokeAlpha\", \"globalCompositeOperation\"],\n  rawFillPath: [\"filter\", \"fillColor\", \"fillAlpha\"],\n  showText: [\"transform\", \"leading\", \"charSpacing\", \"wordSpacing\", \"hScale\", \"textRise\", \"moveText\", \"textMatrix\", \"font\", \"fontObj\", \"filter\", \"fillColor\", \"textRenderingMode\", \"SMask\", \"fillAlpha\", \"strokeAlpha\", \"globalCompositeOperation\", \"sameLineText\"],\n  transform: [\"transform\"],\n  transformAndFill: [\"transform\", \"fillColor\"]\n};\n\n;// ./src/display/pattern_helper.js\n\n\nconst PathType = {\n  FILL: \"Fill\",\n  STROKE: \"Stroke\",\n  SHADING: \"Shading\"\n};\nfunction applyBoundingBox(ctx, bbox) {\n  if (!bbox) {\n    return;\n  }\n  const width = bbox[2] - bbox[0];\n  const height = bbox[3] - bbox[1];\n  const region = new Path2D();\n  region.rect(bbox[0], bbox[1], width, height);\n  ctx.clip(region);\n}\nclass BaseShadingPattern {\n  isModifyingCurrentTransform() {\n    return false;\n  }\n  getPattern() {\n    unreachable(\"Abstract method `getPattern` called.\");\n  }\n}\nclass RadialAxialShadingPattern extends BaseShadingPattern {\n  constructor(IR) {\n    super();\n    this._type = IR[1];\n    this._bbox = IR[2];\n    this._colorStops = IR[3];\n    this._p0 = IR[4];\n    this._p1 = IR[5];\n    this._r0 = IR[6];\n    this._r1 = IR[7];\n    this.matrix = null;\n  }\n  isOriginBased() {\n    return this._p0[0] === 0 && this._p0[1] === 0 && (!this.isRadial() || this._p1[0] === 0 && this._p1[1] === 0);\n  }\n  isRadial() {\n    return this._type === \"radial\";\n  }\n  _createGradient(ctx, transform = null) {\n    let grad;\n    let firstPoint = this._p0;\n    let secondPoint = this._p1;\n    if (transform) {\n      firstPoint = firstPoint.slice();\n      secondPoint = secondPoint.slice();\n      Util.applyTransform(firstPoint, transform);\n      Util.applyTransform(secondPoint, transform);\n    }\n    if (this._type === \"axial\") {\n      grad = ctx.createLinearGradient(firstPoint[0], firstPoint[1], secondPoint[0], secondPoint[1]);\n    } else if (this._type === \"radial\") {\n      let r0 = this._r0;\n      let r1 = this._r1;\n      if (transform) {\n        const scale = new Float32Array(2);\n        Util.singularValueDecompose2dScale(transform, scale);\n        r0 *= scale[0];\n        r1 *= scale[0];\n      }\n      grad = ctx.createRadialGradient(firstPoint[0], firstPoint[1], r0, secondPoint[0], secondPoint[1], r1);\n    }\n    for (const colorStop of this._colorStops) {\n      grad.addColorStop(colorStop[0], colorStop[1]);\n    }\n    return grad;\n  }\n  getPattern(ctx, owner, inverse, pathType) {\n    let pattern;\n    if (pathType === PathType.STROKE || pathType === PathType.FILL) {\n      if (this.isOriginBased()) {\n        let transf = Util.transform(inverse, owner.baseTransform);\n        if (this.matrix) {\n          transf = Util.transform(transf, this.matrix);\n        }\n        const precision = 1e-3;\n        const n1 = Math.hypot(transf[0], transf[1]);\n        const n2 = Math.hypot(transf[2], transf[3]);\n        const ps = (transf[0] * transf[2] + transf[1] * transf[3]) / (n1 * n2);\n        if (Math.abs(ps) < precision) {\n          if (this.isRadial()) {\n            if (Math.abs(n1 - n2) < precision) {\n              return this._createGradient(ctx, transf);\n            }\n          } else {\n            return this._createGradient(ctx, transf);\n          }\n        }\n      }\n      const ownerBBox = owner.current.getClippedPathBoundingBox(pathType, getCurrentTransform(ctx)) || [0, 0, 0, 0];\n      const width = Math.ceil(ownerBBox[2] - ownerBBox[0]) || 1;\n      const height = Math.ceil(ownerBBox[3] - ownerBBox[1]) || 1;\n      const tmpCanvas = owner.cachedCanvases.getCanvas(\"pattern\", width, height);\n      const tmpCtx = tmpCanvas.context;\n      tmpCtx.clearRect(0, 0, tmpCtx.canvas.width, tmpCtx.canvas.height);\n      tmpCtx.beginPath();\n      tmpCtx.rect(0, 0, tmpCtx.canvas.width, tmpCtx.canvas.height);\n      tmpCtx.translate(-ownerBBox[0], -ownerBBox[1]);\n      inverse = Util.transform(inverse, [1, 0, 0, 1, ownerBBox[0], ownerBBox[1]]);\n      tmpCtx.transform(...owner.baseTransform);\n      if (this.matrix) {\n        tmpCtx.transform(...this.matrix);\n      }\n      applyBoundingBox(tmpCtx, this._bbox);\n      tmpCtx.fillStyle = this._createGradient(tmpCtx);\n      tmpCtx.fill();\n      pattern = ctx.createPattern(tmpCanvas.canvas, \"no-repeat\");\n      const domMatrix = new DOMMatrix(inverse);\n      pattern.setTransform(domMatrix);\n    } else {\n      applyBoundingBox(ctx, this._bbox);\n      pattern = this._createGradient(ctx);\n    }\n    return pattern;\n  }\n}\nfunction drawTriangle(data, context, p1, p2, p3, c1, c2, c3) {\n  const coords = context.coords,\n    colors = context.colors;\n  const bytes = data.data,\n    rowSize = data.width * 4;\n  let tmp;\n  if (coords[p1 + 1] > coords[p2 + 1]) {\n    tmp = p1;\n    p1 = p2;\n    p2 = tmp;\n    tmp = c1;\n    c1 = c2;\n    c2 = tmp;\n  }\n  if (coords[p2 + 1] > coords[p3 + 1]) {\n    tmp = p2;\n    p2 = p3;\n    p3 = tmp;\n    tmp = c2;\n    c2 = c3;\n    c3 = tmp;\n  }\n  if (coords[p1 + 1] > coords[p2 + 1]) {\n    tmp = p1;\n    p1 = p2;\n    p2 = tmp;\n    tmp = c1;\n    c1 = c2;\n    c2 = tmp;\n  }\n  const x1 = (coords[p1] + context.offsetX) * context.scaleX;\n  const y1 = (coords[p1 + 1] + context.offsetY) * context.scaleY;\n  const x2 = (coords[p2] + context.offsetX) * context.scaleX;\n  const y2 = (coords[p2 + 1] + context.offsetY) * context.scaleY;\n  const x3 = (coords[p3] + context.offsetX) * context.scaleX;\n  const y3 = (coords[p3 + 1] + context.offsetY) * context.scaleY;\n  if (y1 >= y3) {\n    return;\n  }\n  const c1r = colors[c1],\n    c1g = colors[c1 + 1],\n    c1b = colors[c1 + 2];\n  const c2r = colors[c2],\n    c2g = colors[c2 + 1],\n    c2b = colors[c2 + 2];\n  const c3r = colors[c3],\n    c3g = colors[c3 + 1],\n    c3b = colors[c3 + 2];\n  const minY = Math.round(y1),\n    maxY = Math.round(y3);\n  let xa, car, cag, cab;\n  let xb, cbr, cbg, cbb;\n  for (let y = minY; y <= maxY; y++) {\n    if (y < y2) {\n      const k = y < y1 ? 0 : (y1 - y) / (y1 - y2);\n      xa = x1 - (x1 - x2) * k;\n      car = c1r - (c1r - c2r) * k;\n      cag = c1g - (c1g - c2g) * k;\n      cab = c1b - (c1b - c2b) * k;\n    } else {\n      let k;\n      if (y > y3) {\n        k = 1;\n      } else if (y2 === y3) {\n        k = 0;\n      } else {\n        k = (y2 - y) / (y2 - y3);\n      }\n      xa = x2 - (x2 - x3) * k;\n      car = c2r - (c2r - c3r) * k;\n      cag = c2g - (c2g - c3g) * k;\n      cab = c2b - (c2b - c3b) * k;\n    }\n    let k;\n    if (y < y1) {\n      k = 0;\n    } else if (y > y3) {\n      k = 1;\n    } else {\n      k = (y1 - y) / (y1 - y3);\n    }\n    xb = x1 - (x1 - x3) * k;\n    cbr = c1r - (c1r - c3r) * k;\n    cbg = c1g - (c1g - c3g) * k;\n    cbb = c1b - (c1b - c3b) * k;\n    const x1_ = Math.round(Math.min(xa, xb));\n    const x2_ = Math.round(Math.max(xa, xb));\n    let j = rowSize * y + x1_ * 4;\n    for (let x = x1_; x <= x2_; x++) {\n      k = (xa - x) / (xa - xb);\n      if (k < 0) {\n        k = 0;\n      } else if (k > 1) {\n        k = 1;\n      }\n      bytes[j++] = car - (car - cbr) * k | 0;\n      bytes[j++] = cag - (cag - cbg) * k | 0;\n      bytes[j++] = cab - (cab - cbb) * k | 0;\n      bytes[j++] = 255;\n    }\n  }\n}\nfunction drawFigure(data, figure, context) {\n  const ps = figure.coords;\n  const cs = figure.colors;\n  let i, ii;\n  switch (figure.type) {\n    case MeshFigureType.LATTICE:\n      const verticesPerRow = figure.verticesPerRow;\n      const rows = Math.floor(ps.length / verticesPerRow) - 1;\n      const cols = verticesPerRow - 1;\n      for (i = 0; i < rows; i++) {\n        let q = i * verticesPerRow;\n        for (let j = 0; j < cols; j++, q++) {\n          drawTriangle(data, context, ps[q], ps[q + 1], ps[q + verticesPerRow], cs[q], cs[q + 1], cs[q + verticesPerRow]);\n          drawTriangle(data, context, ps[q + verticesPerRow + 1], ps[q + 1], ps[q + verticesPerRow], cs[q + verticesPerRow + 1], cs[q + 1], cs[q + verticesPerRow]);\n        }\n      }\n      break;\n    case MeshFigureType.TRIANGLES:\n      for (i = 0, ii = ps.length; i < ii; i += 3) {\n        drawTriangle(data, context, ps[i], ps[i + 1], ps[i + 2], cs[i], cs[i + 1], cs[i + 2]);\n      }\n      break;\n    default:\n      throw new Error(\"illegal figure\");\n  }\n}\nclass MeshShadingPattern extends BaseShadingPattern {\n  constructor(IR) {\n    super();\n    this._coords = IR[2];\n    this._colors = IR[3];\n    this._figures = IR[4];\n    this._bounds = IR[5];\n    this._bbox = IR[6];\n    this._background = IR[7];\n    this.matrix = null;\n  }\n  _createMeshCanvas(combinedScale, backgroundColor, cachedCanvases) {\n    const EXPECTED_SCALE = 1.1;\n    const MAX_PATTERN_SIZE = 3000;\n    const BORDER_SIZE = 2;\n    const offsetX = Math.floor(this._bounds[0]);\n    const offsetY = Math.floor(this._bounds[1]);\n    const boundsWidth = Math.ceil(this._bounds[2]) - offsetX;\n    const boundsHeight = Math.ceil(this._bounds[3]) - offsetY;\n    const width = Math.min(Math.ceil(Math.abs(boundsWidth * combinedScale[0] * EXPECTED_SCALE)), MAX_PATTERN_SIZE);\n    const height = Math.min(Math.ceil(Math.abs(boundsHeight * combinedScale[1] * EXPECTED_SCALE)), MAX_PATTERN_SIZE);\n    const scaleX = boundsWidth / width;\n    const scaleY = boundsHeight / height;\n    const context = {\n      coords: this._coords,\n      colors: this._colors,\n      offsetX: -offsetX,\n      offsetY: -offsetY,\n      scaleX: 1 / scaleX,\n      scaleY: 1 / scaleY\n    };\n    const paddedWidth = width + BORDER_SIZE * 2;\n    const paddedHeight = height + BORDER_SIZE * 2;\n    const tmpCanvas = cachedCanvases.getCanvas(\"mesh\", paddedWidth, paddedHeight);\n    const tmpCtx = tmpCanvas.context;\n    const data = tmpCtx.createImageData(width, height);\n    if (backgroundColor) {\n      const bytes = data.data;\n      for (let i = 0, ii = bytes.length; i < ii; i += 4) {\n        bytes[i] = backgroundColor[0];\n        bytes[i + 1] = backgroundColor[1];\n        bytes[i + 2] = backgroundColor[2];\n        bytes[i + 3] = 255;\n      }\n    }\n    for (const figure of this._figures) {\n      drawFigure(data, figure, context);\n    }\n    tmpCtx.putImageData(data, BORDER_SIZE, BORDER_SIZE);\n    const canvas = tmpCanvas.canvas;\n    return {\n      canvas,\n      offsetX: offsetX - BORDER_SIZE * scaleX,\n      offsetY: offsetY - BORDER_SIZE * scaleY,\n      scaleX,\n      scaleY\n    };\n  }\n  isModifyingCurrentTransform() {\n    return true;\n  }\n  getPattern(ctx, owner, inverse, pathType) {\n    applyBoundingBox(ctx, this._bbox);\n    const scale = new Float32Array(2);\n    if (pathType === PathType.SHADING) {\n      Util.singularValueDecompose2dScale(getCurrentTransform(ctx), scale);\n    } else if (this.matrix) {\n      Util.singularValueDecompose2dScale(this.matrix, scale);\n      const [matrixScaleX, matrixScaleY] = scale;\n      Util.singularValueDecompose2dScale(owner.baseTransform, scale);\n      scale[0] *= matrixScaleX;\n      scale[1] *= matrixScaleY;\n    } else {\n      Util.singularValueDecompose2dScale(owner.baseTransform, scale);\n    }\n    const temporaryPatternCanvas = this._createMeshCanvas(scale, pathType === PathType.SHADING ? null : this._background, owner.cachedCanvases);\n    if (pathType !== PathType.SHADING) {\n      ctx.setTransform(...owner.baseTransform);\n      if (this.matrix) {\n        ctx.transform(...this.matrix);\n      }\n    }\n    ctx.translate(temporaryPatternCanvas.offsetX, temporaryPatternCanvas.offsetY);\n    ctx.scale(temporaryPatternCanvas.scaleX, temporaryPatternCanvas.scaleY);\n    return ctx.createPattern(temporaryPatternCanvas.canvas, \"no-repeat\");\n  }\n}\nclass DummyShadingPattern extends BaseShadingPattern {\n  getPattern() {\n    return \"hotpink\";\n  }\n}\nfunction getShadingPattern(IR) {\n  switch (IR[0]) {\n    case \"RadialAxial\":\n      return new RadialAxialShadingPattern(IR);\n    case \"Mesh\":\n      return new MeshShadingPattern(IR);\n    case \"Dummy\":\n      return new DummyShadingPattern();\n  }\n  throw new Error(`Unknown IR type: ${IR[0]}`);\n}\nconst PaintType = {\n  COLORED: 1,\n  UNCOLORED: 2\n};\nclass TilingPattern {\n  static MAX_PATTERN_SIZE = 3000;\n  constructor(IR, ctx, canvasGraphicsFactory, baseTransform) {\n    this.color = IR[1];\n    this.operatorList = IR[2];\n    this.matrix = IR[3];\n    this.bbox = IR[4];\n    this.xstep = IR[5];\n    this.ystep = IR[6];\n    this.paintType = IR[7];\n    this.tilingType = IR[8];\n    this.ctx = ctx;\n    this.canvasGraphicsFactory = canvasGraphicsFactory;\n    this.baseTransform = baseTransform;\n  }\n  createPatternCanvas(owner, opIdx) {\n    const {\n      bbox,\n      operatorList,\n      paintType,\n      tilingType,\n      color,\n      canvasGraphicsFactory\n    } = this;\n    let {\n      xstep,\n      ystep\n    } = this;\n    xstep = Math.abs(xstep);\n    ystep = Math.abs(ystep);\n    info(\"TilingType: \" + tilingType);\n    const x0 = bbox[0],\n      y0 = bbox[1],\n      x1 = bbox[2],\n      y1 = bbox[3];\n    const width = x1 - x0;\n    const height = y1 - y0;\n    const scale = new Float32Array(2);\n    Util.singularValueDecompose2dScale(this.matrix, scale);\n    const [matrixScaleX, matrixScaleY] = scale;\n    Util.singularValueDecompose2dScale(this.baseTransform, scale);\n    const combinedScaleX = matrixScaleX * scale[0];\n    const combinedScaleY = matrixScaleY * scale[1];\n    let canvasWidth = width,\n      canvasHeight = height,\n      redrawHorizontally = false,\n      redrawVertically = false;\n    const xScaledStep = Math.ceil(xstep * combinedScaleX);\n    const yScaledStep = Math.ceil(ystep * combinedScaleY);\n    const xScaledWidth = Math.ceil(width * combinedScaleX);\n    const yScaledHeight = Math.ceil(height * combinedScaleY);\n    if (xScaledStep >= xScaledWidth) {\n      canvasWidth = xstep;\n    } else {\n      redrawHorizontally = true;\n    }\n    if (yScaledStep >= yScaledHeight) {\n      canvasHeight = ystep;\n    } else {\n      redrawVertically = true;\n    }\n    const dimx = this.getSizeAndScale(canvasWidth, this.ctx.canvas.width, combinedScaleX);\n    const dimy = this.getSizeAndScale(canvasHeight, this.ctx.canvas.height, combinedScaleY);\n    const tmpCanvas = owner.cachedCanvases.getCanvas(\"pattern\", dimx.size, dimy.size);\n    const tmpCtx = tmpCanvas.context;\n    const graphics = canvasGraphicsFactory.createCanvasGraphics(tmpCtx, opIdx);\n    graphics.groupLevel = owner.groupLevel;\n    this.setFillAndStrokeStyleToContext(graphics, paintType, color);\n    tmpCtx.translate(-dimx.scale * x0, -dimy.scale * y0);\n    graphics.transform(0, dimx.scale, 0, 0, dimy.scale, 0, 0);\n    tmpCtx.save();\n    graphics.dependencyTracker?.save();\n    this.clipBbox(graphics, x0, y0, x1, y1);\n    graphics.baseTransform = getCurrentTransform(graphics.ctx);\n    graphics.executeOperatorList(operatorList);\n    graphics.endDrawing();\n    graphics.dependencyTracker?.restore();\n    tmpCtx.restore();\n    if (redrawHorizontally || redrawVertically) {\n      const image = tmpCanvas.canvas;\n      if (redrawHorizontally) {\n        canvasWidth = xstep;\n      }\n      if (redrawVertically) {\n        canvasHeight = ystep;\n      }\n      const dimx2 = this.getSizeAndScale(canvasWidth, this.ctx.canvas.width, combinedScaleX);\n      const dimy2 = this.getSizeAndScale(canvasHeight, this.ctx.canvas.height, combinedScaleY);\n      const xSize = dimx2.size;\n      const ySize = dimy2.size;\n      const tmpCanvas2 = owner.cachedCanvases.getCanvas(\"pattern-workaround\", xSize, ySize);\n      const tmpCtx2 = tmpCanvas2.context;\n      const ii = redrawHorizontally ? Math.floor(width / xstep) : 0;\n      const jj = redrawVertically ? Math.floor(height / ystep) : 0;\n      for (let i = 0; i <= ii; i++) {\n        for (let j = 0; j <= jj; j++) {\n          tmpCtx2.drawImage(image, xSize * i, ySize * j, xSize, ySize, 0, 0, xSize, ySize);\n        }\n      }\n      return {\n        canvas: tmpCanvas2.canvas,\n        scaleX: dimx2.scale,\n        scaleY: dimy2.scale,\n        offsetX: x0,\n        offsetY: y0\n      };\n    }\n    return {\n      canvas: tmpCanvas.canvas,\n      scaleX: dimx.scale,\n      scaleY: dimy.scale,\n      offsetX: x0,\n      offsetY: y0\n    };\n  }\n  getSizeAndScale(step, realOutputSize, scale) {\n    const maxSize = Math.max(TilingPattern.MAX_PATTERN_SIZE, realOutputSize);\n    let size = Math.ceil(step * scale);\n    if (size >= maxSize) {\n      size = maxSize;\n    } else {\n      scale = size / step;\n    }\n    return {\n      scale,\n      size\n    };\n  }\n  clipBbox(graphics, x0, y0, x1, y1) {\n    const bboxWidth = x1 - x0;\n    const bboxHeight = y1 - y0;\n    graphics.ctx.rect(x0, y0, bboxWidth, bboxHeight);\n    Util.axialAlignedBoundingBox([x0, y0, x1, y1], getCurrentTransform(graphics.ctx), graphics.current.minMax);\n    graphics.clip();\n    graphics.endPath();\n  }\n  setFillAndStrokeStyleToContext(graphics, paintType, color) {\n    const context = graphics.ctx,\n      current = graphics.current;\n    switch (paintType) {\n      case PaintType.COLORED:\n        const {\n          fillStyle,\n          strokeStyle\n        } = this.ctx;\n        context.fillStyle = current.fillColor = fillStyle;\n        context.strokeStyle = current.strokeColor = strokeStyle;\n        break;\n      case PaintType.UNCOLORED:\n        context.fillStyle = context.strokeStyle = color;\n        current.fillColor = current.strokeColor = color;\n        break;\n      default:\n        throw new FormatError(`Unsupported paint type: ${paintType}`);\n    }\n  }\n  isModifyingCurrentTransform() {\n    return false;\n  }\n  getPattern(ctx, owner, inverse, pathType, opIdx) {\n    let matrix = inverse;\n    if (pathType !== PathType.SHADING) {\n      matrix = Util.transform(matrix, owner.baseTransform);\n      if (this.matrix) {\n        matrix = Util.transform(matrix, this.matrix);\n      }\n    }\n    const temporaryPatternCanvas = this.createPatternCanvas(owner, opIdx);\n    let domMatrix = new DOMMatrix(matrix);\n    domMatrix = domMatrix.translate(temporaryPatternCanvas.offsetX, temporaryPatternCanvas.offsetY);\n    domMatrix = domMatrix.scale(1 / temporaryPatternCanvas.scaleX, 1 / temporaryPatternCanvas.scaleY);\n    const pattern = ctx.createPattern(temporaryPatternCanvas.canvas, \"repeat\");\n    pattern.setTransform(domMatrix);\n    return pattern;\n  }\n}\n\n;// ./src/shared/image_utils.js\n\nfunction convertToRGBA(params) {\n  switch (params.kind) {\n    case ImageKind.GRAYSCALE_1BPP:\n      return convertBlackAndWhiteToRGBA(params);\n    case ImageKind.RGB_24BPP:\n      return convertRGBToRGBA(params);\n  }\n  return null;\n}\nfunction convertBlackAndWhiteToRGBA({\n  src,\n  srcPos = 0,\n  dest,\n  width,\n  height,\n  nonBlackColor = 0xffffffff,\n  inverseDecode = false\n}) {\n  const black = util_FeatureTest.isLittleEndian ? 0xff000000 : 0x000000ff;\n  const [zeroMapping, oneMapping] = inverseDecode ? [nonBlackColor, black] : [black, nonBlackColor];\n  const widthInSource = width >> 3;\n  const widthRemainder = width & 7;\n  const srcLength = src.length;\n  dest = new Uint32Array(dest.buffer);\n  let destPos = 0;\n  for (let i = 0; i < height; i++) {\n    for (const max = srcPos + widthInSource; srcPos < max; srcPos++) {\n      const elem = srcPos < srcLength ? src[srcPos] : 255;\n      dest[destPos++] = elem & 0b10000000 ? oneMapping : zeroMapping;\n      dest[destPos++] = elem & 0b1000000 ? oneMapping : zeroMapping;\n      dest[destPos++] = elem & 0b100000 ? oneMapping : zeroMapping;\n      dest[destPos++] = elem & 0b10000 ? oneMapping : zeroMapping;\n      dest[destPos++] = elem & 0b1000 ? oneMapping : zeroMapping;\n      dest[destPos++] = elem & 0b100 ? oneMapping : zeroMapping;\n      dest[destPos++] = elem & 0b10 ? oneMapping : zeroMapping;\n      dest[destPos++] = elem & 0b1 ? oneMapping : zeroMapping;\n    }\n    if (widthRemainder === 0) {\n      continue;\n    }\n    const elem = srcPos < srcLength ? src[srcPos++] : 255;\n    for (let j = 0; j < widthRemainder; j++) {\n      dest[destPos++] = elem & 1 << 7 - j ? oneMapping : zeroMapping;\n    }\n  }\n  return {\n    srcPos,\n    destPos\n  };\n}\nfunction convertRGBToRGBA({\n  src,\n  srcPos = 0,\n  dest,\n  destPos = 0,\n  width,\n  height\n}) {\n  let i = 0;\n  const len = width * height * 3;\n  const len32 = len >> 2;\n  const src32 = new Uint32Array(src.buffer, srcPos, len32);\n  if (FeatureTest.isLittleEndian) {\n    for (; i < len32 - 2; i += 3, destPos += 4) {\n      const s1 = src32[i];\n      const s2 = src32[i + 1];\n      const s3 = src32[i + 2];\n      dest[destPos] = s1 | 0xff000000;\n      dest[destPos + 1] = s1 >>> 24 | s2 << 8 | 0xff000000;\n      dest[destPos + 2] = s2 >>> 16 | s3 << 16 | 0xff000000;\n      dest[destPos + 3] = s3 >>> 8 | 0xff000000;\n    }\n    for (let j = i * 4, jj = srcPos + len; j < jj; j += 3) {\n      dest[destPos++] = src[j] | src[j + 1] << 8 | src[j + 2] << 16 | 0xff000000;\n    }\n  } else {\n    for (; i < len32 - 2; i += 3, destPos += 4) {\n      const s1 = src32[i];\n      const s2 = src32[i + 1];\n      const s3 = src32[i + 2];\n      dest[destPos] = s1 | 0xff;\n      dest[destPos + 1] = s1 << 24 | s2 >>> 8 | 0xff;\n      dest[destPos + 2] = s2 << 16 | s3 >>> 16 | 0xff;\n      dest[destPos + 3] = s3 << 8 | 0xff;\n    }\n    for (let j = i * 4, jj = srcPos + len; j < jj; j += 3) {\n      dest[destPos++] = src[j] << 24 | src[j + 1] << 16 | src[j + 2] << 8 | 0xff;\n    }\n  }\n  return {\n    srcPos: srcPos + len,\n    destPos\n  };\n}\nfunction grayToRGBA(src, dest) {\n  if (FeatureTest.isLittleEndian) {\n    for (let i = 0, ii = src.length; i < ii; i++) {\n      dest[i] = src[i] * 0x10101 | 0xff000000;\n    }\n  } else {\n    for (let i = 0, ii = src.length; i < ii; i++) {\n      dest[i] = src[i] * 0x1010100 | 0x000000ff;\n    }\n  }\n}\n\n;// ./src/display/canvas.js\n\n\n\n\n\nconst MIN_FONT_SIZE = 16;\nconst MAX_FONT_SIZE = 100;\nconst EXECUTION_TIME = 15;\nconst EXECUTION_STEPS = 10;\nconst FULL_CHUNK_HEIGHT = 16;\nconst SCALE_MATRIX = new DOMMatrix();\nconst XY = new Float32Array(2);\nconst MIN_MAX_INIT = new Float32Array([Infinity, Infinity, -Infinity, -Infinity]);\nfunction mirrorContextOperations(ctx, destCtx) {\n  if (ctx._removeMirroring) {\n    throw new Error(\"Context is already forwarding operations.\");\n  }\n  ctx.__originalSave = ctx.save;\n  ctx.__originalRestore = ctx.restore;\n  ctx.__originalRotate = ctx.rotate;\n  ctx.__originalScale = ctx.scale;\n  ctx.__originalTranslate = ctx.translate;\n  ctx.__originalTransform = ctx.transform;\n  ctx.__originalSetTransform = ctx.setTransform;\n  ctx.__originalResetTransform = ctx.resetTransform;\n  ctx.__originalClip = ctx.clip;\n  ctx.__originalMoveTo = ctx.moveTo;\n  ctx.__originalLineTo = ctx.lineTo;\n  ctx.__originalBezierCurveTo = ctx.bezierCurveTo;\n  ctx.__originalRect = ctx.rect;\n  ctx.__originalClosePath = ctx.closePath;\n  ctx.__originalBeginPath = ctx.beginPath;\n  ctx._removeMirroring = () => {\n    ctx.save = ctx.__originalSave;\n    ctx.restore = ctx.__originalRestore;\n    ctx.rotate = ctx.__originalRotate;\n    ctx.scale = ctx.__originalScale;\n    ctx.translate = ctx.__originalTranslate;\n    ctx.transform = ctx.__originalTransform;\n    ctx.setTransform = ctx.__originalSetTransform;\n    ctx.resetTransform = ctx.__originalResetTransform;\n    ctx.clip = ctx.__originalClip;\n    ctx.moveTo = ctx.__originalMoveTo;\n    ctx.lineTo = ctx.__originalLineTo;\n    ctx.bezierCurveTo = ctx.__originalBezierCurveTo;\n    ctx.rect = ctx.__originalRect;\n    ctx.closePath = ctx.__originalClosePath;\n    ctx.beginPath = ctx.__originalBeginPath;\n    delete ctx._removeMirroring;\n  };\n  ctx.save = function () {\n    destCtx.save();\n    this.__originalSave();\n  };\n  ctx.restore = function () {\n    destCtx.restore();\n    this.__originalRestore();\n  };\n  ctx.translate = function (x, y) {\n    destCtx.translate(x, y);\n    this.__originalTranslate(x, y);\n  };\n  ctx.scale = function (x, y) {\n    destCtx.scale(x, y);\n    this.__originalScale(x, y);\n  };\n  ctx.transform = function (a, b, c, d, e, f) {\n    destCtx.transform(a, b, c, d, e, f);\n    this.__originalTransform(a, b, c, d, e, f);\n  };\n  ctx.setTransform = function (a, b, c, d, e, f) {\n    destCtx.setTransform(a, b, c, d, e, f);\n    this.__originalSetTransform(a, b, c, d, e, f);\n  };\n  ctx.resetTransform = function () {\n    destCtx.resetTransform();\n    this.__originalResetTransform();\n  };\n  ctx.rotate = function (angle) {\n    destCtx.rotate(angle);\n    this.__originalRotate(angle);\n  };\n  ctx.clip = function (rule) {\n    destCtx.clip(rule);\n    this.__originalClip(rule);\n  };\n  ctx.moveTo = function (x, y) {\n    destCtx.moveTo(x, y);\n    this.__originalMoveTo(x, y);\n  };\n  ctx.lineTo = function (x, y) {\n    destCtx.lineTo(x, y);\n    this.__originalLineTo(x, y);\n  };\n  ctx.bezierCurveTo = function (cp1x, cp1y, cp2x, cp2y, x, y) {\n    destCtx.bezierCurveTo(cp1x, cp1y, cp2x, cp2y, x, y);\n    this.__originalBezierCurveTo(cp1x, cp1y, cp2x, cp2y, x, y);\n  };\n  ctx.rect = function (x, y, width, height) {\n    destCtx.rect(x, y, width, height);\n    this.__originalRect(x, y, width, height);\n  };\n  ctx.closePath = function () {\n    destCtx.closePath();\n    this.__originalClosePath();\n  };\n  ctx.beginPath = function () {\n    destCtx.beginPath();\n    this.__originalBeginPath();\n  };\n}\nclass CachedCanvases {\n  constructor(canvasFactory) {\n    this.canvasFactory = canvasFactory;\n    this.cache = Object.create(null);\n  }\n  getCanvas(id, width, height) {\n    let canvasEntry;\n    if (this.cache[id] !== undefined) {\n      canvasEntry = this.cache[id];\n      this.canvasFactory.reset(canvasEntry, width, height);\n    } else {\n      canvasEntry = this.canvasFactory.create(width, height);\n      this.cache[id] = canvasEntry;\n    }\n    return canvasEntry;\n  }\n  delete(id) {\n    delete this.cache[id];\n  }\n  clear() {\n    for (const id in this.cache) {\n      const canvasEntry = this.cache[id];\n      this.canvasFactory.destroy(canvasEntry);\n      delete this.cache[id];\n    }\n  }\n}\nfunction drawImageAtIntegerCoords(ctx, srcImg, srcX, srcY, srcW, srcH, destX, destY, destW, destH) {\n  const [a, b, c, d, tx, ty] = getCurrentTransform(ctx);\n  if (b === 0 && c === 0) {\n    const tlX = destX * a + tx;\n    const rTlX = Math.round(tlX);\n    const tlY = destY * d + ty;\n    const rTlY = Math.round(tlY);\n    const brX = (destX + destW) * a + tx;\n    const rWidth = Math.abs(Math.round(brX) - rTlX) || 1;\n    const brY = (destY + destH) * d + ty;\n    const rHeight = Math.abs(Math.round(brY) - rTlY) || 1;\n    ctx.setTransform(Math.sign(a), 0, 0, Math.sign(d), rTlX, rTlY);\n    ctx.drawImage(srcImg, srcX, srcY, srcW, srcH, 0, 0, rWidth, rHeight);\n    ctx.setTransform(a, b, c, d, tx, ty);\n    return [rWidth, rHeight];\n  }\n  if (a === 0 && d === 0) {\n    const tlX = destY * c + tx;\n    const rTlX = Math.round(tlX);\n    const tlY = destX * b + ty;\n    const rTlY = Math.round(tlY);\n    const brX = (destY + destH) * c + tx;\n    const rWidth = Math.abs(Math.round(brX) - rTlX) || 1;\n    const brY = (destX + destW) * b + ty;\n    const rHeight = Math.abs(Math.round(brY) - rTlY) || 1;\n    ctx.setTransform(0, Math.sign(b), Math.sign(c), 0, rTlX, rTlY);\n    ctx.drawImage(srcImg, srcX, srcY, srcW, srcH, 0, 0, rHeight, rWidth);\n    ctx.setTransform(a, b, c, d, tx, ty);\n    return [rHeight, rWidth];\n  }\n  ctx.drawImage(srcImg, srcX, srcY, srcW, srcH, destX, destY, destW, destH);\n  const scaleX = Math.hypot(a, b);\n  const scaleY = Math.hypot(c, d);\n  return [scaleX * destW, scaleY * destH];\n}\nclass CanvasExtraState {\n  alphaIsShape = false;\n  fontSize = 0;\n  fontSizeScale = 1;\n  textMatrix = null;\n  textMatrixScale = 1;\n  fontMatrix = FONT_IDENTITY_MATRIX;\n  leading = 0;\n  x = 0;\n  y = 0;\n  lineX = 0;\n  lineY = 0;\n  charSpacing = 0;\n  wordSpacing = 0;\n  textHScale = 1;\n  textRenderingMode = TextRenderingMode.FILL;\n  textRise = 0;\n  fillColor = \"#000000\";\n  strokeColor = \"#000000\";\n  patternFill = false;\n  patternStroke = false;\n  fillAlpha = 1;\n  strokeAlpha = 1;\n  lineWidth = 1;\n  activeSMask = null;\n  transferMaps = \"none\";\n  constructor(width, height, preInit) {\n    preInit?.(this);\n    this.clipBox = new Float32Array([0, 0, width, height]);\n    this.minMax = MIN_MAX_INIT.slice();\n  }\n  clone() {\n    const clone = Object.create(this);\n    clone.clipBox = this.clipBox.slice();\n    clone.minMax = this.minMax.slice();\n    return clone;\n  }\n  getPathBoundingBox(pathType = PathType.FILL, transform = null) {\n    const box = this.minMax.slice();\n    if (pathType === PathType.STROKE) {\n      if (!transform) {\n        unreachable(\"Stroke bounding box must include transform.\");\n      }\n      Util.singularValueDecompose2dScale(transform, XY);\n      const xStrokePad = XY[0] * this.lineWidth / 2;\n      const yStrokePad = XY[1] * this.lineWidth / 2;\n      box[0] -= xStrokePad;\n      box[1] -= yStrokePad;\n      box[2] += xStrokePad;\n      box[3] += yStrokePad;\n    }\n    return box;\n  }\n  updateClipFromPath() {\n    const intersect = Util.intersect(this.clipBox, this.getPathBoundingBox());\n    this.startNewPathAndClipBox(intersect || [0, 0, 0, 0]);\n  }\n  isEmptyClip() {\n    return this.minMax[0] === Infinity;\n  }\n  startNewPathAndClipBox(box) {\n    this.clipBox.set(box, 0);\n    this.minMax.set(MIN_MAX_INIT, 0);\n  }\n  getClippedPathBoundingBox(pathType = PathType.FILL, transform = null) {\n    return Util.intersect(this.clipBox, this.getPathBoundingBox(pathType, transform));\n  }\n}\nfunction putBinaryImageData(ctx, imgData) {\n  if (imgData instanceof ImageData) {\n    ctx.putImageData(imgData, 0, 0);\n    return;\n  }\n  const height = imgData.height,\n    width = imgData.width;\n  const partialChunkHeight = height % FULL_CHUNK_HEIGHT;\n  const fullChunks = (height - partialChunkHeight) / FULL_CHUNK_HEIGHT;\n  const totalChunks = partialChunkHeight === 0 ? fullChunks : fullChunks + 1;\n  const chunkImgData = ctx.createImageData(width, FULL_CHUNK_HEIGHT);\n  let srcPos = 0,\n    destPos;\n  const src = imgData.data;\n  const dest = chunkImgData.data;\n  let i, j, thisChunkHeight, elemsInThisChunk;\n  if (imgData.kind === util_ImageKind.GRAYSCALE_1BPP) {\n    const srcLength = src.byteLength;\n    const dest32 = new Uint32Array(dest.buffer, 0, dest.byteLength >> 2);\n    const dest32DataLength = dest32.length;\n    const fullSrcDiff = width + 7 >> 3;\n    const white = 0xffffffff;\n    const black = util_FeatureTest.isLittleEndian ? 0xff000000 : 0x000000ff;\n    for (i = 0; i < totalChunks; i++) {\n      thisChunkHeight = i < fullChunks ? FULL_CHUNK_HEIGHT : partialChunkHeight;\n      destPos = 0;\n      for (j = 0; j < thisChunkHeight; j++) {\n        const srcDiff = srcLength - srcPos;\n        let k = 0;\n        const kEnd = srcDiff > fullSrcDiff ? width : srcDiff * 8 - 7;\n        const kEndUnrolled = kEnd & ~7;\n        let mask = 0;\n        let srcByte = 0;\n        for (; k < kEndUnrolled; k += 8) {\n          srcByte = src[srcPos++];\n          dest32[destPos++] = srcByte & 128 ? white : black;\n          dest32[destPos++] = srcByte & 64 ? white : black;\n          dest32[destPos++] = srcByte & 32 ? white : black;\n          dest32[destPos++] = srcByte & 16 ? white : black;\n          dest32[destPos++] = srcByte & 8 ? white : black;\n          dest32[destPos++] = srcByte & 4 ? white : black;\n          dest32[destPos++] = srcByte & 2 ? white : black;\n          dest32[destPos++] = srcByte & 1 ? white : black;\n        }\n        for (; k < kEnd; k++) {\n          if (mask === 0) {\n            srcByte = src[srcPos++];\n            mask = 128;\n          }\n          dest32[destPos++] = srcByte & mask ? white : black;\n          mask >>= 1;\n        }\n      }\n      while (destPos < dest32DataLength) {\n        dest32[destPos++] = 0;\n      }\n      ctx.putImageData(chunkImgData, 0, i * FULL_CHUNK_HEIGHT);\n    }\n  } else if (imgData.kind === util_ImageKind.RGBA_32BPP) {\n    j = 0;\n    elemsInThisChunk = width * FULL_CHUNK_HEIGHT * 4;\n    for (i = 0; i < fullChunks; i++) {\n      dest.set(src.subarray(srcPos, srcPos + elemsInThisChunk));\n      srcPos += elemsInThisChunk;\n      ctx.putImageData(chunkImgData, 0, j);\n      j += FULL_CHUNK_HEIGHT;\n    }\n    if (i < totalChunks) {\n      elemsInThisChunk = width * partialChunkHeight * 4;\n      dest.set(src.subarray(srcPos, srcPos + elemsInThisChunk));\n      ctx.putImageData(chunkImgData, 0, j);\n    }\n  } else if (imgData.kind === util_ImageKind.RGB_24BPP) {\n    thisChunkHeight = FULL_CHUNK_HEIGHT;\n    elemsInThisChunk = width * thisChunkHeight;\n    for (i = 0; i < totalChunks; i++) {\n      if (i >= fullChunks) {\n        thisChunkHeight = partialChunkHeight;\n        elemsInThisChunk = width * thisChunkHeight;\n      }\n      destPos = 0;\n      for (j = elemsInThisChunk; j--;) {\n        dest[destPos++] = src[srcPos++];\n        dest[destPos++] = src[srcPos++];\n        dest[destPos++] = src[srcPos++];\n        dest[destPos++] = 255;\n      }\n      ctx.putImageData(chunkImgData, 0, i * FULL_CHUNK_HEIGHT);\n    }\n  } else {\n    throw new Error(`bad image kind: ${imgData.kind}`);\n  }\n}\nfunction putBinaryImageMask(ctx, imgData) {\n  if (imgData.bitmap) {\n    ctx.drawImage(imgData.bitmap, 0, 0);\n    return;\n  }\n  const height = imgData.height,\n    width = imgData.width;\n  const partialChunkHeight = height % FULL_CHUNK_HEIGHT;\n  const fullChunks = (height - partialChunkHeight) / FULL_CHUNK_HEIGHT;\n  const totalChunks = partialChunkHeight === 0 ? fullChunks : fullChunks + 1;\n  const chunkImgData = ctx.createImageData(width, FULL_CHUNK_HEIGHT);\n  let srcPos = 0;\n  const src = imgData.data;\n  const dest = chunkImgData.data;\n  for (let i = 0; i < totalChunks; i++) {\n    const thisChunkHeight = i < fullChunks ? FULL_CHUNK_HEIGHT : partialChunkHeight;\n    ({\n      srcPos\n    } = convertBlackAndWhiteToRGBA({\n      src,\n      srcPos,\n      dest,\n      width,\n      height: thisChunkHeight,\n      nonBlackColor: 0\n    }));\n    ctx.putImageData(chunkImgData, 0, i * FULL_CHUNK_HEIGHT);\n  }\n}\nfunction copyCtxState(sourceCtx, destCtx) {\n  const properties = [\"strokeStyle\", \"fillStyle\", \"fillRule\", \"globalAlpha\", \"lineWidth\", \"lineCap\", \"lineJoin\", \"miterLimit\", \"globalCompositeOperation\", \"font\", \"filter\"];\n  for (const property of properties) {\n    if (sourceCtx[property] !== undefined) {\n      destCtx[property] = sourceCtx[property];\n    }\n  }\n  if (sourceCtx.setLineDash !== undefined) {\n    destCtx.setLineDash(sourceCtx.getLineDash());\n    destCtx.lineDashOffset = sourceCtx.lineDashOffset;\n  }\n}\nfunction resetCtxToDefault(ctx) {\n  ctx.strokeStyle = ctx.fillStyle = \"#000000\";\n  ctx.fillRule = \"nonzero\";\n  ctx.globalAlpha = 1;\n  ctx.lineWidth = 1;\n  ctx.lineCap = \"butt\";\n  ctx.lineJoin = \"miter\";\n  ctx.miterLimit = 10;\n  ctx.globalCompositeOperation = \"source-over\";\n  ctx.font = \"10px sans-serif\";\n  if (ctx.setLineDash !== undefined) {\n    ctx.setLineDash([]);\n    ctx.lineDashOffset = 0;\n  }\n  const {\n    filter\n  } = ctx;\n  if (filter !== \"none\" && filter !== \"\") {\n    ctx.filter = \"none\";\n  }\n}\nfunction getImageSmoothingEnabled(transform, interpolate) {\n  if (interpolate) {\n    return true;\n  }\n  Util.singularValueDecompose2dScale(transform, XY);\n  const actualScale = Math.fround(OutputScale.pixelRatio * PixelsPerInch.PDF_TO_CSS_UNITS);\n  return XY[0] <= actualScale && XY[1] <= actualScale;\n}\nconst LINE_CAP_STYLES = [\"butt\", \"round\", \"square\"];\nconst LINE_JOIN_STYLES = [\"miter\", \"round\", \"bevel\"];\nconst NORMAL_CLIP = {};\nconst EO_CLIP = {};\nclass CanvasGraphics {\n  constructor(canvasCtx, commonObjs, objs, canvasFactory, filterFactory, {\n    optionalContentConfig,\n    markedContentStack = null\n  }, annotationCanvasMap, pageColors, dependencyTracker) {\n    this.ctx = canvasCtx;\n    this.current = new CanvasExtraState(this.ctx.canvas.width, this.ctx.canvas.height);\n    this.stateStack = [];\n    this.pendingClip = null;\n    this.pendingEOFill = false;\n    this.res = null;\n    this.xobjs = null;\n    this.commonObjs = commonObjs;\n    this.objs = objs;\n    this.canvasFactory = canvasFactory;\n    this.filterFactory = filterFactory;\n    this.groupStack = [];\n    this.baseTransform = null;\n    this.baseTransformStack = [];\n    this.groupLevel = 0;\n    this.smaskStack = [];\n    this.smaskCounter = 0;\n    this.tempSMask = null;\n    this.suspendedCtx = null;\n    this.contentVisible = true;\n    this.markedContentStack = markedContentStack || [];\n    this.optionalContentConfig = optionalContentConfig;\n    this.cachedCanvases = new CachedCanvases(this.canvasFactory);\n    this.cachedPatterns = new Map();\n    this.annotationCanvasMap = annotationCanvasMap;\n    this.viewportScale = 1;\n    this.outputScaleX = 1;\n    this.outputScaleY = 1;\n    this.pageColors = pageColors;\n    this._cachedScaleForStroking = [-1, 0];\n    this._cachedGetSinglePixelWidth = null;\n    this._cachedBitmapsMap = new Map();\n    this.dependencyTracker = dependencyTracker ?? null;\n  }\n  getObject(opIdx, data, fallback = null) {\n    if (typeof data === \"string\") {\n      this.dependencyTracker?.recordNamedDependency(opIdx, data);\n      return data.startsWith(\"g_\") ? this.commonObjs.get(data) : this.objs.get(data);\n    }\n    return fallback;\n  }\n  beginDrawing({\n    transform,\n    viewport,\n    transparency = false,\n    background = null\n  }) {\n    const width = this.ctx.canvas.width;\n    const height = this.ctx.canvas.height;\n    const savedFillStyle = this.ctx.fillStyle;\n    this.ctx.fillStyle = background || \"#ffffff\";\n    this.ctx.fillRect(0, 0, width, height);\n    this.ctx.fillStyle = savedFillStyle;\n    if (transparency) {\n      const transparentCanvas = this.cachedCanvases.getCanvas(\"transparent\", width, height);\n      this.compositeCtx = this.ctx;\n      this.transparentCanvas = transparentCanvas.canvas;\n      this.ctx = transparentCanvas.context;\n      this.ctx.save();\n      this.ctx.transform(...getCurrentTransform(this.compositeCtx));\n    }\n    this.ctx.save();\n    resetCtxToDefault(this.ctx);\n    if (transform) {\n      this.ctx.transform(...transform);\n      this.outputScaleX = transform[0];\n      this.outputScaleY = transform[0];\n    }\n    this.ctx.transform(...viewport.transform);\n    this.viewportScale = viewport.scale;\n    this.baseTransform = getCurrentTransform(this.ctx);\n  }\n  executeOperatorList(operatorList, executionStartIdx, continueCallback, stepper, operationsFilter) {\n    const argsArray = operatorList.argsArray;\n    const fnArray = operatorList.fnArray;\n    let i = executionStartIdx || 0;\n    const argsArrayLen = argsArray.length;\n    if (argsArrayLen === i) {\n      return i;\n    }\n    const chunkOperations = argsArrayLen - i > EXECUTION_STEPS && typeof continueCallback === \"function\";\n    const endTime = chunkOperations ? Date.now() + EXECUTION_TIME : 0;\n    let steps = 0;\n    const commonObjs = this.commonObjs;\n    const objs = this.objs;\n    let fnId, fnArgs;\n    while (true) {\n      if (stepper !== undefined && i === stepper.nextBreakPoint) {\n        stepper.breakIt(i, continueCallback);\n        return i;\n      }\n      if (!operationsFilter || operationsFilter(i)) {\n        fnId = fnArray[i];\n        fnArgs = argsArray[i] ?? null;\n        if (fnId !== OPS.dependency) {\n          if (fnArgs === null) {\n            this[fnId](i);\n          } else {\n            this[fnId](i, ...fnArgs);\n          }\n        } else {\n          for (const depObjId of fnArgs) {\n            this.dependencyTracker?.recordNamedData(depObjId, i);\n            const objsPool = depObjId.startsWith(\"g_\") ? commonObjs : objs;\n            if (!objsPool.has(depObjId)) {\n              objsPool.get(depObjId, continueCallback);\n              return i;\n            }\n          }\n        }\n      }\n      i++;\n      if (i === argsArrayLen) {\n        return i;\n      }\n      if (chunkOperations && ++steps > EXECUTION_STEPS) {\n        if (Date.now() > endTime) {\n          continueCallback();\n          return i;\n        }\n        steps = 0;\n      }\n    }\n  }\n  #restoreInitialState() {\n    while (this.stateStack.length || this.inSMaskMode) {\n      this.restore();\n    }\n    this.current.activeSMask = null;\n    this.ctx.restore();\n    if (this.transparentCanvas) {\n      this.ctx = this.compositeCtx;\n      this.ctx.save();\n      this.ctx.setTransform(1, 0, 0, 1, 0, 0);\n      this.ctx.drawImage(this.transparentCanvas, 0, 0);\n      this.ctx.restore();\n      this.transparentCanvas = null;\n    }\n  }\n  endDrawing() {\n    this.#restoreInitialState();\n    this.cachedCanvases.clear();\n    this.cachedPatterns.clear();\n    for (const cache of this._cachedBitmapsMap.values()) {\n      for (const canvas of cache.values()) {\n        if (typeof HTMLCanvasElement !== \"undefined\" && canvas instanceof HTMLCanvasElement) {\n          canvas.width = canvas.height = 0;\n        }\n      }\n      cache.clear();\n    }\n    this._cachedBitmapsMap.clear();\n    this.#drawFilter();\n  }\n  #drawFilter() {\n    if (this.pageColors) {\n      const hcmFilterId = this.filterFactory.addHCMFilter(this.pageColors.foreground, this.pageColors.background);\n      if (hcmFilterId !== \"none\") {\n        const savedFilter = this.ctx.filter;\n        this.ctx.filter = hcmFilterId;\n        this.ctx.drawImage(this.ctx.canvas, 0, 0);\n        this.ctx.filter = savedFilter;\n      }\n    }\n  }\n  _scaleImage(img, inverseTransform) {\n    const width = img.width ?? img.displayWidth;\n    const height = img.height ?? img.displayHeight;\n    let widthScale = Math.max(Math.hypot(inverseTransform[0], inverseTransform[1]), 1);\n    let heightScale = Math.max(Math.hypot(inverseTransform[2], inverseTransform[3]), 1);\n    let paintWidth = width,\n      paintHeight = height;\n    let tmpCanvasId = \"prescale1\";\n    let tmpCanvas, tmpCtx;\n    while (widthScale > 2 && paintWidth > 1 || heightScale > 2 && paintHeight > 1) {\n      let newWidth = paintWidth,\n        newHeight = paintHeight;\n      if (widthScale > 2 && paintWidth > 1) {\n        newWidth = paintWidth >= 16384 ? Math.floor(paintWidth / 2) - 1 || 1 : Math.ceil(paintWidth / 2);\n        widthScale /= paintWidth / newWidth;\n      }\n      if (heightScale > 2 && paintHeight > 1) {\n        newHeight = paintHeight >= 16384 ? Math.floor(paintHeight / 2) - 1 || 1 : Math.ceil(paintHeight) / 2;\n        heightScale /= paintHeight / newHeight;\n      }\n      tmpCanvas = this.cachedCanvases.getCanvas(tmpCanvasId, newWidth, newHeight);\n      tmpCtx = tmpCanvas.context;\n      tmpCtx.clearRect(0, 0, newWidth, newHeight);\n      tmpCtx.drawImage(img, 0, 0, paintWidth, paintHeight, 0, 0, newWidth, newHeight);\n      img = tmpCanvas.canvas;\n      paintWidth = newWidth;\n      paintHeight = newHeight;\n      tmpCanvasId = tmpCanvasId === \"prescale1\" ? \"prescale2\" : \"prescale1\";\n    }\n    return {\n      img,\n      paintWidth,\n      paintHeight\n    };\n  }\n  _createMaskCanvas(opIdx, img) {\n    const ctx = this.ctx;\n    const {\n      width,\n      height\n    } = img;\n    const fillColor = this.current.fillColor;\n    const isPatternFill = this.current.patternFill;\n    const currentTransform = getCurrentTransform(ctx);\n    let cache, cacheKey, scaled, maskCanvas;\n    if ((img.bitmap || img.data) && img.count > 1) {\n      const mainKey = img.bitmap || img.data.buffer;\n      cacheKey = JSON.stringify(isPatternFill ? currentTransform : [currentTransform.slice(0, 4), fillColor]);\n      cache = this._cachedBitmapsMap.get(mainKey);\n      if (!cache) {\n        cache = new Map();\n        this._cachedBitmapsMap.set(mainKey, cache);\n      }\n      const cachedImage = cache.get(cacheKey);\n      if (cachedImage && !isPatternFill) {\n        const offsetX = Math.round(Math.min(currentTransform[0], currentTransform[2]) + currentTransform[4]);\n        const offsetY = Math.round(Math.min(currentTransform[1], currentTransform[3]) + currentTransform[5]);\n        this.dependencyTracker?.recordDependencies(opIdx, Dependencies.transformAndFill);\n        return {\n          canvas: cachedImage,\n          offsetX,\n          offsetY\n        };\n      }\n      scaled = cachedImage;\n    }\n    if (!scaled) {\n      maskCanvas = this.cachedCanvases.getCanvas(\"maskCanvas\", width, height);\n      putBinaryImageMask(maskCanvas.context, img);\n    }\n    let maskToCanvas = Util.transform(currentTransform, [1 / width, 0, 0, -1 / height, 0, 0]);\n    maskToCanvas = Util.transform(maskToCanvas, [1, 0, 0, 1, 0, -height]);\n    const minMax = MIN_MAX_INIT.slice();\n    Util.axialAlignedBoundingBox([0, 0, width, height], maskToCanvas, minMax);\n    const [minX, minY, maxX, maxY] = minMax;\n    const drawnWidth = Math.round(maxX - minX) || 1;\n    const drawnHeight = Math.round(maxY - minY) || 1;\n    const fillCanvas = this.cachedCanvases.getCanvas(\"fillCanvas\", drawnWidth, drawnHeight);\n    const fillCtx = fillCanvas.context;\n    const offsetX = minX;\n    const offsetY = minY;\n    fillCtx.translate(-offsetX, -offsetY);\n    fillCtx.transform(...maskToCanvas);\n    if (!scaled) {\n      scaled = this._scaleImage(maskCanvas.canvas, getCurrentTransformInverse(fillCtx));\n      scaled = scaled.img;\n      if (cache && isPatternFill) {\n        cache.set(cacheKey, scaled);\n      }\n    }\n    fillCtx.imageSmoothingEnabled = getImageSmoothingEnabled(getCurrentTransform(fillCtx), img.interpolate);\n    drawImageAtIntegerCoords(fillCtx, scaled, 0, 0, scaled.width, scaled.height, 0, 0, width, height);\n    fillCtx.globalCompositeOperation = \"source-in\";\n    const inverse = Util.transform(getCurrentTransformInverse(fillCtx), [1, 0, 0, 1, -offsetX, -offsetY]);\n    fillCtx.fillStyle = isPatternFill ? fillColor.getPattern(ctx, this, inverse, PathType.FILL, opIdx) : fillColor;\n    fillCtx.fillRect(0, 0, width, height);\n    if (cache && !isPatternFill) {\n      this.cachedCanvases.delete(\"fillCanvas\");\n      cache.set(cacheKey, fillCanvas.canvas);\n    }\n    this.dependencyTracker?.recordDependencies(opIdx, Dependencies.transformAndFill);\n    return {\n      canvas: fillCanvas.canvas,\n      offsetX: Math.round(offsetX),\n      offsetY: Math.round(offsetY)\n    };\n  }\n  setLineWidth(opIdx, width) {\n    this.dependencyTracker?.recordSimpleData(\"lineWidth\", opIdx);\n    if (width !== this.current.lineWidth) {\n      this._cachedScaleForStroking[0] = -1;\n    }\n    this.current.lineWidth = width;\n    this.ctx.lineWidth = width;\n  }\n  setLineCap(opIdx, style) {\n    this.dependencyTracker?.recordSimpleData(\"lineCap\", opIdx);\n    this.ctx.lineCap = LINE_CAP_STYLES[style];\n  }\n  setLineJoin(opIdx, style) {\n    this.dependencyTracker?.recordSimpleData(\"lineJoin\", opIdx);\n    this.ctx.lineJoin = LINE_JOIN_STYLES[style];\n  }\n  setMiterLimit(opIdx, limit) {\n    this.dependencyTracker?.recordSimpleData(\"miterLimit\", opIdx);\n    this.ctx.miterLimit = limit;\n  }\n  setDash(opIdx, dashArray, dashPhase) {\n    this.dependencyTracker?.recordSimpleData(\"dash\", opIdx);\n    const ctx = this.ctx;\n    if (ctx.setLineDash !== undefined) {\n      ctx.setLineDash(dashArray);\n      ctx.lineDashOffset = dashPhase;\n    }\n  }\n  setRenderingIntent(opIdx, intent) {}\n  setFlatness(opIdx, flatness) {}\n  setGState(opIdx, states) {\n    for (const [key, value] of states) {\n      switch (key) {\n        case \"LW\":\n          this.setLineWidth(opIdx, value);\n          break;\n        case \"LC\":\n          this.setLineCap(opIdx, value);\n          break;\n        case \"LJ\":\n          this.setLineJoin(opIdx, value);\n          break;\n        case \"ML\":\n          this.setMiterLimit(opIdx, value);\n          break;\n        case \"D\":\n          this.setDash(opIdx, value[0], value[1]);\n          break;\n        case \"RI\":\n          this.setRenderingIntent(opIdx, value);\n          break;\n        case \"FL\":\n          this.setFlatness(opIdx, value);\n          break;\n        case \"Font\":\n          this.setFont(opIdx, value[0], value[1]);\n          break;\n        case \"CA\":\n          this.dependencyTracker?.recordSimpleData(\"strokeAlpha\", opIdx);\n          this.current.strokeAlpha = value;\n          break;\n        case \"ca\":\n          this.dependencyTracker?.recordSimpleData(\"fillAlpha\", opIdx);\n          this.ctx.globalAlpha = this.current.fillAlpha = value;\n          break;\n        case \"BM\":\n          this.dependencyTracker?.recordSimpleData(\"globalCompositeOperation\", opIdx);\n          this.ctx.globalCompositeOperation = value;\n          break;\n        case \"SMask\":\n          this.dependencyTracker?.recordSimpleData(\"SMask\", opIdx);\n          this.current.activeSMask = value ? this.tempSMask : null;\n          this.tempSMask = null;\n          this.checkSMaskState();\n          break;\n        case \"TR\":\n          this.dependencyTracker?.recordSimpleData(\"filter\", opIdx);\n          this.ctx.filter = this.current.transferMaps = this.filterFactory.addFilter(value);\n          break;\n      }\n    }\n  }\n  get inSMaskMode() {\n    return !!this.suspendedCtx;\n  }\n  checkSMaskState() {\n    const inSMaskMode = this.inSMaskMode;\n    if (this.current.activeSMask && !inSMaskMode) {\n      this.beginSMaskMode();\n    } else if (!this.current.activeSMask && inSMaskMode) {\n      this.endSMaskMode();\n    }\n  }\n  beginSMaskMode(opIdx) {\n    if (this.inSMaskMode) {\n      throw new Error(\"beginSMaskMode called while already in smask mode\");\n    }\n    const drawnWidth = this.ctx.canvas.width;\n    const drawnHeight = this.ctx.canvas.height;\n    const cacheId = \"smaskGroupAt\" + this.groupLevel;\n    const scratchCanvas = this.cachedCanvases.getCanvas(cacheId, drawnWidth, drawnHeight);\n    this.suspendedCtx = this.ctx;\n    const ctx = this.ctx = scratchCanvas.context;\n    ctx.setTransform(this.suspendedCtx.getTransform());\n    copyCtxState(this.suspendedCtx, ctx);\n    mirrorContextOperations(ctx, this.suspendedCtx);\n    this.setGState(opIdx, [[\"BM\", \"source-over\"]]);\n  }\n  endSMaskMode() {\n    if (!this.inSMaskMode) {\n      throw new Error(\"endSMaskMode called while not in smask mode\");\n    }\n    this.ctx._removeMirroring();\n    copyCtxState(this.ctx, this.suspendedCtx);\n    this.ctx = this.suspendedCtx;\n    this.suspendedCtx = null;\n  }\n  compose(dirtyBox) {\n    if (!this.current.activeSMask) {\n      return;\n    }\n    if (!dirtyBox) {\n      dirtyBox = [0, 0, this.ctx.canvas.width, this.ctx.canvas.height];\n    } else {\n      dirtyBox[0] = Math.floor(dirtyBox[0]);\n      dirtyBox[1] = Math.floor(dirtyBox[1]);\n      dirtyBox[2] = Math.ceil(dirtyBox[2]);\n      dirtyBox[3] = Math.ceil(dirtyBox[3]);\n    }\n    const smask = this.current.activeSMask;\n    const suspendedCtx = this.suspendedCtx;\n    this.composeSMask(suspendedCtx, smask, this.ctx, dirtyBox);\n    this.ctx.save();\n    this.ctx.setTransform(1, 0, 0, 1, 0, 0);\n    this.ctx.clearRect(0, 0, this.ctx.canvas.width, this.ctx.canvas.height);\n    this.ctx.restore();\n  }\n  composeSMask(ctx, smask, layerCtx, layerBox) {\n    const layerOffsetX = layerBox[0];\n    const layerOffsetY = layerBox[1];\n    const layerWidth = layerBox[2] - layerOffsetX;\n    const layerHeight = layerBox[3] - layerOffsetY;\n    if (layerWidth === 0 || layerHeight === 0) {\n      return;\n    }\n    this.genericComposeSMask(smask.context, layerCtx, layerWidth, layerHeight, smask.subtype, smask.backdrop, smask.transferMap, layerOffsetX, layerOffsetY, smask.offsetX, smask.offsetY);\n    ctx.save();\n    ctx.globalAlpha = 1;\n    ctx.globalCompositeOperation = \"source-over\";\n    ctx.setTransform(1, 0, 0, 1, 0, 0);\n    ctx.drawImage(layerCtx.canvas, 0, 0);\n    ctx.restore();\n  }\n  genericComposeSMask(maskCtx, layerCtx, width, height, subtype, backdrop, transferMap, layerOffsetX, layerOffsetY, maskOffsetX, maskOffsetY) {\n    let maskCanvas = maskCtx.canvas;\n    let maskX = layerOffsetX - maskOffsetX;\n    let maskY = layerOffsetY - maskOffsetY;\n    if (backdrop) {\n      if (maskX < 0 || maskY < 0 || maskX + width > maskCanvas.width || maskY + height > maskCanvas.height) {\n        const canvas = this.cachedCanvases.getCanvas(\"maskExtension\", width, height);\n        const ctx = canvas.context;\n        ctx.drawImage(maskCanvas, -maskX, -maskY);\n        ctx.globalCompositeOperation = \"destination-atop\";\n        ctx.fillStyle = backdrop;\n        ctx.fillRect(0, 0, width, height);\n        ctx.globalCompositeOperation = \"source-over\";\n        maskCanvas = canvas.canvas;\n        maskX = maskY = 0;\n      } else {\n        maskCtx.save();\n        maskCtx.globalAlpha = 1;\n        maskCtx.setTransform(1, 0, 0, 1, 0, 0);\n        const clip = new Path2D();\n        clip.rect(maskX, maskY, width, height);\n        maskCtx.clip(clip);\n        maskCtx.globalCompositeOperation = \"destination-atop\";\n        maskCtx.fillStyle = backdrop;\n        maskCtx.fillRect(maskX, maskY, width, height);\n        maskCtx.restore();\n      }\n    }\n    layerCtx.save();\n    layerCtx.globalAlpha = 1;\n    layerCtx.setTransform(1, 0, 0, 1, 0, 0);\n    if (subtype === \"Alpha\" && transferMap) {\n      layerCtx.filter = this.filterFactory.addAlphaFilter(transferMap);\n    } else if (subtype === \"Luminosity\") {\n      layerCtx.filter = this.filterFactory.addLuminosityFilter(transferMap);\n    }\n    const clip = new Path2D();\n    clip.rect(layerOffsetX, layerOffsetY, width, height);\n    layerCtx.clip(clip);\n    layerCtx.globalCompositeOperation = \"destination-in\";\n    layerCtx.drawImage(maskCanvas, maskX, maskY, width, height, layerOffsetX, layerOffsetY, width, height);\n    layerCtx.restore();\n  }\n  save(opIdx) {\n    if (this.inSMaskMode) {\n      copyCtxState(this.ctx, this.suspendedCtx);\n    }\n    this.ctx.save();\n    const old = this.current;\n    this.stateStack.push(old);\n    this.current = old.clone();\n    this.dependencyTracker?.save(opIdx);\n  }\n  restore(opIdx) {\n    this.dependencyTracker?.restore(opIdx);\n    if (this.stateStack.length === 0) {\n      if (this.inSMaskMode) {\n        this.endSMaskMode();\n      }\n      return;\n    }\n    this.current = this.stateStack.pop();\n    this.ctx.restore();\n    if (this.inSMaskMode) {\n      copyCtxState(this.suspendedCtx, this.ctx);\n    }\n    this.checkSMaskState();\n    this.pendingClip = null;\n    this._cachedScaleForStroking[0] = -1;\n    this._cachedGetSinglePixelWidth = null;\n  }\n  transform(opIdx, a, b, c, d, e, f) {\n    this.dependencyTracker?.recordIncrementalData(\"transform\", opIdx);\n    this.ctx.transform(a, b, c, d, e, f);\n    this._cachedScaleForStroking[0] = -1;\n    this._cachedGetSinglePixelWidth = null;\n  }\n  constructPath(opIdx, op, data, minMax) {\n    let [path] = data;\n    if (!minMax) {\n      path ||= data[0] = new Path2D();\n      this[op](opIdx, path);\n      return;\n    }\n    if (this.dependencyTracker !== null) {\n      const outerExtraSize = op === OPS.stroke ? this.current.lineWidth / 2 : 0;\n      this.dependencyTracker.resetBBox(opIdx).recordBBox(opIdx, this.ctx, minMax[0] - outerExtraSize, minMax[2] + outerExtraSize, minMax[1] - outerExtraSize, minMax[3] + outerExtraSize).recordDependencies(opIdx, [\"transform\"]);\n    }\n    if (!(path instanceof Path2D)) {\n      path = data[0] = makePathFromDrawOPS(path);\n    }\n    Util.axialAlignedBoundingBox(minMax, getCurrentTransform(this.ctx), this.current.minMax);\n    this[op](opIdx, path);\n    this._pathStartIdx = opIdx;\n  }\n  closePath(opIdx) {\n    this.ctx.closePath();\n  }\n  stroke(opIdx, path, consumePath = true) {\n    const ctx = this.ctx;\n    const strokeColor = this.current.strokeColor;\n    ctx.globalAlpha = this.current.strokeAlpha;\n    if (this.contentVisible) {\n      if (typeof strokeColor === \"object\" && strokeColor?.getPattern) {\n        const baseTransform = strokeColor.isModifyingCurrentTransform() ? ctx.getTransform() : null;\n        ctx.save();\n        ctx.strokeStyle = strokeColor.getPattern(ctx, this, getCurrentTransformInverse(ctx), PathType.STROKE, opIdx);\n        if (baseTransform) {\n          const newPath = new Path2D();\n          newPath.addPath(path, ctx.getTransform().invertSelf().multiplySelf(baseTransform));\n          path = newPath;\n        }\n        this.rescaleAndStroke(path, false);\n        ctx.restore();\n      } else {\n        this.rescaleAndStroke(path, true);\n      }\n    }\n    this.dependencyTracker?.recordDependencies(opIdx, Dependencies.stroke);\n    if (consumePath) {\n      this.consumePath(opIdx, path, this.current.getClippedPathBoundingBox(PathType.STROKE, getCurrentTransform(this.ctx)));\n    }\n    ctx.globalAlpha = this.current.fillAlpha;\n  }\n  closeStroke(opIdx, path) {\n    this.stroke(opIdx, path);\n  }\n  fill(opIdx, path, consumePath = true) {\n    const ctx = this.ctx;\n    const fillColor = this.current.fillColor;\n    const isPatternFill = this.current.patternFill;\n    let needRestore = false;\n    if (isPatternFill) {\n      const baseTransform = fillColor.isModifyingCurrentTransform() ? ctx.getTransform() : null;\n      this.dependencyTracker?.save(opIdx);\n      ctx.save();\n      ctx.fillStyle = fillColor.getPattern(ctx, this, getCurrentTransformInverse(ctx), PathType.FILL, opIdx);\n      if (baseTransform) {\n        const newPath = new Path2D();\n        newPath.addPath(path, ctx.getTransform().invertSelf().multiplySelf(baseTransform));\n        path = newPath;\n      }\n      needRestore = true;\n    }\n    const intersect = this.current.getClippedPathBoundingBox();\n    if (this.contentVisible && intersect !== null) {\n      if (this.pendingEOFill) {\n        ctx.fill(path, \"evenodd\");\n        this.pendingEOFill = false;\n      } else {\n        ctx.fill(path);\n      }\n    }\n    this.dependencyTracker?.recordDependencies(opIdx, Dependencies.fill);\n    if (needRestore) {\n      ctx.restore();\n      this.dependencyTracker?.restore(opIdx);\n    }\n    if (consumePath) {\n      this.consumePath(opIdx, path, intersect);\n    }\n  }\n  eoFill(opIdx, path) {\n    this.pendingEOFill = true;\n    this.fill(opIdx, path);\n  }\n  fillStroke(opIdx, path) {\n    this.fill(opIdx, path, false);\n    this.stroke(opIdx, path, false);\n    this.consumePath(opIdx, path);\n  }\n  eoFillStroke(opIdx, path) {\n    this.pendingEOFill = true;\n    this.fillStroke(opIdx, path);\n  }\n  closeFillStroke(opIdx, path) {\n    this.fillStroke(opIdx, path);\n  }\n  closeEOFillStroke(opIdx, path) {\n    this.pendingEOFill = true;\n    this.fillStroke(opIdx, path);\n  }\n  endPath(opIdx, path) {\n    this.consumePath(opIdx, path);\n  }\n  rawFillPath(opIdx, path) {\n    this.ctx.fill(path);\n    this.dependencyTracker?.recordDependencies(opIdx, Dependencies.rawFillPath).recordOperation(opIdx);\n  }\n  clip(opIdx) {\n    this.dependencyTracker?.recordFutureForcedDependency(\"clipMode\", opIdx);\n    this.pendingClip = NORMAL_CLIP;\n  }\n  eoClip(opIdx) {\n    this.dependencyTracker?.recordFutureForcedDependency(\"clipMode\", opIdx);\n    this.pendingClip = EO_CLIP;\n  }\n  beginText(opIdx) {\n    this.current.textMatrix = null;\n    this.current.textMatrixScale = 1;\n    this.current.x = this.current.lineX = 0;\n    this.current.y = this.current.lineY = 0;\n    this.dependencyTracker?.recordOpenMarker(opIdx).resetIncrementalData(\"sameLineText\").resetIncrementalData(\"moveText\", opIdx);\n  }\n  endText(opIdx) {\n    const paths = this.pendingTextPaths;\n    const ctx = this.ctx;\n    if (this.dependencyTracker) {\n      const {\n        dependencyTracker\n      } = this;\n      if (paths !== undefined) {\n        dependencyTracker.recordFutureForcedDependency(\"textClip\", dependencyTracker.getOpenMarker()).recordFutureForcedDependency(\"textClip\", opIdx);\n      }\n      dependencyTracker.recordCloseMarker(opIdx);\n    }\n    if (paths !== undefined) {\n      const newPath = new Path2D();\n      const invTransf = ctx.getTransform().invertSelf();\n      for (const {\n        transform,\n        x,\n        y,\n        fontSize,\n        path\n      } of paths) {\n        if (!path) {\n          continue;\n        }\n        newPath.addPath(path, new DOMMatrix(transform).preMultiplySelf(invTransf).translate(x, y).scale(fontSize, -fontSize));\n      }\n      ctx.clip(newPath);\n    }\n    delete this.pendingTextPaths;\n  }\n  setCharSpacing(opIdx, spacing) {\n    this.dependencyTracker?.recordSimpleData(\"charSpacing\", opIdx);\n    this.current.charSpacing = spacing;\n  }\n  setWordSpacing(opIdx, spacing) {\n    this.dependencyTracker?.recordSimpleData(\"wordSpacing\", opIdx);\n    this.current.wordSpacing = spacing;\n  }\n  setHScale(opIdx, scale) {\n    this.dependencyTracker?.recordSimpleData(\"hScale\", opIdx);\n    this.current.textHScale = scale / 100;\n  }\n  setLeading(opIdx, leading) {\n    this.dependencyTracker?.recordSimpleData(\"leading\", opIdx);\n    this.current.leading = -leading;\n  }\n  setFont(opIdx, fontRefName, size) {\n    this.dependencyTracker?.recordSimpleData(\"font\", opIdx).recordSimpleDataFromNamed(\"fontObj\", fontRefName, opIdx);\n    const fontObj = this.commonObjs.get(fontRefName);\n    const current = this.current;\n    if (!fontObj) {\n      throw new Error(`Can't find font for ${fontRefName}`);\n    }\n    current.fontMatrix = fontObj.fontMatrix || FONT_IDENTITY_MATRIX;\n    if (current.fontMatrix[0] === 0 || current.fontMatrix[3] === 0) {\n      warn(\"Invalid font matrix for font \" + fontRefName);\n    }\n    if (size < 0) {\n      size = -size;\n      current.fontDirection = -1;\n    } else {\n      current.fontDirection = 1;\n    }\n    this.current.font = fontObj;\n    this.current.fontSize = size;\n    if (fontObj.isType3Font) {\n      return;\n    }\n    const name = fontObj.loadedName || \"sans-serif\";\n    const typeface = fontObj.systemFontInfo?.css || `\"${name}\", ${fontObj.fallbackName}`;\n    let bold = \"normal\";\n    if (fontObj.black) {\n      bold = \"900\";\n    } else if (fontObj.bold) {\n      bold = \"bold\";\n    }\n    const italic = fontObj.italic ? \"italic\" : \"normal\";\n    let browserFontSize = size;\n    if (size < MIN_FONT_SIZE) {\n      browserFontSize = MIN_FONT_SIZE;\n    } else if (size > MAX_FONT_SIZE) {\n      browserFontSize = MAX_FONT_SIZE;\n    }\n    this.current.fontSizeScale = size / browserFontSize;\n    this.ctx.font = `${italic} ${bold} ${browserFontSize}px ${typeface}`;\n  }\n  setTextRenderingMode(opIdx, mode) {\n    this.dependencyTracker?.recordSimpleData(\"textRenderingMode\", opIdx);\n    this.current.textRenderingMode = mode;\n  }\n  setTextRise(opIdx, rise) {\n    this.dependencyTracker?.recordSimpleData(\"textRise\", opIdx);\n    this.current.textRise = rise;\n  }\n  moveText(opIdx, x, y) {\n    this.dependencyTracker?.resetIncrementalData(\"sameLineText\").recordIncrementalData(\"moveText\", opIdx);\n    this.current.x = this.current.lineX += x;\n    this.current.y = this.current.lineY += y;\n  }\n  setLeadingMoveText(opIdx, x, y) {\n    this.setLeading(opIdx, -y);\n    this.moveText(opIdx, x, y);\n  }\n  setTextMatrix(opIdx, matrix) {\n    this.dependencyTracker?.resetIncrementalData(\"sameLineText\").recordSimpleData(\"textMatrix\", opIdx);\n    const {\n      current\n    } = this;\n    current.textMatrix = matrix;\n    current.textMatrixScale = Math.hypot(matrix[0], matrix[1]);\n    current.x = current.lineX = 0;\n    current.y = current.lineY = 0;\n  }\n  nextLine(opIdx) {\n    this.moveText(opIdx, 0, this.current.leading);\n    this.dependencyTracker?.recordIncrementalData(\"moveText\", this.dependencyTracker.getSimpleIndex(\"leading\") ?? opIdx);\n  }\n  #getScaledPath(path, currentTransform, transform) {\n    const newPath = new Path2D();\n    newPath.addPath(path, new DOMMatrix(transform).invertSelf().multiplySelf(currentTransform));\n    return newPath;\n  }\n  paintChar(opIdx, character, x, y, patternFillTransform, patternStrokeTransform) {\n    const ctx = this.ctx;\n    const current = this.current;\n    const font = current.font;\n    const textRenderingMode = current.textRenderingMode;\n    const fontSize = current.fontSize / current.fontSizeScale;\n    const fillStrokeMode = textRenderingMode & TextRenderingMode.FILL_STROKE_MASK;\n    const isAddToPathSet = !!(textRenderingMode & TextRenderingMode.ADD_TO_PATH_FLAG);\n    const patternFill = current.patternFill && !font.missingFile;\n    const patternStroke = current.patternStroke && !font.missingFile;\n    let path;\n    if ((font.disableFontFace || isAddToPathSet || patternFill || patternStroke) && !font.missingFile) {\n      path = font.getPathGenerator(this.commonObjs, character);\n    }\n    if (path && (font.disableFontFace || patternFill || patternStroke)) {\n      ctx.save();\n      ctx.translate(x, y);\n      ctx.scale(fontSize, -fontSize);\n      this.dependencyTracker?.recordCharacterBBox(opIdx, ctx, font);\n      let currentTransform;\n      if (fillStrokeMode === TextRenderingMode.FILL || fillStrokeMode === TextRenderingMode.FILL_STROKE) {\n        if (patternFillTransform) {\n          currentTransform = ctx.getTransform();\n          ctx.setTransform(...patternFillTransform);\n          const scaledPath = this.#getScaledPath(path, currentTransform, patternFillTransform);\n          ctx.fill(scaledPath);\n        } else {\n          ctx.fill(path);\n        }\n      }\n      if (fillStrokeMode === TextRenderingMode.STROKE || fillStrokeMode === TextRenderingMode.FILL_STROKE) {\n        if (patternStrokeTransform) {\n          currentTransform ||= ctx.getTransform();\n          ctx.setTransform(...patternStrokeTransform);\n          const {\n            a,\n            b,\n            c,\n            d\n          } = currentTransform;\n          const invPatternTransform = Util.inverseTransform(patternStrokeTransform);\n          const transf = Util.transform([a, b, c, d, 0, 0], invPatternTransform);\n          Util.singularValueDecompose2dScale(transf, XY);\n          ctx.lineWidth *= Math.max(XY[0], XY[1]) / fontSize;\n          ctx.stroke(this.#getScaledPath(path, currentTransform, patternStrokeTransform));\n        } else {\n          ctx.lineWidth /= fontSize;\n          ctx.stroke(path);\n        }\n      }\n      ctx.restore();\n    } else {\n      if (fillStrokeMode === TextRenderingMode.FILL || fillStrokeMode === TextRenderingMode.FILL_STROKE) {\n        ctx.fillText(character, x, y);\n        this.dependencyTracker?.recordCharacterBBox(opIdx, ctx, font, fontSize, x, y, () => ctx.measureText(character));\n      }\n      if (fillStrokeMode === TextRenderingMode.STROKE || fillStrokeMode === TextRenderingMode.FILL_STROKE) {\n        if (this.dependencyTracker) {\n          this.dependencyTracker?.recordCharacterBBox(opIdx, ctx, font, fontSize, x, y, () => ctx.measureText(character)).recordDependencies(opIdx, Dependencies.stroke);\n        }\n        ctx.strokeText(character, x, y);\n      }\n    }\n    if (isAddToPathSet) {\n      const paths = this.pendingTextPaths ||= [];\n      paths.push({\n        transform: getCurrentTransform(ctx),\n        x,\n        y,\n        fontSize,\n        path\n      });\n      this.dependencyTracker?.recordCharacterBBox(opIdx, ctx, font, fontSize, x, y);\n    }\n  }\n  get isFontSubpixelAAEnabled() {\n    const {\n      context: ctx\n    } = this.cachedCanvases.getCanvas(\"isFontSubpixelAAEnabled\", 10, 10);\n    ctx.scale(1.5, 1);\n    ctx.fillText(\"I\", 0, 10);\n    const data = ctx.getImageData(0, 0, 10, 10).data;\n    let enabled = false;\n    for (let i = 3; i < data.length; i += 4) {\n      if (data[i] > 0 && data[i] < 255) {\n        enabled = true;\n        break;\n      }\n    }\n    return shadow(this, \"isFontSubpixelAAEnabled\", enabled);\n  }\n  showText(opIdx, glyphs) {\n    if (this.dependencyTracker) {\n      this.dependencyTracker.recordDependencies(opIdx, Dependencies.showText).resetBBox(opIdx);\n      if (this.current.textRenderingMode & TextRenderingMode.ADD_TO_PATH_FLAG) {\n        this.dependencyTracker.recordFutureForcedDependency(\"textClip\", opIdx).inheritPendingDependenciesAsFutureForcedDependencies();\n      }\n    }\n    const current = this.current;\n    const font = current.font;\n    if (font.isType3Font) {\n      this.showType3Text(opIdx, glyphs);\n      this.dependencyTracker?.recordShowTextOperation(opIdx);\n      return undefined;\n    }\n    const fontSize = current.fontSize;\n    if (fontSize === 0) {\n      this.dependencyTracker?.recordOperation(opIdx);\n      return undefined;\n    }\n    const ctx = this.ctx;\n    const fontSizeScale = current.fontSizeScale;\n    const charSpacing = current.charSpacing;\n    const wordSpacing = current.wordSpacing;\n    const fontDirection = current.fontDirection;\n    const textHScale = current.textHScale * fontDirection;\n    const glyphsLength = glyphs.length;\n    const vertical = font.vertical;\n    const spacingDir = vertical ? 1 : -1;\n    const defaultVMetrics = font.defaultVMetrics;\n    const widthAdvanceScale = fontSize * current.fontMatrix[0];\n    const simpleFillText = current.textRenderingMode === TextRenderingMode.FILL && !font.disableFontFace && !current.patternFill;\n    ctx.save();\n    if (current.textMatrix) {\n      ctx.transform(...current.textMatrix);\n    }\n    ctx.translate(current.x, current.y + current.textRise);\n    if (fontDirection > 0) {\n      ctx.scale(textHScale, -1);\n    } else {\n      ctx.scale(textHScale, 1);\n    }\n    let patternFillTransform, patternStrokeTransform;\n    const fillStrokeMode = current.textRenderingMode & TextRenderingMode.FILL_STROKE_MASK;\n    const needsFill = fillStrokeMode === TextRenderingMode.FILL || fillStrokeMode === TextRenderingMode.FILL_STROKE;\n    const needsStroke = fillStrokeMode === TextRenderingMode.STROKE || fillStrokeMode === TextRenderingMode.FILL_STROKE;\n    if (needsFill && current.patternFill) {\n      ctx.save();\n      const pattern = current.fillColor.getPattern(ctx, this, getCurrentTransformInverse(ctx), PathType.FILL, opIdx);\n      patternFillTransform = getCurrentTransform(ctx);\n      ctx.restore();\n      ctx.fillStyle = pattern;\n    }\n    if (needsStroke && current.patternStroke) {\n      ctx.save();\n      const pattern = current.strokeColor.getPattern(ctx, this, getCurrentTransformInverse(ctx), PathType.STROKE, opIdx);\n      patternStrokeTransform = getCurrentTransform(ctx);\n      ctx.restore();\n      ctx.strokeStyle = pattern;\n    }\n    let lineWidth = current.lineWidth;\n    const scale = current.textMatrixScale;\n    if (scale === 0 || lineWidth === 0) {\n      if (needsStroke) {\n        lineWidth = this.getSinglePixelWidth();\n      }\n    } else {\n      lineWidth /= scale;\n    }\n    if (fontSizeScale !== 1.0) {\n      ctx.scale(fontSizeScale, fontSizeScale);\n      lineWidth /= fontSizeScale;\n    }\n    ctx.lineWidth = lineWidth;\n    if (font.isInvalidPDFjsFont) {\n      const chars = [];\n      let width = 0;\n      for (const glyph of glyphs) {\n        chars.push(glyph.unicode);\n        width += glyph.width;\n      }\n      const joinedChars = chars.join(\"\");\n      ctx.fillText(joinedChars, 0, 0);\n      if (this.dependencyTracker !== null) {\n        const measure = ctx.measureText(joinedChars);\n        this.dependencyTracker.recordBBox(opIdx, this.ctx, -measure.actualBoundingBoxLeft, measure.actualBoundingBoxRight, -measure.actualBoundingBoxAscent, measure.actualBoundingBoxDescent).recordShowTextOperation(opIdx);\n      }\n      current.x += width * widthAdvanceScale * textHScale;\n      ctx.restore();\n      this.compose();\n      return undefined;\n    }\n    let x = 0,\n      i;\n    for (i = 0; i < glyphsLength; ++i) {\n      const glyph = glyphs[i];\n      if (typeof glyph === \"number\") {\n        x += spacingDir * glyph * fontSize / 1000;\n        continue;\n      }\n      let restoreNeeded = false;\n      const spacing = (glyph.isSpace ? wordSpacing : 0) + charSpacing;\n      const character = glyph.fontChar;\n      const accent = glyph.accent;\n      let scaledX, scaledY;\n      let width = glyph.width;\n      if (vertical) {\n        const vmetric = glyph.vmetric || defaultVMetrics;\n        const vx = -(glyph.vmetric ? vmetric[1] : width * 0.5) * widthAdvanceScale;\n        const vy = vmetric[2] * widthAdvanceScale;\n        width = vmetric ? -vmetric[0] : width;\n        scaledX = vx / fontSizeScale;\n        scaledY = (x + vy) / fontSizeScale;\n      } else {\n        scaledX = x / fontSizeScale;\n        scaledY = 0;\n      }\n      let measure;\n      if (font.remeasure && width > 0) {\n        measure = ctx.measureText(character);\n        const measuredWidth = measure.width * 1000 / fontSize * fontSizeScale;\n        if (width < measuredWidth && this.isFontSubpixelAAEnabled) {\n          const characterScaleX = width / measuredWidth;\n          restoreNeeded = true;\n          ctx.save();\n          ctx.scale(characterScaleX, 1);\n          scaledX /= characterScaleX;\n        } else if (width !== measuredWidth) {\n          scaledX += (width - measuredWidth) / 2000 * fontSize / fontSizeScale;\n        }\n      }\n      if (this.contentVisible && (glyph.isInFont || font.missingFile)) {\n        if (simpleFillText && !accent) {\n          ctx.fillText(character, scaledX, scaledY);\n          this.dependencyTracker?.recordCharacterBBox(opIdx, ctx, measure ? {\n            bbox: null\n          } : font, fontSize / fontSizeScale, scaledX, scaledY, () => measure ?? ctx.measureText(character));\n        } else {\n          this.paintChar(opIdx, character, scaledX, scaledY, patternFillTransform, patternStrokeTransform);\n          if (accent) {\n            const scaledAccentX = scaledX + fontSize * accent.offset.x / fontSizeScale;\n            const scaledAccentY = scaledY - fontSize * accent.offset.y / fontSizeScale;\n            this.paintChar(opIdx, accent.fontChar, scaledAccentX, scaledAccentY, patternFillTransform, patternStrokeTransform);\n          }\n        }\n      }\n      const charWidth = vertical ? width * widthAdvanceScale - spacing * fontDirection : width * widthAdvanceScale + spacing * fontDirection;\n      x += charWidth;\n      if (restoreNeeded) {\n        ctx.restore();\n      }\n    }\n    if (vertical) {\n      current.y -= x;\n    } else {\n      current.x += x * textHScale;\n    }\n    ctx.restore();\n    this.compose();\n    this.dependencyTracker?.recordShowTextOperation(opIdx);\n    return undefined;\n  }\n  showType3Text(opIdx, glyphs) {\n    const ctx = this.ctx;\n    const current = this.current;\n    const font = current.font;\n    const fontSize = current.fontSize;\n    const fontDirection = current.fontDirection;\n    const spacingDir = font.vertical ? 1 : -1;\n    const charSpacing = current.charSpacing;\n    const wordSpacing = current.wordSpacing;\n    const textHScale = current.textHScale * fontDirection;\n    const fontMatrix = current.fontMatrix || FONT_IDENTITY_MATRIX;\n    const glyphsLength = glyphs.length;\n    const isTextInvisible = current.textRenderingMode === TextRenderingMode.INVISIBLE;\n    let i, glyph, width, spacingLength;\n    if (isTextInvisible || fontSize === 0) {\n      return;\n    }\n    this._cachedScaleForStroking[0] = -1;\n    this._cachedGetSinglePixelWidth = null;\n    ctx.save();\n    if (current.textMatrix) {\n      ctx.transform(...current.textMatrix);\n    }\n    ctx.translate(current.x, current.y + current.textRise);\n    ctx.scale(textHScale, fontDirection);\n    const dependencyTracker = this.dependencyTracker;\n    this.dependencyTracker = dependencyTracker ? new CanvasNestedDependencyTracker(dependencyTracker, opIdx) : null;\n    for (i = 0; i < glyphsLength; ++i) {\n      glyph = glyphs[i];\n      if (typeof glyph === \"number\") {\n        spacingLength = spacingDir * glyph * fontSize / 1000;\n        this.ctx.translate(spacingLength, 0);\n        current.x += spacingLength * textHScale;\n        continue;\n      }\n      const spacing = (glyph.isSpace ? wordSpacing : 0) + charSpacing;\n      const operatorList = font.charProcOperatorList[glyph.operatorListId];\n      if (!operatorList) {\n        warn(`Type3 character \"${glyph.operatorListId}\" is not available.`);\n      } else if (this.contentVisible) {\n        this.save();\n        ctx.scale(fontSize, fontSize);\n        ctx.transform(...fontMatrix);\n        this.executeOperatorList(operatorList);\n        this.restore();\n      }\n      const p = [glyph.width, 0];\n      Util.applyTransform(p, fontMatrix);\n      width = p[0] * fontSize + spacing;\n      ctx.translate(width, 0);\n      current.x += width * textHScale;\n    }\n    ctx.restore();\n    if (dependencyTracker) {\n      this.dependencyTracker = dependencyTracker;\n    }\n  }\n  setCharWidth(opIdx, xWidth, yWidth) {}\n  setCharWidthAndBounds(opIdx, xWidth, yWidth, llx, lly, urx, ury) {\n    const clip = new Path2D();\n    clip.rect(llx, lly, urx - llx, ury - lly);\n    this.ctx.clip(clip);\n    this.dependencyTracker?.recordBBox(opIdx, this.ctx, llx, urx, lly, ury).recordClipBox(opIdx, this.ctx, llx, urx, lly, ury);\n    this.endPath(opIdx);\n  }\n  getColorN_Pattern(opIdx, IR) {\n    let pattern;\n    if (IR[0] === \"TilingPattern\") {\n      const baseTransform = this.baseTransform || getCurrentTransform(this.ctx);\n      const canvasGraphicsFactory = {\n        createCanvasGraphics: (ctx, renderingOpIdx) => new CanvasGraphics(ctx, this.commonObjs, this.objs, this.canvasFactory, this.filterFactory, {\n          optionalContentConfig: this.optionalContentConfig,\n          markedContentStack: this.markedContentStack\n        }, undefined, undefined, this.dependencyTracker ? new CanvasNestedDependencyTracker(this.dependencyTracker, renderingOpIdx, true) : null)\n      };\n      pattern = new TilingPattern(IR, this.ctx, canvasGraphicsFactory, baseTransform);\n    } else {\n      pattern = this._getPattern(opIdx, IR[1], IR[2]);\n    }\n    return pattern;\n  }\n  setStrokeColorN(opIdx, ...args) {\n    this.dependencyTracker?.recordSimpleData(\"strokeColor\", opIdx);\n    this.current.strokeColor = this.getColorN_Pattern(opIdx, args);\n    this.current.patternStroke = true;\n  }\n  setFillColorN(opIdx, ...args) {\n    this.dependencyTracker?.recordSimpleData(\"fillColor\", opIdx);\n    this.current.fillColor = this.getColorN_Pattern(opIdx, args);\n    this.current.patternFill = true;\n  }\n  setStrokeRGBColor(opIdx, color) {\n    this.dependencyTracker?.recordSimpleData(\"strokeColor\", opIdx);\n    this.ctx.strokeStyle = this.current.strokeColor = color;\n    this.current.patternStroke = false;\n  }\n  setStrokeTransparent(opIdx) {\n    this.dependencyTracker?.recordSimpleData(\"strokeColor\", opIdx);\n    this.ctx.strokeStyle = this.current.strokeColor = \"transparent\";\n    this.current.patternStroke = false;\n  }\n  setFillRGBColor(opIdx, color) {\n    this.dependencyTracker?.recordSimpleData(\"fillColor\", opIdx);\n    this.ctx.fillStyle = this.current.fillColor = color;\n    this.current.patternFill = false;\n  }\n  setFillTransparent(opIdx) {\n    this.dependencyTracker?.recordSimpleData(\"fillColor\", opIdx);\n    this.ctx.fillStyle = this.current.fillColor = \"transparent\";\n    this.current.patternFill = false;\n  }\n  _getPattern(opIdx, objId, matrix = null) {\n    let pattern;\n    if (this.cachedPatterns.has(objId)) {\n      pattern = this.cachedPatterns.get(objId);\n    } else {\n      pattern = getShadingPattern(this.getObject(opIdx, objId));\n      this.cachedPatterns.set(objId, pattern);\n    }\n    if (matrix) {\n      pattern.matrix = matrix;\n    }\n    return pattern;\n  }\n  shadingFill(opIdx, objId) {\n    if (!this.contentVisible) {\n      return;\n    }\n    const ctx = this.ctx;\n    this.save(opIdx);\n    const pattern = this._getPattern(opIdx, objId);\n    ctx.fillStyle = pattern.getPattern(ctx, this, getCurrentTransformInverse(ctx), PathType.SHADING, opIdx);\n    const inv = getCurrentTransformInverse(ctx);\n    if (inv) {\n      const {\n        width,\n        height\n      } = ctx.canvas;\n      const minMax = MIN_MAX_INIT.slice();\n      Util.axialAlignedBoundingBox([0, 0, width, height], inv, minMax);\n      const [x0, y0, x1, y1] = minMax;\n      this.ctx.fillRect(x0, y0, x1 - x0, y1 - y0);\n    } else {\n      this.ctx.fillRect(-1e10, -1e10, 2e10, 2e10);\n    }\n    this.dependencyTracker?.resetBBox(opIdx).recordFullPageBBox(opIdx).recordDependencies(opIdx, Dependencies.transform).recordDependencies(opIdx, Dependencies.fill).recordOperation(opIdx);\n    this.compose(this.current.getClippedPathBoundingBox());\n    this.restore(opIdx);\n  }\n  beginInlineImage() {\n    unreachable(\"Should not call beginInlineImage\");\n  }\n  beginImageData() {\n    unreachable(\"Should not call beginImageData\");\n  }\n  paintFormXObjectBegin(opIdx, matrix, bbox) {\n    if (!this.contentVisible) {\n      return;\n    }\n    this.save(opIdx);\n    this.baseTransformStack.push(this.baseTransform);\n    if (matrix) {\n      this.transform(opIdx, ...matrix);\n    }\n    this.baseTransform = getCurrentTransform(this.ctx);\n    if (bbox) {\n      Util.axialAlignedBoundingBox(bbox, this.baseTransform, this.current.minMax);\n      const [x0, y0, x1, y1] = bbox;\n      const clip = new Path2D();\n      clip.rect(x0, y0, x1 - x0, y1 - y0);\n      this.ctx.clip(clip);\n      this.dependencyTracker?.recordClipBox(opIdx, this.ctx, x0, x1, y0, y1);\n      this.endPath(opIdx);\n    }\n  }\n  paintFormXObjectEnd(opIdx) {\n    if (!this.contentVisible) {\n      return;\n    }\n    this.restore(opIdx);\n    this.baseTransform = this.baseTransformStack.pop();\n  }\n  beginGroup(opIdx, group) {\n    if (!this.contentVisible) {\n      return;\n    }\n    this.save(opIdx);\n    if (this.inSMaskMode) {\n      this.endSMaskMode();\n      this.current.activeSMask = null;\n    }\n    const currentCtx = this.ctx;\n    if (!group.isolated) {\n      info(\"TODO: Support non-isolated groups.\");\n    }\n    if (group.knockout) {\n      warn(\"Knockout groups not supported.\");\n    }\n    const currentTransform = getCurrentTransform(currentCtx);\n    if (group.matrix) {\n      currentCtx.transform(...group.matrix);\n    }\n    if (!group.bbox) {\n      throw new Error(\"Bounding box is required.\");\n    }\n    let bounds = MIN_MAX_INIT.slice();\n    Util.axialAlignedBoundingBox(group.bbox, getCurrentTransform(currentCtx), bounds);\n    const canvasBounds = [0, 0, currentCtx.canvas.width, currentCtx.canvas.height];\n    bounds = Util.intersect(bounds, canvasBounds) || [0, 0, 0, 0];\n    const offsetX = Math.floor(bounds[0]);\n    const offsetY = Math.floor(bounds[1]);\n    const drawnWidth = Math.max(Math.ceil(bounds[2]) - offsetX, 1);\n    const drawnHeight = Math.max(Math.ceil(bounds[3]) - offsetY, 1);\n    this.current.startNewPathAndClipBox([0, 0, drawnWidth, drawnHeight]);\n    let cacheId = \"groupAt\" + this.groupLevel;\n    if (group.smask) {\n      cacheId += \"_smask_\" + this.smaskCounter++ % 2;\n    }\n    const scratchCanvas = this.cachedCanvases.getCanvas(cacheId, drawnWidth, drawnHeight);\n    const groupCtx = scratchCanvas.context;\n    groupCtx.translate(-offsetX, -offsetY);\n    groupCtx.transform(...currentTransform);\n    let clip = new Path2D();\n    const [x0, y0, x1, y1] = group.bbox;\n    clip.rect(x0, y0, x1 - x0, y1 - y0);\n    if (group.matrix) {\n      const path = new Path2D();\n      path.addPath(clip, new DOMMatrix(group.matrix));\n      clip = path;\n    }\n    groupCtx.clip(clip);\n    if (group.smask) {\n      this.smaskStack.push({\n        canvas: scratchCanvas.canvas,\n        context: groupCtx,\n        offsetX,\n        offsetY,\n        subtype: group.smask.subtype,\n        backdrop: group.smask.backdrop,\n        transferMap: group.smask.transferMap || null,\n        startTransformInverse: null\n      });\n    }\n    if (!group.smask || this.dependencyTracker) {\n      currentCtx.setTransform(1, 0, 0, 1, 0, 0);\n      currentCtx.translate(offsetX, offsetY);\n      currentCtx.save();\n    }\n    copyCtxState(currentCtx, groupCtx);\n    this.ctx = groupCtx;\n    this.dependencyTracker?.inheritSimpleDataAsFutureForcedDependencies([\"fillAlpha\", \"strokeAlpha\", \"globalCompositeOperation\"]).pushBaseTransform(currentCtx);\n    this.setGState(opIdx, [[\"BM\", \"source-over\"], [\"ca\", 1], [\"CA\", 1]]);\n    this.groupStack.push(currentCtx);\n    this.groupLevel++;\n  }\n  endGroup(opIdx, group) {\n    if (!this.contentVisible) {\n      return;\n    }\n    this.groupLevel--;\n    const groupCtx = this.ctx;\n    const ctx = this.groupStack.pop();\n    this.ctx = ctx;\n    this.ctx.imageSmoothingEnabled = false;\n    this.dependencyTracker?.popBaseTransform();\n    if (group.smask) {\n      this.tempSMask = this.smaskStack.pop();\n      this.restore(opIdx);\n      if (this.dependencyTracker) {\n        this.ctx.restore();\n      }\n    } else {\n      this.ctx.restore();\n      const currentMtx = getCurrentTransform(this.ctx);\n      this.restore(opIdx);\n      this.ctx.save();\n      this.ctx.setTransform(...currentMtx);\n      const dirtyBox = MIN_MAX_INIT.slice();\n      Util.axialAlignedBoundingBox([0, 0, groupCtx.canvas.width, groupCtx.canvas.height], currentMtx, dirtyBox);\n      this.ctx.drawImage(groupCtx.canvas, 0, 0);\n      this.ctx.restore();\n      this.compose(dirtyBox);\n    }\n  }\n  beginAnnotation(opIdx, id, rect, transform, matrix, hasOwnCanvas) {\n    this.#restoreInitialState();\n    resetCtxToDefault(this.ctx);\n    this.ctx.save();\n    this.save(opIdx);\n    if (this.baseTransform) {\n      this.ctx.setTransform(...this.baseTransform);\n    }\n    if (rect) {\n      const width = rect[2] - rect[0];\n      const height = rect[3] - rect[1];\n      if (hasOwnCanvas && this.annotationCanvasMap) {\n        transform = transform.slice();\n        transform[4] -= rect[0];\n        transform[5] -= rect[1];\n        rect = rect.slice();\n        rect[0] = rect[1] = 0;\n        rect[2] = width;\n        rect[3] = height;\n        Util.singularValueDecompose2dScale(getCurrentTransform(this.ctx), XY);\n        const {\n          viewportScale\n        } = this;\n        const canvasWidth = Math.ceil(width * this.outputScaleX * viewportScale);\n        const canvasHeight = Math.ceil(height * this.outputScaleY * viewportScale);\n        this.annotationCanvas = this.canvasFactory.create(canvasWidth, canvasHeight);\n        const {\n          canvas,\n          context\n        } = this.annotationCanvas;\n        this.annotationCanvasMap.set(id, canvas);\n        this.annotationCanvas.savedCtx = this.ctx;\n        this.ctx = context;\n        this.ctx.save();\n        this.ctx.setTransform(XY[0], 0, 0, -XY[1], 0, height * XY[1]);\n        resetCtxToDefault(this.ctx);\n      } else {\n        resetCtxToDefault(this.ctx);\n        this.endPath(opIdx);\n        const clip = new Path2D();\n        clip.rect(rect[0], rect[1], width, height);\n        this.ctx.clip(clip);\n      }\n    }\n    this.current = new CanvasExtraState(this.ctx.canvas.width, this.ctx.canvas.height);\n    this.transform(opIdx, ...transform);\n    this.transform(opIdx, ...matrix);\n  }\n  endAnnotation(opIdx) {\n    if (this.annotationCanvas) {\n      this.ctx.restore();\n      this.#drawFilter();\n      this.ctx = this.annotationCanvas.savedCtx;\n      delete this.annotationCanvas.savedCtx;\n      delete this.annotationCanvas;\n    }\n  }\n  paintImageMaskXObject(opIdx, img) {\n    if (!this.contentVisible) {\n      return;\n    }\n    const count = img.count;\n    img = this.getObject(opIdx, img.data, img);\n    img.count = count;\n    const ctx = this.ctx;\n    const mask = this._createMaskCanvas(opIdx, img);\n    const maskCanvas = mask.canvas;\n    ctx.save();\n    ctx.setTransform(1, 0, 0, 1, 0, 0);\n    ctx.drawImage(maskCanvas, mask.offsetX, mask.offsetY);\n    this.dependencyTracker?.resetBBox(opIdx).recordBBox(opIdx, this.ctx, mask.offsetX, mask.offsetX + maskCanvas.width, mask.offsetY, mask.offsetY + maskCanvas.height).recordOperation(opIdx);\n    ctx.restore();\n    this.compose();\n  }\n  paintImageMaskXObjectRepeat(opIdx, img, scaleX, skewX = 0, skewY = 0, scaleY, positions) {\n    if (!this.contentVisible) {\n      return;\n    }\n    img = this.getObject(opIdx, img.data, img);\n    const ctx = this.ctx;\n    ctx.save();\n    const currentTransform = getCurrentTransform(ctx);\n    ctx.transform(scaleX, skewX, skewY, scaleY, 0, 0);\n    const mask = this._createMaskCanvas(opIdx, img);\n    ctx.setTransform(1, 0, 0, 1, mask.offsetX - currentTransform[4], mask.offsetY - currentTransform[5]);\n    this.dependencyTracker?.resetBBox(opIdx);\n    for (let i = 0, ii = positions.length; i < ii; i += 2) {\n      const trans = Util.transform(currentTransform, [scaleX, skewX, skewY, scaleY, positions[i], positions[i + 1]]);\n      ctx.drawImage(mask.canvas, trans[4], trans[5]);\n      this.dependencyTracker?.recordBBox(opIdx, this.ctx, trans[4], trans[4] + mask.canvas.width, trans[5], trans[5] + mask.canvas.height);\n    }\n    ctx.restore();\n    this.compose();\n    this.dependencyTracker?.recordOperation(opIdx);\n  }\n  paintImageMaskXObjectGroup(opIdx, images) {\n    if (!this.contentVisible) {\n      return;\n    }\n    const ctx = this.ctx;\n    const fillColor = this.current.fillColor;\n    const isPatternFill = this.current.patternFill;\n    this.dependencyTracker?.resetBBox(opIdx).recordDependencies(opIdx, Dependencies.transformAndFill);\n    for (const image of images) {\n      const {\n        data,\n        width,\n        height,\n        transform\n      } = image;\n      const maskCanvas = this.cachedCanvases.getCanvas(\"maskCanvas\", width, height);\n      const maskCtx = maskCanvas.context;\n      maskCtx.save();\n      const img = this.getObject(opIdx, data, image);\n      putBinaryImageMask(maskCtx, img);\n      maskCtx.globalCompositeOperation = \"source-in\";\n      maskCtx.fillStyle = isPatternFill ? fillColor.getPattern(maskCtx, this, getCurrentTransformInverse(ctx), PathType.FILL, opIdx) : fillColor;\n      maskCtx.fillRect(0, 0, width, height);\n      maskCtx.restore();\n      ctx.save();\n      ctx.transform(...transform);\n      ctx.scale(1, -1);\n      drawImageAtIntegerCoords(ctx, maskCanvas.canvas, 0, 0, width, height, 0, -1, 1, 1);\n      this.dependencyTracker?.recordBBox(opIdx, ctx, 0, width, 0, height);\n      ctx.restore();\n    }\n    this.compose();\n    this.dependencyTracker?.recordOperation(opIdx);\n  }\n  paintImageXObject(opIdx, objId) {\n    if (!this.contentVisible) {\n      return;\n    }\n    const imgData = this.getObject(opIdx, objId);\n    if (!imgData) {\n      warn(\"Dependent image isn't ready yet\");\n      return;\n    }\n    this.paintInlineImageXObject(opIdx, imgData);\n  }\n  paintImageXObjectRepeat(opIdx, objId, scaleX, scaleY, positions) {\n    if (!this.contentVisible) {\n      return;\n    }\n    const imgData = this.getObject(opIdx, objId);\n    if (!imgData) {\n      warn(\"Dependent image isn't ready yet\");\n      return;\n    }\n    const width = imgData.width;\n    const height = imgData.height;\n    const map = [];\n    for (let i = 0, ii = positions.length; i < ii; i += 2) {\n      map.push({\n        transform: [scaleX, 0, 0, scaleY, positions[i], positions[i + 1]],\n        x: 0,\n        y: 0,\n        w: width,\n        h: height\n      });\n    }\n    this.paintInlineImageXObjectGroup(opIdx, imgData, map);\n  }\n  applyTransferMapsToCanvas(ctx) {\n    if (this.current.transferMaps !== \"none\") {\n      ctx.filter = this.current.transferMaps;\n      ctx.drawImage(ctx.canvas, 0, 0);\n      ctx.filter = \"none\";\n    }\n    return ctx.canvas;\n  }\n  applyTransferMapsToBitmap(imgData) {\n    if (this.current.transferMaps === \"none\") {\n      return imgData.bitmap;\n    }\n    const {\n      bitmap,\n      width,\n      height\n    } = imgData;\n    const tmpCanvas = this.cachedCanvases.getCanvas(\"inlineImage\", width, height);\n    const tmpCtx = tmpCanvas.context;\n    tmpCtx.filter = this.current.transferMaps;\n    tmpCtx.drawImage(bitmap, 0, 0);\n    tmpCtx.filter = \"none\";\n    return tmpCanvas.canvas;\n  }\n  paintInlineImageXObject(opIdx, imgData) {\n    if (!this.contentVisible) {\n      return;\n    }\n    const width = imgData.width;\n    const height = imgData.height;\n    const ctx = this.ctx;\n    this.save(opIdx);\n    const {\n      filter\n    } = ctx;\n    if (filter !== \"none\" && filter !== \"\") {\n      ctx.filter = \"none\";\n    }\n    ctx.scale(1 / width, -1 / height);\n    let imgToPaint;\n    if (imgData.bitmap) {\n      imgToPaint = this.applyTransferMapsToBitmap(imgData);\n    } else if (typeof HTMLElement === \"function\" && imgData instanceof HTMLElement || !imgData.data) {\n      imgToPaint = imgData;\n    } else {\n      const tmpCanvas = this.cachedCanvases.getCanvas(\"inlineImage\", width, height);\n      const tmpCtx = tmpCanvas.context;\n      putBinaryImageData(tmpCtx, imgData);\n      imgToPaint = this.applyTransferMapsToCanvas(tmpCtx);\n    }\n    const scaled = this._scaleImage(imgToPaint, getCurrentTransformInverse(ctx));\n    ctx.imageSmoothingEnabled = getImageSmoothingEnabled(getCurrentTransform(ctx), imgData.interpolate);\n    this.dependencyTracker?.resetBBox(opIdx).recordBBox(opIdx, ctx, 0, width, -height, 0).recordDependencies(opIdx, Dependencies.imageXObject).recordOperation(opIdx);\n    drawImageAtIntegerCoords(ctx, scaled.img, 0, 0, scaled.paintWidth, scaled.paintHeight, 0, -height, width, height);\n    this.compose();\n    this.restore(opIdx);\n  }\n  paintInlineImageXObjectGroup(opIdx, imgData, map) {\n    if (!this.contentVisible) {\n      return;\n    }\n    const ctx = this.ctx;\n    let imgToPaint;\n    if (imgData.bitmap) {\n      imgToPaint = imgData.bitmap;\n    } else {\n      const w = imgData.width;\n      const h = imgData.height;\n      const tmpCanvas = this.cachedCanvases.getCanvas(\"inlineImage\", w, h);\n      const tmpCtx = tmpCanvas.context;\n      putBinaryImageData(tmpCtx, imgData);\n      imgToPaint = this.applyTransferMapsToCanvas(tmpCtx);\n    }\n    this.dependencyTracker?.resetBBox(opIdx);\n    for (const entry of map) {\n      ctx.save();\n      ctx.transform(...entry.transform);\n      ctx.scale(1, -1);\n      drawImageAtIntegerCoords(ctx, imgToPaint, entry.x, entry.y, entry.w, entry.h, 0, -1, 1, 1);\n      this.dependencyTracker?.recordBBox(opIdx, ctx, 0, 1, -1, 0);\n      ctx.restore();\n    }\n    this.dependencyTracker?.recordOperation(opIdx);\n    this.compose();\n  }\n  paintSolidColorImageMask(opIdx) {\n    if (!this.contentVisible) {\n      return;\n    }\n    this.dependencyTracker?.resetBBox(opIdx).recordBBox(opIdx, this.ctx, 0, 1, 0, 1).recordDependencies(opIdx, Dependencies.fill).recordOperation(opIdx);\n    this.ctx.fillRect(0, 0, 1, 1);\n    this.compose();\n  }\n  markPoint(opIdx, tag) {}\n  markPointProps(opIdx, tag, properties) {}\n  beginMarkedContent(opIdx, tag) {\n    this.dependencyTracker?.beginMarkedContent(opIdx);\n    this.markedContentStack.push({\n      visible: true\n    });\n  }\n  beginMarkedContentProps(opIdx, tag, properties) {\n    this.dependencyTracker?.beginMarkedContent(opIdx);\n    if (tag === \"OC\") {\n      this.markedContentStack.push({\n        visible: this.optionalContentConfig.isVisible(properties)\n      });\n    } else {\n      this.markedContentStack.push({\n        visible: true\n      });\n    }\n    this.contentVisible = this.isContentVisible();\n  }\n  endMarkedContent(opIdx) {\n    this.dependencyTracker?.endMarkedContent(opIdx);\n    this.markedContentStack.pop();\n    this.contentVisible = this.isContentVisible();\n  }\n  beginCompat(opIdx) {}\n  endCompat(opIdx) {}\n  consumePath(opIdx, path, clipBox) {\n    const isEmpty = this.current.isEmptyClip();\n    if (this.pendingClip) {\n      this.current.updateClipFromPath();\n    }\n    if (!this.pendingClip) {\n      this.compose(clipBox);\n    }\n    const ctx = this.ctx;\n    if (this.pendingClip) {\n      if (!isEmpty) {\n        if (this.pendingClip === EO_CLIP) {\n          ctx.clip(path, \"evenodd\");\n        } else {\n          ctx.clip(path);\n        }\n      }\n      this.pendingClip = null;\n      this.dependencyTracker?.bboxToClipBoxDropOperation(opIdx).recordFutureForcedDependency(\"clipPath\", opIdx);\n    } else {\n      this.dependencyTracker?.recordOperation(opIdx);\n    }\n    this.current.startNewPathAndClipBox(this.current.clipBox);\n  }\n  getSinglePixelWidth() {\n    if (!this._cachedGetSinglePixelWidth) {\n      const m = getCurrentTransform(this.ctx);\n      if (m[1] === 0 && m[2] === 0) {\n        this._cachedGetSinglePixelWidth = 1 / Math.min(Math.abs(m[0]), Math.abs(m[3]));\n      } else {\n        const absDet = Math.abs(m[0] * m[3] - m[2] * m[1]);\n        const normX = Math.hypot(m[0], m[2]);\n        const normY = Math.hypot(m[1], m[3]);\n        this._cachedGetSinglePixelWidth = Math.max(normX, normY) / absDet;\n      }\n    }\n    return this._cachedGetSinglePixelWidth;\n  }\n  getScaleForStroking() {\n    if (this._cachedScaleForStroking[0] === -1) {\n      const {\n        lineWidth\n      } = this.current;\n      const {\n        a,\n        b,\n        c,\n        d\n      } = this.ctx.getTransform();\n      let scaleX, scaleY;\n      if (b === 0 && c === 0) {\n        const normX = Math.abs(a);\n        const normY = Math.abs(d);\n        if (normX === normY) {\n          if (lineWidth === 0) {\n            scaleX = scaleY = 1 / normX;\n          } else {\n            const scaledLineWidth = normX * lineWidth;\n            scaleX = scaleY = scaledLineWidth < 1 ? 1 / scaledLineWidth : 1;\n          }\n        } else if (lineWidth === 0) {\n          scaleX = 1 / normX;\n          scaleY = 1 / normY;\n        } else {\n          const scaledXLineWidth = normX * lineWidth;\n          const scaledYLineWidth = normY * lineWidth;\n          scaleX = scaledXLineWidth < 1 ? 1 / scaledXLineWidth : 1;\n          scaleY = scaledYLineWidth < 1 ? 1 / scaledYLineWidth : 1;\n        }\n      } else {\n        const absDet = Math.abs(a * d - b * c);\n        const normX = Math.hypot(a, b);\n        const normY = Math.hypot(c, d);\n        if (lineWidth === 0) {\n          scaleX = normY / absDet;\n          scaleY = normX / absDet;\n        } else {\n          const baseArea = lineWidth * absDet;\n          scaleX = normY > baseArea ? normY / baseArea : 1;\n          scaleY = normX > baseArea ? normX / baseArea : 1;\n        }\n      }\n      this._cachedScaleForStroking[0] = scaleX;\n      this._cachedScaleForStroking[1] = scaleY;\n    }\n    return this._cachedScaleForStroking;\n  }\n  rescaleAndStroke(path, saveRestore) {\n    const {\n      ctx,\n      current: {\n        lineWidth\n      }\n    } = this;\n    const [scaleX, scaleY] = this.getScaleForStroking();\n    if (scaleX === scaleY) {\n      ctx.lineWidth = (lineWidth || 1) * scaleX;\n      ctx.stroke(path);\n      return;\n    }\n    const dashes = ctx.getLineDash();\n    if (saveRestore) {\n      ctx.save();\n    }\n    ctx.scale(scaleX, scaleY);\n    SCALE_MATRIX.a = 1 / scaleX;\n    SCALE_MATRIX.d = 1 / scaleY;\n    const newPath = new Path2D();\n    newPath.addPath(path, SCALE_MATRIX);\n    if (dashes.length > 0) {\n      const scale = Math.max(scaleX, scaleY);\n      ctx.setLineDash(dashes.map(x => x / scale));\n      ctx.lineDashOffset /= scale;\n    }\n    ctx.lineWidth = lineWidth || 1;\n    ctx.stroke(newPath);\n    if (saveRestore) {\n      ctx.restore();\n    }\n  }\n  isContentVisible() {\n    for (let i = this.markedContentStack.length - 1; i >= 0; i--) {\n      if (!this.markedContentStack[i].visible) {\n        return false;\n      }\n    }\n    return true;\n  }\n}\nfor (const op in OPS) {\n  if (CanvasGraphics.prototype[op] !== undefined) {\n    CanvasGraphics.prototype[OPS[op]] = CanvasGraphics.prototype[op];\n  }\n}\n\n;// ./src/display/worker_options.js\nclass GlobalWorkerOptions {\n  static #port = null;\n  static #src = \"\";\n  static get workerPort() {\n    return this.#port;\n  }\n  static set workerPort(val) {\n    if (!(typeof Worker !== \"undefined\" && val instanceof Worker) && val !== null) {\n      throw new Error(\"Invalid `workerPort` type.\");\n    }\n    this.#port = val;\n  }\n  static get workerSrc() {\n    return this.#src;\n  }\n  static set workerSrc(val) {\n    if (typeof val !== \"string\") {\n      throw new Error(\"Invalid `workerSrc` type.\");\n    }\n    this.#src = val;\n  }\n}\n\n;// ./src/display/metadata.js\nclass Metadata {\n  #map;\n  #data;\n  constructor({\n    parsedData,\n    rawData\n  }) {\n    this.#map = parsedData;\n    this.#data = rawData;\n  }\n  getRaw() {\n    return this.#data;\n  }\n  get(name) {\n    return this.#map.get(name) ?? null;\n  }\n  [Symbol.iterator]() {\n    return this.#map.entries();\n  }\n}\n\n;// ./src/display/optional_content_config.js\n\n\nconst INTERNAL = Symbol(\"INTERNAL\");\nclass OptionalContentGroup {\n  #isDisplay = false;\n  #isPrint = false;\n  #userSet = false;\n  #visible = true;\n  constructor(renderingIntent, {\n    name,\n    intent,\n    usage,\n    rbGroups\n  }) {\n    this.#isDisplay = !!(renderingIntent & RenderingIntentFlag.DISPLAY);\n    this.#isPrint = !!(renderingIntent & RenderingIntentFlag.PRINT);\n    this.name = name;\n    this.intent = intent;\n    this.usage = usage;\n    this.rbGroups = rbGroups;\n  }\n  get visible() {\n    if (this.#userSet) {\n      return this.#visible;\n    }\n    if (!this.#visible) {\n      return false;\n    }\n    const {\n      print,\n      view\n    } = this.usage;\n    if (this.#isDisplay) {\n      return view?.viewState !== \"OFF\";\n    } else if (this.#isPrint) {\n      return print?.printState !== \"OFF\";\n    }\n    return true;\n  }\n  _setVisible(internal, visible, userSet = false) {\n    if (internal !== INTERNAL) {\n      unreachable(\"Internal method `_setVisible` called.\");\n    }\n    this.#userSet = userSet;\n    this.#visible = visible;\n  }\n}\nclass OptionalContentConfig {\n  #cachedGetHash = null;\n  #groups = new Map();\n  #initialHash = null;\n  #order = null;\n  constructor(data, renderingIntent = RenderingIntentFlag.DISPLAY) {\n    this.renderingIntent = renderingIntent;\n    this.name = null;\n    this.creator = null;\n    if (data === null) {\n      return;\n    }\n    this.name = data.name;\n    this.creator = data.creator;\n    this.#order = data.order;\n    for (const group of data.groups) {\n      this.#groups.set(group.id, new OptionalContentGroup(renderingIntent, group));\n    }\n    if (data.baseState === \"OFF\") {\n      for (const group of this.#groups.values()) {\n        group._setVisible(INTERNAL, false);\n      }\n    }\n    for (const on of data.on) {\n      this.#groups.get(on)._setVisible(INTERNAL, true);\n    }\n    for (const off of data.off) {\n      this.#groups.get(off)._setVisible(INTERNAL, false);\n    }\n    this.#initialHash = this.getHash();\n  }\n  #evaluateVisibilityExpression(array) {\n    const length = array.length;\n    if (length < 2) {\n      return true;\n    }\n    const operator = array[0];\n    for (let i = 1; i < length; i++) {\n      const element = array[i];\n      let state;\n      if (Array.isArray(element)) {\n        state = this.#evaluateVisibilityExpression(element);\n      } else if (this.#groups.has(element)) {\n        state = this.#groups.get(element).visible;\n      } else {\n        warn(`Optional content group not found: ${element}`);\n        return true;\n      }\n      switch (operator) {\n        case \"And\":\n          if (!state) {\n            return false;\n          }\n          break;\n        case \"Or\":\n          if (state) {\n            return true;\n          }\n          break;\n        case \"Not\":\n          return !state;\n        default:\n          return true;\n      }\n    }\n    return operator === \"And\";\n  }\n  isVisible(group) {\n    if (this.#groups.size === 0) {\n      return true;\n    }\n    if (!group) {\n      info(\"Optional content group not defined.\");\n      return true;\n    }\n    if (group.type === \"OCG\") {\n      if (!this.#groups.has(group.id)) {\n        warn(`Optional content group not found: ${group.id}`);\n        return true;\n      }\n      return this.#groups.get(group.id).visible;\n    } else if (group.type === \"OCMD\") {\n      if (group.expression) {\n        return this.#evaluateVisibilityExpression(group.expression);\n      }\n      if (!group.policy || group.policy === \"AnyOn\") {\n        for (const id of group.ids) {\n          if (!this.#groups.has(id)) {\n            warn(`Optional content group not found: ${id}`);\n            return true;\n          }\n          if (this.#groups.get(id).visible) {\n            return true;\n          }\n        }\n        return false;\n      } else if (group.policy === \"AllOn\") {\n        for (const id of group.ids) {\n          if (!this.#groups.has(id)) {\n            warn(`Optional content group not found: ${id}`);\n            return true;\n          }\n          if (!this.#groups.get(id).visible) {\n            return false;\n          }\n        }\n        return true;\n      } else if (group.policy === \"AnyOff\") {\n        for (const id of group.ids) {\n          if (!this.#groups.has(id)) {\n            warn(`Optional content group not found: ${id}`);\n            return true;\n          }\n          if (!this.#groups.get(id).visible) {\n            return true;\n          }\n        }\n        return false;\n      } else if (group.policy === \"AllOff\") {\n        for (const id of group.ids) {\n          if (!this.#groups.has(id)) {\n            warn(`Optional content group not found: ${id}`);\n            return true;\n          }\n          if (this.#groups.get(id).visible) {\n            return false;\n          }\n        }\n        return true;\n      }\n      warn(`Unknown optional content policy ${group.policy}.`);\n      return true;\n    }\n    warn(`Unknown group type ${group.type}.`);\n    return true;\n  }\n  setVisibility(id, visible = true, preserveRB = true) {\n    const group = this.#groups.get(id);\n    if (!group) {\n      warn(`Optional content group not found: ${id}`);\n      return;\n    }\n    if (preserveRB && visible && group.rbGroups.length) {\n      for (const rbGroup of group.rbGroups) {\n        for (const otherId of rbGroup) {\n          if (otherId !== id) {\n            this.#groups.get(otherId)?._setVisible(INTERNAL, false, true);\n          }\n        }\n      }\n    }\n    group._setVisible(INTERNAL, !!visible, true);\n    this.#cachedGetHash = null;\n  }\n  setOCGState({\n    state,\n    preserveRB\n  }) {\n    let operator;\n    for (const elem of state) {\n      switch (elem) {\n        case \"ON\":\n        case \"OFF\":\n        case \"Toggle\":\n          operator = elem;\n          continue;\n      }\n      const group = this.#groups.get(elem);\n      if (!group) {\n        continue;\n      }\n      switch (operator) {\n        case \"ON\":\n          this.setVisibility(elem, true, preserveRB);\n          break;\n        case \"OFF\":\n          this.setVisibility(elem, false, preserveRB);\n          break;\n        case \"Toggle\":\n          this.setVisibility(elem, !group.visible, preserveRB);\n          break;\n      }\n    }\n    this.#cachedGetHash = null;\n  }\n  get hasInitialVisibility() {\n    return this.#initialHash === null || this.getHash() === this.#initialHash;\n  }\n  getOrder() {\n    if (!this.#groups.size) {\n      return null;\n    }\n    if (this.#order) {\n      return this.#order.slice();\n    }\n    return [...this.#groups.keys()];\n  }\n  getGroup(id) {\n    return this.#groups.get(id) || null;\n  }\n  getHash() {\n    if (this.#cachedGetHash !== null) {\n      return this.#cachedGetHash;\n    }\n    const hash = new MurmurHash3_64();\n    for (const [id, group] of this.#groups) {\n      hash.update(`${id}:${group.visible}`);\n    }\n    return this.#cachedGetHash = hash.hexdigest();\n  }\n  [Symbol.iterator]() {\n    return this.#groups.entries();\n  }\n}\n\n;// ./src/display/transport_stream.js\n\n\nclass PDFDataTransportStream {\n  constructor(pdfDataRangeTransport, {\n    disableRange = false,\n    disableStream = false\n  }) {\n    assert(pdfDataRangeTransport, 'PDFDataTransportStream - missing required \"pdfDataRangeTransport\" argument.');\n    const {\n      length,\n      initialData,\n      progressiveDone,\n      contentDispositionFilename\n    } = pdfDataRangeTransport;\n    this._queuedChunks = [];\n    this._progressiveDone = progressiveDone;\n    this._contentDispositionFilename = contentDispositionFilename;\n    if (initialData?.length > 0) {\n      const buffer = initialData instanceof Uint8Array && initialData.byteLength === initialData.buffer.byteLength ? initialData.buffer : new Uint8Array(initialData).buffer;\n      this._queuedChunks.push(buffer);\n    }\n    this._pdfDataRangeTransport = pdfDataRangeTransport;\n    this._isStreamingSupported = !disableStream;\n    this._isRangeSupported = !disableRange;\n    this._contentLength = length;\n    this._fullRequestReader = null;\n    this._rangeReaders = [];\n    pdfDataRangeTransport.addRangeListener((begin, chunk) => {\n      this._onReceiveData({\n        begin,\n        chunk\n      });\n    });\n    pdfDataRangeTransport.addProgressListener((loaded, total) => {\n      this._onProgress({\n        loaded,\n        total\n      });\n    });\n    pdfDataRangeTransport.addProgressiveReadListener(chunk => {\n      this._onReceiveData({\n        chunk\n      });\n    });\n    pdfDataRangeTransport.addProgressiveDoneListener(() => {\n      this._onProgressiveDone();\n    });\n    pdfDataRangeTransport.transportReady();\n  }\n  _onReceiveData({\n    begin,\n    chunk\n  }) {\n    const buffer = chunk instanceof Uint8Array && chunk.byteLength === chunk.buffer.byteLength ? chunk.buffer : new Uint8Array(chunk).buffer;\n    if (begin === undefined) {\n      if (this._fullRequestReader) {\n        this._fullRequestReader._enqueue(buffer);\n      } else {\n        this._queuedChunks.push(buffer);\n      }\n    } else {\n      const found = this._rangeReaders.some(function (rangeReader) {\n        if (rangeReader._begin !== begin) {\n          return false;\n        }\n        rangeReader._enqueue(buffer);\n        return true;\n      });\n      assert(found, \"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.\");\n    }\n  }\n  get _progressiveDataLength() {\n    return this._fullRequestReader?._loaded ?? 0;\n  }\n  _onProgress(evt) {\n    if (evt.total === undefined) {\n      this._rangeReaders[0]?.onProgress?.({\n        loaded: evt.loaded\n      });\n    } else {\n      this._fullRequestReader?.onProgress?.({\n        loaded: evt.loaded,\n        total: evt.total\n      });\n    }\n  }\n  _onProgressiveDone() {\n    this._fullRequestReader?.progressiveDone();\n    this._progressiveDone = true;\n  }\n  _removeRangeReader(reader) {\n    const i = this._rangeReaders.indexOf(reader);\n    if (i >= 0) {\n      this._rangeReaders.splice(i, 1);\n    }\n  }\n  getFullReader() {\n    assert(!this._fullRequestReader, \"PDFDataTransportStream.getFullReader can only be called once.\");\n    const queuedChunks = this._queuedChunks;\n    this._queuedChunks = null;\n    return new PDFDataTransportStreamReader(this, queuedChunks, this._progressiveDone, this._contentDispositionFilename);\n  }\n  getRangeReader(begin, end) {\n    if (end <= this._progressiveDataLength) {\n      return null;\n    }\n    const reader = new PDFDataTransportStreamRangeReader(this, begin, end);\n    this._pdfDataRangeTransport.requestDataRange(begin, end);\n    this._rangeReaders.push(reader);\n    return reader;\n  }\n  cancelAllRequests(reason) {\n    this._fullRequestReader?.cancel(reason);\n    for (const reader of this._rangeReaders.slice(0)) {\n      reader.cancel(reason);\n    }\n    this._pdfDataRangeTransport.abort();\n  }\n}\nclass PDFDataTransportStreamReader {\n  constructor(stream, queuedChunks, progressiveDone = false, contentDispositionFilename = null) {\n    this._stream = stream;\n    this._done = progressiveDone || false;\n    this._filename = isPdfFile(contentDispositionFilename) ? contentDispositionFilename : null;\n    this._queuedChunks = queuedChunks || [];\n    this._loaded = 0;\n    for (const chunk of this._queuedChunks) {\n      this._loaded += chunk.byteLength;\n    }\n    this._requests = [];\n    this._headersReady = Promise.resolve();\n    stream._fullRequestReader = this;\n    this.onProgress = null;\n  }\n  _enqueue(chunk) {\n    if (this._done) {\n      return;\n    }\n    if (this._requests.length > 0) {\n      const requestCapability = this._requests.shift();\n      requestCapability.resolve({\n        value: chunk,\n        done: false\n      });\n    } else {\n      this._queuedChunks.push(chunk);\n    }\n    this._loaded += chunk.byteLength;\n  }\n  get headersReady() {\n    return this._headersReady;\n  }\n  get filename() {\n    return this._filename;\n  }\n  get isRangeSupported() {\n    return this._stream._isRangeSupported;\n  }\n  get isStreamingSupported() {\n    return this._stream._isStreamingSupported;\n  }\n  get contentLength() {\n    return this._stream._contentLength;\n  }\n  async read() {\n    if (this._queuedChunks.length > 0) {\n      const chunk = this._queuedChunks.shift();\n      return {\n        value: chunk,\n        done: false\n      };\n    }\n    if (this._done) {\n      return {\n        value: undefined,\n        done: true\n      };\n    }\n    const requestCapability = Promise.withResolvers();\n    this._requests.push(requestCapability);\n    return requestCapability.promise;\n  }\n  cancel(reason) {\n    this._done = true;\n    for (const requestCapability of this._requests) {\n      requestCapability.resolve({\n        value: undefined,\n        done: true\n      });\n    }\n    this._requests.length = 0;\n  }\n  progressiveDone() {\n    if (this._done) {\n      return;\n    }\n    this._done = true;\n  }\n}\nclass PDFDataTransportStreamRangeReader {\n  constructor(stream, begin, end) {\n    this._stream = stream;\n    this._begin = begin;\n    this._end = end;\n    this._queuedChunk = null;\n    this._requests = [];\n    this._done = false;\n    this.onProgress = null;\n  }\n  _enqueue(chunk) {\n    if (this._done) {\n      return;\n    }\n    if (this._requests.length === 0) {\n      this._queuedChunk = chunk;\n    } else {\n      const requestsCapability = this._requests.shift();\n      requestsCapability.resolve({\n        value: chunk,\n        done: false\n      });\n      for (const requestCapability of this._requests) {\n        requestCapability.resolve({\n          value: undefined,\n          done: true\n        });\n      }\n      this._requests.length = 0;\n    }\n    this._done = true;\n    this._stream._removeRangeReader(this);\n  }\n  get isStreamingSupported() {\n    return false;\n  }\n  async read() {\n    if (this._queuedChunk) {\n      const chunk = this._queuedChunk;\n      this._queuedChunk = null;\n      return {\n        value: chunk,\n        done: false\n      };\n    }\n    if (this._done) {\n      return {\n        value: undefined,\n        done: true\n      };\n    }\n    const requestCapability = Promise.withResolvers();\n    this._requests.push(requestCapability);\n    return requestCapability.promise;\n  }\n  cancel(reason) {\n    this._done = true;\n    for (const requestCapability of this._requests) {\n      requestCapability.resolve({\n        value: undefined,\n        done: true\n      });\n    }\n    this._requests.length = 0;\n    this._stream._removeRangeReader(this);\n  }\n}\n\n;// ./src/display/content_disposition.js\n\nfunction getFilenameFromContentDispositionHeader(contentDisposition) {\n  let needsEncodingFixup = true;\n  let tmp = toParamRegExp(\"filename\\\\*\", \"i\").exec(contentDisposition);\n  if (tmp) {\n    tmp = tmp[1];\n    let filename = rfc2616unquote(tmp);\n    filename = unescape(filename);\n    filename = rfc5987decode(filename);\n    filename = rfc2047decode(filename);\n    return fixupEncoding(filename);\n  }\n  tmp = rfc2231getparam(contentDisposition);\n  if (tmp) {\n    const filename = rfc2047decode(tmp);\n    return fixupEncoding(filename);\n  }\n  tmp = toParamRegExp(\"filename\", \"i\").exec(contentDisposition);\n  if (tmp) {\n    tmp = tmp[1];\n    let filename = rfc2616unquote(tmp);\n    filename = rfc2047decode(filename);\n    return fixupEncoding(filename);\n  }\n  function toParamRegExp(attributePattern, flags) {\n    return new RegExp(\"(?:^|;)\\\\s*\" + attributePattern + \"\\\\s*=\\\\s*\" + \"(\" + '[^\";\\\\s][^;\\\\s]*' + \"|\" + '\"(?:[^\"\\\\\\\\]|\\\\\\\\\"?)+\"?' + \")\", flags);\n  }\n  function textdecode(encoding, value) {\n    if (encoding) {\n      if (!/^[\\x00-\\xFF]+$/.test(value)) {\n        return value;\n      }\n      try {\n        const decoder = new TextDecoder(encoding, {\n          fatal: true\n        });\n        const buffer = stringToBytes(value);\n        value = decoder.decode(buffer);\n        needsEncodingFixup = false;\n      } catch {}\n    }\n    return value;\n  }\n  function fixupEncoding(value) {\n    if (needsEncodingFixup && /[\\x80-\\xff]/.test(value)) {\n      value = textdecode(\"utf-8\", value);\n      if (needsEncodingFixup) {\n        value = textdecode(\"iso-8859-1\", value);\n      }\n    }\n    return value;\n  }\n  function rfc2231getparam(contentDispositionStr) {\n    const matches = [];\n    let match;\n    const iter = toParamRegExp(\"filename\\\\*((?!0\\\\d)\\\\d+)(\\\\*?)\", \"ig\");\n    while ((match = iter.exec(contentDispositionStr)) !== null) {\n      let [, n, quot, part] = match;\n      n = parseInt(n, 10);\n      if (n in matches) {\n        if (n === 0) {\n          break;\n        }\n        continue;\n      }\n      matches[n] = [quot, part];\n    }\n    const parts = [];\n    for (let n = 0; n < matches.length; ++n) {\n      if (!(n in matches)) {\n        break;\n      }\n      let [quot, part] = matches[n];\n      part = rfc2616unquote(part);\n      if (quot) {\n        part = unescape(part);\n        if (n === 0) {\n          part = rfc5987decode(part);\n        }\n      }\n      parts.push(part);\n    }\n    return parts.join(\"\");\n  }\n  function rfc2616unquote(value) {\n    if (value.startsWith('\"')) {\n      const parts = value.slice(1).split('\\\\\"');\n      for (let i = 0; i < parts.length; ++i) {\n        const quotindex = parts[i].indexOf('\"');\n        if (quotindex !== -1) {\n          parts[i] = parts[i].slice(0, quotindex);\n          parts.length = i + 1;\n        }\n        parts[i] = parts[i].replaceAll(/\\\\(.)/g, \"$1\");\n      }\n      value = parts.join('\"');\n    }\n    return value;\n  }\n  function rfc5987decode(extvalue) {\n    const encodingend = extvalue.indexOf(\"'\");\n    if (encodingend === -1) {\n      return extvalue;\n    }\n    const encoding = extvalue.slice(0, encodingend);\n    const langvalue = extvalue.slice(encodingend + 1);\n    const value = langvalue.replace(/^[^']*'/, \"\");\n    return textdecode(encoding, value);\n  }\n  function rfc2047decode(value) {\n    if (!value.startsWith(\"=?\") || /[\\x00-\\x19\\x80-\\xff]/.test(value)) {\n      return value;\n    }\n    return value.replaceAll(/=\\?([\\w-]*)\\?([QqBb])\\?((?:[^?]|\\?(?!=))*)\\?=/g, function (matches, charset, encoding, text) {\n      if (encoding === \"q\" || encoding === \"Q\") {\n        text = text.replaceAll(\"_\", \" \");\n        text = text.replaceAll(/=([0-9a-fA-F]{2})/g, function (match, hex) {\n          return String.fromCharCode(parseInt(hex, 16));\n        });\n        return textdecode(charset, text);\n      }\n      try {\n        text = atob(text);\n      } catch {}\n      return textdecode(charset, text);\n    });\n  }\n  return \"\";\n}\n\n;// ./src/display/network_utils.js\n\n\n\nfunction createHeaders(isHttp, httpHeaders) {\n  const headers = new Headers();\n  if (!isHttp || !httpHeaders || typeof httpHeaders !== \"object\") {\n    return headers;\n  }\n  for (const key in httpHeaders) {\n    const val = httpHeaders[key];\n    if (val !== undefined) {\n      headers.append(key, val);\n    }\n  }\n  return headers;\n}\nfunction getResponseOrigin(url) {\n  return URL.parse(url)?.origin ?? null;\n}\nfunction validateRangeRequestCapabilities({\n  responseHeaders,\n  isHttp,\n  rangeChunkSize,\n  disableRange\n}) {\n  const returnValues = {\n    allowRangeRequests: false,\n    suggestedLength: undefined\n  };\n  const length = parseInt(responseHeaders.get(\"Content-Length\"), 10);\n  if (!Number.isInteger(length)) {\n    return returnValues;\n  }\n  returnValues.suggestedLength = length;\n  if (length <= 2 * rangeChunkSize) {\n    return returnValues;\n  }\n  if (disableRange || !isHttp) {\n    return returnValues;\n  }\n  if (responseHeaders.get(\"Accept-Ranges\") !== \"bytes\") {\n    return returnValues;\n  }\n  const contentEncoding = responseHeaders.get(\"Content-Encoding\") || \"identity\";\n  if (contentEncoding !== \"identity\") {\n    return returnValues;\n  }\n  returnValues.allowRangeRequests = true;\n  return returnValues;\n}\nfunction extractFilenameFromHeader(responseHeaders) {\n  const contentDisposition = responseHeaders.get(\"Content-Disposition\");\n  if (contentDisposition) {\n    let filename = getFilenameFromContentDispositionHeader(contentDisposition);\n    if (filename.includes(\"%\")) {\n      try {\n        filename = decodeURIComponent(filename);\n      } catch {}\n    }\n    if (isPdfFile(filename)) {\n      return filename;\n    }\n  }\n  return null;\n}\nfunction createResponseError(status, url) {\n  return new ResponseException(`Unexpected server response (${status}) while retrieving PDF \"${url}\".`, status, status === 404 || status === 0 && url.startsWith(\"file:\"));\n}\nfunction validateResponseStatus(status) {\n  return status === 200 || status === 206;\n}\n\n;// ./src/display/fetch_stream.js\n\n\nfunction createFetchOptions(headers, withCredentials, abortController) {\n  return {\n    method: \"GET\",\n    headers,\n    signal: abortController.signal,\n    mode: \"cors\",\n    credentials: withCredentials ? \"include\" : \"same-origin\",\n    redirect: \"follow\"\n  };\n}\nfunction getArrayBuffer(val) {\n  if (val instanceof Uint8Array) {\n    return val.buffer;\n  }\n  if (val instanceof ArrayBuffer) {\n    return val;\n  }\n  warn(`getArrayBuffer - unexpected data format: ${val}`);\n  return new Uint8Array(val).buffer;\n}\nclass PDFFetchStream {\n  _responseOrigin = null;\n  constructor(source) {\n    this.source = source;\n    this.isHttp = /^https?:/i.test(source.url);\n    this.headers = createHeaders(this.isHttp, source.httpHeaders);\n    this._fullRequestReader = null;\n    this._rangeRequestReaders = [];\n  }\n  get _progressiveDataLength() {\n    return this._fullRequestReader?._loaded ?? 0;\n  }\n  getFullReader() {\n    assert(!this._fullRequestReader, \"PDFFetchStream.getFullReader can only be called once.\");\n    this._fullRequestReader = new PDFFetchStreamReader(this);\n    return this._fullRequestReader;\n  }\n  getRangeReader(begin, end) {\n    if (end <= this._progressiveDataLength) {\n      return null;\n    }\n    const reader = new PDFFetchStreamRangeReader(this, begin, end);\n    this._rangeRequestReaders.push(reader);\n    return reader;\n  }\n  cancelAllRequests(reason) {\n    this._fullRequestReader?.cancel(reason);\n    for (const reader of this._rangeRequestReaders.slice(0)) {\n      reader.cancel(reason);\n    }\n  }\n}\nclass PDFFetchStreamReader {\n  constructor(stream) {\n    this._stream = stream;\n    this._reader = null;\n    this._loaded = 0;\n    this._filename = null;\n    const source = stream.source;\n    this._withCredentials = source.withCredentials || false;\n    this._contentLength = source.length;\n    this._headersCapability = Promise.withResolvers();\n    this._disableRange = source.disableRange || false;\n    this._rangeChunkSize = source.rangeChunkSize;\n    if (!this._rangeChunkSize && !this._disableRange) {\n      this._disableRange = true;\n    }\n    this._abortController = new AbortController();\n    this._isStreamingSupported = !source.disableStream;\n    this._isRangeSupported = !source.disableRange;\n    const headers = new Headers(stream.headers);\n    const url = source.url;\n    fetch(url, createFetchOptions(headers, this._withCredentials, this._abortController)).then(response => {\n      stream._responseOrigin = getResponseOrigin(response.url);\n      if (!validateResponseStatus(response.status)) {\n        throw createResponseError(response.status, url);\n      }\n      this._reader = response.body.getReader();\n      this._headersCapability.resolve();\n      const responseHeaders = response.headers;\n      const {\n        allowRangeRequests,\n        suggestedLength\n      } = validateRangeRequestCapabilities({\n        responseHeaders,\n        isHttp: stream.isHttp,\n        rangeChunkSize: this._rangeChunkSize,\n        disableRange: this._disableRange\n      });\n      this._isRangeSupported = allowRangeRequests;\n      this._contentLength = suggestedLength || this._contentLength;\n      this._filename = extractFilenameFromHeader(responseHeaders);\n      if (!this._isStreamingSupported && this._isRangeSupported) {\n        this.cancel(new AbortException(\"Streaming is disabled.\"));\n      }\n    }).catch(this._headersCapability.reject);\n    this.onProgress = null;\n  }\n  get headersReady() {\n    return this._headersCapability.promise;\n  }\n  get filename() {\n    return this._filename;\n  }\n  get contentLength() {\n    return this._contentLength;\n  }\n  get isRangeSupported() {\n    return this._isRangeSupported;\n  }\n  get isStreamingSupported() {\n    return this._isStreamingSupported;\n  }\n  async read() {\n    await this._headersCapability.promise;\n    const {\n      value,\n      done\n    } = await this._reader.read();\n    if (done) {\n      return {\n        value,\n        done\n      };\n    }\n    this._loaded += value.byteLength;\n    this.onProgress?.({\n      loaded: this._loaded,\n      total: this._contentLength\n    });\n    return {\n      value: getArrayBuffer(value),\n      done: false\n    };\n  }\n  cancel(reason) {\n    this._reader?.cancel(reason);\n    this._abortController.abort();\n  }\n}\nclass PDFFetchStreamRangeReader {\n  constructor(stream, begin, end) {\n    this._stream = stream;\n    this._reader = null;\n    this._loaded = 0;\n    const source = stream.source;\n    this._withCredentials = source.withCredentials || false;\n    this._readCapability = Promise.withResolvers();\n    this._isStreamingSupported = !source.disableStream;\n    this._abortController = new AbortController();\n    const headers = new Headers(stream.headers);\n    headers.append(\"Range\", `bytes=${begin}-${end - 1}`);\n    const url = source.url;\n    fetch(url, createFetchOptions(headers, this._withCredentials, this._abortController)).then(response => {\n      const responseOrigin = getResponseOrigin(response.url);\n      if (responseOrigin !== stream._responseOrigin) {\n        throw new Error(`Expected range response-origin \"${responseOrigin}\" to match \"${stream._responseOrigin}\".`);\n      }\n      if (!validateResponseStatus(response.status)) {\n        throw createResponseError(response.status, url);\n      }\n      this._readCapability.resolve();\n      this._reader = response.body.getReader();\n    }).catch(this._readCapability.reject);\n    this.onProgress = null;\n  }\n  get isStreamingSupported() {\n    return this._isStreamingSupported;\n  }\n  async read() {\n    await this._readCapability.promise;\n    const {\n      value,\n      done\n    } = await this._reader.read();\n    if (done) {\n      return {\n        value,\n        done\n      };\n    }\n    this._loaded += value.byteLength;\n    this.onProgress?.({\n      loaded: this._loaded\n    });\n    return {\n      value: getArrayBuffer(value),\n      done: false\n    };\n  }\n  cancel(reason) {\n    this._reader?.cancel(reason);\n    this._abortController.abort();\n  }\n}\n\n;// ./src/display/network.js\n\n\nconst OK_RESPONSE = 200;\nconst PARTIAL_CONTENT_RESPONSE = 206;\nfunction network_getArrayBuffer(xhr) {\n  const data = xhr.response;\n  if (typeof data !== \"string\") {\n    return data;\n  }\n  return stringToBytes(data).buffer;\n}\nclass NetworkManager {\n  _responseOrigin = null;\n  constructor({\n    url,\n    httpHeaders,\n    withCredentials\n  }) {\n    this.url = url;\n    this.isHttp = /^https?:/i.test(url);\n    this.headers = createHeaders(this.isHttp, httpHeaders);\n    this.withCredentials = withCredentials || false;\n    this.currXhrId = 0;\n    this.pendingRequests = Object.create(null);\n  }\n  request(args) {\n    const xhr = new XMLHttpRequest();\n    const xhrId = this.currXhrId++;\n    const pendingRequest = this.pendingRequests[xhrId] = {\n      xhr\n    };\n    xhr.open(\"GET\", this.url);\n    xhr.withCredentials = this.withCredentials;\n    for (const [key, val] of this.headers) {\n      xhr.setRequestHeader(key, val);\n    }\n    if (this.isHttp && \"begin\" in args && \"end\" in args) {\n      xhr.setRequestHeader(\"Range\", `bytes=${args.begin}-${args.end - 1}`);\n      pendingRequest.expectedStatus = PARTIAL_CONTENT_RESPONSE;\n    } else {\n      pendingRequest.expectedStatus = OK_RESPONSE;\n    }\n    xhr.responseType = \"arraybuffer\";\n    assert(args.onError, \"Expected `onError` callback to be provided.\");\n    xhr.onerror = () => {\n      args.onError(xhr.status);\n    };\n    xhr.onreadystatechange = this.onStateChange.bind(this, xhrId);\n    xhr.onprogress = this.onProgress.bind(this, xhrId);\n    pendingRequest.onHeadersReceived = args.onHeadersReceived;\n    pendingRequest.onDone = args.onDone;\n    pendingRequest.onError = args.onError;\n    pendingRequest.onProgress = args.onProgress;\n    xhr.send(null);\n    return xhrId;\n  }\n  onProgress(xhrId, evt) {\n    const pendingRequest = this.pendingRequests[xhrId];\n    if (!pendingRequest) {\n      return;\n    }\n    pendingRequest.onProgress?.(evt);\n  }\n  onStateChange(xhrId, evt) {\n    const pendingRequest = this.pendingRequests[xhrId];\n    if (!pendingRequest) {\n      return;\n    }\n    const xhr = pendingRequest.xhr;\n    if (xhr.readyState >= 2 && pendingRequest.onHeadersReceived) {\n      pendingRequest.onHeadersReceived();\n      delete pendingRequest.onHeadersReceived;\n    }\n    if (xhr.readyState !== 4) {\n      return;\n    }\n    if (!(xhrId in this.pendingRequests)) {\n      return;\n    }\n    delete this.pendingRequests[xhrId];\n    if (xhr.status === 0 && this.isHttp) {\n      pendingRequest.onError(xhr.status);\n      return;\n    }\n    const xhrStatus = xhr.status || OK_RESPONSE;\n    const ok_response_on_range_request = xhrStatus === OK_RESPONSE && pendingRequest.expectedStatus === PARTIAL_CONTENT_RESPONSE;\n    if (!ok_response_on_range_request && xhrStatus !== pendingRequest.expectedStatus) {\n      pendingRequest.onError(xhr.status);\n      return;\n    }\n    const chunk = network_getArrayBuffer(xhr);\n    if (xhrStatus === PARTIAL_CONTENT_RESPONSE) {\n      const rangeHeader = xhr.getResponseHeader(\"Content-Range\");\n      const matches = /bytes (\\d+)-(\\d+)\\/(\\d+)/.exec(rangeHeader);\n      if (matches) {\n        pendingRequest.onDone({\n          begin: parseInt(matches[1], 10),\n          chunk\n        });\n      } else {\n        warn(`Missing or invalid \"Content-Range\" header.`);\n        pendingRequest.onError(0);\n      }\n    } else if (chunk) {\n      pendingRequest.onDone({\n        begin: 0,\n        chunk\n      });\n    } else {\n      pendingRequest.onError(xhr.status);\n    }\n  }\n  getRequestXhr(xhrId) {\n    return this.pendingRequests[xhrId].xhr;\n  }\n  isPendingRequest(xhrId) {\n    return xhrId in this.pendingRequests;\n  }\n  abortRequest(xhrId) {\n    const xhr = this.pendingRequests[xhrId].xhr;\n    delete this.pendingRequests[xhrId];\n    xhr.abort();\n  }\n}\nclass PDFNetworkStream {\n  constructor(source) {\n    this._source = source;\n    this._manager = new NetworkManager(source);\n    this._rangeChunkSize = source.rangeChunkSize;\n    this._fullRequestReader = null;\n    this._rangeRequestReaders = [];\n  }\n  _onRangeRequestReaderClosed(reader) {\n    const i = this._rangeRequestReaders.indexOf(reader);\n    if (i >= 0) {\n      this._rangeRequestReaders.splice(i, 1);\n    }\n  }\n  getFullReader() {\n    assert(!this._fullRequestReader, \"PDFNetworkStream.getFullReader can only be called once.\");\n    this._fullRequestReader = new PDFNetworkStreamFullRequestReader(this._manager, this._source);\n    return this._fullRequestReader;\n  }\n  getRangeReader(begin, end) {\n    const reader = new PDFNetworkStreamRangeRequestReader(this._manager, begin, end);\n    reader.onClosed = this._onRangeRequestReaderClosed.bind(this);\n    this._rangeRequestReaders.push(reader);\n    return reader;\n  }\n  cancelAllRequests(reason) {\n    this._fullRequestReader?.cancel(reason);\n    for (const reader of this._rangeRequestReaders.slice(0)) {\n      reader.cancel(reason);\n    }\n  }\n}\nclass PDFNetworkStreamFullRequestReader {\n  constructor(manager, source) {\n    this._manager = manager;\n    this._url = source.url;\n    this._fullRequestId = manager.request({\n      onHeadersReceived: this._onHeadersReceived.bind(this),\n      onDone: this._onDone.bind(this),\n      onError: this._onError.bind(this),\n      onProgress: this._onProgress.bind(this)\n    });\n    this._headersCapability = Promise.withResolvers();\n    this._disableRange = source.disableRange || false;\n    this._contentLength = source.length;\n    this._rangeChunkSize = source.rangeChunkSize;\n    if (!this._rangeChunkSize && !this._disableRange) {\n      this._disableRange = true;\n    }\n    this._isStreamingSupported = false;\n    this._isRangeSupported = false;\n    this._cachedChunks = [];\n    this._requests = [];\n    this._done = false;\n    this._storedError = undefined;\n    this._filename = null;\n    this.onProgress = null;\n  }\n  _onHeadersReceived() {\n    const fullRequestXhrId = this._fullRequestId;\n    const fullRequestXhr = this._manager.getRequestXhr(fullRequestXhrId);\n    this._manager._responseOrigin = getResponseOrigin(fullRequestXhr.responseURL);\n    const rawResponseHeaders = fullRequestXhr.getAllResponseHeaders();\n    const responseHeaders = new Headers(rawResponseHeaders ? rawResponseHeaders.trimStart().replace(/[^\\S ]+$/, \"\").split(/[\\r\\n]+/).map(x => {\n      const [key, ...val] = x.split(\": \");\n      return [key, val.join(\": \")];\n    }) : []);\n    const {\n      allowRangeRequests,\n      suggestedLength\n    } = validateRangeRequestCapabilities({\n      responseHeaders,\n      isHttp: this._manager.isHttp,\n      rangeChunkSize: this._rangeChunkSize,\n      disableRange: this._disableRange\n    });\n    if (allowRangeRequests) {\n      this._isRangeSupported = true;\n    }\n    this._contentLength = suggestedLength || this._contentLength;\n    this._filename = extractFilenameFromHeader(responseHeaders);\n    if (this._isRangeSupported) {\n      this._manager.abortRequest(fullRequestXhrId);\n    }\n    this._headersCapability.resolve();\n  }\n  _onDone(data) {\n    if (data) {\n      if (this._requests.length > 0) {\n        const requestCapability = this._requests.shift();\n        requestCapability.resolve({\n          value: data.chunk,\n          done: false\n        });\n      } else {\n        this._cachedChunks.push(data.chunk);\n      }\n    }\n    this._done = true;\n    if (this._cachedChunks.length > 0) {\n      return;\n    }\n    for (const requestCapability of this._requests) {\n      requestCapability.resolve({\n        value: undefined,\n        done: true\n      });\n    }\n    this._requests.length = 0;\n  }\n  _onError(status) {\n    this._storedError = createResponseError(status, this._url);\n    this._headersCapability.reject(this._storedError);\n    for (const requestCapability of this._requests) {\n      requestCapability.reject(this._storedError);\n    }\n    this._requests.length = 0;\n    this._cachedChunks.length = 0;\n  }\n  _onProgress(evt) {\n    this.onProgress?.({\n      loaded: evt.loaded,\n      total: evt.lengthComputable ? evt.total : this._contentLength\n    });\n  }\n  get filename() {\n    return this._filename;\n  }\n  get isRangeSupported() {\n    return this._isRangeSupported;\n  }\n  get isStreamingSupported() {\n    return this._isStreamingSupported;\n  }\n  get contentLength() {\n    return this._contentLength;\n  }\n  get headersReady() {\n    return this._headersCapability.promise;\n  }\n  async read() {\n    await this._headersCapability.promise;\n    if (this._storedError) {\n      throw this._storedError;\n    }\n    if (this._cachedChunks.length > 0) {\n      const chunk = this._cachedChunks.shift();\n      return {\n        value: chunk,\n        done: false\n      };\n    }\n    if (this._done) {\n      return {\n        value: undefined,\n        done: true\n      };\n    }\n    const requestCapability = Promise.withResolvers();\n    this._requests.push(requestCapability);\n    return requestCapability.promise;\n  }\n  cancel(reason) {\n    this._done = true;\n    this._headersCapability.reject(reason);\n    for (const requestCapability of this._requests) {\n      requestCapability.resolve({\n        value: undefined,\n        done: true\n      });\n    }\n    this._requests.length = 0;\n    if (this._manager.isPendingRequest(this._fullRequestId)) {\n      this._manager.abortRequest(this._fullRequestId);\n    }\n    this._fullRequestReader = null;\n  }\n}\nclass PDFNetworkStreamRangeRequestReader {\n  constructor(manager, begin, end) {\n    this._manager = manager;\n    this._url = manager.url;\n    this._requestId = manager.request({\n      begin,\n      end,\n      onHeadersReceived: this._onHeadersReceived.bind(this),\n      onDone: this._onDone.bind(this),\n      onError: this._onError.bind(this),\n      onProgress: this._onProgress.bind(this)\n    });\n    this._requests = [];\n    this._queuedChunk = null;\n    this._done = false;\n    this._storedError = undefined;\n    this.onProgress = null;\n    this.onClosed = null;\n  }\n  _onHeadersReceived() {\n    const responseOrigin = getResponseOrigin(this._manager.getRequestXhr(this._requestId)?.responseURL);\n    if (responseOrigin !== this._manager._responseOrigin) {\n      this._storedError = new Error(`Expected range response-origin \"${responseOrigin}\" to match \"${this._manager._responseOrigin}\".`);\n      this._onError(0);\n    }\n  }\n  _close() {\n    this.onClosed?.(this);\n  }\n  _onDone(data) {\n    const chunk = data.chunk;\n    if (this._requests.length > 0) {\n      const requestCapability = this._requests.shift();\n      requestCapability.resolve({\n        value: chunk,\n        done: false\n      });\n    } else {\n      this._queuedChunk = chunk;\n    }\n    this._done = true;\n    for (const requestCapability of this._requests) {\n      requestCapability.resolve({\n        value: undefined,\n        done: true\n      });\n    }\n    this._requests.length = 0;\n    this._close();\n  }\n  _onError(status) {\n    this._storedError ??= createResponseError(status, this._url);\n    for (const requestCapability of this._requests) {\n      requestCapability.reject(this._storedError);\n    }\n    this._requests.length = 0;\n    this._queuedChunk = null;\n  }\n  _onProgress(evt) {\n    if (!this.isStreamingSupported) {\n      this.onProgress?.({\n        loaded: evt.loaded\n      });\n    }\n  }\n  get isStreamingSupported() {\n    return false;\n  }\n  async read() {\n    if (this._storedError) {\n      throw this._storedError;\n    }\n    if (this._queuedChunk !== null) {\n      const chunk = this._queuedChunk;\n      this._queuedChunk = null;\n      return {\n        value: chunk,\n        done: false\n      };\n    }\n    if (this._done) {\n      return {\n        value: undefined,\n        done: true\n      };\n    }\n    const requestCapability = Promise.withResolvers();\n    this._requests.push(requestCapability);\n    return requestCapability.promise;\n  }\n  cancel(reason) {\n    this._done = true;\n    for (const requestCapability of this._requests) {\n      requestCapability.resolve({\n        value: undefined,\n        done: true\n      });\n    }\n    this._requests.length = 0;\n    if (this._manager.isPendingRequest(this._requestId)) {\n      this._manager.abortRequest(this._requestId);\n    }\n    this._close();\n  }\n}\n\n;// ./src/display/node_stream.js\n\n\nconst urlRegex = /^[a-z][a-z0-9\\-+.]+:/i;\nfunction parseUrlOrPath(sourceUrl) {\n  if (urlRegex.test(sourceUrl)) {\n    return new URL(sourceUrl);\n  }\n  const url = process.getBuiltinModule(\"url\");\n  return new URL(url.pathToFileURL(sourceUrl));\n}\nclass PDFNodeStream {\n  constructor(source) {\n    this.source = source;\n    this.url = parseUrlOrPath(source.url);\n    assert(this.url.protocol === \"file:\", \"PDFNodeStream only supports file:// URLs.\");\n    this._fullRequestReader = null;\n    this._rangeRequestReaders = [];\n  }\n  get _progressiveDataLength() {\n    return this._fullRequestReader?._loaded ?? 0;\n  }\n  getFullReader() {\n    assert(!this._fullRequestReader, \"PDFNodeStream.getFullReader can only be called once.\");\n    this._fullRequestReader = new PDFNodeStreamFsFullReader(this);\n    return this._fullRequestReader;\n  }\n  getRangeReader(start, end) {\n    if (end <= this._progressiveDataLength) {\n      return null;\n    }\n    const rangeReader = new PDFNodeStreamFsRangeReader(this, start, end);\n    this._rangeRequestReaders.push(rangeReader);\n    return rangeReader;\n  }\n  cancelAllRequests(reason) {\n    this._fullRequestReader?.cancel(reason);\n    for (const reader of this._rangeRequestReaders.slice(0)) {\n      reader.cancel(reason);\n    }\n  }\n}\nclass PDFNodeStreamFsFullReader {\n  constructor(stream) {\n    this._url = stream.url;\n    this._done = false;\n    this._storedError = null;\n    this.onProgress = null;\n    const source = stream.source;\n    this._contentLength = source.length;\n    this._loaded = 0;\n    this._filename = null;\n    this._disableRange = source.disableRange || false;\n    this._rangeChunkSize = source.rangeChunkSize;\n    if (!this._rangeChunkSize && !this._disableRange) {\n      this._disableRange = true;\n    }\n    this._isStreamingSupported = !source.disableStream;\n    this._isRangeSupported = !source.disableRange;\n    this._readableStream = null;\n    this._readCapability = Promise.withResolvers();\n    this._headersCapability = Promise.withResolvers();\n    const fs = process.getBuiltinModule(\"fs\");\n    fs.promises.lstat(this._url).then(stat => {\n      this._contentLength = stat.size;\n      this._setReadableStream(fs.createReadStream(this._url));\n      this._headersCapability.resolve();\n    }, error => {\n      if (error.code === \"ENOENT\") {\n        error = createResponseError(0, this._url.href);\n      }\n      this._storedError = error;\n      this._headersCapability.reject(error);\n    });\n  }\n  get headersReady() {\n    return this._headersCapability.promise;\n  }\n  get filename() {\n    return this._filename;\n  }\n  get contentLength() {\n    return this._contentLength;\n  }\n  get isRangeSupported() {\n    return this._isRangeSupported;\n  }\n  get isStreamingSupported() {\n    return this._isStreamingSupported;\n  }\n  async read() {\n    await this._readCapability.promise;\n    if (this._done) {\n      return {\n        value: undefined,\n        done: true\n      };\n    }\n    if (this._storedError) {\n      throw this._storedError;\n    }\n    const chunk = this._readableStream.read();\n    if (chunk === null) {\n      this._readCapability = Promise.withResolvers();\n      return this.read();\n    }\n    this._loaded += chunk.length;\n    this.onProgress?.({\n      loaded: this._loaded,\n      total: this._contentLength\n    });\n    const buffer = new Uint8Array(chunk).buffer;\n    return {\n      value: buffer,\n      done: false\n    };\n  }\n  cancel(reason) {\n    if (!this._readableStream) {\n      this._error(reason);\n      return;\n    }\n    this._readableStream.destroy(reason);\n  }\n  _error(reason) {\n    this._storedError = reason;\n    this._readCapability.resolve();\n  }\n  _setReadableStream(readableStream) {\n    this._readableStream = readableStream;\n    readableStream.on(\"readable\", () => {\n      this._readCapability.resolve();\n    });\n    readableStream.on(\"end\", () => {\n      readableStream.destroy();\n      this._done = true;\n      this._readCapability.resolve();\n    });\n    readableStream.on(\"error\", reason => {\n      this._error(reason);\n    });\n    if (!this._isStreamingSupported && this._isRangeSupported) {\n      this._error(new AbortException(\"streaming is disabled\"));\n    }\n    if (this._storedError) {\n      this._readableStream.destroy(this._storedError);\n    }\n  }\n}\nclass PDFNodeStreamFsRangeReader {\n  constructor(stream, start, end) {\n    this._url = stream.url;\n    this._done = false;\n    this._storedError = null;\n    this.onProgress = null;\n    this._loaded = 0;\n    this._readableStream = null;\n    this._readCapability = Promise.withResolvers();\n    const source = stream.source;\n    this._isStreamingSupported = !source.disableStream;\n    const fs = process.getBuiltinModule(\"fs\");\n    this._setReadableStream(fs.createReadStream(this._url, {\n      start,\n      end: end - 1\n    }));\n  }\n  get isStreamingSupported() {\n    return this._isStreamingSupported;\n  }\n  async read() {\n    await this._readCapability.promise;\n    if (this._done) {\n      return {\n        value: undefined,\n        done: true\n      };\n    }\n    if (this._storedError) {\n      throw this._storedError;\n    }\n    const chunk = this._readableStream.read();\n    if (chunk === null) {\n      this._readCapability = Promise.withResolvers();\n      return this.read();\n    }\n    this._loaded += chunk.length;\n    this.onProgress?.({\n      loaded: this._loaded\n    });\n    const buffer = new Uint8Array(chunk).buffer;\n    return {\n      value: buffer,\n      done: false\n    };\n  }\n  cancel(reason) {\n    if (!this._readableStream) {\n      this._error(reason);\n      return;\n    }\n    this._readableStream.destroy(reason);\n  }\n  _error(reason) {\n    this._storedError = reason;\n    this._readCapability.resolve();\n  }\n  _setReadableStream(readableStream) {\n    this._readableStream = readableStream;\n    readableStream.on(\"readable\", () => {\n      this._readCapability.resolve();\n    });\n    readableStream.on(\"end\", () => {\n      readableStream.destroy();\n      this._done = true;\n      this._readCapability.resolve();\n    });\n    readableStream.on(\"error\", reason => {\n      this._error(reason);\n    });\n    if (this._storedError) {\n      this._readableStream.destroy(this._storedError);\n    }\n  }\n}\n\n;// ./src/display/pdf_objects.js\nconst INITIAL_DATA = Symbol(\"INITIAL_DATA\");\nclass PDFObjects {\n  #objs = Object.create(null);\n  #ensureObj(objId) {\n    return this.#objs[objId] ||= {\n      ...Promise.withResolvers(),\n      data: INITIAL_DATA\n    };\n  }\n  get(objId, callback = null) {\n    if (callback) {\n      const obj = this.#ensureObj(objId);\n      obj.promise.then(() => callback(obj.data));\n      return null;\n    }\n    const obj = this.#objs[objId];\n    if (!obj || obj.data === INITIAL_DATA) {\n      throw new Error(`Requesting object that isn't resolved yet ${objId}.`);\n    }\n    return obj.data;\n  }\n  has(objId) {\n    const obj = this.#objs[objId];\n    return !!obj && obj.data !== INITIAL_DATA;\n  }\n  delete(objId) {\n    const obj = this.#objs[objId];\n    if (!obj || obj.data === INITIAL_DATA) {\n      return false;\n    }\n    delete this.#objs[objId];\n    return true;\n  }\n  resolve(objId, data = null) {\n    const obj = this.#ensureObj(objId);\n    obj.data = data;\n    obj.resolve();\n  }\n  clear() {\n    for (const objId in this.#objs) {\n      const {\n        data\n      } = this.#objs[objId];\n      data?.bitmap?.close();\n    }\n    this.#objs = Object.create(null);\n  }\n  *[Symbol.iterator]() {\n    for (const objId in this.#objs) {\n      const {\n        data\n      } = this.#objs[objId];\n      if (data === INITIAL_DATA) {\n        continue;\n      }\n      yield [objId, data];\n    }\n  }\n}\n\n;// ./src/display/text_layer.js\n\n\nconst MAX_TEXT_DIVS_TO_RENDER = 100000;\nconst DEFAULT_FONT_SIZE = 30;\nclass TextLayer {\n  #capability = Promise.withResolvers();\n  #container = null;\n  #disableProcessItems = false;\n  #fontInspectorEnabled = !!globalThis.FontInspector?.enabled;\n  #lang = null;\n  #layoutTextParams = null;\n  #pageHeight = 0;\n  #pageWidth = 0;\n  #reader = null;\n  #rootContainer = null;\n  #rotation = 0;\n  #scale = 0;\n  #styleCache = Object.create(null);\n  #textContentItemsStr = [];\n  #textContentSource = null;\n  #textDivs = [];\n  #textDivProperties = new WeakMap();\n  #transform = null;\n  static #ascentCache = new Map();\n  static #canvasContexts = new Map();\n  static #canvasCtxFonts = new WeakMap();\n  static #minFontSize = null;\n  static #pendingTextLayers = new Set();\n  constructor({\n    textContentSource,\n    container,\n    viewport\n  }) {\n    if (textContentSource instanceof ReadableStream) {\n      this.#textContentSource = textContentSource;\n    } else if (typeof textContentSource === \"object\") {\n      this.#textContentSource = new ReadableStream({\n        start(controller) {\n          controller.enqueue(textContentSource);\n          controller.close();\n        }\n      });\n    } else {\n      throw new Error('No \"textContentSource\" parameter specified.');\n    }\n    this.#container = this.#rootContainer = container;\n    this.#scale = viewport.scale * OutputScale.pixelRatio;\n    this.#rotation = viewport.rotation;\n    this.#layoutTextParams = {\n      div: null,\n      properties: null,\n      ctx: null\n    };\n    const {\n      pageWidth,\n      pageHeight,\n      pageX,\n      pageY\n    } = viewport.rawDims;\n    this.#transform = [1, 0, 0, -1, -pageX, pageY + pageHeight];\n    this.#pageWidth = pageWidth;\n    this.#pageHeight = pageHeight;\n    TextLayer.#ensureMinFontSizeComputed();\n    container.style.setProperty(\"--min-font-size\", TextLayer.#minFontSize);\n    setLayerDimensions(container, viewport);\n    this.#capability.promise.finally(() => {\n      TextLayer.#pendingTextLayers.delete(this);\n      this.#layoutTextParams = null;\n      this.#styleCache = null;\n    }).catch(() => {});\n  }\n  static get fontFamilyMap() {\n    const {\n      isWindows,\n      isFirefox\n    } = util_FeatureTest.platform;\n    return shadow(this, \"fontFamilyMap\", new Map([[\"sans-serif\", `${isWindows && isFirefox ? \"Calibri, \" : \"\"}sans-serif`], [\"monospace\", `${isWindows && isFirefox ? \"Lucida Console, \" : \"\"}monospace`]]));\n  }\n  render() {\n    const pump = () => {\n      this.#reader.read().then(({\n        value,\n        done\n      }) => {\n        if (done) {\n          this.#capability.resolve();\n          return;\n        }\n        this.#lang ??= value.lang;\n        Object.assign(this.#styleCache, value.styles);\n        this.#processItems(value.items);\n        pump();\n      }, this.#capability.reject);\n    };\n    this.#reader = this.#textContentSource.getReader();\n    TextLayer.#pendingTextLayers.add(this);\n    pump();\n    return this.#capability.promise;\n  }\n  update({\n    viewport,\n    onBefore = null\n  }) {\n    const scale = viewport.scale * OutputScale.pixelRatio;\n    const rotation = viewport.rotation;\n    if (rotation !== this.#rotation) {\n      onBefore?.();\n      this.#rotation = rotation;\n      setLayerDimensions(this.#rootContainer, {\n        rotation\n      });\n    }\n    if (scale !== this.#scale) {\n      onBefore?.();\n      this.#scale = scale;\n      const params = {\n        div: null,\n        properties: null,\n        ctx: TextLayer.#getCtx(this.#lang)\n      };\n      for (const div of this.#textDivs) {\n        params.properties = this.#textDivProperties.get(div);\n        params.div = div;\n        this.#layout(params);\n      }\n    }\n  }\n  cancel() {\n    const abortEx = new AbortException(\"TextLayer task cancelled.\");\n    this.#reader?.cancel(abortEx).catch(() => {});\n    this.#reader = null;\n    this.#capability.reject(abortEx);\n  }\n  get textDivs() {\n    return this.#textDivs;\n  }\n  get textContentItemsStr() {\n    return this.#textContentItemsStr;\n  }\n  #processItems(items) {\n    if (this.#disableProcessItems) {\n      return;\n    }\n    this.#layoutTextParams.ctx ??= TextLayer.#getCtx(this.#lang);\n    const textDivs = this.#textDivs,\n      textContentItemsStr = this.#textContentItemsStr;\n    for (const item of items) {\n      if (textDivs.length > MAX_TEXT_DIVS_TO_RENDER) {\n        warn(\"Ignoring additional textDivs for performance reasons.\");\n        this.#disableProcessItems = true;\n        return;\n      }\n      if (item.str === undefined) {\n        if (item.type === \"beginMarkedContentProps\" || item.type === \"beginMarkedContent\") {\n          const parent = this.#container;\n          this.#container = document.createElement(\"span\");\n          this.#container.classList.add(\"markedContent\");\n          if (item.id) {\n            this.#container.setAttribute(\"id\", `${item.id}`);\n          }\n          parent.append(this.#container);\n        } else if (item.type === \"endMarkedContent\") {\n          this.#container = this.#container.parentNode;\n        }\n        continue;\n      }\n      textContentItemsStr.push(item.str);\n      this.#appendText(item);\n    }\n  }\n  #appendText(geom) {\n    const textDiv = document.createElement(\"span\");\n    const textDivProperties = {\n      angle: 0,\n      canvasWidth: 0,\n      hasText: geom.str !== \"\",\n      hasEOL: geom.hasEOL,\n      fontSize: 0\n    };\n    this.#textDivs.push(textDiv);\n    const tx = Util.transform(this.#transform, geom.transform);\n    let angle = Math.atan2(tx[1], tx[0]);\n    const style = this.#styleCache[geom.fontName];\n    if (style.vertical) {\n      angle += Math.PI / 2;\n    }\n    let fontFamily = this.#fontInspectorEnabled && style.fontSubstitution || style.fontFamily;\n    fontFamily = TextLayer.fontFamilyMap.get(fontFamily) || fontFamily;\n    const fontHeight = Math.hypot(tx[2], tx[3]);\n    const fontAscent = fontHeight * TextLayer.#getAscent(fontFamily, style, this.#lang);\n    let left, top;\n    if (angle === 0) {\n      left = tx[4];\n      top = tx[5] - fontAscent;\n    } else {\n      left = tx[4] + fontAscent * Math.sin(angle);\n      top = tx[5] - fontAscent * Math.cos(angle);\n    }\n    const divStyle = textDiv.style;\n    divStyle.left = `${(100 * left / this.#pageWidth).toFixed(2)}%`;\n    divStyle.top = `${(100 * top / this.#pageHeight).toFixed(2)}%`;\n    divStyle.setProperty(\"--font-height\", `${fontHeight.toFixed(2)}px`);\n    divStyle.fontFamily = fontFamily;\n    textDivProperties.fontSize = fontHeight;\n    textDiv.setAttribute(\"role\", \"presentation\");\n    textDiv.textContent = geom.str;\n    textDiv.dir = geom.dir;\n    if (this.#fontInspectorEnabled) {\n      textDiv.dataset.fontName = style.fontSubstitutionLoadedName || geom.fontName;\n    }\n    if (angle !== 0) {\n      textDivProperties.angle = angle * (180 / Math.PI);\n    }\n    let shouldScaleText = false;\n    if (geom.str.length > 1) {\n      shouldScaleText = true;\n    } else if (geom.str !== \" \" && geom.transform[0] !== geom.transform[3]) {\n      const absScaleX = Math.abs(geom.transform[0]),\n        absScaleY = Math.abs(geom.transform[3]);\n      if (absScaleX !== absScaleY && Math.max(absScaleX, absScaleY) / Math.min(absScaleX, absScaleY) > 1.5) {\n        shouldScaleText = true;\n      }\n    }\n    if (shouldScaleText) {\n      textDivProperties.canvasWidth = style.vertical ? geom.height : geom.width;\n    }\n    this.#textDivProperties.set(textDiv, textDivProperties);\n    this.#layoutTextParams.div = textDiv;\n    this.#layoutTextParams.properties = textDivProperties;\n    this.#layout(this.#layoutTextParams);\n    if (textDivProperties.hasText) {\n      this.#container.append(textDiv);\n    }\n    if (textDivProperties.hasEOL) {\n      const br = document.createElement(\"br\");\n      br.setAttribute(\"role\", \"presentation\");\n      this.#container.append(br);\n    }\n  }\n  #layout(params) {\n    const {\n      div,\n      properties,\n      ctx\n    } = params;\n    const {\n      style\n    } = div;\n    if (properties.canvasWidth !== 0 && properties.hasText) {\n      const {\n        fontFamily\n      } = style;\n      const {\n        canvasWidth,\n        fontSize\n      } = properties;\n      TextLayer.#ensureCtxFont(ctx, fontSize * this.#scale, fontFamily);\n      const {\n        width\n      } = ctx.measureText(div.textContent);\n      if (width > 0) {\n        style.setProperty(\"--scale-x\", canvasWidth * this.#scale / width);\n      }\n    }\n    if (properties.angle !== 0) {\n      style.setProperty(\"--rotate\", `${properties.angle}deg`);\n    }\n  }\n  static cleanup() {\n    if (this.#pendingTextLayers.size > 0) {\n      return;\n    }\n    this.#ascentCache.clear();\n    for (const {\n      canvas\n    } of this.#canvasContexts.values()) {\n      canvas.remove();\n    }\n    this.#canvasContexts.clear();\n  }\n  static #getCtx(lang = null) {\n    let ctx = this.#canvasContexts.get(lang ||= \"\");\n    if (!ctx) {\n      const canvas = document.createElement(\"canvas\");\n      canvas.className = \"hiddenCanvasElement\";\n      canvas.lang = lang;\n      document.body.append(canvas);\n      ctx = canvas.getContext(\"2d\", {\n        alpha: false,\n        willReadFrequently: true\n      });\n      this.#canvasContexts.set(lang, ctx);\n      this.#canvasCtxFonts.set(ctx, {\n        size: 0,\n        family: \"\"\n      });\n    }\n    return ctx;\n  }\n  static #ensureCtxFont(ctx, size, family) {\n    const cached = this.#canvasCtxFonts.get(ctx);\n    if (size === cached.size && family === cached.family) {\n      return;\n    }\n    ctx.font = `${size}px ${family}`;\n    cached.size = size;\n    cached.family = family;\n  }\n  static #ensureMinFontSizeComputed() {\n    if (this.#minFontSize !== null) {\n      return;\n    }\n    const div = document.createElement(\"div\");\n    div.style.opacity = 0;\n    div.style.lineHeight = 1;\n    div.style.fontSize = \"1px\";\n    div.style.position = \"absolute\";\n    div.textContent = \"X\";\n    document.body.append(div);\n    this.#minFontSize = div.getBoundingClientRect().height;\n    div.remove();\n  }\n  static #getAscent(fontFamily, style, lang) {\n    const cachedAscent = this.#ascentCache.get(fontFamily);\n    if (cachedAscent) {\n      return cachedAscent;\n    }\n    const ctx = this.#getCtx(lang);\n    ctx.canvas.width = ctx.canvas.height = DEFAULT_FONT_SIZE;\n    this.#ensureCtxFont(ctx, DEFAULT_FONT_SIZE, fontFamily);\n    const metrics = ctx.measureText(\"\");\n    const ascent = metrics.fontBoundingBoxAscent;\n    const descent = Math.abs(metrics.fontBoundingBoxDescent);\n    ctx.canvas.width = ctx.canvas.height = 0;\n    let ratio = 0.8;\n    if (ascent) {\n      ratio = ascent / (ascent + descent);\n    } else {\n      if (util_FeatureTest.platform.isFirefox) {\n        warn(\"Enable the `dom.textMetrics.fontBoundingBox.enabled` preference \" + \"in `about:config` to improve TextLayer rendering.\");\n      }\n      if (style.ascent) {\n        ratio = style.ascent;\n      } else if (style.descent) {\n        ratio = 1 + style.descent;\n      }\n    }\n    this.#ascentCache.set(fontFamily, ratio);\n    return ratio;\n  }\n}\n\n;// ./src/display/api.js\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst RENDERING_CANCELLED_TIMEOUT = 100;\nfunction getDocument(src = {}) {\n  if (typeof src === \"string\" || src instanceof URL) {\n    src = {\n      url: src\n    };\n  } else if (src instanceof ArrayBuffer || ArrayBuffer.isView(src)) {\n    src = {\n      data: src\n    };\n  }\n  const task = new PDFDocumentLoadingTask();\n  const {\n    docId\n  } = task;\n  const url = src.url ? getUrlProp(src.url) : null;\n  const data = src.data ? getDataProp(src.data) : null;\n  const httpHeaders = src.httpHeaders || null;\n  const withCredentials = src.withCredentials === true;\n  const password = src.password ?? null;\n  const rangeTransport = src.range instanceof PDFDataRangeTransport ? src.range : null;\n  const rangeChunkSize = Number.isInteger(src.rangeChunkSize) && src.rangeChunkSize > 0 ? src.rangeChunkSize : 2 ** 16;\n  let worker = src.worker instanceof PDFWorker ? src.worker : null;\n  const verbosity = src.verbosity;\n  const docBaseUrl = typeof src.docBaseUrl === \"string\" && !isDataScheme(src.docBaseUrl) ? src.docBaseUrl : null;\n  const cMapUrl = getFactoryUrlProp(src.cMapUrl);\n  const cMapPacked = src.cMapPacked !== false;\n  const CMapReaderFactory = src.CMapReaderFactory || (isNodeJS ? NodeCMapReaderFactory : DOMCMapReaderFactory);\n  const iccUrl = getFactoryUrlProp(src.iccUrl);\n  const standardFontDataUrl = getFactoryUrlProp(src.standardFontDataUrl);\n  const StandardFontDataFactory = src.StandardFontDataFactory || (isNodeJS ? NodeStandardFontDataFactory : DOMStandardFontDataFactory);\n  const wasmUrl = getFactoryUrlProp(src.wasmUrl);\n  const WasmFactory = src.WasmFactory || (isNodeJS ? NodeWasmFactory : DOMWasmFactory);\n  const ignoreErrors = src.stopAtErrors !== true;\n  const maxImageSize = Number.isInteger(src.maxImageSize) && src.maxImageSize > -1 ? src.maxImageSize : -1;\n  const isEvalSupported = src.isEvalSupported !== false;\n  const isOffscreenCanvasSupported = typeof src.isOffscreenCanvasSupported === \"boolean\" ? src.isOffscreenCanvasSupported : !isNodeJS;\n  const isImageDecoderSupported = typeof src.isImageDecoderSupported === \"boolean\" ? src.isImageDecoderSupported : !isNodeJS && (util_FeatureTest.platform.isFirefox || !globalThis.chrome);\n  const canvasMaxAreaInBytes = Number.isInteger(src.canvasMaxAreaInBytes) ? src.canvasMaxAreaInBytes : -1;\n  const disableFontFace = typeof src.disableFontFace === \"boolean\" ? src.disableFontFace : isNodeJS;\n  const fontExtraProperties = src.fontExtraProperties === true;\n  const enableXfa = src.enableXfa === true;\n  const ownerDocument = src.ownerDocument || globalThis.document;\n  const disableRange = src.disableRange === true;\n  const disableStream = src.disableStream === true;\n  const disableAutoFetch = src.disableAutoFetch === true;\n  const pdfBug = src.pdfBug === true;\n  const CanvasFactory = src.CanvasFactory || (isNodeJS ? NodeCanvasFactory : DOMCanvasFactory);\n  const FilterFactory = src.FilterFactory || (isNodeJS ? NodeFilterFactory : DOMFilterFactory);\n  const enableHWA = src.enableHWA === true;\n  const useWasm = src.useWasm !== false;\n  const length = rangeTransport ? rangeTransport.length : src.length ?? NaN;\n  const useSystemFonts = typeof src.useSystemFonts === \"boolean\" ? src.useSystemFonts : !isNodeJS && !disableFontFace;\n  const useWorkerFetch = typeof src.useWorkerFetch === \"boolean\" ? src.useWorkerFetch : !!(CMapReaderFactory === DOMCMapReaderFactory && StandardFontDataFactory === DOMStandardFontDataFactory && WasmFactory === DOMWasmFactory && cMapUrl && standardFontDataUrl && wasmUrl && isValidFetchUrl(cMapUrl, document.baseURI) && isValidFetchUrl(standardFontDataUrl, document.baseURI) && isValidFetchUrl(wasmUrl, document.baseURI));\n  const styleElement = null;\n  setVerbosityLevel(verbosity);\n  const transportFactory = {\n    canvasFactory: new CanvasFactory({\n      ownerDocument,\n      enableHWA\n    }),\n    filterFactory: new FilterFactory({\n      docId,\n      ownerDocument\n    }),\n    cMapReaderFactory: useWorkerFetch ? null : new CMapReaderFactory({\n      baseUrl: cMapUrl,\n      isCompressed: cMapPacked\n    }),\n    standardFontDataFactory: useWorkerFetch ? null : new StandardFontDataFactory({\n      baseUrl: standardFontDataUrl\n    }),\n    wasmFactory: useWorkerFetch ? null : new WasmFactory({\n      baseUrl: wasmUrl\n    })\n  };\n  if (!worker) {\n    worker = PDFWorker.create({\n      verbosity,\n      port: GlobalWorkerOptions.workerPort\n    });\n    task._worker = worker;\n  }\n  const docParams = {\n    docId,\n    apiVersion: \"5.4.530\",\n    data,\n    password,\n    disableAutoFetch,\n    rangeChunkSize,\n    length,\n    docBaseUrl,\n    enableXfa,\n    evaluatorOptions: {\n      maxImageSize,\n      disableFontFace,\n      ignoreErrors,\n      isEvalSupported,\n      isOffscreenCanvasSupported,\n      isImageDecoderSupported,\n      canvasMaxAreaInBytes,\n      fontExtraProperties,\n      useSystemFonts,\n      useWasm,\n      useWorkerFetch,\n      cMapUrl,\n      iccUrl,\n      standardFontDataUrl,\n      wasmUrl\n    }\n  };\n  const transportParams = {\n    ownerDocument,\n    pdfBug,\n    styleElement,\n    loadingParams: {\n      disableAutoFetch,\n      enableXfa\n    }\n  };\n  worker.promise.then(function () {\n    if (task.destroyed) {\n      throw new Error(\"Loading aborted\");\n    }\n    if (worker.destroyed) {\n      throw new Error(\"Worker was destroyed\");\n    }\n    const workerIdPromise = worker.messageHandler.sendWithPromise(\"GetDocRequest\", docParams, data ? [data.buffer] : null);\n    let networkStream;\n    if (rangeTransport) {\n      networkStream = new PDFDataTransportStream(rangeTransport, {\n        disableRange,\n        disableStream\n      });\n    } else if (!data) {\n      if (!url) {\n        throw new Error(\"getDocument - no `url` parameter provided.\");\n      }\n      const NetworkStream = isValidFetchUrl(url) ? PDFFetchStream : isNodeJS ? PDFNodeStream : PDFNetworkStream;\n      networkStream = new NetworkStream({\n        url,\n        length,\n        httpHeaders,\n        withCredentials,\n        rangeChunkSize,\n        disableRange,\n        disableStream\n      });\n    }\n    return workerIdPromise.then(workerId => {\n      if (task.destroyed) {\n        throw new Error(\"Loading aborted\");\n      }\n      if (worker.destroyed) {\n        throw new Error(\"Worker was destroyed\");\n      }\n      const messageHandler = new MessageHandler(docId, workerId, worker.port);\n      const transport = new WorkerTransport(messageHandler, task, networkStream, transportParams, transportFactory, enableHWA);\n      task._transport = transport;\n      messageHandler.send(\"Ready\", null);\n    });\n  }).catch(task._capability.reject);\n  return task;\n}\nclass PDFDocumentLoadingTask {\n  static #docId = 0;\n  _capability = Promise.withResolvers();\n  _transport = null;\n  _worker = null;\n  docId = `d${PDFDocumentLoadingTask.#docId++}`;\n  destroyed = false;\n  onPassword = null;\n  onProgress = null;\n  get promise() {\n    return this._capability.promise;\n  }\n  async destroy() {\n    this.destroyed = true;\n    try {\n      if (this._worker?.port) {\n        this._worker._pendingDestroy = true;\n      }\n      await this._transport?.destroy();\n    } catch (ex) {\n      if (this._worker?.port) {\n        delete this._worker._pendingDestroy;\n      }\n      throw ex;\n    }\n    this._transport = null;\n    this._worker?.destroy();\n    this._worker = null;\n  }\n  async getData() {\n    return this._transport.getData();\n  }\n}\nclass PDFDataRangeTransport {\n  #capability = Promise.withResolvers();\n  #progressiveDoneListeners = [];\n  #progressiveReadListeners = [];\n  #progressListeners = [];\n  #rangeListeners = [];\n  constructor(length, initialData, progressiveDone = false, contentDispositionFilename = null) {\n    this.length = length;\n    this.initialData = initialData;\n    this.progressiveDone = progressiveDone;\n    this.contentDispositionFilename = contentDispositionFilename;\n  }\n  addRangeListener(listener) {\n    this.#rangeListeners.push(listener);\n  }\n  addProgressListener(listener) {\n    this.#progressListeners.push(listener);\n  }\n  addProgressiveReadListener(listener) {\n    this.#progressiveReadListeners.push(listener);\n  }\n  addProgressiveDoneListener(listener) {\n    this.#progressiveDoneListeners.push(listener);\n  }\n  onDataRange(begin, chunk) {\n    for (const listener of this.#rangeListeners) {\n      listener(begin, chunk);\n    }\n  }\n  onDataProgress(loaded, total) {\n    this.#capability.promise.then(() => {\n      for (const listener of this.#progressListeners) {\n        listener(loaded, total);\n      }\n    });\n  }\n  onDataProgressiveRead(chunk) {\n    this.#capability.promise.then(() => {\n      for (const listener of this.#progressiveReadListeners) {\n        listener(chunk);\n      }\n    });\n  }\n  onDataProgressiveDone() {\n    this.#capability.promise.then(() => {\n      for (const listener of this.#progressiveDoneListeners) {\n        listener();\n      }\n    });\n  }\n  transportReady() {\n    this.#capability.resolve();\n  }\n  requestDataRange(begin, end) {\n    unreachable(\"Abstract method PDFDataRangeTransport.requestDataRange\");\n  }\n  abort() {}\n}\nclass PDFDocumentProxy {\n  constructor(pdfInfo, transport) {\n    this._pdfInfo = pdfInfo;\n    this._transport = transport;\n  }\n  get annotationStorage() {\n    return this._transport.annotationStorage;\n  }\n  get canvasFactory() {\n    return this._transport.canvasFactory;\n  }\n  get filterFactory() {\n    return this._transport.filterFactory;\n  }\n  get numPages() {\n    return this._pdfInfo.numPages;\n  }\n  get fingerprints() {\n    return this._pdfInfo.fingerprints;\n  }\n  get isPureXfa() {\n    return shadow(this, \"isPureXfa\", !!this._transport._htmlForXfa);\n  }\n  get allXfaHtml() {\n    return this._transport._htmlForXfa;\n  }\n  getPage(pageNumber) {\n    return this._transport.getPage(pageNumber);\n  }\n  getPageIndex(ref) {\n    return this._transport.getPageIndex(ref);\n  }\n  getDestinations() {\n    return this._transport.getDestinations();\n  }\n  getDestination(id) {\n    return this._transport.getDestination(id);\n  }\n  getPageLabels() {\n    return this._transport.getPageLabels();\n  }\n  getPageLayout() {\n    return this._transport.getPageLayout();\n  }\n  getPageMode() {\n    return this._transport.getPageMode();\n  }\n  getViewerPreferences() {\n    return this._transport.getViewerPreferences();\n  }\n  getOpenAction() {\n    return this._transport.getOpenAction();\n  }\n  getAttachments() {\n    return this._transport.getAttachments();\n  }\n  getAnnotationsByType(types, pageIndexesToSkip) {\n    return this._transport.getAnnotationsByType(types, pageIndexesToSkip);\n  }\n  getJSActions() {\n    return this._transport.getDocJSActions();\n  }\n  getOutline() {\n    return this._transport.getOutline();\n  }\n  getOptionalContentConfig({\n    intent = \"display\"\n  } = {}) {\n    const {\n      renderingIntent\n    } = this._transport.getRenderingIntent(intent);\n    return this._transport.getOptionalContentConfig(renderingIntent);\n  }\n  getPermissions() {\n    return this._transport.getPermissions();\n  }\n  getMetadata() {\n    return this._transport.getMetadata();\n  }\n  getMarkInfo() {\n    return this._transport.getMarkInfo();\n  }\n  getData() {\n    return this._transport.getData();\n  }\n  saveDocument() {\n    return this._transport.saveDocument();\n  }\n  extractPages(pageInfos) {\n    return this._transport.extractPages(pageInfos);\n  }\n  getDownloadInfo() {\n    return this._transport.downloadInfoCapability.promise;\n  }\n  cleanup(keepLoadedFonts = false) {\n    return this._transport.startCleanup(keepLoadedFonts || this.isPureXfa);\n  }\n  destroy() {\n    return this.loadingTask.destroy();\n  }\n  cachedPageNumber(ref) {\n    return this._transport.cachedPageNumber(ref);\n  }\n  get loadingParams() {\n    return this._transport.loadingParams;\n  }\n  get loadingTask() {\n    return this._transport.loadingTask;\n  }\n  getFieldObjects() {\n    return this._transport.getFieldObjects();\n  }\n  hasJSActions() {\n    return this._transport.hasJSActions();\n  }\n  getCalculationOrderIds() {\n    return this._transport.getCalculationOrderIds();\n  }\n}\nclass PDFPageProxy {\n  #pendingCleanup = false;\n  constructor(pageIndex, pageInfo, transport, pdfBug = false) {\n    this._pageIndex = pageIndex;\n    this._pageInfo = pageInfo;\n    this._transport = transport;\n    this._stats = pdfBug ? new StatTimer() : null;\n    this._pdfBug = pdfBug;\n    this.commonObjs = transport.commonObjs;\n    this.objs = new PDFObjects();\n    this._intentStates = new Map();\n    this.destroyed = false;\n    this.recordedBBoxes = null;\n  }\n  get pageNumber() {\n    return this._pageIndex + 1;\n  }\n  get rotate() {\n    return this._pageInfo.rotate;\n  }\n  get ref() {\n    return this._pageInfo.ref;\n  }\n  get userUnit() {\n    return this._pageInfo.userUnit;\n  }\n  get view() {\n    return this._pageInfo.view;\n  }\n  getViewport({\n    scale,\n    rotation = this.rotate,\n    offsetX = 0,\n    offsetY = 0,\n    dontFlip = false\n  } = {}) {\n    return new PageViewport({\n      viewBox: this.view,\n      userUnit: this.userUnit,\n      scale,\n      rotation,\n      offsetX,\n      offsetY,\n      dontFlip\n    });\n  }\n  getAnnotations({\n    intent = \"display\"\n  } = {}) {\n    const {\n      renderingIntent\n    } = this._transport.getRenderingIntent(intent);\n    return this._transport.getAnnotations(this._pageIndex, renderingIntent);\n  }\n  getJSActions() {\n    return this._transport.getPageJSActions(this._pageIndex);\n  }\n  get filterFactory() {\n    return this._transport.filterFactory;\n  }\n  get isPureXfa() {\n    return shadow(this, \"isPureXfa\", !!this._transport._htmlForXfa);\n  }\n  async getXfa() {\n    return this._transport._htmlForXfa?.children[this._pageIndex] || null;\n  }\n  render({\n    canvasContext,\n    canvas = canvasContext.canvas,\n    viewport,\n    intent = \"display\",\n    annotationMode = AnnotationMode.ENABLE,\n    transform = null,\n    background = null,\n    optionalContentConfigPromise = null,\n    annotationCanvasMap = null,\n    pageColors = null,\n    printAnnotationStorage = null,\n    isEditing = false,\n    recordOperations = false,\n    operationsFilter = null\n  }) {\n    this._stats?.time(\"Overall\");\n    const intentArgs = this._transport.getRenderingIntent(intent, annotationMode, printAnnotationStorage, isEditing);\n    const {\n      renderingIntent,\n      cacheKey\n    } = intentArgs;\n    this.#pendingCleanup = false;\n    optionalContentConfigPromise ||= this._transport.getOptionalContentConfig(renderingIntent);\n    let intentState = this._intentStates.get(cacheKey);\n    if (!intentState) {\n      intentState = Object.create(null);\n      this._intentStates.set(cacheKey, intentState);\n    }\n    if (intentState.streamReaderCancelTimeout) {\n      clearTimeout(intentState.streamReaderCancelTimeout);\n      intentState.streamReaderCancelTimeout = null;\n    }\n    const intentPrint = !!(renderingIntent & RenderingIntentFlag.PRINT);\n    if (!intentState.displayReadyCapability) {\n      intentState.displayReadyCapability = Promise.withResolvers();\n      intentState.operatorList = {\n        fnArray: [],\n        argsArray: [],\n        lastChunk: false,\n        separateAnnots: null\n      };\n      this._stats?.time(\"Page Request\");\n      this._pumpOperatorList(intentArgs);\n    }\n    const recordForDebugger = Boolean(this._pdfBug && globalThis.StepperManager?.enabled);\n    const shouldRecordOperations = !this.recordedBBoxes && (recordOperations || recordForDebugger);\n    const complete = error => {\n      intentState.renderTasks.delete(internalRenderTask);\n      if (shouldRecordOperations) {\n        const recordedBBoxes = internalRenderTask.gfx?.dependencyTracker.take();\n        if (recordedBBoxes) {\n          if (internalRenderTask.stepper) {\n            internalRenderTask.stepper.setOperatorBBoxes(recordedBBoxes, internalRenderTask.gfx.dependencyTracker.takeDebugMetadata());\n          }\n          if (recordOperations) {\n            this.recordedBBoxes = recordedBBoxes;\n          }\n        }\n      }\n      if (intentPrint) {\n        this.#pendingCleanup = true;\n      }\n      this.#tryCleanup();\n      if (error) {\n        internalRenderTask.capability.reject(error);\n        this._abortOperatorList({\n          intentState,\n          reason: error instanceof Error ? error : new Error(error)\n        });\n      } else {\n        internalRenderTask.capability.resolve();\n      }\n      if (this._stats) {\n        this._stats.timeEnd(\"Rendering\");\n        this._stats.timeEnd(\"Overall\");\n        if (globalThis.Stats?.enabled) {\n          globalThis.Stats.add(this.pageNumber, this._stats);\n        }\n      }\n    };\n    const internalRenderTask = new InternalRenderTask({\n      callback: complete,\n      params: {\n        canvas,\n        canvasContext,\n        dependencyTracker: shouldRecordOperations ? new CanvasDependencyTracker(canvas, intentState.operatorList.length, recordForDebugger) : null,\n        viewport,\n        transform,\n        background\n      },\n      objs: this.objs,\n      commonObjs: this.commonObjs,\n      annotationCanvasMap,\n      operatorList: intentState.operatorList,\n      pageIndex: this._pageIndex,\n      canvasFactory: this._transport.canvasFactory,\n      filterFactory: this._transport.filterFactory,\n      useRequestAnimationFrame: !intentPrint,\n      pdfBug: this._pdfBug,\n      pageColors,\n      enableHWA: this._transport.enableHWA,\n      operationsFilter\n    });\n    (intentState.renderTasks ||= new Set()).add(internalRenderTask);\n    const renderTask = internalRenderTask.task;\n    Promise.all([intentState.displayReadyCapability.promise, optionalContentConfigPromise]).then(([transparency, optionalContentConfig]) => {\n      if (this.destroyed) {\n        complete();\n        return;\n      }\n      this._stats?.time(\"Rendering\");\n      if (!(optionalContentConfig.renderingIntent & renderingIntent)) {\n        throw new Error(\"Must use the same `intent`-argument when calling the `PDFPageProxy.render` \" + \"and `PDFDocumentProxy.getOptionalContentConfig` methods.\");\n      }\n      internalRenderTask.initializeGraphics({\n        transparency,\n        optionalContentConfig\n      });\n      internalRenderTask.operatorListChanged();\n    }).catch(complete);\n    return renderTask;\n  }\n  getOperatorList({\n    intent = \"display\",\n    annotationMode = AnnotationMode.ENABLE,\n    printAnnotationStorage = null,\n    isEditing = false\n  } = {}) {\n    function operatorListChanged() {\n      if (intentState.operatorList.lastChunk) {\n        intentState.opListReadCapability.resolve(intentState.operatorList);\n        intentState.renderTasks.delete(opListTask);\n      }\n    }\n    const intentArgs = this._transport.getRenderingIntent(intent, annotationMode, printAnnotationStorage, isEditing, true);\n    let intentState = this._intentStates.get(intentArgs.cacheKey);\n    if (!intentState) {\n      intentState = Object.create(null);\n      this._intentStates.set(intentArgs.cacheKey, intentState);\n    }\n    let opListTask;\n    if (!intentState.opListReadCapability) {\n      opListTask = Object.create(null);\n      opListTask.operatorListChanged = operatorListChanged;\n      intentState.opListReadCapability = Promise.withResolvers();\n      (intentState.renderTasks ||= new Set()).add(opListTask);\n      intentState.operatorList = {\n        fnArray: [],\n        argsArray: [],\n        lastChunk: false,\n        separateAnnots: null\n      };\n      this._stats?.time(\"Page Request\");\n      this._pumpOperatorList(intentArgs);\n    }\n    return intentState.opListReadCapability.promise;\n  }\n  streamTextContent({\n    includeMarkedContent = false,\n    disableNormalization = false\n  } = {}) {\n    const TEXT_CONTENT_CHUNK_SIZE = 100;\n    return this._transport.messageHandler.sendWithStream(\"GetTextContent\", {\n      pageIndex: this._pageIndex,\n      includeMarkedContent: includeMarkedContent === true,\n      disableNormalization: disableNormalization === true\n    }, {\n      highWaterMark: TEXT_CONTENT_CHUNK_SIZE,\n      size(textContent) {\n        return textContent.items.length;\n      }\n    });\n  }\n  getTextContent(params = {}) {\n    if (this._transport._htmlForXfa) {\n      return this.getXfa().then(xfa => XfaText.textContent(xfa));\n    }\n    const readableStream = this.streamTextContent(params);\n    return new Promise(function (resolve, reject) {\n      function pump() {\n        reader.read().then(function ({\n          value,\n          done\n        }) {\n          if (done) {\n            resolve(textContent);\n            return;\n          }\n          textContent.lang ??= value.lang;\n          Object.assign(textContent.styles, value.styles);\n          textContent.items.push(...value.items);\n          pump();\n        }, reject);\n      }\n      const reader = readableStream.getReader();\n      const textContent = {\n        items: [],\n        styles: Object.create(null),\n        lang: null\n      };\n      pump();\n    });\n  }\n  getStructTree() {\n    return this._transport.getStructTree(this._pageIndex);\n  }\n  _destroy() {\n    this.destroyed = true;\n    const waitOn = [];\n    for (const intentState of this._intentStates.values()) {\n      this._abortOperatorList({\n        intentState,\n        reason: new Error(\"Page was destroyed.\"),\n        force: true\n      });\n      if (intentState.opListReadCapability) {\n        continue;\n      }\n      for (const internalRenderTask of intentState.renderTasks) {\n        waitOn.push(internalRenderTask.completed);\n        internalRenderTask.cancel();\n      }\n    }\n    this.objs.clear();\n    this.#pendingCleanup = false;\n    return Promise.all(waitOn);\n  }\n  cleanup(resetStats = false) {\n    this.#pendingCleanup = true;\n    const success = this.#tryCleanup();\n    if (resetStats && success) {\n      this._stats &&= new StatTimer();\n    }\n    return success;\n  }\n  #tryCleanup() {\n    if (!this.#pendingCleanup || this.destroyed) {\n      return false;\n    }\n    for (const {\n      renderTasks,\n      operatorList\n    } of this._intentStates.values()) {\n      if (renderTasks.size > 0 || !operatorList.lastChunk) {\n        return false;\n      }\n    }\n    this._intentStates.clear();\n    this.objs.clear();\n    this.#pendingCleanup = false;\n    return true;\n  }\n  _startRenderPage(transparency, cacheKey) {\n    const intentState = this._intentStates.get(cacheKey);\n    if (!intentState) {\n      return;\n    }\n    this._stats?.timeEnd(\"Page Request\");\n    intentState.displayReadyCapability?.resolve(transparency);\n  }\n  _renderPageChunk(operatorListChunk, intentState) {\n    for (let i = 0, ii = operatorListChunk.length; i < ii; i++) {\n      intentState.operatorList.fnArray.push(operatorListChunk.fnArray[i]);\n      intentState.operatorList.argsArray.push(operatorListChunk.argsArray[i]);\n    }\n    intentState.operatorList.lastChunk = operatorListChunk.lastChunk;\n    intentState.operatorList.separateAnnots = operatorListChunk.separateAnnots;\n    for (const internalRenderTask of intentState.renderTasks) {\n      internalRenderTask.operatorListChanged();\n    }\n    if (operatorListChunk.lastChunk) {\n      this.#tryCleanup();\n    }\n  }\n  _pumpOperatorList({\n    renderingIntent,\n    cacheKey,\n    annotationStorageSerializable,\n    modifiedIds\n  }) {\n    const {\n      map,\n      transfer\n    } = annotationStorageSerializable;\n    const readableStream = this._transport.messageHandler.sendWithStream(\"GetOperatorList\", {\n      pageIndex: this._pageIndex,\n      intent: renderingIntent,\n      cacheKey,\n      annotationStorage: map,\n      modifiedIds\n    }, transfer);\n    const reader = readableStream.getReader();\n    const intentState = this._intentStates.get(cacheKey);\n    intentState.streamReader = reader;\n    const pump = () => {\n      reader.read().then(({\n        value,\n        done\n      }) => {\n        if (done) {\n          intentState.streamReader = null;\n          return;\n        }\n        if (this._transport.destroyed) {\n          return;\n        }\n        this._renderPageChunk(value, intentState);\n        pump();\n      }, reason => {\n        intentState.streamReader = null;\n        if (this._transport.destroyed) {\n          return;\n        }\n        if (intentState.operatorList) {\n          intentState.operatorList.lastChunk = true;\n          for (const internalRenderTask of intentState.renderTasks) {\n            internalRenderTask.operatorListChanged();\n          }\n          this.#tryCleanup();\n        }\n        if (intentState.displayReadyCapability) {\n          intentState.displayReadyCapability.reject(reason);\n        } else if (intentState.opListReadCapability) {\n          intentState.opListReadCapability.reject(reason);\n        } else {\n          throw reason;\n        }\n      });\n    };\n    pump();\n  }\n  _abortOperatorList({\n    intentState,\n    reason,\n    force = false\n  }) {\n    if (!intentState.streamReader) {\n      return;\n    }\n    if (intentState.streamReaderCancelTimeout) {\n      clearTimeout(intentState.streamReaderCancelTimeout);\n      intentState.streamReaderCancelTimeout = null;\n    }\n    if (!force) {\n      if (intentState.renderTasks.size > 0) {\n        return;\n      }\n      if (reason instanceof RenderingCancelledException) {\n        let delay = RENDERING_CANCELLED_TIMEOUT;\n        if (reason.extraDelay > 0 && reason.extraDelay < 1000) {\n          delay += reason.extraDelay;\n        }\n        intentState.streamReaderCancelTimeout = setTimeout(() => {\n          intentState.streamReaderCancelTimeout = null;\n          this._abortOperatorList({\n            intentState,\n            reason,\n            force: true\n          });\n        }, delay);\n        return;\n      }\n    }\n    intentState.streamReader.cancel(new AbortException(reason.message)).catch(() => {});\n    intentState.streamReader = null;\n    if (this._transport.destroyed) {\n      return;\n    }\n    for (const [curCacheKey, curIntentState] of this._intentStates) {\n      if (curIntentState === intentState) {\n        this._intentStates.delete(curCacheKey);\n        break;\n      }\n    }\n    this.cleanup();\n  }\n  get stats() {\n    return this._stats;\n  }\n}\nclass PDFWorker {\n  #capability = Promise.withResolvers();\n  #messageHandler = null;\n  #port = null;\n  #webWorker = null;\n  static #fakeWorkerId = 0;\n  static #isWorkerDisabled = false;\n  static #workerPorts = new WeakMap();\n  static {\n    if (isNodeJS) {\n      this.#isWorkerDisabled = true;\n      GlobalWorkerOptions.workerSrc ||= \"./pdf.worker.mjs\";\n    }\n    this._isSameOrigin = (baseUrl, otherUrl) => {\n      const base = URL.parse(baseUrl);\n      if (!base?.origin || base.origin === \"null\") {\n        return false;\n      }\n      const other = new URL(otherUrl, base);\n      return base.origin === other.origin;\n    };\n    this._createCDNWrapper = url => {\n      const wrapper = `await import(\"${url}\");`;\n      return URL.createObjectURL(new Blob([wrapper], {\n        type: \"text/javascript\"\n      }));\n    };\n    this.fromPort = params => {\n      deprecated(\"`PDFWorker.fromPort` - please use `PDFWorker.create` instead.\");\n      if (!params?.port) {\n        throw new Error(\"PDFWorker.fromPort - invalid method signature.\");\n      }\n      return this.create(params);\n    };\n  }\n  constructor({\n    name = null,\n    port = null,\n    verbosity = getVerbosityLevel()\n  } = {}) {\n    this.name = name;\n    this.destroyed = false;\n    this.verbosity = verbosity;\n    if (port) {\n      if (PDFWorker.#workerPorts.has(port)) {\n        throw new Error(\"Cannot use more than one PDFWorker per port.\");\n      }\n      PDFWorker.#workerPorts.set(port, this);\n      this.#initializeFromPort(port);\n    } else {\n      this.#initialize();\n    }\n  }\n  get promise() {\n    return this.#capability.promise;\n  }\n  #resolve() {\n    this.#capability.resolve();\n    this.#messageHandler.send(\"configure\", {\n      verbosity: this.verbosity\n    });\n  }\n  get port() {\n    return this.#port;\n  }\n  get messageHandler() {\n    return this.#messageHandler;\n  }\n  #initializeFromPort(port) {\n    this.#port = port;\n    this.#messageHandler = new MessageHandler(\"main\", \"worker\", port);\n    this.#messageHandler.on(\"ready\", () => {});\n    this.#resolve();\n  }\n  #initialize() {\n    if (PDFWorker.#isWorkerDisabled || PDFWorker.#mainThreadWorkerMessageHandler) {\n      this.#setupFakeWorker();\n      return;\n    }\n    let {\n      workerSrc\n    } = PDFWorker;\n    try {\n      if (!PDFWorker._isSameOrigin(window.location, workerSrc)) {\n        workerSrc = PDFWorker._createCDNWrapper(new URL(workerSrc, window.location).href);\n      }\n      const worker = new Worker(workerSrc, {\n        type: \"module\"\n      });\n      const messageHandler = new MessageHandler(\"main\", \"worker\", worker);\n      const terminateEarly = () => {\n        ac.abort();\n        messageHandler.destroy();\n        worker.terminate();\n        if (this.destroyed) {\n          this.#capability.reject(new Error(\"Worker was destroyed\"));\n        } else {\n          this.#setupFakeWorker();\n        }\n      };\n      const ac = new AbortController();\n      worker.addEventListener(\"error\", () => {\n        if (!this.#webWorker) {\n          terminateEarly();\n        }\n      }, {\n        signal: ac.signal\n      });\n      messageHandler.on(\"test\", data => {\n        ac.abort();\n        if (this.destroyed || !data) {\n          terminateEarly();\n          return;\n        }\n        this.#messageHandler = messageHandler;\n        this.#port = worker;\n        this.#webWorker = worker;\n        this.#resolve();\n      });\n      messageHandler.on(\"ready\", data => {\n        ac.abort();\n        if (this.destroyed) {\n          terminateEarly();\n          return;\n        }\n        try {\n          sendTest();\n        } catch {\n          this.#setupFakeWorker();\n        }\n      });\n      const sendTest = () => {\n        const testObj = new Uint8Array();\n        messageHandler.send(\"test\", testObj, [testObj.buffer]);\n      };\n      sendTest();\n      return;\n    } catch {\n      info(\"The worker has been disabled.\");\n    }\n    this.#setupFakeWorker();\n  }\n  #setupFakeWorker() {\n    if (!PDFWorker.#isWorkerDisabled) {\n      warn(\"Setting up fake worker.\");\n      PDFWorker.#isWorkerDisabled = true;\n    }\n    PDFWorker._setupFakeWorkerGlobal.then(WorkerMessageHandler => {\n      if (this.destroyed) {\n        this.#capability.reject(new Error(\"Worker was destroyed\"));\n        return;\n      }\n      const port = new LoopbackPort();\n      this.#port = port;\n      const id = `fake${PDFWorker.#fakeWorkerId++}`;\n      const workerHandler = new MessageHandler(id + \"_worker\", id, port);\n      WorkerMessageHandler.setup(workerHandler, port);\n      this.#messageHandler = new MessageHandler(id, id + \"_worker\", port);\n      this.#resolve();\n    }).catch(reason => {\n      this.#capability.reject(new Error(`Setting up fake worker failed: \"${reason.message}\".`));\n    });\n  }\n  destroy() {\n    this.destroyed = true;\n    this.#webWorker?.terminate();\n    this.#webWorker = null;\n    PDFWorker.#workerPorts.delete(this.#port);\n    this.#port = null;\n    this.#messageHandler?.destroy();\n    this.#messageHandler = null;\n  }\n  static create(params) {\n    const cachedPort = this.#workerPorts.get(params?.port);\n    if (cachedPort) {\n      if (cachedPort._pendingDestroy) {\n        throw new Error(\"PDFWorker.create - the worker is being destroyed.\\n\" + \"Please remember to await `PDFDocumentLoadingTask.destroy()`-calls.\");\n      }\n      return cachedPort;\n    }\n    return new PDFWorker(params);\n  }\n  static get workerSrc() {\n    if (GlobalWorkerOptions.workerSrc) {\n      return GlobalWorkerOptions.workerSrc;\n    }\n    throw new Error('No \"GlobalWorkerOptions.workerSrc\" specified.');\n  }\n  static get #mainThreadWorkerMessageHandler() {\n    try {\n      return globalThis.pdfjsWorker?.WorkerMessageHandler || null;\n    } catch {\n      return null;\n    }\n  }\n  static get _setupFakeWorkerGlobal() {\n    const loader = async () => {\n      if (this.#mainThreadWorkerMessageHandler) {\n        return this.#mainThreadWorkerMessageHandler;\n      }\n      const worker = await import(\n      /*webpackIgnore: true*/\n      /*@vite-ignore*/\n      this.workerSrc);\n      return worker.WorkerMessageHandler;\n    };\n    return shadow(this, \"_setupFakeWorkerGlobal\", loader());\n  }\n}\nclass WorkerTransport {\n  #methodPromises = new Map();\n  #pageCache = new Map();\n  #pagePromises = new Map();\n  #pageRefCache = new Map();\n  #passwordCapability = null;\n  constructor(messageHandler, loadingTask, networkStream, params, factory, enableHWA) {\n    this.messageHandler = messageHandler;\n    this.loadingTask = loadingTask;\n    this.commonObjs = new PDFObjects();\n    this.fontLoader = new FontLoader({\n      ownerDocument: params.ownerDocument,\n      styleElement: params.styleElement\n    });\n    this.loadingParams = params.loadingParams;\n    this._params = params;\n    this.canvasFactory = factory.canvasFactory;\n    this.filterFactory = factory.filterFactory;\n    this.cMapReaderFactory = factory.cMapReaderFactory;\n    this.standardFontDataFactory = factory.standardFontDataFactory;\n    this.wasmFactory = factory.wasmFactory;\n    this.destroyed = false;\n    this.destroyCapability = null;\n    this._networkStream = networkStream;\n    this._fullReader = null;\n    this._lastProgress = null;\n    this.downloadInfoCapability = Promise.withResolvers();\n    this.enableHWA = enableHWA;\n    this.setupMessageHandler();\n  }\n  #cacheSimpleMethod(name, data = null) {\n    const cachedPromise = this.#methodPromises.get(name);\n    if (cachedPromise) {\n      return cachedPromise;\n    }\n    const promise = this.messageHandler.sendWithPromise(name, data);\n    this.#methodPromises.set(name, promise);\n    return promise;\n  }\n  get annotationStorage() {\n    return shadow(this, \"annotationStorage\", new AnnotationStorage());\n  }\n  getRenderingIntent(intent, annotationMode = AnnotationMode.ENABLE, printAnnotationStorage = null, isEditing = false, isOpList = false) {\n    let renderingIntent = RenderingIntentFlag.DISPLAY;\n    let annotationStorageSerializable = SerializableEmpty;\n    switch (intent) {\n      case \"any\":\n        renderingIntent = RenderingIntentFlag.ANY;\n        break;\n      case \"display\":\n        break;\n      case \"print\":\n        renderingIntent = RenderingIntentFlag.PRINT;\n        break;\n      default:\n        warn(`getRenderingIntent - invalid intent: ${intent}`);\n    }\n    const annotationStorage = renderingIntent & RenderingIntentFlag.PRINT && printAnnotationStorage instanceof PrintAnnotationStorage ? printAnnotationStorage : this.annotationStorage;\n    switch (annotationMode) {\n      case AnnotationMode.DISABLE:\n        renderingIntent += RenderingIntentFlag.ANNOTATIONS_DISABLE;\n        break;\n      case AnnotationMode.ENABLE:\n        break;\n      case AnnotationMode.ENABLE_FORMS:\n        renderingIntent += RenderingIntentFlag.ANNOTATIONS_FORMS;\n        break;\n      case AnnotationMode.ENABLE_STORAGE:\n        renderingIntent += RenderingIntentFlag.ANNOTATIONS_STORAGE;\n        annotationStorageSerializable = annotationStorage.serializable;\n        break;\n      default:\n        warn(`getRenderingIntent - invalid annotationMode: ${annotationMode}`);\n    }\n    if (isEditing) {\n      renderingIntent += RenderingIntentFlag.IS_EDITING;\n    }\n    if (isOpList) {\n      renderingIntent += RenderingIntentFlag.OPLIST;\n    }\n    const {\n      ids: modifiedIds,\n      hash: modifiedIdsHash\n    } = annotationStorage.modifiedIds;\n    const cacheKeyBuf = [renderingIntent, annotationStorageSerializable.hash, modifiedIdsHash];\n    return {\n      renderingIntent,\n      cacheKey: cacheKeyBuf.join(\"_\"),\n      annotationStorageSerializable,\n      modifiedIds\n    };\n  }\n  destroy() {\n    if (this.destroyCapability) {\n      return this.destroyCapability.promise;\n    }\n    this.destroyed = true;\n    this.destroyCapability = Promise.withResolvers();\n    this.#passwordCapability?.reject(new Error(\"Worker was destroyed during onPassword callback\"));\n    const waitOn = [];\n    for (const page of this.#pageCache.values()) {\n      waitOn.push(page._destroy());\n    }\n    this.#pageCache.clear();\n    this.#pagePromises.clear();\n    this.#pageRefCache.clear();\n    if (this.hasOwnProperty(\"annotationStorage\")) {\n      this.annotationStorage.resetModified();\n    }\n    const terminated = this.messageHandler.sendWithPromise(\"Terminate\", null);\n    waitOn.push(terminated);\n    Promise.all(waitOn).then(() => {\n      this.commonObjs.clear();\n      this.fontLoader.clear();\n      this.#methodPromises.clear();\n      this.filterFactory.destroy();\n      TextLayer.cleanup();\n      this._networkStream?.cancelAllRequests(new AbortException(\"Worker was terminated.\"));\n      this.messageHandler?.destroy();\n      this.messageHandler = null;\n      this.destroyCapability.resolve();\n    }, this.destroyCapability.reject);\n    return this.destroyCapability.promise;\n  }\n  setupMessageHandler() {\n    const {\n      messageHandler,\n      loadingTask\n    } = this;\n    messageHandler.on(\"GetReader\", (data, sink) => {\n      assert(this._networkStream, \"GetReader - no `IPDFStream` instance available.\");\n      this._fullReader = this._networkStream.getFullReader();\n      this._fullReader.onProgress = evt => {\n        this._lastProgress = {\n          loaded: evt.loaded,\n          total: evt.total\n        };\n      };\n      sink.onPull = () => {\n        this._fullReader.read().then(function ({\n          value,\n          done\n        }) {\n          if (done) {\n            sink.close();\n            return;\n          }\n          assert(value instanceof ArrayBuffer, \"GetReader - expected an ArrayBuffer.\");\n          sink.enqueue(new Uint8Array(value), 1, [value]);\n        }).catch(reason => {\n          sink.error(reason);\n        });\n      };\n      sink.onCancel = reason => {\n        this._fullReader.cancel(reason);\n        sink.ready.catch(readyReason => {\n          if (this.destroyed) {\n            return;\n          }\n          throw readyReason;\n        });\n      };\n    });\n    messageHandler.on(\"ReaderHeadersReady\", async data => {\n      await this._fullReader.headersReady;\n      const {\n        isStreamingSupported,\n        isRangeSupported,\n        contentLength\n      } = this._fullReader;\n      if (!isStreamingSupported || !isRangeSupported) {\n        if (this._lastProgress) {\n          loadingTask.onProgress?.(this._lastProgress);\n        }\n        this._fullReader.onProgress = evt => {\n          loadingTask.onProgress?.({\n            loaded: evt.loaded,\n            total: evt.total\n          });\n        };\n      }\n      return {\n        isStreamingSupported,\n        isRangeSupported,\n        contentLength\n      };\n    });\n    messageHandler.on(\"GetRangeReader\", (data, sink) => {\n      assert(this._networkStream, \"GetRangeReader - no `IPDFStream` instance available.\");\n      const rangeReader = this._networkStream.getRangeReader(data.begin, data.end);\n      if (!rangeReader) {\n        sink.close();\n        return;\n      }\n      sink.onPull = () => {\n        rangeReader.read().then(function ({\n          value,\n          done\n        }) {\n          if (done) {\n            sink.close();\n            return;\n          }\n          assert(value instanceof ArrayBuffer, \"GetRangeReader - expected an ArrayBuffer.\");\n          sink.enqueue(new Uint8Array(value), 1, [value]);\n        }).catch(reason => {\n          sink.error(reason);\n        });\n      };\n      sink.onCancel = reason => {\n        rangeReader.cancel(reason);\n        sink.ready.catch(readyReason => {\n          if (this.destroyed) {\n            return;\n          }\n          throw readyReason;\n        });\n      };\n    });\n    messageHandler.on(\"GetDoc\", ({\n      pdfInfo\n    }) => {\n      this._numPages = pdfInfo.numPages;\n      this._htmlForXfa = pdfInfo.htmlForXfa;\n      delete pdfInfo.htmlForXfa;\n      loadingTask._capability.resolve(new PDFDocumentProxy(pdfInfo, this));\n    });\n    messageHandler.on(\"DocException\", ex => {\n      loadingTask._capability.reject(wrapReason(ex));\n    });\n    messageHandler.on(\"PasswordRequest\", ex => {\n      this.#passwordCapability = Promise.withResolvers();\n      try {\n        if (!loadingTask.onPassword) {\n          throw wrapReason(ex);\n        }\n        const updatePassword = password => {\n          if (password instanceof Error) {\n            this.#passwordCapability.reject(password);\n          } else {\n            this.#passwordCapability.resolve({\n              password\n            });\n          }\n        };\n        loadingTask.onPassword(updatePassword, ex.code);\n      } catch (err) {\n        this.#passwordCapability.reject(err);\n      }\n      return this.#passwordCapability.promise;\n    });\n    messageHandler.on(\"DataLoaded\", data => {\n      loadingTask.onProgress?.({\n        loaded: data.length,\n        total: data.length\n      });\n      this.downloadInfoCapability.resolve(data);\n    });\n    messageHandler.on(\"StartRenderPage\", data => {\n      if (this.destroyed) {\n        return;\n      }\n      const page = this.#pageCache.get(data.pageIndex);\n      page._startRenderPage(data.transparency, data.cacheKey);\n    });\n    messageHandler.on(\"commonobj\", ([id, type, exportedData]) => {\n      if (this.destroyed) {\n        return null;\n      }\n      if (this.commonObjs.has(id)) {\n        return null;\n      }\n      switch (type) {\n        case \"Font\":\n          if (\"error\" in exportedData) {\n            const exportedError = exportedData.error;\n            warn(`Error during font loading: ${exportedError}`);\n            this.commonObjs.resolve(id, exportedError);\n            break;\n          }\n          const fontData = new FontInfo(exportedData);\n          const inspectFont = this._params.pdfBug && globalThis.FontInspector?.enabled ? (font, url) => globalThis.FontInspector.fontAdded(font, url) : null;\n          const font = new FontFaceObject(fontData, inspectFont, exportedData.extra, exportedData.charProcOperatorList);\n          this.fontLoader.bind(font).catch(() => messageHandler.sendWithPromise(\"FontFallback\", {\n            id\n          })).finally(() => {\n            if (!font.fontExtraProperties && font.data) {\n              font.clearData();\n            }\n            this.commonObjs.resolve(id, font);\n          });\n          break;\n        case \"CopyLocalImage\":\n          const {\n            imageRef\n          } = exportedData;\n          assert(imageRef, \"The imageRef must be defined.\");\n          for (const pageProxy of this.#pageCache.values()) {\n            for (const [, data] of pageProxy.objs) {\n              if (data?.ref !== imageRef) {\n                continue;\n              }\n              if (!data.dataLen) {\n                return null;\n              }\n              this.commonObjs.resolve(id, structuredClone(data));\n              return data.dataLen;\n            }\n          }\n          break;\n        case \"FontPath\":\n          this.commonObjs.resolve(id, new FontPathInfo(exportedData));\n          break;\n        case \"Image\":\n          this.commonObjs.resolve(id, exportedData);\n          break;\n        case \"Pattern\":\n          const pattern = new PatternInfo(exportedData);\n          this.commonObjs.resolve(id, pattern.getIR());\n          break;\n        default:\n          throw new Error(`Got unknown common object type ${type}`);\n      }\n      return null;\n    });\n    messageHandler.on(\"obj\", ([id, pageIndex, type, imageData]) => {\n      if (this.destroyed) {\n        return;\n      }\n      const pageProxy = this.#pageCache.get(pageIndex);\n      if (pageProxy.objs.has(id)) {\n        return;\n      }\n      if (pageProxy._intentStates.size === 0) {\n        imageData?.bitmap?.close();\n        return;\n      }\n      switch (type) {\n        case \"Image\":\n        case \"Pattern\":\n          pageProxy.objs.resolve(id, imageData);\n          break;\n        default:\n          throw new Error(`Got unknown object type ${type}`);\n      }\n    });\n    messageHandler.on(\"DocProgress\", data => {\n      if (this.destroyed) {\n        return;\n      }\n      loadingTask.onProgress?.({\n        loaded: data.loaded,\n        total: data.total\n      });\n    });\n    messageHandler.on(\"FetchBinaryData\", async data => {\n      if (this.destroyed) {\n        throw new Error(\"Worker was destroyed.\");\n      }\n      const factory = this[data.type];\n      if (!factory) {\n        throw new Error(`${data.type} not initialized, see the \\`useWorkerFetch\\` parameter.`);\n      }\n      return factory.fetch(data);\n    });\n  }\n  getData() {\n    return this.messageHandler.sendWithPromise(\"GetData\", null);\n  }\n  saveDocument() {\n    if (this.annotationStorage.size <= 0) {\n      warn(\"saveDocument called while `annotationStorage` is empty, \" + \"please use the getData-method instead.\");\n    }\n    const {\n      map,\n      transfer\n    } = this.annotationStorage.serializable;\n    return this.messageHandler.sendWithPromise(\"SaveDocument\", {\n      isPureXfa: !!this._htmlForXfa,\n      numPages: this._numPages,\n      annotationStorage: map,\n      filename: this._fullReader?.filename ?? null\n    }, transfer).finally(() => {\n      this.annotationStorage.resetModified();\n    });\n  }\n  extractPages(pageInfos) {\n    return this.messageHandler.sendWithPromise(\"ExtractPages\", {\n      pageInfos\n    });\n  }\n  getPage(pageNumber) {\n    if (!Number.isInteger(pageNumber) || pageNumber <= 0 || pageNumber > this._numPages) {\n      return Promise.reject(new Error(\"Invalid page request.\"));\n    }\n    const pageIndex = pageNumber - 1,\n      cachedPromise = this.#pagePromises.get(pageIndex);\n    if (cachedPromise) {\n      return cachedPromise;\n    }\n    const promise = this.messageHandler.sendWithPromise(\"GetPage\", {\n      pageIndex\n    }).then(pageInfo => {\n      if (this.destroyed) {\n        throw new Error(\"Transport destroyed\");\n      }\n      if (pageInfo.refStr) {\n        this.#pageRefCache.set(pageInfo.refStr, pageNumber);\n      }\n      const page = new PDFPageProxy(pageIndex, pageInfo, this, this._params.pdfBug);\n      this.#pageCache.set(pageIndex, page);\n      return page;\n    });\n    this.#pagePromises.set(pageIndex, promise);\n    return promise;\n  }\n  getPageIndex(ref) {\n    if (!isRefProxy(ref)) {\n      return Promise.reject(new Error(\"Invalid pageIndex request.\"));\n    }\n    return this.messageHandler.sendWithPromise(\"GetPageIndex\", {\n      num: ref.num,\n      gen: ref.gen\n    });\n  }\n  getAnnotations(pageIndex, intent) {\n    return this.messageHandler.sendWithPromise(\"GetAnnotations\", {\n      pageIndex,\n      intent\n    });\n  }\n  getFieldObjects() {\n    return this.#cacheSimpleMethod(\"GetFieldObjects\");\n  }\n  hasJSActions() {\n    return this.#cacheSimpleMethod(\"HasJSActions\");\n  }\n  getCalculationOrderIds() {\n    return this.messageHandler.sendWithPromise(\"GetCalculationOrderIds\", null);\n  }\n  getDestinations() {\n    return this.messageHandler.sendWithPromise(\"GetDestinations\", null);\n  }\n  getDestination(id) {\n    if (typeof id !== \"string\") {\n      return Promise.reject(new Error(\"Invalid destination request.\"));\n    }\n    return this.messageHandler.sendWithPromise(\"GetDestination\", {\n      id\n    });\n  }\n  getPageLabels() {\n    return this.messageHandler.sendWithPromise(\"GetPageLabels\", null);\n  }\n  getPageLayout() {\n    return this.messageHandler.sendWithPromise(\"GetPageLayout\", null);\n  }\n  getPageMode() {\n    return this.messageHandler.sendWithPromise(\"GetPageMode\", null);\n  }\n  getViewerPreferences() {\n    return this.messageHandler.sendWithPromise(\"GetViewerPreferences\", null);\n  }\n  getOpenAction() {\n    return this.messageHandler.sendWithPromise(\"GetOpenAction\", null);\n  }\n  getAttachments() {\n    return this.messageHandler.sendWithPromise(\"GetAttachments\", null);\n  }\n  getAnnotationsByType(types, pageIndexesToSkip) {\n    return this.messageHandler.sendWithPromise(\"GetAnnotationsByType\", {\n      types,\n      pageIndexesToSkip\n    });\n  }\n  getDocJSActions() {\n    return this.#cacheSimpleMethod(\"GetDocJSActions\");\n  }\n  getPageJSActions(pageIndex) {\n    return this.messageHandler.sendWithPromise(\"GetPageJSActions\", {\n      pageIndex\n    });\n  }\n  getStructTree(pageIndex) {\n    return this.messageHandler.sendWithPromise(\"GetStructTree\", {\n      pageIndex\n    });\n  }\n  getOutline() {\n    return this.messageHandler.sendWithPromise(\"GetOutline\", null);\n  }\n  getOptionalContentConfig(renderingIntent) {\n    return this.#cacheSimpleMethod(\"GetOptionalContentConfig\").then(data => new OptionalContentConfig(data, renderingIntent));\n  }\n  getPermissions() {\n    return this.messageHandler.sendWithPromise(\"GetPermissions\", null);\n  }\n  getMetadata() {\n    const name = \"GetMetadata\",\n      cachedPromise = this.#methodPromises.get(name);\n    if (cachedPromise) {\n      return cachedPromise;\n    }\n    const promise = this.messageHandler.sendWithPromise(name, null).then(results => ({\n      info: results[0],\n      metadata: results[1] ? new Metadata(results[1]) : null,\n      contentDispositionFilename: this._fullReader?.filename ?? null,\n      contentLength: this._fullReader?.contentLength ?? null,\n      hasStructTree: results[2]\n    }));\n    this.#methodPromises.set(name, promise);\n    return promise;\n  }\n  getMarkInfo() {\n    return this.messageHandler.sendWithPromise(\"GetMarkInfo\", null);\n  }\n  async startCleanup(keepLoadedFonts = false) {\n    if (this.destroyed) {\n      return;\n    }\n    await this.messageHandler.sendWithPromise(\"Cleanup\", null);\n    for (const page of this.#pageCache.values()) {\n      const cleanupSuccessful = page.cleanup();\n      if (!cleanupSuccessful) {\n        throw new Error(`startCleanup: Page ${page.pageNumber} is currently rendering.`);\n      }\n    }\n    this.commonObjs.clear();\n    if (!keepLoadedFonts) {\n      this.fontLoader.clear();\n    }\n    this.#methodPromises.clear();\n    this.filterFactory.destroy(true);\n    TextLayer.cleanup();\n  }\n  cachedPageNumber(ref) {\n    if (!isRefProxy(ref)) {\n      return null;\n    }\n    const refStr = ref.gen === 0 ? `${ref.num}R` : `${ref.num}R${ref.gen}`;\n    return this.#pageRefCache.get(refStr) ?? null;\n  }\n}\nclass RenderTask {\n  #internalRenderTask = null;\n  onContinue = null;\n  onError = null;\n  constructor(internalRenderTask) {\n    this.#internalRenderTask = internalRenderTask;\n  }\n  get promise() {\n    return this.#internalRenderTask.capability.promise;\n  }\n  cancel(extraDelay = 0) {\n    this.#internalRenderTask.cancel(null, extraDelay);\n  }\n  get separateAnnots() {\n    const {\n      separateAnnots\n    } = this.#internalRenderTask.operatorList;\n    if (!separateAnnots) {\n      return false;\n    }\n    const {\n      annotationCanvasMap\n    } = this.#internalRenderTask;\n    return separateAnnots.form || separateAnnots.canvas && annotationCanvasMap?.size > 0;\n  }\n}\nclass InternalRenderTask {\n  #rAF = null;\n  static #canvasInUse = new WeakSet();\n  constructor({\n    callback,\n    params,\n    objs,\n    commonObjs,\n    annotationCanvasMap,\n    operatorList,\n    pageIndex,\n    canvasFactory,\n    filterFactory,\n    useRequestAnimationFrame = false,\n    pdfBug = false,\n    pageColors = null,\n    enableHWA = false,\n    operationsFilter = null\n  }) {\n    this.callback = callback;\n    this.params = params;\n    this.objs = objs;\n    this.commonObjs = commonObjs;\n    this.annotationCanvasMap = annotationCanvasMap;\n    this.operatorListIdx = null;\n    this.operatorList = operatorList;\n    this._pageIndex = pageIndex;\n    this.canvasFactory = canvasFactory;\n    this.filterFactory = filterFactory;\n    this._pdfBug = pdfBug;\n    this.pageColors = pageColors;\n    this.running = false;\n    this.graphicsReadyCallback = null;\n    this.graphicsReady = false;\n    this._useRequestAnimationFrame = useRequestAnimationFrame === true && typeof window !== \"undefined\";\n    this.cancelled = false;\n    this.capability = Promise.withResolvers();\n    this.task = new RenderTask(this);\n    this._cancelBound = this.cancel.bind(this);\n    this._continueBound = this._continue.bind(this);\n    this._scheduleNextBound = this._scheduleNext.bind(this);\n    this._nextBound = this._next.bind(this);\n    this._canvas = params.canvas;\n    this._canvasContext = params.canvas ? null : params.canvasContext;\n    this._enableHWA = enableHWA;\n    this._dependencyTracker = params.dependencyTracker;\n    this._operationsFilter = operationsFilter;\n  }\n  get completed() {\n    return this.capability.promise.catch(function () {});\n  }\n  initializeGraphics({\n    transparency = false,\n    optionalContentConfig\n  }) {\n    if (this.cancelled) {\n      return;\n    }\n    if (this._canvas) {\n      if (InternalRenderTask.#canvasInUse.has(this._canvas)) {\n        throw new Error(\"Cannot use the same canvas during multiple render() operations. \" + \"Use different canvas or ensure previous operations were \" + \"cancelled or completed.\");\n      }\n      InternalRenderTask.#canvasInUse.add(this._canvas);\n    }\n    if (this._pdfBug && globalThis.StepperManager?.enabled) {\n      this.stepper = globalThis.StepperManager.create(this._pageIndex);\n      this.stepper.init(this.operatorList);\n      this.stepper.nextBreakPoint = this.stepper.getNextBreakPoint();\n    }\n    const {\n      viewport,\n      transform,\n      background,\n      dependencyTracker\n    } = this.params;\n    const canvasContext = this._canvasContext || this._canvas.getContext(\"2d\", {\n      alpha: false,\n      willReadFrequently: !this._enableHWA\n    });\n    this.gfx = new CanvasGraphics(canvasContext, this.commonObjs, this.objs, this.canvasFactory, this.filterFactory, {\n      optionalContentConfig\n    }, this.annotationCanvasMap, this.pageColors, dependencyTracker);\n    this.gfx.beginDrawing({\n      transform,\n      viewport,\n      transparency,\n      background\n    });\n    this.operatorListIdx = 0;\n    this.graphicsReady = true;\n    this.graphicsReadyCallback?.();\n  }\n  cancel(error = null, extraDelay = 0) {\n    this.running = false;\n    this.cancelled = true;\n    this.gfx?.endDrawing();\n    if (this.#rAF) {\n      window.cancelAnimationFrame(this.#rAF);\n      this.#rAF = null;\n    }\n    InternalRenderTask.#canvasInUse.delete(this._canvas);\n    error ||= new RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex + 1}`, extraDelay);\n    this.callback(error);\n    this.task.onError?.(error);\n  }\n  operatorListChanged() {\n    if (!this.graphicsReady) {\n      this.graphicsReadyCallback ||= this._continueBound;\n      return;\n    }\n    this.gfx.dependencyTracker?.growOperationsCount(this.operatorList.fnArray.length);\n    this.stepper?.updateOperatorList(this.operatorList);\n    if (this.running) {\n      return;\n    }\n    this._continue();\n  }\n  _continue() {\n    this.running = true;\n    if (this.cancelled) {\n      return;\n    }\n    if (this.task.onContinue) {\n      this.task.onContinue(this._scheduleNextBound);\n    } else {\n      this._scheduleNext();\n    }\n  }\n  _scheduleNext() {\n    if (this._useRequestAnimationFrame) {\n      this.#rAF = window.requestAnimationFrame(() => {\n        this.#rAF = null;\n        this._nextBound().catch(this._cancelBound);\n      });\n    } else {\n      Promise.resolve().then(this._nextBound).catch(this._cancelBound);\n    }\n  }\n  async _next() {\n    if (this.cancelled) {\n      return;\n    }\n    this.operatorListIdx = this.gfx.executeOperatorList(this.operatorList, this.operatorListIdx, this._continueBound, this.stepper, this._operationsFilter);\n    if (this.operatorListIdx === this.operatorList.argsArray.length) {\n      this.running = false;\n      if (this.operatorList.lastChunk) {\n        this.gfx.endDrawing();\n        InternalRenderTask.#canvasInUse.delete(this._canvas);\n        this.callback();\n      }\n    }\n  }\n}\nconst version = \"5.4.530\";\nconst build = \"50cc4adac\";\n\n;// ./src/display/editor/color_picker.js\n\n\n\nclass ColorPicker {\n  #button = null;\n  #buttonSwatch = null;\n  #defaultColor;\n  #dropdown = null;\n  #dropdownWasFromKeyboard = false;\n  #isMainColorPicker = false;\n  #editor = null;\n  #eventBus;\n  #openDropdownAC = null;\n  #uiManager = null;\n  static #l10nColor = null;\n  static get _keyboardManager() {\n    return shadow(this, \"_keyboardManager\", new KeyboardManager([[[\"Escape\", \"mac+Escape\"], ColorPicker.prototype._hideDropdownFromKeyboard], [[\" \", \"mac+ \"], ColorPicker.prototype._colorSelectFromKeyboard], [[\"ArrowDown\", \"ArrowRight\", \"mac+ArrowDown\", \"mac+ArrowRight\"], ColorPicker.prototype._moveToNext], [[\"ArrowUp\", \"ArrowLeft\", \"mac+ArrowUp\", \"mac+ArrowLeft\"], ColorPicker.prototype._moveToPrevious], [[\"Home\", \"mac+Home\"], ColorPicker.prototype._moveToBeginning], [[\"End\", \"mac+End\"], ColorPicker.prototype._moveToEnd]]));\n  }\n  constructor({\n    editor = null,\n    uiManager = null\n  }) {\n    if (editor) {\n      this.#isMainColorPicker = false;\n      this.#editor = editor;\n    } else {\n      this.#isMainColorPicker = true;\n    }\n    this.#uiManager = editor?._uiManager || uiManager;\n    this.#eventBus = this.#uiManager._eventBus;\n    this.#defaultColor = editor?.color?.toUpperCase() || this.#uiManager?.highlightColors.values().next().value || \"#FFFF98\";\n    ColorPicker.#l10nColor ||= Object.freeze({\n      blue: \"pdfjs-editor-colorpicker-blue\",\n      green: \"pdfjs-editor-colorpicker-green\",\n      pink: \"pdfjs-editor-colorpicker-pink\",\n      red: \"pdfjs-editor-colorpicker-red\",\n      yellow: \"pdfjs-editor-colorpicker-yellow\"\n    });\n  }\n  renderButton() {\n    const button = this.#button = document.createElement(\"button\");\n    button.className = \"colorPicker\";\n    button.tabIndex = \"0\";\n    button.setAttribute(\"data-l10n-id\", \"pdfjs-editor-colorpicker-button\");\n    button.ariaHasPopup = \"true\";\n    if (this.#editor) {\n      button.ariaControls = `${this.#editor.id}_colorpicker_dropdown`;\n    }\n    const signal = this.#uiManager._signal;\n    button.addEventListener(\"click\", this.#openDropdown.bind(this), {\n      signal\n    });\n    button.addEventListener(\"keydown\", this.#keyDown.bind(this), {\n      signal\n    });\n    const swatch = this.#buttonSwatch = document.createElement(\"span\");\n    swatch.className = \"swatch\";\n    swatch.ariaHidden = \"true\";\n    swatch.style.backgroundColor = this.#defaultColor;\n    button.append(swatch);\n    return button;\n  }\n  renderMainDropdown() {\n    const dropdown = this.#dropdown = this.#getDropdownRoot();\n    dropdown.ariaOrientation = \"horizontal\";\n    dropdown.ariaLabelledBy = \"highlightColorPickerLabel\";\n    return dropdown;\n  }\n  #getDropdownRoot() {\n    const div = document.createElement(\"div\");\n    const signal = this.#uiManager._signal;\n    div.addEventListener(\"contextmenu\", noContextMenu, {\n      signal\n    });\n    div.className = \"dropdown\";\n    div.role = \"listbox\";\n    div.ariaMultiSelectable = \"false\";\n    div.ariaOrientation = \"vertical\";\n    div.setAttribute(\"data-l10n-id\", \"pdfjs-editor-colorpicker-dropdown\");\n    if (this.#editor) {\n      div.id = `${this.#editor.id}_colorpicker_dropdown`;\n    }\n    for (const [name, color] of this.#uiManager.highlightColors) {\n      const button = document.createElement(\"button\");\n      button.tabIndex = \"0\";\n      button.role = \"option\";\n      button.setAttribute(\"data-color\", color);\n      button.title = name;\n      button.setAttribute(\"data-l10n-id\", ColorPicker.#l10nColor[name]);\n      const swatch = document.createElement(\"span\");\n      button.append(swatch);\n      swatch.className = \"swatch\";\n      swatch.style.backgroundColor = color;\n      button.ariaSelected = color === this.#defaultColor;\n      button.addEventListener(\"click\", this.#colorSelect.bind(this, color), {\n        signal\n      });\n      div.append(button);\n    }\n    div.addEventListener(\"keydown\", this.#keyDown.bind(this), {\n      signal\n    });\n    return div;\n  }\n  #colorSelect(color, event) {\n    event.stopPropagation();\n    this.#eventBus.dispatch(\"switchannotationeditorparams\", {\n      source: this,\n      type: AnnotationEditorParamsType.HIGHLIGHT_COLOR,\n      value: color\n    });\n    this.updateColor(color);\n  }\n  _colorSelectFromKeyboard(event) {\n    if (event.target === this.#button) {\n      this.#openDropdown(event);\n      return;\n    }\n    const color = event.target.getAttribute(\"data-color\");\n    if (!color) {\n      return;\n    }\n    this.#colorSelect(color, event);\n  }\n  _moveToNext(event) {\n    if (!this.#isDropdownVisible) {\n      this.#openDropdown(event);\n      return;\n    }\n    if (event.target === this.#button) {\n      this.#dropdown.firstElementChild?.focus();\n      return;\n    }\n    event.target.nextSibling?.focus();\n  }\n  _moveToPrevious(event) {\n    if (event.target === this.#dropdown?.firstElementChild || event.target === this.#button) {\n      if (this.#isDropdownVisible) {\n        this._hideDropdownFromKeyboard();\n      }\n      return;\n    }\n    if (!this.#isDropdownVisible) {\n      this.#openDropdown(event);\n    }\n    event.target.previousSibling?.focus();\n  }\n  _moveToBeginning(event) {\n    if (!this.#isDropdownVisible) {\n      this.#openDropdown(event);\n      return;\n    }\n    this.#dropdown.firstElementChild?.focus();\n  }\n  _moveToEnd(event) {\n    if (!this.#isDropdownVisible) {\n      this.#openDropdown(event);\n      return;\n    }\n    this.#dropdown.lastElementChild?.focus();\n  }\n  #keyDown(event) {\n    ColorPicker._keyboardManager.exec(this, event);\n  }\n  #openDropdown(event) {\n    if (this.#isDropdownVisible) {\n      this.hideDropdown();\n      return;\n    }\n    this.#dropdownWasFromKeyboard = event.detail === 0;\n    if (!this.#openDropdownAC) {\n      this.#openDropdownAC = new AbortController();\n      window.addEventListener(\"pointerdown\", this.#pointerDown.bind(this), {\n        signal: this.#uiManager.combinedSignal(this.#openDropdownAC)\n      });\n    }\n    this.#button.ariaExpanded = \"true\";\n    if (this.#dropdown) {\n      this.#dropdown.classList.remove(\"hidden\");\n      return;\n    }\n    const root = this.#dropdown = this.#getDropdownRoot();\n    this.#button.append(root);\n  }\n  #pointerDown(event) {\n    if (this.#dropdown?.contains(event.target)) {\n      return;\n    }\n    this.hideDropdown();\n  }\n  hideDropdown() {\n    this.#dropdown?.classList.add(\"hidden\");\n    this.#button.ariaExpanded = \"false\";\n    this.#openDropdownAC?.abort();\n    this.#openDropdownAC = null;\n  }\n  get #isDropdownVisible() {\n    return this.#dropdown && !this.#dropdown.classList.contains(\"hidden\");\n  }\n  _hideDropdownFromKeyboard() {\n    if (this.#isMainColorPicker) {\n      return;\n    }\n    if (!this.#isDropdownVisible) {\n      this.#editor?.unselect();\n      return;\n    }\n    this.hideDropdown();\n    this.#button.focus({\n      preventScroll: true,\n      focusVisible: this.#dropdownWasFromKeyboard\n    });\n  }\n  updateColor(color) {\n    if (this.#buttonSwatch) {\n      this.#buttonSwatch.style.backgroundColor = color;\n    }\n    if (!this.#dropdown) {\n      return;\n    }\n    const i = this.#uiManager.highlightColors.values();\n    for (const child of this.#dropdown.children) {\n      child.ariaSelected = i.next().value === color.toUpperCase();\n    }\n  }\n  destroy() {\n    this.#button?.remove();\n    this.#button = null;\n    this.#buttonSwatch = null;\n    this.#dropdown?.remove();\n    this.#dropdown = null;\n  }\n}\nclass BasicColorPicker {\n  #input = null;\n  #editor = null;\n  #uiManager = null;\n  static #l10nColor = null;\n  constructor(editor) {\n    this.#editor = editor;\n    this.#uiManager = editor._uiManager;\n    BasicColorPicker.#l10nColor ||= Object.freeze({\n      freetext: \"pdfjs-editor-color-picker-free-text-input\",\n      ink: \"pdfjs-editor-color-picker-ink-input\"\n    });\n  }\n  renderButton() {\n    if (this.#input) {\n      return this.#input;\n    }\n    const {\n      editorType,\n      colorType,\n      color\n    } = this.#editor;\n    const input = this.#input = document.createElement(\"input\");\n    input.type = \"color\";\n    input.value = color || \"#000000\";\n    input.className = \"basicColorPicker\";\n    input.tabIndex = 0;\n    input.setAttribute(\"data-l10n-id\", BasicColorPicker.#l10nColor[editorType]);\n    input.addEventListener(\"input\", () => {\n      this.#uiManager.updateParams(colorType, input.value);\n    }, {\n      signal: this.#uiManager._signal\n    });\n    return input;\n  }\n  update(value) {\n    if (!this.#input) {\n      return;\n    }\n    this.#input.value = value;\n  }\n  destroy() {\n    this.#input?.remove();\n    this.#input = null;\n  }\n  hideDropdown() {}\n}\n\n;// ./src/shared/scripting_utils.js\nfunction makeColorComp(n) {\n  return Math.floor(Math.max(0, Math.min(1, n)) * 255).toString(16).padStart(2, \"0\");\n}\nfunction scaleAndClamp(x) {\n  return Math.max(0, Math.min(255, 255 * x));\n}\nclass ColorConverters {\n  static CMYK_G([c, y, m, k]) {\n    return [\"G\", 1 - Math.min(1, 0.3 * c + 0.59 * m + 0.11 * y + k)];\n  }\n  static G_CMYK([g]) {\n    return [\"CMYK\", 0, 0, 0, 1 - g];\n  }\n  static G_RGB([g]) {\n    return [\"RGB\", g, g, g];\n  }\n  static G_rgb([g]) {\n    g = scaleAndClamp(g);\n    return [g, g, g];\n  }\n  static G_HTML([g]) {\n    const G = makeColorComp(g);\n    return `#${G}${G}${G}`;\n  }\n  static RGB_G([r, g, b]) {\n    return [\"G\", 0.3 * r + 0.59 * g + 0.11 * b];\n  }\n  static RGB_rgb(color) {\n    return color.map(scaleAndClamp);\n  }\n  static RGB_HTML(color) {\n    return `#${color.map(makeColorComp).join(\"\")}`;\n  }\n  static T_HTML() {\n    return \"#00000000\";\n  }\n  static T_rgb() {\n    return [null];\n  }\n  static CMYK_RGB([c, y, m, k]) {\n    return [\"RGB\", 1 - Math.min(1, c + k), 1 - Math.min(1, m + k), 1 - Math.min(1, y + k)];\n  }\n  static CMYK_rgb([c, y, m, k]) {\n    return [scaleAndClamp(1 - Math.min(1, c + k)), scaleAndClamp(1 - Math.min(1, m + k)), scaleAndClamp(1 - Math.min(1, y + k))];\n  }\n  static CMYK_HTML(components) {\n    const rgb = this.CMYK_RGB(components).slice(1);\n    return this.RGB_HTML(rgb);\n  }\n  static RGB_CMYK([r, g, b]) {\n    const c = 1 - r;\n    const m = 1 - g;\n    const y = 1 - b;\n    const k = Math.min(c, m, y);\n    return [\"CMYK\", c, m, y, k];\n  }\n}\nconst DateFormats = (/* unused pure expression or super */ null && ([\"m/d\", \"m/d/yy\", \"mm/dd/yy\", \"mm/yy\", \"d-mmm\", \"d-mmm-yy\", \"dd-mmm-yy\", \"yy-mm-dd\", \"mmm-yy\", \"mmmm-yy\", \"mmm d, yyyy\", \"mmmm d, yyyy\", \"m/d/yy h:MM tt\", \"m/d/yy HH:MM\"]));\nconst TimeFormats = (/* unused pure expression or super */ null && ([\"HH:MM\", \"h:MM tt\", \"HH:MM:ss\", \"h:MM:ss tt\"]));\n\n;// ./src/display/svg_factory.js\n\n\nclass BaseSVGFactory {\n  create(width, height, skipDimensions = false) {\n    if (width <= 0 || height <= 0) {\n      throw new Error(\"Invalid SVG dimensions\");\n    }\n    const svg = this._createSVG(\"svg:svg\");\n    svg.setAttribute(\"version\", \"1.1\");\n    if (!skipDimensions) {\n      svg.setAttribute(\"width\", `${width}px`);\n      svg.setAttribute(\"height\", `${height}px`);\n    }\n    svg.setAttribute(\"preserveAspectRatio\", \"none\");\n    svg.setAttribute(\"viewBox\", `0 0 ${width} ${height}`);\n    return svg;\n  }\n  createElement(type) {\n    if (typeof type !== \"string\") {\n      throw new Error(\"Invalid SVG element type\");\n    }\n    return this._createSVG(type);\n  }\n  _createSVG(type) {\n    unreachable(\"Abstract method `_createSVG` called.\");\n  }\n}\nclass DOMSVGFactory extends BaseSVGFactory {\n  _createSVG(type) {\n    return document.createElementNS(SVG_NS, type);\n  }\n}\n\n;// ./src/display/annotation_layer.js\n\n\n\n\n\nconst annotation_layer_DEFAULT_FONT_SIZE = 9;\nconst GetElementsByNameSet = new WeakSet();\nconst TIMEZONE_OFFSET = new Date().getTimezoneOffset() * 60 * 1000;\nclass AnnotationElementFactory {\n  static create(parameters) {\n    const subtype = parameters.data.annotationType;\n    switch (subtype) {\n      case AnnotationType.LINK:\n        return new LinkAnnotationElement(parameters);\n      case AnnotationType.TEXT:\n        return new TextAnnotationElement(parameters);\n      case AnnotationType.WIDGET:\n        const fieldType = parameters.data.fieldType;\n        switch (fieldType) {\n          case \"Tx\":\n            return new TextWidgetAnnotationElement(parameters);\n          case \"Btn\":\n            if (parameters.data.radioButton) {\n              return new RadioButtonWidgetAnnotationElement(parameters);\n            } else if (parameters.data.checkBox) {\n              return new CheckboxWidgetAnnotationElement(parameters);\n            }\n            return new PushButtonWidgetAnnotationElement(parameters);\n          case \"Ch\":\n            return new ChoiceWidgetAnnotationElement(parameters);\n          case \"Sig\":\n            return new SignatureWidgetAnnotationElement(parameters);\n        }\n        return new WidgetAnnotationElement(parameters);\n      case AnnotationType.POPUP:\n        return new PopupAnnotationElement(parameters);\n      case AnnotationType.FREETEXT:\n        return new FreeTextAnnotationElement(parameters);\n      case AnnotationType.LINE:\n        return new LineAnnotationElement(parameters);\n      case AnnotationType.SQUARE:\n        return new SquareAnnotationElement(parameters);\n      case AnnotationType.CIRCLE:\n        return new CircleAnnotationElement(parameters);\n      case AnnotationType.POLYLINE:\n        return new PolylineAnnotationElement(parameters);\n      case AnnotationType.CARET:\n        return new CaretAnnotationElement(parameters);\n      case AnnotationType.INK:\n        return new InkAnnotationElement(parameters);\n      case AnnotationType.POLYGON:\n        return new PolygonAnnotationElement(parameters);\n      case AnnotationType.HIGHLIGHT:\n        return new HighlightAnnotationElement(parameters);\n      case AnnotationType.UNDERLINE:\n        return new UnderlineAnnotationElement(parameters);\n      case AnnotationType.SQUIGGLY:\n        return new SquigglyAnnotationElement(parameters);\n      case AnnotationType.STRIKEOUT:\n        return new StrikeOutAnnotationElement(parameters);\n      case AnnotationType.STAMP:\n        return new StampAnnotationElement(parameters);\n      case AnnotationType.FILEATTACHMENT:\n        return new FileAttachmentAnnotationElement(parameters);\n      default:\n        return new AnnotationElement(parameters);\n    }\n  }\n}\nclass AnnotationElement {\n  #updates = null;\n  #hasBorder = false;\n  #popupElement = null;\n  constructor(parameters, {\n    isRenderable = false,\n    ignoreBorder = false,\n    createQuadrilaterals = false\n  } = {}) {\n    this.isRenderable = isRenderable;\n    this.data = parameters.data;\n    this.layer = parameters.layer;\n    this.linkService = parameters.linkService;\n    this.downloadManager = parameters.downloadManager;\n    this.imageResourcesPath = parameters.imageResourcesPath;\n    this.renderForms = parameters.renderForms;\n    this.svgFactory = parameters.svgFactory;\n    this.annotationStorage = parameters.annotationStorage;\n    this.enableComment = parameters.enableComment;\n    this.enableScripting = parameters.enableScripting;\n    this.hasJSActions = parameters.hasJSActions;\n    this._fieldObjects = parameters.fieldObjects;\n    this.parent = parameters.parent;\n    this.hasOwnCommentButton = false;\n    if (isRenderable) {\n      this.contentElement = this.container = this._createContainer(ignoreBorder);\n    }\n    if (createQuadrilaterals) {\n      this._createQuadrilaterals();\n    }\n  }\n  static _hasPopupData({\n    contentsObj,\n    richText\n  }) {\n    return !!(contentsObj?.str || richText?.str);\n  }\n  get _isEditable() {\n    return this.data.isEditable;\n  }\n  get hasPopupData() {\n    return AnnotationElement._hasPopupData(this.data) || this.enableComment && !!this.commentText;\n  }\n  get commentData() {\n    const {\n      data\n    } = this;\n    const editor = this.annotationStorage?.getEditor(data.id);\n    if (editor) {\n      return editor.getData();\n    }\n    return data;\n  }\n  get hasCommentButton() {\n    return this.enableComment && this.hasPopupElement;\n  }\n  get commentButtonPosition() {\n    const editor = this.annotationStorage?.getEditor(this.data.id);\n    if (editor) {\n      return editor.commentButtonPositionInPage;\n    }\n    const {\n      quadPoints,\n      inkLists,\n      rect\n    } = this.data;\n    let maxX = -Infinity;\n    let maxY = -Infinity;\n    if (quadPoints?.length >= 8) {\n      for (let i = 0; i < quadPoints.length; i += 8) {\n        if (quadPoints[i + 1] > maxY) {\n          maxY = quadPoints[i + 1];\n          maxX = quadPoints[i + 2];\n        } else if (quadPoints[i + 1] === maxY) {\n          maxX = Math.max(maxX, quadPoints[i + 2]);\n        }\n      }\n      return [maxX, maxY];\n    }\n    if (inkLists?.length >= 1) {\n      for (const inkList of inkLists) {\n        for (let i = 0, ii = inkList.length; i < ii; i += 2) {\n          if (inkList[i + 1] > maxY) {\n            maxY = inkList[i + 1];\n            maxX = inkList[i];\n          } else if (inkList[i + 1] === maxY) {\n            maxX = Math.max(maxX, inkList[i]);\n          }\n        }\n      }\n      if (maxX !== Infinity) {\n        return [maxX, maxY];\n      }\n    }\n    if (rect) {\n      return [rect[2], rect[3]];\n    }\n    return null;\n  }\n  _normalizePoint(point) {\n    const {\n      page: {\n        view\n      },\n      viewport: {\n        rawDims: {\n          pageWidth,\n          pageHeight,\n          pageX,\n          pageY\n        }\n      }\n    } = this.parent;\n    point[1] = view[3] - point[1] + view[1];\n    point[0] = 100 * (point[0] - pageX) / pageWidth;\n    point[1] = 100 * (point[1] - pageY) / pageHeight;\n    return point;\n  }\n  get commentText() {\n    const {\n      data\n    } = this;\n    return this.annotationStorage.getRawValue(`${AnnotationEditorPrefix}${data.id}`)?.popup?.contents || data.contentsObj?.str || \"\";\n  }\n  set commentText(text) {\n    const {\n      data\n    } = this;\n    const popup = {\n      deleted: !text,\n      contents: text || \"\"\n    };\n    if (!this.annotationStorage.updateEditor(data.id, {\n      popup\n    })) {\n      this.annotationStorage.setValue(`${AnnotationEditorPrefix}${data.id}`, {\n        id: data.id,\n        annotationType: data.annotationType,\n        pageIndex: this.parent.page._pageIndex,\n        popup,\n        popupRef: data.popupRef,\n        modificationDate: new Date()\n      });\n    }\n    if (!text) {\n      this.removePopup();\n    }\n  }\n  removePopup() {\n    (this.#popupElement?.popup || this.popup)?.remove();\n    this.#popupElement = this.popup = null;\n  }\n  updateEdited(params) {\n    if (!this.container) {\n      return;\n    }\n    if (params.rect) {\n      this.#updates ||= {\n        rect: this.data.rect.slice(0)\n      };\n    }\n    const {\n      rect,\n      popup: newPopup\n    } = params;\n    if (rect) {\n      this.#setRectEdited(rect);\n    }\n    let popup = this.#popupElement?.popup || this.popup;\n    if (!popup && newPopup?.text) {\n      this._createPopup(newPopup);\n      popup = this.#popupElement.popup;\n    }\n    if (!popup) {\n      return;\n    }\n    popup.updateEdited(params);\n    if (newPopup?.deleted) {\n      popup.remove();\n      this.#popupElement = null;\n      this.popup = null;\n    }\n  }\n  resetEdited() {\n    if (!this.#updates) {\n      return;\n    }\n    this.#setRectEdited(this.#updates.rect);\n    this.#popupElement?.popup.resetEdited();\n    this.#updates = null;\n  }\n  #setRectEdited(rect) {\n    const {\n      container: {\n        style\n      },\n      data: {\n        rect: currentRect,\n        rotation\n      },\n      parent: {\n        viewport: {\n          rawDims: {\n            pageWidth,\n            pageHeight,\n            pageX,\n            pageY\n          }\n        }\n      }\n    } = this;\n    currentRect?.splice(0, 4, ...rect);\n    style.left = `${100 * (rect[0] - pageX) / pageWidth}%`;\n    style.top = `${100 * (pageHeight - rect[3] + pageY) / pageHeight}%`;\n    if (rotation === 0) {\n      style.width = `${100 * (rect[2] - rect[0]) / pageWidth}%`;\n      style.height = `${100 * (rect[3] - rect[1]) / pageHeight}%`;\n    } else {\n      this.setRotation(rotation);\n    }\n  }\n  _createContainer(ignoreBorder) {\n    const {\n      data,\n      parent: {\n        page,\n        viewport\n      }\n    } = this;\n    const container = document.createElement(\"section\");\n    container.setAttribute(\"data-annotation-id\", data.id);\n    if (!(this instanceof WidgetAnnotationElement) && !(this instanceof LinkAnnotationElement)) {\n      container.tabIndex = 0;\n    }\n    const {\n      style\n    } = container;\n    style.zIndex = this.parent.zIndex;\n    this.parent.zIndex += 2;\n    if (data.alternativeText) {\n      container.title = data.alternativeText;\n    }\n    if (data.noRotate) {\n      container.classList.add(\"norotate\");\n    }\n    if (!data.rect || this instanceof PopupAnnotationElement) {\n      const {\n        rotation\n      } = data;\n      if (!data.hasOwnCanvas && rotation !== 0) {\n        this.setRotation(rotation, container);\n      }\n      return container;\n    }\n    const {\n      width,\n      height\n    } = this;\n    if (!ignoreBorder && data.borderStyle.width > 0) {\n      style.borderWidth = `${data.borderStyle.width}px`;\n      const horizontalRadius = data.borderStyle.horizontalCornerRadius;\n      const verticalRadius = data.borderStyle.verticalCornerRadius;\n      if (horizontalRadius > 0 || verticalRadius > 0) {\n        const radius = `calc(${horizontalRadius}px * var(--total-scale-factor)) / calc(${verticalRadius}px * var(--total-scale-factor))`;\n        style.borderRadius = radius;\n      } else if (this instanceof RadioButtonWidgetAnnotationElement) {\n        const radius = `calc(${width}px * var(--total-scale-factor)) / calc(${height}px * var(--total-scale-factor))`;\n        style.borderRadius = radius;\n      }\n      switch (data.borderStyle.style) {\n        case AnnotationBorderStyleType.SOLID:\n          style.borderStyle = \"solid\";\n          break;\n        case AnnotationBorderStyleType.DASHED:\n          style.borderStyle = \"dashed\";\n          break;\n        case AnnotationBorderStyleType.BEVELED:\n          warn(\"Unimplemented border style: beveled\");\n          break;\n        case AnnotationBorderStyleType.INSET:\n          warn(\"Unimplemented border style: inset\");\n          break;\n        case AnnotationBorderStyleType.UNDERLINE:\n          style.borderBottomStyle = \"solid\";\n          break;\n        default:\n          break;\n      }\n      const borderColor = data.borderColor || null;\n      if (borderColor) {\n        this.#hasBorder = true;\n        style.borderColor = Util.makeHexColor(borderColor[0] | 0, borderColor[1] | 0, borderColor[2] | 0);\n      } else {\n        style.borderWidth = 0;\n      }\n    }\n    const rect = Util.normalizeRect([data.rect[0], page.view[3] - data.rect[1] + page.view[1], data.rect[2], page.view[3] - data.rect[3] + page.view[1]]);\n    const {\n      pageWidth,\n      pageHeight,\n      pageX,\n      pageY\n    } = viewport.rawDims;\n    style.left = `${100 * (rect[0] - pageX) / pageWidth}%`;\n    style.top = `${100 * (rect[1] - pageY) / pageHeight}%`;\n    const {\n      rotation\n    } = data;\n    if (data.hasOwnCanvas || rotation === 0) {\n      style.width = `${100 * width / pageWidth}%`;\n      style.height = `${100 * height / pageHeight}%`;\n    } else {\n      this.setRotation(rotation, container);\n    }\n    return container;\n  }\n  setRotation(angle, container = this.container) {\n    if (!this.data.rect) {\n      return;\n    }\n    const {\n      pageWidth,\n      pageHeight\n    } = this.parent.viewport.rawDims;\n    let {\n      width,\n      height\n    } = this;\n    if (angle % 180 !== 0) {\n      [width, height] = [height, width];\n    }\n    container.style.width = `${100 * width / pageWidth}%`;\n    container.style.height = `${100 * height / pageHeight}%`;\n    container.setAttribute(\"data-main-rotation\", (360 - angle) % 360);\n  }\n  get _commonActions() {\n    const setColor = (jsName, styleName, event) => {\n      const color = event.detail[jsName];\n      const colorType = color[0];\n      const colorArray = color.slice(1);\n      event.target.style[styleName] = ColorConverters[`${colorType}_HTML`](colorArray);\n      this.annotationStorage.setValue(this.data.id, {\n        [styleName]: ColorConverters[`${colorType}_rgb`](colorArray)\n      });\n    };\n    return shadow(this, \"_commonActions\", {\n      display: event => {\n        const {\n          display\n        } = event.detail;\n        const hidden = display % 2 === 1;\n        this.container.style.visibility = hidden ? \"hidden\" : \"visible\";\n        this.annotationStorage.setValue(this.data.id, {\n          noView: hidden,\n          noPrint: display === 1 || display === 2\n        });\n      },\n      print: event => {\n        this.annotationStorage.setValue(this.data.id, {\n          noPrint: !event.detail.print\n        });\n      },\n      hidden: event => {\n        const {\n          hidden\n        } = event.detail;\n        this.container.style.visibility = hidden ? \"hidden\" : \"visible\";\n        this.annotationStorage.setValue(this.data.id, {\n          noPrint: hidden,\n          noView: hidden\n        });\n      },\n      focus: event => {\n        setTimeout(() => event.target.focus({\n          preventScroll: false\n        }), 0);\n      },\n      userName: event => {\n        event.target.title = event.detail.userName;\n      },\n      readonly: event => {\n        event.target.disabled = event.detail.readonly;\n      },\n      required: event => {\n        this._setRequired(event.target, event.detail.required);\n      },\n      bgColor: event => {\n        setColor(\"bgColor\", \"backgroundColor\", event);\n      },\n      fillColor: event => {\n        setColor(\"fillColor\", \"backgroundColor\", event);\n      },\n      fgColor: event => {\n        setColor(\"fgColor\", \"color\", event);\n      },\n      textColor: event => {\n        setColor(\"textColor\", \"color\", event);\n      },\n      borderColor: event => {\n        setColor(\"borderColor\", \"borderColor\", event);\n      },\n      strokeColor: event => {\n        setColor(\"strokeColor\", \"borderColor\", event);\n      },\n      rotation: event => {\n        const angle = event.detail.rotation;\n        this.setRotation(angle);\n        this.annotationStorage.setValue(this.data.id, {\n          rotation: angle\n        });\n      }\n    });\n  }\n  _dispatchEventFromSandbox(actions, jsEvent) {\n    const commonActions = this._commonActions;\n    for (const name of Object.keys(jsEvent.detail)) {\n      const action = actions[name] || commonActions[name];\n      action?.(jsEvent);\n    }\n  }\n  _setDefaultPropertiesFromJS(element) {\n    if (!this.enableScripting) {\n      return;\n    }\n    const storedData = this.annotationStorage.getRawValue(this.data.id);\n    if (!storedData) {\n      return;\n    }\n    const commonActions = this._commonActions;\n    for (const [actionName, detail] of Object.entries(storedData)) {\n      const action = commonActions[actionName];\n      if (action) {\n        const eventProxy = {\n          detail: {\n            [actionName]: detail\n          },\n          target: element\n        };\n        action(eventProxy);\n        delete storedData[actionName];\n      }\n    }\n  }\n  _createQuadrilaterals() {\n    if (!this.container) {\n      return;\n    }\n    const {\n      quadPoints\n    } = this.data;\n    if (!quadPoints) {\n      return;\n    }\n    const [rectBlX, rectBlY, rectTrX, rectTrY] = this.data.rect.map(x => Math.fround(x));\n    if (quadPoints.length === 8) {\n      const [trX, trY, blX, blY] = quadPoints.subarray(2, 6);\n      if (rectTrX === trX && rectTrY === trY && rectBlX === blX && rectBlY === blY) {\n        return;\n      }\n    }\n    const {\n      style\n    } = this.container;\n    let svgBuffer;\n    if (this.#hasBorder) {\n      const {\n        borderColor,\n        borderWidth\n      } = style;\n      style.borderWidth = 0;\n      svgBuffer = [\"url('data:image/svg+xml;utf8,\", `<svg xmlns=\"http://www.w3.org/2000/svg\"`, ` preserveAspectRatio=\"none\" viewBox=\"0 0 1 1\">`, `<g fill=\"transparent\" stroke=\"${borderColor}\" stroke-width=\"${borderWidth}\">`];\n      this.container.classList.add(\"hasBorder\");\n    }\n    const width = rectTrX - rectBlX;\n    const height = rectTrY - rectBlY;\n    const {\n      svgFactory\n    } = this;\n    const svg = svgFactory.createElement(\"svg\");\n    svg.classList.add(\"quadrilateralsContainer\");\n    svg.setAttribute(\"width\", 0);\n    svg.setAttribute(\"height\", 0);\n    svg.role = \"none\";\n    const defs = svgFactory.createElement(\"defs\");\n    svg.append(defs);\n    const clipPath = svgFactory.createElement(\"clipPath\");\n    const id = `clippath_${this.data.id}`;\n    clipPath.setAttribute(\"id\", id);\n    clipPath.setAttribute(\"clipPathUnits\", \"objectBoundingBox\");\n    defs.append(clipPath);\n    for (let i = 2, ii = quadPoints.length; i < ii; i += 8) {\n      const trX = quadPoints[i];\n      const trY = quadPoints[i + 1];\n      const blX = quadPoints[i + 2];\n      const blY = quadPoints[i + 3];\n      const rect = svgFactory.createElement(\"rect\");\n      const x = (blX - rectBlX) / width;\n      const y = (rectTrY - trY) / height;\n      const rectWidth = (trX - blX) / width;\n      const rectHeight = (trY - blY) / height;\n      rect.setAttribute(\"x\", x);\n      rect.setAttribute(\"y\", y);\n      rect.setAttribute(\"width\", rectWidth);\n      rect.setAttribute(\"height\", rectHeight);\n      clipPath.append(rect);\n      svgBuffer?.push(`<rect vector-effect=\"non-scaling-stroke\" x=\"${x}\" y=\"${y}\" width=\"${rectWidth}\" height=\"${rectHeight}\"/>`);\n    }\n    if (this.#hasBorder) {\n      svgBuffer.push(`</g></svg>')`);\n      style.backgroundImage = svgBuffer.join(\"\");\n    }\n    this.container.append(svg);\n    this.container.style.clipPath = `url(#${id})`;\n  }\n  _createPopup(popupData = null) {\n    const {\n      data\n    } = this;\n    let contentsObj, modificationDate;\n    if (popupData) {\n      contentsObj = {\n        str: popupData.text\n      };\n      modificationDate = popupData.date;\n    } else {\n      contentsObj = data.contentsObj;\n      modificationDate = data.modificationDate;\n    }\n    this.#popupElement = new PopupAnnotationElement({\n      data: {\n        color: data.color,\n        titleObj: data.titleObj,\n        modificationDate,\n        contentsObj,\n        richText: data.richText,\n        parentRect: data.rect,\n        borderStyle: 0,\n        id: `popup_${data.id}`,\n        rotation: data.rotation,\n        noRotate: true\n      },\n      linkService: this.linkService,\n      parent: this.parent,\n      elements: [this]\n    });\n  }\n  get hasPopupElement() {\n    return !!(this.#popupElement || this.popup || this.data.popupRef);\n  }\n  get extraPopupElement() {\n    return this.#popupElement;\n  }\n  render() {\n    unreachable(\"Abstract method `AnnotationElement.render` called\");\n  }\n  _getElementsByName(name, skipId = null) {\n    const fields = [];\n    if (this._fieldObjects) {\n      const fieldObj = this._fieldObjects[name];\n      if (fieldObj) {\n        for (const {\n          page,\n          id,\n          exportValues\n        } of fieldObj) {\n          if (page === -1) {\n            continue;\n          }\n          if (id === skipId) {\n            continue;\n          }\n          const exportValue = typeof exportValues === \"string\" ? exportValues : null;\n          const domElement = document.querySelector(`[data-element-id=\"${id}\"]`);\n          if (domElement && !GetElementsByNameSet.has(domElement)) {\n            warn(`_getElementsByName - element not allowed: ${id}`);\n            continue;\n          }\n          fields.push({\n            id,\n            exportValue,\n            domElement\n          });\n        }\n      }\n      return fields;\n    }\n    for (const domElement of document.getElementsByName(name)) {\n      const {\n        exportValue\n      } = domElement;\n      const id = domElement.getAttribute(\"data-element-id\");\n      if (id === skipId) {\n        continue;\n      }\n      if (!GetElementsByNameSet.has(domElement)) {\n        continue;\n      }\n      fields.push({\n        id,\n        exportValue,\n        domElement\n      });\n    }\n    return fields;\n  }\n  show() {\n    if (this.container) {\n      this.container.hidden = false;\n    }\n    this.popup?.maybeShow();\n  }\n  hide() {\n    if (this.container) {\n      this.container.hidden = true;\n    }\n    this.popup?.forceHide();\n  }\n  getElementsToTriggerPopup() {\n    return this.container;\n  }\n  addHighlightArea() {\n    const triggers = this.getElementsToTriggerPopup();\n    if (Array.isArray(triggers)) {\n      for (const element of triggers) {\n        element.classList.add(\"highlightArea\");\n      }\n    } else {\n      triggers.classList.add(\"highlightArea\");\n    }\n  }\n  _editOnDoubleClick() {\n    if (!this._isEditable) {\n      return;\n    }\n    const {\n      annotationEditorType: mode,\n      data: {\n        id: editId\n      }\n    } = this;\n    this.container.addEventListener(\"dblclick\", () => {\n      this.linkService.eventBus?.dispatch(\"switchannotationeditormode\", {\n        source: this,\n        mode,\n        editId,\n        mustEnterInEditMode: true\n      });\n    });\n  }\n  get width() {\n    return this.data.rect[2] - this.data.rect[0];\n  }\n  get height() {\n    return this.data.rect[3] - this.data.rect[1];\n  }\n}\nclass EditorAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: true,\n      ignoreBorder: true\n    });\n    this.editor = parameters.editor;\n  }\n  render() {\n    this.container.className = \"editorAnnotation\";\n    return this.container;\n  }\n  createOrUpdatePopup() {\n    const {\n      editor\n    } = this;\n    if (!editor.hasComment) {\n      return;\n    }\n    this._createPopup(editor.comment);\n  }\n  get hasCommentButton() {\n    return this.enableComment && this.editor.hasComment;\n  }\n  get commentButtonPosition() {\n    return this.editor.commentButtonPositionInPage;\n  }\n  get commentText() {\n    return this.editor.comment.text;\n  }\n  set commentText(text) {\n    this.editor.comment = text;\n    if (!text) {\n      this.removePopup();\n    }\n  }\n  get commentData() {\n    return this.editor.getData();\n  }\n  remove() {\n    this.parent.removeAnnotation(this.data.id);\n    this.container.remove();\n    this.container = null;\n    this.removePopup();\n  }\n}\nclass LinkAnnotationElement extends AnnotationElement {\n  constructor(parameters, options = null) {\n    super(parameters, {\n      isRenderable: true,\n      ignoreBorder: !!options?.ignoreBorder,\n      createQuadrilaterals: true\n    });\n    this.isTooltipOnly = parameters.data.isTooltipOnly;\n  }\n  render() {\n    const {\n      data,\n      linkService\n    } = this;\n    const link = document.createElement(\"a\");\n    link.setAttribute(\"data-element-id\", data.id);\n    let isBound = false;\n    if (data.url) {\n      linkService.addLinkAttributes(link, data.url, data.newWindow);\n      isBound = true;\n    } else if (data.action) {\n      this._bindNamedAction(link, data.action, data.overlaidText);\n      isBound = true;\n    } else if (data.attachment) {\n      this.#bindAttachment(link, data.attachment, data.overlaidText, data.attachmentDest);\n      isBound = true;\n    } else if (data.setOCGState) {\n      this.#bindSetOCGState(link, data.setOCGState, data.overlaidText);\n      isBound = true;\n    } else if (data.dest) {\n      this._bindLink(link, data.dest, data.overlaidText);\n      isBound = true;\n    } else {\n      if (data.actions && (data.actions.Action || data.actions[\"Mouse Up\"] || data.actions[\"Mouse Down\"]) && this.enableScripting && this.hasJSActions) {\n        this._bindJSAction(link, data);\n        isBound = true;\n      }\n      if (data.resetForm) {\n        this._bindResetFormAction(link, data.resetForm);\n        isBound = true;\n      } else if (this.isTooltipOnly && !isBound) {\n        this._bindLink(link, \"\");\n        isBound = true;\n      }\n    }\n    this.container.classList.add(\"linkAnnotation\");\n    if (isBound) {\n      this.contentElement = link;\n      this.container.append(link);\n    }\n    return this.container;\n  }\n  #setInternalLink() {\n    this.container.setAttribute(\"data-internal-link\", \"\");\n  }\n  _bindLink(link, destination, overlaidText = \"\") {\n    link.href = this.linkService.getDestinationHash(destination);\n    link.onclick = () => {\n      if (destination) {\n        this.linkService.goToDestination(destination);\n      }\n      return false;\n    };\n    if (destination || destination === \"\") {\n      this.#setInternalLink();\n    }\n    if (overlaidText) {\n      link.title = overlaidText;\n    }\n  }\n  _bindNamedAction(link, action, overlaidText = \"\") {\n    link.href = this.linkService.getAnchorUrl(\"\");\n    link.onclick = () => {\n      this.linkService.executeNamedAction(action);\n      return false;\n    };\n    if (overlaidText) {\n      link.title = overlaidText;\n    }\n    this.#setInternalLink();\n  }\n  #bindAttachment(link, attachment, overlaidText = \"\", dest = null) {\n    link.href = this.linkService.getAnchorUrl(\"\");\n    if (attachment.description) {\n      link.title = attachment.description;\n    } else if (overlaidText) {\n      link.title = overlaidText;\n    }\n    link.onclick = () => {\n      this.downloadManager?.openOrDownloadData(attachment.content, attachment.filename, dest);\n      return false;\n    };\n    this.#setInternalLink();\n  }\n  #bindSetOCGState(link, action, overlaidText = \"\") {\n    link.href = this.linkService.getAnchorUrl(\"\");\n    link.onclick = () => {\n      this.linkService.executeSetOCGState(action);\n      return false;\n    };\n    if (overlaidText) {\n      link.title = overlaidText;\n    }\n    this.#setInternalLink();\n  }\n  _bindJSAction(link, data) {\n    link.href = this.linkService.getAnchorUrl(\"\");\n    const map = new Map([[\"Action\", \"onclick\"], [\"Mouse Up\", \"onmouseup\"], [\"Mouse Down\", \"onmousedown\"]]);\n    for (const name of Object.keys(data.actions)) {\n      const jsName = map.get(name);\n      if (!jsName) {\n        continue;\n      }\n      link[jsName] = () => {\n        this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n          source: this,\n          detail: {\n            id: data.id,\n            name\n          }\n        });\n        return false;\n      };\n    }\n    if (data.overlaidText) {\n      link.title = data.overlaidText;\n    }\n    if (!link.onclick) {\n      link.onclick = () => false;\n    }\n    this.#setInternalLink();\n  }\n  _bindResetFormAction(link, resetForm) {\n    const otherClickAction = link.onclick;\n    if (!otherClickAction) {\n      link.href = this.linkService.getAnchorUrl(\"\");\n    }\n    this.#setInternalLink();\n    if (!this._fieldObjects) {\n      warn(`_bindResetFormAction - \"resetForm\" action not supported, ` + \"ensure that the `fieldObjects` parameter is provided.\");\n      if (!otherClickAction) {\n        link.onclick = () => false;\n      }\n      return;\n    }\n    link.onclick = () => {\n      otherClickAction?.();\n      const {\n        fields: resetFormFields,\n        refs: resetFormRefs,\n        include\n      } = resetForm;\n      const allFields = [];\n      if (resetFormFields.length !== 0 || resetFormRefs.length !== 0) {\n        const fieldIds = new Set(resetFormRefs);\n        for (const fieldName of resetFormFields) {\n          const fields = this._fieldObjects[fieldName] || [];\n          for (const {\n            id\n          } of fields) {\n            fieldIds.add(id);\n          }\n        }\n        for (const fields of Object.values(this._fieldObjects)) {\n          for (const field of fields) {\n            if (fieldIds.has(field.id) === include) {\n              allFields.push(field);\n            }\n          }\n        }\n      } else {\n        for (const fields of Object.values(this._fieldObjects)) {\n          allFields.push(...fields);\n        }\n      }\n      const storage = this.annotationStorage;\n      const allIds = [];\n      for (const field of allFields) {\n        const {\n          id\n        } = field;\n        allIds.push(id);\n        switch (field.type) {\n          case \"text\":\n            {\n              const value = field.defaultValue || \"\";\n              storage.setValue(id, {\n                value\n              });\n              break;\n            }\n          case \"checkbox\":\n          case \"radiobutton\":\n            {\n              const value = field.defaultValue === field.exportValues;\n              storage.setValue(id, {\n                value\n              });\n              break;\n            }\n          case \"combobox\":\n          case \"listbox\":\n            {\n              const value = field.defaultValue || \"\";\n              storage.setValue(id, {\n                value\n              });\n              break;\n            }\n          default:\n            continue;\n        }\n        const domElement = document.querySelector(`[data-element-id=\"${id}\"]`);\n        if (!domElement) {\n          continue;\n        } else if (!GetElementsByNameSet.has(domElement)) {\n          warn(`_bindResetFormAction - element not allowed: ${id}`);\n          continue;\n        }\n        domElement.dispatchEvent(new Event(\"resetform\"));\n      }\n      if (this.enableScripting) {\n        this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n          source: this,\n          detail: {\n            id: \"app\",\n            ids: allIds,\n            name: \"ResetForm\"\n          }\n        });\n      }\n      return false;\n    };\n  }\n}\nclass TextAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: true\n    });\n  }\n  render() {\n    this.container.classList.add(\"textAnnotation\");\n    const image = document.createElement(\"img\");\n    image.src = this.imageResourcesPath + \"annotation-\" + this.data.name.toLowerCase() + \".svg\";\n    image.setAttribute(\"data-l10n-id\", \"pdfjs-text-annotation-type\");\n    image.setAttribute(\"data-l10n-args\", JSON.stringify({\n      type: this.data.name\n    }));\n    if (!this.data.popupRef && this.hasPopupData) {\n      this.hasOwnCommentButton = true;\n      this._createPopup();\n    }\n    this.container.append(image);\n    return this.container;\n  }\n}\nclass WidgetAnnotationElement extends AnnotationElement {\n  render() {\n    return this.container;\n  }\n  showElementAndHideCanvas(element) {\n    if (this.data.hasOwnCanvas) {\n      if (element.previousSibling?.nodeName === \"CANVAS\") {\n        element.previousSibling.hidden = true;\n      }\n      element.hidden = false;\n    }\n  }\n  _getKeyModifier(event) {\n    return util_FeatureTest.platform.isMac ? event.metaKey : event.ctrlKey;\n  }\n  _setEventListener(element, elementData, baseName, eventName, valueGetter) {\n    if (baseName.includes(\"mouse\")) {\n      element.addEventListener(baseName, event => {\n        this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n          source: this,\n          detail: {\n            id: this.data.id,\n            name: eventName,\n            value: valueGetter(event),\n            shift: event.shiftKey,\n            modifier: this._getKeyModifier(event)\n          }\n        });\n      });\n    } else {\n      element.addEventListener(baseName, event => {\n        if (baseName === \"blur\") {\n          if (!elementData.focused || !event.relatedTarget) {\n            return;\n          }\n          elementData.focused = false;\n        } else if (baseName === \"focus\") {\n          if (elementData.focused) {\n            return;\n          }\n          elementData.focused = true;\n        }\n        if (!valueGetter) {\n          return;\n        }\n        this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n          source: this,\n          detail: {\n            id: this.data.id,\n            name: eventName,\n            value: valueGetter(event)\n          }\n        });\n      });\n    }\n  }\n  _setEventListeners(element, elementData, names, getter) {\n    for (const [baseName, eventName] of names) {\n      if (eventName === \"Action\" || this.data.actions?.[eventName]) {\n        if (eventName === \"Focus\" || eventName === \"Blur\") {\n          elementData ||= {\n            focused: false\n          };\n        }\n        this._setEventListener(element, elementData, baseName, eventName, getter);\n        if (eventName === \"Focus\" && !this.data.actions?.Blur) {\n          this._setEventListener(element, elementData, \"blur\", \"Blur\", null);\n        } else if (eventName === \"Blur\" && !this.data.actions?.Focus) {\n          this._setEventListener(element, elementData, \"focus\", \"Focus\", null);\n        }\n      }\n    }\n  }\n  _setBackgroundColor(element) {\n    const color = this.data.backgroundColor || null;\n    element.style.backgroundColor = color === null ? \"transparent\" : Util.makeHexColor(color[0], color[1], color[2]);\n  }\n  _setTextStyle(element) {\n    const TEXT_ALIGNMENT = [\"left\", \"center\", \"right\"];\n    const {\n      fontColor\n    } = this.data.defaultAppearanceData;\n    const fontSize = this.data.defaultAppearanceData.fontSize || annotation_layer_DEFAULT_FONT_SIZE;\n    const style = element.style;\n    let computedFontSize;\n    const BORDER_SIZE = 2;\n    const roundToOneDecimal = x => Math.round(10 * x) / 10;\n    if (this.data.multiLine) {\n      const height = Math.abs(this.data.rect[3] - this.data.rect[1] - BORDER_SIZE);\n      const numberOfLines = Math.round(height / (LINE_FACTOR * fontSize)) || 1;\n      const lineHeight = height / numberOfLines;\n      computedFontSize = Math.min(fontSize, roundToOneDecimal(lineHeight / LINE_FACTOR));\n    } else {\n      const height = Math.abs(this.data.rect[3] - this.data.rect[1] - BORDER_SIZE);\n      computedFontSize = Math.min(fontSize, roundToOneDecimal(height / LINE_FACTOR));\n    }\n    style.fontSize = `calc(${computedFontSize}px * var(--total-scale-factor))`;\n    style.color = Util.makeHexColor(fontColor[0], fontColor[1], fontColor[2]);\n    if (this.data.textAlignment !== null) {\n      style.textAlign = TEXT_ALIGNMENT[this.data.textAlignment];\n    }\n  }\n  _setRequired(element, isRequired) {\n    if (isRequired) {\n      element.setAttribute(\"required\", true);\n    } else {\n      element.removeAttribute(\"required\");\n    }\n    element.setAttribute(\"aria-required\", isRequired);\n  }\n}\nclass TextWidgetAnnotationElement extends WidgetAnnotationElement {\n  constructor(parameters) {\n    const isRenderable = parameters.renderForms || parameters.data.hasOwnCanvas || !parameters.data.hasAppearance && !!parameters.data.fieldValue;\n    super(parameters, {\n      isRenderable\n    });\n  }\n  setPropertyOnSiblings(base, key, value, keyInStorage) {\n    const storage = this.annotationStorage;\n    for (const element of this._getElementsByName(base.name, base.id)) {\n      if (element.domElement) {\n        element.domElement[key] = value;\n      }\n      storage.setValue(element.id, {\n        [keyInStorage]: value\n      });\n    }\n  }\n  render() {\n    const storage = this.annotationStorage;\n    const id = this.data.id;\n    this.container.classList.add(\"textWidgetAnnotation\");\n    let element = null;\n    if (this.renderForms) {\n      const storedData = storage.getValue(id, {\n        value: this.data.fieldValue\n      });\n      let textContent = storedData.value || \"\";\n      const maxLen = storage.getValue(id, {\n        charLimit: this.data.maxLen\n      }).charLimit;\n      if (maxLen && textContent.length > maxLen) {\n        textContent = textContent.slice(0, maxLen);\n      }\n      let fieldFormattedValues = storedData.formattedValue || this.data.textContent?.join(\"\\n\") || null;\n      if (fieldFormattedValues && this.data.comb) {\n        fieldFormattedValues = fieldFormattedValues.replaceAll(/\\s+/g, \"\");\n      }\n      const elementData = {\n        userValue: textContent,\n        formattedValue: fieldFormattedValues,\n        lastCommittedValue: null,\n        commitKey: 1,\n        focused: false\n      };\n      if (this.data.multiLine) {\n        element = document.createElement(\"textarea\");\n        element.textContent = fieldFormattedValues ?? textContent;\n        if (this.data.doNotScroll) {\n          element.style.overflowY = \"hidden\";\n        }\n      } else {\n        element = document.createElement(\"input\");\n        element.type = this.data.password ? \"password\" : \"text\";\n        element.setAttribute(\"value\", fieldFormattedValues ?? textContent);\n        if (this.data.doNotScroll) {\n          element.style.overflowX = \"hidden\";\n        }\n      }\n      if (this.data.hasOwnCanvas) {\n        element.hidden = true;\n      }\n      GetElementsByNameSet.add(element);\n      this.contentElement = element;\n      element.setAttribute(\"data-element-id\", id);\n      element.disabled = this.data.readOnly;\n      element.name = this.data.fieldName;\n      element.tabIndex = 0;\n      const {\n        datetimeFormat,\n        datetimeType,\n        timeStep\n      } = this.data;\n      const hasDateOrTime = !!datetimeType && this.enableScripting;\n      if (datetimeFormat) {\n        element.title = datetimeFormat;\n      }\n      this._setRequired(element, this.data.required);\n      if (maxLen) {\n        element.maxLength = maxLen;\n      }\n      element.addEventListener(\"input\", event => {\n        storage.setValue(id, {\n          value: event.target.value\n        });\n        this.setPropertyOnSiblings(element, \"value\", event.target.value, \"value\");\n        elementData.formattedValue = null;\n      });\n      element.addEventListener(\"resetform\", event => {\n        const defaultValue = this.data.defaultFieldValue ?? \"\";\n        element.value = elementData.userValue = defaultValue;\n        elementData.formattedValue = null;\n      });\n      let blurListener = event => {\n        const {\n          formattedValue\n        } = elementData;\n        if (formattedValue !== null && formattedValue !== undefined) {\n          event.target.value = formattedValue;\n        }\n        event.target.scrollLeft = 0;\n      };\n      if (this.enableScripting && this.hasJSActions) {\n        element.addEventListener(\"focus\", event => {\n          if (elementData.focused) {\n            return;\n          }\n          const {\n            target\n          } = event;\n          if (hasDateOrTime) {\n            target.type = datetimeType;\n            if (timeStep) {\n              target.step = timeStep;\n            }\n          }\n          if (elementData.userValue) {\n            const value = elementData.userValue;\n            if (hasDateOrTime) {\n              if (datetimeType === \"time\") {\n                const date = new Date(value);\n                const parts = [date.getHours(), date.getMinutes(), date.getSeconds()];\n                target.value = parts.map(v => v.toString().padStart(2, \"0\")).join(\":\");\n              } else {\n                target.value = new Date(value - TIMEZONE_OFFSET).toISOString().split(datetimeType === \"date\" ? \"T\" : \".\", 1)[0];\n              }\n            } else {\n              target.value = value;\n            }\n          }\n          elementData.lastCommittedValue = target.value;\n          elementData.commitKey = 1;\n          if (!this.data.actions?.Focus) {\n            elementData.focused = true;\n          }\n        });\n        element.addEventListener(\"updatefromsandbox\", jsEvent => {\n          this.showElementAndHideCanvas(jsEvent.target);\n          const actions = {\n            value(event) {\n              elementData.userValue = event.detail.value ?? \"\";\n              if (!hasDateOrTime) {\n                storage.setValue(id, {\n                  value: elementData.userValue.toString()\n                });\n              }\n              event.target.value = elementData.userValue;\n            },\n            formattedValue(event) {\n              const {\n                formattedValue\n              } = event.detail;\n              elementData.formattedValue = formattedValue;\n              if (formattedValue !== null && formattedValue !== undefined && event.target !== document.activeElement) {\n                event.target.value = formattedValue;\n              }\n              const data = {\n                formattedValue\n              };\n              if (hasDateOrTime) {\n                data.value = formattedValue;\n              }\n              storage.setValue(id, data);\n            },\n            selRange(event) {\n              event.target.setSelectionRange(...event.detail.selRange);\n            },\n            charLimit: event => {\n              const {\n                charLimit\n              } = event.detail;\n              const {\n                target\n              } = event;\n              if (charLimit === 0) {\n                target.removeAttribute(\"maxLength\");\n                return;\n              }\n              target.setAttribute(\"maxLength\", charLimit);\n              let value = elementData.userValue;\n              if (!value || value.length <= charLimit) {\n                return;\n              }\n              value = value.slice(0, charLimit);\n              target.value = elementData.userValue = value;\n              storage.setValue(id, {\n                value\n              });\n              this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n                source: this,\n                detail: {\n                  id,\n                  name: \"Keystroke\",\n                  value,\n                  willCommit: true,\n                  commitKey: 1,\n                  selStart: target.selectionStart,\n                  selEnd: target.selectionEnd\n                }\n              });\n            }\n          };\n          this._dispatchEventFromSandbox(actions, jsEvent);\n        });\n        element.addEventListener(\"keydown\", event => {\n          elementData.commitKey = 1;\n          let commitKey = -1;\n          if (event.key === \"Escape\") {\n            commitKey = 0;\n          } else if (event.key === \"Enter\" && !this.data.multiLine) {\n            commitKey = 2;\n          } else if (event.key === \"Tab\") {\n            elementData.commitKey = 3;\n          }\n          if (commitKey === -1) {\n            return;\n          }\n          const {\n            value\n          } = event.target;\n          if (elementData.lastCommittedValue === value) {\n            return;\n          }\n          elementData.lastCommittedValue = value;\n          elementData.userValue = value;\n          this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n            source: this,\n            detail: {\n              id,\n              name: \"Keystroke\",\n              value,\n              willCommit: true,\n              commitKey,\n              selStart: event.target.selectionStart,\n              selEnd: event.target.selectionEnd\n            }\n          });\n        });\n        const _blurListener = blurListener;\n        blurListener = null;\n        element.addEventListener(\"blur\", event => {\n          if (!elementData.focused || !event.relatedTarget) {\n            return;\n          }\n          if (!this.data.actions?.Blur) {\n            elementData.focused = false;\n          }\n          const {\n            target\n          } = event;\n          let {\n            value\n          } = target;\n          if (hasDateOrTime) {\n            if (value && datetimeType === \"time\") {\n              const parts = value.split(\":\").map(v => parseInt(v, 10));\n              value = new Date(2000, 0, 1, parts[0], parts[1], parts[2] || 0).valueOf();\n              target.step = \"\";\n            } else {\n              if (!value.includes(\"T\")) {\n                value = `${value}T00:00`;\n              }\n              value = new Date(value).valueOf();\n            }\n            target.type = \"text\";\n          }\n          elementData.userValue = value;\n          if (elementData.lastCommittedValue !== value) {\n            this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n              source: this,\n              detail: {\n                id,\n                name: \"Keystroke\",\n                value,\n                willCommit: true,\n                commitKey: elementData.commitKey,\n                selStart: event.target.selectionStart,\n                selEnd: event.target.selectionEnd\n              }\n            });\n          }\n          _blurListener(event);\n        });\n        if (this.data.actions?.Keystroke) {\n          element.addEventListener(\"beforeinput\", event => {\n            elementData.lastCommittedValue = null;\n            const {\n              data,\n              target\n            } = event;\n            const {\n              value,\n              selectionStart,\n              selectionEnd\n            } = target;\n            let selStart = selectionStart,\n              selEnd = selectionEnd;\n            switch (event.inputType) {\n              case \"deleteWordBackward\":\n                {\n                  const match = value.substring(0, selectionStart).match(/\\w*[^\\w]*$/);\n                  if (match) {\n                    selStart -= match[0].length;\n                  }\n                  break;\n                }\n              case \"deleteWordForward\":\n                {\n                  const match = value.substring(selectionStart).match(/^[^\\w]*\\w*/);\n                  if (match) {\n                    selEnd += match[0].length;\n                  }\n                  break;\n                }\n              case \"deleteContentBackward\":\n                if (selectionStart === selectionEnd) {\n                  selStart -= 1;\n                }\n                break;\n              case \"deleteContentForward\":\n                if (selectionStart === selectionEnd) {\n                  selEnd += 1;\n                }\n                break;\n            }\n            event.preventDefault();\n            this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n              source: this,\n              detail: {\n                id,\n                name: \"Keystroke\",\n                value,\n                change: data || \"\",\n                willCommit: false,\n                selStart,\n                selEnd\n              }\n            });\n          });\n        }\n        this._setEventListeners(element, elementData, [[\"focus\", \"Focus\"], [\"blur\", \"Blur\"], [\"mousedown\", \"Mouse Down\"], [\"mouseenter\", \"Mouse Enter\"], [\"mouseleave\", \"Mouse Exit\"], [\"mouseup\", \"Mouse Up\"]], event => event.target.value);\n      }\n      if (blurListener) {\n        element.addEventListener(\"blur\", blurListener);\n      }\n      if (this.data.comb) {\n        const fieldWidth = this.data.rect[2] - this.data.rect[0];\n        const combWidth = fieldWidth / maxLen;\n        element.classList.add(\"comb\");\n        element.style.letterSpacing = `calc(${combWidth}px * var(--total-scale-factor) - 1ch)`;\n      }\n    } else {\n      element = document.createElement(\"div\");\n      element.textContent = this.data.fieldValue;\n      element.style.verticalAlign = \"middle\";\n      element.style.display = \"table-cell\";\n      if (this.data.hasOwnCanvas) {\n        element.hidden = true;\n      }\n    }\n    this._setTextStyle(element);\n    this._setBackgroundColor(element);\n    this._setDefaultPropertiesFromJS(element);\n    this.container.append(element);\n    return this.container;\n  }\n}\nclass SignatureWidgetAnnotationElement extends WidgetAnnotationElement {\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: !!parameters.data.hasOwnCanvas\n    });\n  }\n}\nclass CheckboxWidgetAnnotationElement extends WidgetAnnotationElement {\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: parameters.renderForms\n    });\n  }\n  render() {\n    const storage = this.annotationStorage;\n    const data = this.data;\n    const id = data.id;\n    let value = storage.getValue(id, {\n      value: data.exportValue === data.fieldValue\n    }).value;\n    if (typeof value === \"string\") {\n      value = value !== \"Off\";\n      storage.setValue(id, {\n        value\n      });\n    }\n    this.container.classList.add(\"buttonWidgetAnnotation\", \"checkBox\");\n    const element = document.createElement(\"input\");\n    GetElementsByNameSet.add(element);\n    element.setAttribute(\"data-element-id\", id);\n    element.disabled = data.readOnly;\n    this._setRequired(element, this.data.required);\n    element.type = \"checkbox\";\n    element.name = data.fieldName;\n    if (value) {\n      element.setAttribute(\"checked\", true);\n    }\n    element.setAttribute(\"exportValue\", data.exportValue);\n    element.tabIndex = 0;\n    element.addEventListener(\"change\", event => {\n      const {\n        name,\n        checked\n      } = event.target;\n      for (const checkbox of this._getElementsByName(name, id)) {\n        const curChecked = checked && checkbox.exportValue === data.exportValue;\n        if (checkbox.domElement) {\n          checkbox.domElement.checked = curChecked;\n        }\n        storage.setValue(checkbox.id, {\n          value: curChecked\n        });\n      }\n      storage.setValue(id, {\n        value: checked\n      });\n    });\n    element.addEventListener(\"resetform\", event => {\n      const defaultValue = data.defaultFieldValue || \"Off\";\n      event.target.checked = defaultValue === data.exportValue;\n    });\n    if (this.enableScripting && this.hasJSActions) {\n      element.addEventListener(\"updatefromsandbox\", jsEvent => {\n        const actions = {\n          value(event) {\n            event.target.checked = event.detail.value !== \"Off\";\n            storage.setValue(id, {\n              value: event.target.checked\n            });\n          }\n        };\n        this._dispatchEventFromSandbox(actions, jsEvent);\n      });\n      this._setEventListeners(element, null, [[\"change\", \"Validate\"], [\"change\", \"Action\"], [\"focus\", \"Focus\"], [\"blur\", \"Blur\"], [\"mousedown\", \"Mouse Down\"], [\"mouseenter\", \"Mouse Enter\"], [\"mouseleave\", \"Mouse Exit\"], [\"mouseup\", \"Mouse Up\"]], event => event.target.checked);\n    }\n    this._setBackgroundColor(element);\n    this._setDefaultPropertiesFromJS(element);\n    this.container.append(element);\n    return this.container;\n  }\n}\nclass RadioButtonWidgetAnnotationElement extends WidgetAnnotationElement {\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: parameters.renderForms\n    });\n  }\n  render() {\n    this.container.classList.add(\"buttonWidgetAnnotation\", \"radioButton\");\n    const storage = this.annotationStorage;\n    const data = this.data;\n    const id = data.id;\n    let value = storage.getValue(id, {\n      value: data.fieldValue === data.buttonValue\n    }).value;\n    if (typeof value === \"string\") {\n      value = value !== data.buttonValue;\n      storage.setValue(id, {\n        value\n      });\n    }\n    if (value) {\n      for (const radio of this._getElementsByName(data.fieldName, id)) {\n        storage.setValue(radio.id, {\n          value: false\n        });\n      }\n    }\n    const element = document.createElement(\"input\");\n    GetElementsByNameSet.add(element);\n    element.setAttribute(\"data-element-id\", id);\n    element.disabled = data.readOnly;\n    this._setRequired(element, this.data.required);\n    element.type = \"radio\";\n    element.name = data.fieldName;\n    if (value) {\n      element.setAttribute(\"checked\", true);\n    }\n    element.tabIndex = 0;\n    element.addEventListener(\"change\", event => {\n      const {\n        name,\n        checked\n      } = event.target;\n      for (const radio of this._getElementsByName(name, id)) {\n        storage.setValue(radio.id, {\n          value: false\n        });\n      }\n      storage.setValue(id, {\n        value: checked\n      });\n    });\n    element.addEventListener(\"resetform\", event => {\n      const defaultValue = data.defaultFieldValue;\n      event.target.checked = defaultValue !== null && defaultValue !== undefined && defaultValue === data.buttonValue;\n    });\n    if (this.enableScripting && this.hasJSActions) {\n      const pdfButtonValue = data.buttonValue;\n      element.addEventListener(\"updatefromsandbox\", jsEvent => {\n        const actions = {\n          value: event => {\n            const checked = pdfButtonValue === event.detail.value;\n            for (const radio of this._getElementsByName(event.target.name)) {\n              const curChecked = checked && radio.id === id;\n              if (radio.domElement) {\n                radio.domElement.checked = curChecked;\n              }\n              storage.setValue(radio.id, {\n                value: curChecked\n              });\n            }\n          }\n        };\n        this._dispatchEventFromSandbox(actions, jsEvent);\n      });\n      this._setEventListeners(element, null, [[\"change\", \"Validate\"], [\"change\", \"Action\"], [\"focus\", \"Focus\"], [\"blur\", \"Blur\"], [\"mousedown\", \"Mouse Down\"], [\"mouseenter\", \"Mouse Enter\"], [\"mouseleave\", \"Mouse Exit\"], [\"mouseup\", \"Mouse Up\"]], event => event.target.checked);\n    }\n    this._setBackgroundColor(element);\n    this._setDefaultPropertiesFromJS(element);\n    this.container.append(element);\n    return this.container;\n  }\n}\nclass PushButtonWidgetAnnotationElement extends LinkAnnotationElement {\n  constructor(parameters) {\n    super(parameters, {\n      ignoreBorder: parameters.data.hasAppearance\n    });\n  }\n  render() {\n    const container = super.render();\n    container.classList.add(\"buttonWidgetAnnotation\", \"pushButton\");\n    const linkElement = container.lastChild;\n    if (this.enableScripting && this.hasJSActions && linkElement) {\n      this._setDefaultPropertiesFromJS(linkElement);\n      linkElement.addEventListener(\"updatefromsandbox\", jsEvent => {\n        this._dispatchEventFromSandbox({}, jsEvent);\n      });\n    }\n    return container;\n  }\n}\nclass ChoiceWidgetAnnotationElement extends WidgetAnnotationElement {\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: parameters.renderForms\n    });\n  }\n  render() {\n    this.container.classList.add(\"choiceWidgetAnnotation\");\n    const storage = this.annotationStorage;\n    const id = this.data.id;\n    const storedData = storage.getValue(id, {\n      value: this.data.fieldValue\n    });\n    const selectElement = document.createElement(\"select\");\n    GetElementsByNameSet.add(selectElement);\n    selectElement.setAttribute(\"data-element-id\", id);\n    selectElement.disabled = this.data.readOnly;\n    this._setRequired(selectElement, this.data.required);\n    selectElement.name = this.data.fieldName;\n    selectElement.tabIndex = 0;\n    let addAnEmptyEntry = this.data.combo && this.data.options.length > 0;\n    if (!this.data.combo) {\n      selectElement.size = this.data.options.length;\n      if (this.data.multiSelect) {\n        selectElement.multiple = true;\n      }\n    }\n    selectElement.addEventListener(\"resetform\", event => {\n      const defaultValue = this.data.defaultFieldValue;\n      for (const option of selectElement.options) {\n        option.selected = option.value === defaultValue;\n      }\n    });\n    for (const option of this.data.options) {\n      const optionElement = document.createElement(\"option\");\n      optionElement.textContent = option.displayValue;\n      optionElement.value = option.exportValue;\n      if (storedData.value.includes(option.exportValue)) {\n        optionElement.setAttribute(\"selected\", true);\n        addAnEmptyEntry = false;\n      }\n      selectElement.append(optionElement);\n    }\n    let removeEmptyEntry = null;\n    if (addAnEmptyEntry) {\n      const noneOptionElement = document.createElement(\"option\");\n      noneOptionElement.value = \" \";\n      noneOptionElement.setAttribute(\"hidden\", true);\n      noneOptionElement.setAttribute(\"selected\", true);\n      selectElement.prepend(noneOptionElement);\n      removeEmptyEntry = () => {\n        noneOptionElement.remove();\n        selectElement.removeEventListener(\"input\", removeEmptyEntry);\n        removeEmptyEntry = null;\n      };\n      selectElement.addEventListener(\"input\", removeEmptyEntry);\n    }\n    const getValue = isExport => {\n      const name = isExport ? \"value\" : \"textContent\";\n      const {\n        options,\n        multiple\n      } = selectElement;\n      if (!multiple) {\n        return options.selectedIndex === -1 ? null : options[options.selectedIndex][name];\n      }\n      return Array.prototype.filter.call(options, option => option.selected).map(option => option[name]);\n    };\n    let selectedValues = getValue(false);\n    const getItems = event => {\n      const options = event.target.options;\n      return Array.prototype.map.call(options, option => ({\n        displayValue: option.textContent,\n        exportValue: option.value\n      }));\n    };\n    if (this.enableScripting && this.hasJSActions) {\n      selectElement.addEventListener(\"updatefromsandbox\", jsEvent => {\n        const actions = {\n          value(event) {\n            removeEmptyEntry?.();\n            const value = event.detail.value;\n            const values = new Set(Array.isArray(value) ? value : [value]);\n            for (const option of selectElement.options) {\n              option.selected = values.has(option.value);\n            }\n            storage.setValue(id, {\n              value: getValue(true)\n            });\n            selectedValues = getValue(false);\n          },\n          multipleSelection(event) {\n            selectElement.multiple = true;\n          },\n          remove(event) {\n            const options = selectElement.options;\n            const index = event.detail.remove;\n            options[index].selected = false;\n            selectElement.remove(index);\n            if (options.length > 0) {\n              const i = Array.prototype.findIndex.call(options, option => option.selected);\n              if (i === -1) {\n                options[0].selected = true;\n              }\n            }\n            storage.setValue(id, {\n              value: getValue(true),\n              items: getItems(event)\n            });\n            selectedValues = getValue(false);\n          },\n          clear(event) {\n            while (selectElement.length !== 0) {\n              selectElement.remove(0);\n            }\n            storage.setValue(id, {\n              value: null,\n              items: []\n            });\n            selectedValues = getValue(false);\n          },\n          insert(event) {\n            const {\n              index,\n              displayValue,\n              exportValue\n            } = event.detail.insert;\n            const selectChild = selectElement.children[index];\n            const optionElement = document.createElement(\"option\");\n            optionElement.textContent = displayValue;\n            optionElement.value = exportValue;\n            if (selectChild) {\n              selectChild.before(optionElement);\n            } else {\n              selectElement.append(optionElement);\n            }\n            storage.setValue(id, {\n              value: getValue(true),\n              items: getItems(event)\n            });\n            selectedValues = getValue(false);\n          },\n          items(event) {\n            const {\n              items\n            } = event.detail;\n            while (selectElement.length !== 0) {\n              selectElement.remove(0);\n            }\n            for (const item of items) {\n              const {\n                displayValue,\n                exportValue\n              } = item;\n              const optionElement = document.createElement(\"option\");\n              optionElement.textContent = displayValue;\n              optionElement.value = exportValue;\n              selectElement.append(optionElement);\n            }\n            if (selectElement.options.length > 0) {\n              selectElement.options[0].selected = true;\n            }\n            storage.setValue(id, {\n              value: getValue(true),\n              items: getItems(event)\n            });\n            selectedValues = getValue(false);\n          },\n          indices(event) {\n            const indices = new Set(event.detail.indices);\n            for (const option of event.target.options) {\n              option.selected = indices.has(option.index);\n            }\n            storage.setValue(id, {\n              value: getValue(true)\n            });\n            selectedValues = getValue(false);\n          },\n          editable(event) {\n            event.target.disabled = !event.detail.editable;\n          }\n        };\n        this._dispatchEventFromSandbox(actions, jsEvent);\n      });\n      selectElement.addEventListener(\"input\", event => {\n        const exportValue = getValue(true);\n        const change = getValue(false);\n        storage.setValue(id, {\n          value: exportValue\n        });\n        event.preventDefault();\n        this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n          source: this,\n          detail: {\n            id,\n            name: \"Keystroke\",\n            value: selectedValues,\n            change,\n            changeEx: exportValue,\n            willCommit: false,\n            commitKey: 1,\n            keyDown: false\n          }\n        });\n      });\n      this._setEventListeners(selectElement, null, [[\"focus\", \"Focus\"], [\"blur\", \"Blur\"], [\"mousedown\", \"Mouse Down\"], [\"mouseenter\", \"Mouse Enter\"], [\"mouseleave\", \"Mouse Exit\"], [\"mouseup\", \"Mouse Up\"], [\"input\", \"Action\"], [\"input\", \"Validate\"]], event => event.target.value);\n    } else {\n      selectElement.addEventListener(\"input\", function (event) {\n        storage.setValue(id, {\n          value: getValue(true)\n        });\n      });\n    }\n    if (this.data.combo) {\n      this._setTextStyle(selectElement);\n    } else {}\n    this._setBackgroundColor(selectElement);\n    this._setDefaultPropertiesFromJS(selectElement);\n    this.container.append(selectElement);\n    return this.container;\n  }\n}\nclass PopupAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    const {\n      data,\n      elements,\n      parent\n    } = parameters;\n    const hasCommentManager = !!parent._commentManager;\n    super(parameters, {\n      isRenderable: !hasCommentManager && AnnotationElement._hasPopupData(data)\n    });\n    this.elements = elements;\n    if (hasCommentManager && AnnotationElement._hasPopupData(data)) {\n      const popup = this.popup = this.#createPopup();\n      for (const element of elements) {\n        element.popup = popup;\n      }\n    } else {\n      this.popup = null;\n    }\n  }\n  #createPopup() {\n    return new PopupElement({\n      container: this.container,\n      color: this.data.color,\n      titleObj: this.data.titleObj,\n      modificationDate: this.data.modificationDate || this.data.creationDate,\n      contentsObj: this.data.contentsObj,\n      richText: this.data.richText,\n      rect: this.data.rect,\n      parentRect: this.data.parentRect || null,\n      parent: this.parent,\n      elements: this.elements,\n      open: this.data.open,\n      commentManager: this.parent._commentManager\n    });\n  }\n  render() {\n    const {\n      container\n    } = this;\n    container.classList.add(\"popupAnnotation\");\n    container.role = \"comment\";\n    const popup = this.popup = this.#createPopup();\n    const elementIds = [];\n    for (const element of this.elements) {\n      element.popup = popup;\n      element.container.ariaHasPopup = \"dialog\";\n      elementIds.push(element.data.id);\n      element.addHighlightArea();\n    }\n    this.container.setAttribute(\"aria-controls\", elementIds.map(id => `${AnnotationPrefix}${id}`).join(\",\"));\n    return this.container;\n  }\n}\nclass PopupElement {\n  #commentManager = null;\n  #boundKeyDown = this.#keyDown.bind(this);\n  #boundHide = this.#hide.bind(this);\n  #boundShow = this.#show.bind(this);\n  #boundToggle = this.#toggle.bind(this);\n  #color = null;\n  #container = null;\n  #contentsObj = null;\n  #dateObj = null;\n  #elements = null;\n  #parent = null;\n  #parentRect = null;\n  #pinned = false;\n  #popup = null;\n  #popupAbortController = null;\n  #position = null;\n  #commentButton = null;\n  #commentButtonPosition = null;\n  #popupPosition = null;\n  #rect = null;\n  #richText = null;\n  #titleObj = null;\n  #updates = null;\n  #wasVisible = false;\n  #firstElement = null;\n  #commentText = null;\n  constructor({\n    container,\n    color,\n    elements,\n    titleObj,\n    modificationDate,\n    contentsObj,\n    richText,\n    parent,\n    rect,\n    parentRect,\n    open,\n    commentManager = null\n  }) {\n    this.#container = container;\n    this.#titleObj = titleObj;\n    this.#contentsObj = contentsObj;\n    this.#richText = richText;\n    this.#parent = parent;\n    this.#color = color;\n    this.#rect = rect;\n    this.#parentRect = parentRect;\n    this.#elements = elements;\n    this.#commentManager = commentManager;\n    this.#firstElement = elements[0];\n    this.#dateObj = PDFDateString.toDateObject(modificationDate);\n    this.trigger = elements.flatMap(e => e.getElementsToTriggerPopup());\n    if (!commentManager) {\n      this.#addEventListeners();\n      this.#container.hidden = true;\n      if (open) {\n        this.#toggle();\n      }\n    }\n  }\n  #addEventListeners() {\n    if (this.#popupAbortController) {\n      return;\n    }\n    this.#popupAbortController = new AbortController();\n    const {\n      signal\n    } = this.#popupAbortController;\n    for (const element of this.trigger) {\n      element.addEventListener(\"click\", this.#boundToggle, {\n        signal\n      });\n      element.addEventListener(\"pointerenter\", this.#boundShow, {\n        signal\n      });\n      element.addEventListener(\"pointerleave\", this.#boundHide, {\n        signal\n      });\n      element.classList.add(\"popupTriggerArea\");\n    }\n    for (const element of this.#elements) {\n      element.container?.addEventListener(\"keydown\", this.#boundKeyDown, {\n        signal\n      });\n    }\n  }\n  #setCommentButtonPosition() {\n    const element = this.#elements.find(e => e.hasCommentButton);\n    if (!element) {\n      return;\n    }\n    this.#commentButtonPosition = element._normalizePoint(element.commentButtonPosition);\n  }\n  renderCommentButton() {\n    if (this.#commentButton) {\n      if (!this.#commentButton.parentNode) {\n        this.#firstElement.container.after(this.#commentButton);\n      }\n      return;\n    }\n    if (!this.#commentButtonPosition) {\n      this.#setCommentButtonPosition();\n    }\n    if (!this.#commentButtonPosition) {\n      return;\n    }\n    const {\n      signal\n    } = this.#popupAbortController = new AbortController();\n    const hasOwnButton = this.#firstElement.hasOwnCommentButton;\n    const togglePopup = () => {\n      this.#commentManager.toggleCommentPopup(this, true, undefined, !hasOwnButton);\n    };\n    const showPopup = () => {\n      this.#commentManager.toggleCommentPopup(this, false, true, !hasOwnButton);\n    };\n    const hidePopup = () => {\n      this.#commentManager.toggleCommentPopup(this, false, false);\n    };\n    if (!hasOwnButton) {\n      const button = this.#commentButton = document.createElement(\"button\");\n      button.className = \"annotationCommentButton\";\n      const parentContainer = this.#firstElement.container;\n      button.style.zIndex = parentContainer.style.zIndex + 1;\n      button.tabIndex = 0;\n      button.ariaHasPopup = \"dialog\";\n      button.ariaControls = \"commentPopup\";\n      button.setAttribute(\"data-l10n-id\", \"pdfjs-show-comment-button\");\n      this.#updateColor();\n      this.#updateCommentButtonPosition();\n      button.addEventListener(\"keydown\", this.#boundKeyDown, {\n        signal\n      });\n      button.addEventListener(\"click\", togglePopup, {\n        signal\n      });\n      button.addEventListener(\"pointerenter\", showPopup, {\n        signal\n      });\n      button.addEventListener(\"pointerleave\", hidePopup, {\n        signal\n      });\n      parentContainer.after(button);\n    } else {\n      this.#commentButton = this.#firstElement.container;\n      for (const element of this.trigger) {\n        element.ariaHasPopup = \"dialog\";\n        element.ariaControls = \"commentPopup\";\n        element.addEventListener(\"keydown\", this.#boundKeyDown, {\n          signal\n        });\n        element.addEventListener(\"click\", togglePopup, {\n          signal\n        });\n        element.addEventListener(\"pointerenter\", showPopup, {\n          signal\n        });\n        element.addEventListener(\"pointerleave\", hidePopup, {\n          signal\n        });\n        element.classList.add(\"popupTriggerArea\");\n      }\n    }\n  }\n  #updateCommentButtonPosition() {\n    if (this.#firstElement.extraPopupElement && !this.#firstElement.editor) {\n      return;\n    }\n    if (!this.#commentButton) {\n      this.renderCommentButton();\n    }\n    const [x, y] = this.#commentButtonPosition;\n    const {\n      style\n    } = this.#commentButton;\n    style.left = `calc(${x}%)`;\n    style.top = `calc(${y}% - var(--comment-button-dim))`;\n  }\n  #updateColor() {\n    if (this.#firstElement.extraPopupElement) {\n      return;\n    }\n    if (!this.#commentButton) {\n      this.renderCommentButton();\n    }\n    this.#commentButton.style.backgroundColor = this.commentButtonColor || \"\";\n  }\n  get commentButtonColor() {\n    const {\n      color,\n      opacity\n    } = this.#firstElement.commentData;\n    if (!color) {\n      return null;\n    }\n    return this.#parent._commentManager.makeCommentColor(color, opacity);\n  }\n  focusCommentButton() {\n    setTimeout(() => {\n      this.#commentButton?.focus();\n    }, 0);\n  }\n  getData() {\n    const {\n      richText,\n      color,\n      opacity,\n      creationDate,\n      modificationDate\n    } = this.#firstElement.commentData;\n    return {\n      contentsObj: {\n        str: this.comment\n      },\n      richText,\n      color,\n      opacity,\n      creationDate,\n      modificationDate\n    };\n  }\n  get elementBeforePopup() {\n    return this.#commentButton;\n  }\n  get comment() {\n    this.#commentText ||= this.#firstElement.commentText;\n    return this.#commentText;\n  }\n  set comment(text) {\n    if (text === this.comment) {\n      return;\n    }\n    this.#firstElement.commentText = this.#commentText = text;\n  }\n  focus() {\n    this.#firstElement.container?.focus();\n  }\n  get parentBoundingClientRect() {\n    return this.#firstElement.layer.getBoundingClientRect();\n  }\n  setCommentButtonStates({\n    selected,\n    hasPopup\n  }) {\n    if (!this.#commentButton) {\n      return;\n    }\n    this.#commentButton.classList.toggle(\"selected\", selected);\n    this.#commentButton.ariaExpanded = hasPopup;\n  }\n  setSelectedCommentButton(selected) {\n    this.#commentButton.classList.toggle(\"selected\", selected);\n  }\n  get commentPopupPosition() {\n    if (this.#popupPosition) {\n      return this.#popupPosition;\n    }\n    const {\n      x,\n      y,\n      height\n    } = this.#commentButton.getBoundingClientRect();\n    const {\n      x: parentX,\n      y: parentY,\n      width: parentWidth,\n      height: parentHeight\n    } = this.#firstElement.layer.getBoundingClientRect();\n    return [(x - parentX) / parentWidth, (y + height - parentY) / parentHeight];\n  }\n  set commentPopupPosition(pos) {\n    this.#popupPosition = pos;\n  }\n  hasDefaultPopupPosition() {\n    return this.#popupPosition === null;\n  }\n  get commentButtonPosition() {\n    return this.#commentButtonPosition;\n  }\n  get commentButtonWidth() {\n    return this.#commentButton.getBoundingClientRect().width / this.parentBoundingClientRect.width;\n  }\n  editComment(options) {\n    const [posX, posY] = this.#popupPosition || this.commentButtonPosition.map(x => x / 100);\n    const parentDimensions = this.parentBoundingClientRect;\n    const {\n      x: parentX,\n      y: parentY,\n      width: parentWidth,\n      height: parentHeight\n    } = parentDimensions;\n    this.#commentManager.showDialog(null, this, parentX + posX * parentWidth, parentY + posY * parentHeight, {\n      ...options,\n      parentDimensions\n    });\n  }\n  render() {\n    if (this.#popup) {\n      return;\n    }\n    const popup = this.#popup = document.createElement(\"div\");\n    popup.className = \"popup\";\n    if (this.#color) {\n      const baseColor = popup.style.outlineColor = Util.makeHexColor(...this.#color);\n      popup.style.backgroundColor = `color-mix(in srgb, ${baseColor} 30%, white)`;\n    }\n    const header = document.createElement(\"span\");\n    header.className = \"header\";\n    if (this.#titleObj?.str) {\n      const title = document.createElement(\"span\");\n      title.className = \"title\";\n      header.append(title);\n      ({\n        dir: title.dir,\n        str: title.textContent\n      } = this.#titleObj);\n    }\n    popup.append(header);\n    if (this.#dateObj) {\n      const modificationDate = document.createElement(\"time\");\n      modificationDate.className = \"popupDate\";\n      modificationDate.setAttribute(\"data-l10n-id\", \"pdfjs-annotation-date-time-string\");\n      modificationDate.setAttribute(\"data-l10n-args\", JSON.stringify({\n        dateObj: this.#dateObj.valueOf()\n      }));\n      modificationDate.dateTime = this.#dateObj.toISOString();\n      header.append(modificationDate);\n    }\n    renderRichText({\n      html: this.#html || this.#contentsObj.str,\n      dir: this.#contentsObj?.dir,\n      className: \"popupContent\"\n    }, popup);\n    this.#container.append(popup);\n  }\n  get #html() {\n    const richText = this.#richText;\n    const contentsObj = this.#contentsObj;\n    if (richText?.str && (!contentsObj?.str || contentsObj.str === richText.str)) {\n      return this.#richText.html || null;\n    }\n    return null;\n  }\n  get #fontSize() {\n    return this.#html?.attributes?.style?.fontSize || 0;\n  }\n  get #fontColor() {\n    return this.#html?.attributes?.style?.color || null;\n  }\n  #makePopupContent(text) {\n    const popupLines = [];\n    const popupContent = {\n      str: text,\n      html: {\n        name: \"div\",\n        attributes: {\n          dir: \"auto\"\n        },\n        children: [{\n          name: \"p\",\n          children: popupLines\n        }]\n      }\n    };\n    const lineAttributes = {\n      style: {\n        color: this.#fontColor,\n        fontSize: this.#fontSize ? `calc(${this.#fontSize}px * var(--total-scale-factor))` : \"\"\n      }\n    };\n    for (const line of text.split(\"\\n\")) {\n      popupLines.push({\n        name: \"span\",\n        value: line,\n        attributes: lineAttributes\n      });\n    }\n    return popupContent;\n  }\n  #keyDown(event) {\n    if (event.altKey || event.shiftKey || event.ctrlKey || event.metaKey) {\n      return;\n    }\n    if (event.key === \"Enter\" || event.key === \"Escape\" && this.#pinned) {\n      this.#toggle();\n    }\n  }\n  updateEdited({\n    rect,\n    popup,\n    deleted\n  }) {\n    if (this.#commentManager) {\n      if (deleted) {\n        this.remove();\n        this.#commentText = null;\n      } else if (popup) {\n        if (popup.deleted) {\n          this.remove();\n        } else {\n          this.#updateColor();\n          this.#commentText = popup.text;\n        }\n      }\n      if (rect) {\n        this.#commentButtonPosition = null;\n        this.#setCommentButtonPosition();\n        this.#updateCommentButtonPosition();\n      }\n      return;\n    }\n    if (deleted || popup?.deleted) {\n      this.remove();\n      return;\n    }\n    this.#addEventListeners();\n    this.#updates ||= {\n      contentsObj: this.#contentsObj,\n      richText: this.#richText\n    };\n    if (rect) {\n      this.#position = null;\n    }\n    if (popup && popup.text) {\n      this.#richText = this.#makePopupContent(popup.text);\n      this.#dateObj = PDFDateString.toDateObject(popup.date);\n      this.#contentsObj = null;\n    }\n    this.#popup?.remove();\n    this.#popup = null;\n  }\n  resetEdited() {\n    if (!this.#updates) {\n      return;\n    }\n    ({\n      contentsObj: this.#contentsObj,\n      richText: this.#richText\n    } = this.#updates);\n    this.#updates = null;\n    this.#popup?.remove();\n    this.#popup = null;\n    this.#position = null;\n  }\n  remove() {\n    this.#popupAbortController?.abort();\n    this.#popupAbortController = null;\n    this.#popup?.remove();\n    this.#popup = null;\n    this.#wasVisible = false;\n    this.#pinned = false;\n    this.#commentButton?.remove();\n    this.#commentButton = null;\n    if (this.trigger) {\n      for (const element of this.trigger) {\n        element.classList.remove(\"popupTriggerArea\");\n      }\n    }\n  }\n  #setPosition() {\n    if (this.#position !== null) {\n      return;\n    }\n    const {\n      page: {\n        view\n      },\n      viewport: {\n        rawDims: {\n          pageWidth,\n          pageHeight,\n          pageX,\n          pageY\n        }\n      }\n    } = this.#parent;\n    let useParentRect = !!this.#parentRect;\n    let rect = useParentRect ? this.#parentRect : this.#rect;\n    for (const element of this.#elements) {\n      if (!rect || Util.intersect(element.data.rect, rect) !== null) {\n        rect = element.data.rect;\n        useParentRect = true;\n        break;\n      }\n    }\n    const normalizedRect = Util.normalizeRect([rect[0], view[3] - rect[1] + view[1], rect[2], view[3] - rect[3] + view[1]]);\n    const HORIZONTAL_SPACE_AFTER_ANNOTATION = 5;\n    const parentWidth = useParentRect ? rect[2] - rect[0] + HORIZONTAL_SPACE_AFTER_ANNOTATION : 0;\n    const popupLeft = normalizedRect[0] + parentWidth;\n    const popupTop = normalizedRect[1];\n    this.#position = [100 * (popupLeft - pageX) / pageWidth, 100 * (popupTop - pageY) / pageHeight];\n    const {\n      style\n    } = this.#container;\n    style.left = `${this.#position[0]}%`;\n    style.top = `${this.#position[1]}%`;\n  }\n  #toggle() {\n    if (this.#commentManager) {\n      this.#commentManager.toggleCommentPopup(this, false);\n      return;\n    }\n    this.#pinned = !this.#pinned;\n    if (this.#pinned) {\n      this.#show();\n      this.#container.addEventListener(\"click\", this.#boundToggle);\n      this.#container.addEventListener(\"keydown\", this.#boundKeyDown);\n    } else {\n      this.#hide();\n      this.#container.removeEventListener(\"click\", this.#boundToggle);\n      this.#container.removeEventListener(\"keydown\", this.#boundKeyDown);\n    }\n  }\n  #show() {\n    if (!this.#popup) {\n      this.render();\n    }\n    if (!this.isVisible) {\n      this.#setPosition();\n      this.#container.hidden = false;\n      this.#container.style.zIndex = parseInt(this.#container.style.zIndex) + 1000;\n    } else if (this.#pinned) {\n      this.#container.classList.add(\"focused\");\n    }\n  }\n  #hide() {\n    this.#container.classList.remove(\"focused\");\n    if (this.#pinned || !this.isVisible) {\n      return;\n    }\n    this.#container.hidden = true;\n    this.#container.style.zIndex = parseInt(this.#container.style.zIndex) - 1000;\n  }\n  forceHide() {\n    this.#wasVisible = this.isVisible;\n    if (!this.#wasVisible) {\n      return;\n    }\n    this.#container.hidden = true;\n  }\n  maybeShow() {\n    if (this.#commentManager) {\n      return;\n    }\n    this.#addEventListeners();\n    if (!this.#wasVisible) {\n      return;\n    }\n    if (!this.#popup) {\n      this.#show();\n    }\n    this.#wasVisible = false;\n    this.#container.hidden = false;\n  }\n  get isVisible() {\n    if (this.#commentManager) {\n      return false;\n    }\n    return this.#container.hidden === false;\n  }\n}\nclass FreeTextAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: true,\n      ignoreBorder: true\n    });\n    this.textContent = parameters.data.textContent;\n    this.textPosition = parameters.data.textPosition;\n    this.annotationEditorType = AnnotationEditorType.FREETEXT;\n  }\n  render() {\n    this.container.classList.add(\"freeTextAnnotation\");\n    if (this.textContent) {\n      const content = this.contentElement = document.createElement(\"div\");\n      content.classList.add(\"annotationTextContent\");\n      content.setAttribute(\"role\", \"comment\");\n      for (const line of this.textContent) {\n        const lineSpan = document.createElement(\"span\");\n        lineSpan.textContent = line;\n        content.append(lineSpan);\n      }\n      this.container.append(content);\n    }\n    if (!this.data.popupRef && this.hasPopupData) {\n      this.hasOwnCommentButton = true;\n      this._createPopup();\n    }\n    this._editOnDoubleClick();\n    return this.container;\n  }\n}\nclass LineAnnotationElement extends AnnotationElement {\n  #line = null;\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: true,\n      ignoreBorder: true\n    });\n  }\n  render() {\n    this.container.classList.add(\"lineAnnotation\");\n    const {\n      data,\n      width,\n      height\n    } = this;\n    const svg = this.svgFactory.create(width, height, true);\n    const line = this.#line = this.svgFactory.createElement(\"svg:line\");\n    line.setAttribute(\"x1\", data.rect[2] - data.lineCoordinates[0]);\n    line.setAttribute(\"y1\", data.rect[3] - data.lineCoordinates[1]);\n    line.setAttribute(\"x2\", data.rect[2] - data.lineCoordinates[2]);\n    line.setAttribute(\"y2\", data.rect[3] - data.lineCoordinates[3]);\n    line.setAttribute(\"stroke-width\", data.borderStyle.width || 1);\n    line.setAttribute(\"stroke\", \"transparent\");\n    line.setAttribute(\"fill\", \"transparent\");\n    svg.append(line);\n    this.container.append(svg);\n    if (!data.popupRef && this.hasPopupData) {\n      this.hasOwnCommentButton = true;\n      this._createPopup();\n    }\n    return this.container;\n  }\n  getElementsToTriggerPopup() {\n    return this.#line;\n  }\n  addHighlightArea() {\n    this.container.classList.add(\"highlightArea\");\n  }\n}\nclass SquareAnnotationElement extends AnnotationElement {\n  #square = null;\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: true,\n      ignoreBorder: true\n    });\n  }\n  render() {\n    this.container.classList.add(\"squareAnnotation\");\n    const {\n      data,\n      width,\n      height\n    } = this;\n    const svg = this.svgFactory.create(width, height, true);\n    const borderWidth = data.borderStyle.width;\n    const square = this.#square = this.svgFactory.createElement(\"svg:rect\");\n    square.setAttribute(\"x\", borderWidth / 2);\n    square.setAttribute(\"y\", borderWidth / 2);\n    square.setAttribute(\"width\", width - borderWidth);\n    square.setAttribute(\"height\", height - borderWidth);\n    square.setAttribute(\"stroke-width\", borderWidth || 1);\n    square.setAttribute(\"stroke\", \"transparent\");\n    square.setAttribute(\"fill\", \"transparent\");\n    svg.append(square);\n    this.container.append(svg);\n    if (!data.popupRef && this.hasPopupData) {\n      this.hasOwnCommentButton = true;\n      this._createPopup();\n    }\n    return this.container;\n  }\n  getElementsToTriggerPopup() {\n    return this.#square;\n  }\n  addHighlightArea() {\n    this.container.classList.add(\"highlightArea\");\n  }\n}\nclass CircleAnnotationElement extends AnnotationElement {\n  #circle = null;\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: true,\n      ignoreBorder: true\n    });\n  }\n  render() {\n    this.container.classList.add(\"circleAnnotation\");\n    const {\n      data,\n      width,\n      height\n    } = this;\n    const svg = this.svgFactory.create(width, height, true);\n    const borderWidth = data.borderStyle.width;\n    const circle = this.#circle = this.svgFactory.createElement(\"svg:ellipse\");\n    circle.setAttribute(\"cx\", width / 2);\n    circle.setAttribute(\"cy\", height / 2);\n    circle.setAttribute(\"rx\", width / 2 - borderWidth / 2);\n    circle.setAttribute(\"ry\", height / 2 - borderWidth / 2);\n    circle.setAttribute(\"stroke-width\", borderWidth || 1);\n    circle.setAttribute(\"stroke\", \"transparent\");\n    circle.setAttribute(\"fill\", \"transparent\");\n    svg.append(circle);\n    this.container.append(svg);\n    if (!data.popupRef && this.hasPopupData) {\n      this.hasOwnCommentButton = true;\n      this._createPopup();\n    }\n    return this.container;\n  }\n  getElementsToTriggerPopup() {\n    return this.#circle;\n  }\n  addHighlightArea() {\n    this.container.classList.add(\"highlightArea\");\n  }\n}\nclass PolylineAnnotationElement extends AnnotationElement {\n  #polyline = null;\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: true,\n      ignoreBorder: true\n    });\n    this.containerClassName = \"polylineAnnotation\";\n    this.svgElementName = \"svg:polyline\";\n  }\n  render() {\n    this.container.classList.add(this.containerClassName);\n    const {\n      data: {\n        rect,\n        vertices,\n        borderStyle,\n        popupRef\n      },\n      width,\n      height\n    } = this;\n    if (!vertices) {\n      return this.container;\n    }\n    const svg = this.svgFactory.create(width, height, true);\n    let points = [];\n    for (let i = 0, ii = vertices.length; i < ii; i += 2) {\n      const x = vertices[i] - rect[0];\n      const y = rect[3] - vertices[i + 1];\n      points.push(`${x},${y}`);\n    }\n    points = points.join(\" \");\n    const polyline = this.#polyline = this.svgFactory.createElement(this.svgElementName);\n    polyline.setAttribute(\"points\", points);\n    polyline.setAttribute(\"stroke-width\", borderStyle.width || 1);\n    polyline.setAttribute(\"stroke\", \"transparent\");\n    polyline.setAttribute(\"fill\", \"transparent\");\n    svg.append(polyline);\n    this.container.append(svg);\n    if (!popupRef && this.hasPopupData) {\n      this.hasOwnCommentButton = true;\n      this._createPopup();\n    }\n    return this.container;\n  }\n  getElementsToTriggerPopup() {\n    return this.#polyline;\n  }\n  addHighlightArea() {\n    this.container.classList.add(\"highlightArea\");\n  }\n}\nclass PolygonAnnotationElement extends PolylineAnnotationElement {\n  constructor(parameters) {\n    super(parameters);\n    this.containerClassName = \"polygonAnnotation\";\n    this.svgElementName = \"svg:polygon\";\n  }\n}\nclass CaretAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: true,\n      ignoreBorder: true\n    });\n  }\n  render() {\n    this.container.classList.add(\"caretAnnotation\");\n    if (!this.data.popupRef && this.hasPopupData) {\n      this.hasOwnCommentButton = true;\n      this._createPopup();\n    }\n    return this.container;\n  }\n}\nclass InkAnnotationElement extends AnnotationElement {\n  #polylinesGroupElement = null;\n  #polylines = [];\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: true,\n      ignoreBorder: true\n    });\n    this.containerClassName = \"inkAnnotation\";\n    this.svgElementName = \"svg:polyline\";\n    this.annotationEditorType = this.data.it === \"InkHighlight\" ? AnnotationEditorType.HIGHLIGHT : AnnotationEditorType.INK;\n  }\n  #getTransform(rotation, rect) {\n    switch (rotation) {\n      case 90:\n        return {\n          transform: `rotate(90) translate(${-rect[0]},${rect[1]}) scale(1,-1)`,\n          width: rect[3] - rect[1],\n          height: rect[2] - rect[0]\n        };\n      case 180:\n        return {\n          transform: `rotate(180) translate(${-rect[2]},${rect[1]}) scale(1,-1)`,\n          width: rect[2] - rect[0],\n          height: rect[3] - rect[1]\n        };\n      case 270:\n        return {\n          transform: `rotate(270) translate(${-rect[2]},${rect[3]}) scale(1,-1)`,\n          width: rect[3] - rect[1],\n          height: rect[2] - rect[0]\n        };\n      default:\n        return {\n          transform: `translate(${-rect[0]},${rect[3]}) scale(1,-1)`,\n          width: rect[2] - rect[0],\n          height: rect[3] - rect[1]\n        };\n    }\n  }\n  render() {\n    this.container.classList.add(this.containerClassName);\n    const {\n      data: {\n        rect,\n        rotation,\n        inkLists,\n        borderStyle,\n        popupRef\n      }\n    } = this;\n    const {\n      transform,\n      width,\n      height\n    } = this.#getTransform(rotation, rect);\n    const svg = this.svgFactory.create(width, height, true);\n    const g = this.#polylinesGroupElement = this.svgFactory.createElement(\"svg:g\");\n    svg.append(g);\n    g.setAttribute(\"stroke-width\", borderStyle.width || 1);\n    g.setAttribute(\"stroke-linecap\", \"round\");\n    g.setAttribute(\"stroke-linejoin\", \"round\");\n    g.setAttribute(\"stroke-miterlimit\", 10);\n    g.setAttribute(\"stroke\", \"transparent\");\n    g.setAttribute(\"fill\", \"transparent\");\n    g.setAttribute(\"transform\", transform);\n    for (let i = 0, ii = inkLists.length; i < ii; i++) {\n      const polyline = this.svgFactory.createElement(this.svgElementName);\n      this.#polylines.push(polyline);\n      polyline.setAttribute(\"points\", inkLists[i].join(\",\"));\n      g.append(polyline);\n    }\n    if (!popupRef && this.hasPopupData) {\n      this.hasOwnCommentButton = true;\n      this._createPopup();\n    }\n    this.container.append(svg);\n    this._editOnDoubleClick();\n    return this.container;\n  }\n  updateEdited(params) {\n    super.updateEdited(params);\n    const {\n      thickness,\n      points,\n      rect\n    } = params;\n    const g = this.#polylinesGroupElement;\n    if (thickness >= 0) {\n      g.setAttribute(\"stroke-width\", thickness || 1);\n    }\n    if (points) {\n      for (let i = 0, ii = this.#polylines.length; i < ii; i++) {\n        this.#polylines[i].setAttribute(\"points\", points[i].join(\",\"));\n      }\n    }\n    if (rect) {\n      const {\n        transform,\n        width,\n        height\n      } = this.#getTransform(this.data.rotation, rect);\n      const root = g.parentElement;\n      root.setAttribute(\"viewBox\", `0 0 ${width} ${height}`);\n      g.setAttribute(\"transform\", transform);\n    }\n  }\n  getElementsToTriggerPopup() {\n    return this.#polylines;\n  }\n  addHighlightArea() {\n    this.container.classList.add(\"highlightArea\");\n  }\n}\nclass HighlightAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: true,\n      ignoreBorder: true,\n      createQuadrilaterals: true\n    });\n    this.annotationEditorType = AnnotationEditorType.HIGHLIGHT;\n  }\n  render() {\n    const {\n      data: {\n        overlaidText,\n        popupRef\n      }\n    } = this;\n    if (!popupRef && this.hasPopupData) {\n      this.hasOwnCommentButton = true;\n      this._createPopup();\n    }\n    this.container.classList.add(\"highlightAnnotation\");\n    this._editOnDoubleClick();\n    if (overlaidText) {\n      const mark = document.createElement(\"mark\");\n      mark.classList.add(\"overlaidText\");\n      mark.textContent = overlaidText;\n      this.container.append(mark);\n    }\n    return this.container;\n  }\n}\nclass UnderlineAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: true,\n      ignoreBorder: true,\n      createQuadrilaterals: true\n    });\n  }\n  render() {\n    const {\n      data: {\n        overlaidText,\n        popupRef\n      }\n    } = this;\n    if (!popupRef && this.hasPopupData) {\n      this.hasOwnCommentButton = true;\n      this._createPopup();\n    }\n    this.container.classList.add(\"underlineAnnotation\");\n    if (overlaidText) {\n      const underline = document.createElement(\"u\");\n      underline.classList.add(\"overlaidText\");\n      underline.textContent = overlaidText;\n      this.container.append(underline);\n    }\n    return this.container;\n  }\n}\nclass SquigglyAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: true,\n      ignoreBorder: true,\n      createQuadrilaterals: true\n    });\n  }\n  render() {\n    const {\n      data: {\n        overlaidText,\n        popupRef\n      }\n    } = this;\n    if (!popupRef && this.hasPopupData) {\n      this.hasOwnCommentButton = true;\n      this._createPopup();\n    }\n    this.container.classList.add(\"squigglyAnnotation\");\n    if (overlaidText) {\n      const underline = document.createElement(\"u\");\n      underline.classList.add(\"overlaidText\");\n      underline.textContent = overlaidText;\n      this.container.append(underline);\n    }\n    return this.container;\n  }\n}\nclass StrikeOutAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: true,\n      ignoreBorder: true,\n      createQuadrilaterals: true\n    });\n  }\n  render() {\n    const {\n      data: {\n        overlaidText,\n        popupRef\n      }\n    } = this;\n    if (!popupRef && this.hasPopupData) {\n      this.hasOwnCommentButton = true;\n      this._createPopup();\n    }\n    this.container.classList.add(\"strikeoutAnnotation\");\n    if (overlaidText) {\n      const strikeout = document.createElement(\"s\");\n      strikeout.classList.add(\"overlaidText\");\n      strikeout.textContent = overlaidText;\n      this.container.append(strikeout);\n    }\n    return this.container;\n  }\n}\nclass StampAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: true,\n      ignoreBorder: true\n    });\n    this.annotationEditorType = AnnotationEditorType.STAMP;\n  }\n  render() {\n    this.container.classList.add(\"stampAnnotation\");\n    this.container.setAttribute(\"role\", \"img\");\n    if (!this.data.popupRef && this.hasPopupData) {\n      this.hasOwnCommentButton = true;\n      this._createPopup();\n    }\n    this._editOnDoubleClick();\n    return this.container;\n  }\n}\nclass FileAttachmentAnnotationElement extends AnnotationElement {\n  #trigger = null;\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: true\n    });\n    const {\n      file\n    } = this.data;\n    this.filename = file.filename;\n    this.content = file.content;\n    this.linkService.eventBus?.dispatch(\"fileattachmentannotation\", {\n      source: this,\n      ...file\n    });\n  }\n  render() {\n    this.container.classList.add(\"fileAttachmentAnnotation\");\n    const {\n      container,\n      data\n    } = this;\n    let trigger;\n    if (data.hasAppearance || data.fillAlpha === 0) {\n      trigger = document.createElement(\"div\");\n    } else {\n      trigger = document.createElement(\"img\");\n      trigger.src = `${this.imageResourcesPath}annotation-${/paperclip/i.test(data.name) ? \"paperclip\" : \"pushpin\"}.svg`;\n      if (data.fillAlpha && data.fillAlpha < 1) {\n        trigger.style = `filter: opacity(${Math.round(data.fillAlpha * 100)}%);`;\n      }\n    }\n    trigger.addEventListener(\"dblclick\", this.#download.bind(this));\n    this.#trigger = trigger;\n    const {\n      isMac\n    } = util_FeatureTest.platform;\n    container.addEventListener(\"keydown\", evt => {\n      if (evt.key === \"Enter\" && (isMac ? evt.metaKey : evt.ctrlKey)) {\n        this.#download();\n      }\n    });\n    if (!data.popupRef && this.hasPopupData) {\n      this.hasOwnCommentButton = true;\n      this._createPopup();\n    } else {\n      trigger.classList.add(\"popupTriggerArea\");\n    }\n    container.append(trigger);\n    return container;\n  }\n  getElementsToTriggerPopup() {\n    return this.#trigger;\n  }\n  addHighlightArea() {\n    this.container.classList.add(\"highlightArea\");\n  }\n  #download() {\n    this.downloadManager?.openOrDownloadData(this.content, this.filename);\n  }\n}\nclass AnnotationLayer {\n  #accessibilityManager = null;\n  #annotationCanvasMap = null;\n  #annotationStorage = null;\n  #editableAnnotations = new Map();\n  #structTreeLayer = null;\n  #linkService = null;\n  #elements = [];\n  #hasAriaAttributesFromStructTree = false;\n  constructor({\n    div,\n    accessibilityManager,\n    annotationCanvasMap,\n    annotationEditorUIManager,\n    page,\n    viewport,\n    structTreeLayer,\n    commentManager,\n    linkService,\n    annotationStorage\n  }) {\n    this.div = div;\n    this.#accessibilityManager = accessibilityManager;\n    this.#annotationCanvasMap = annotationCanvasMap;\n    this.#structTreeLayer = structTreeLayer || null;\n    this.#linkService = linkService || null;\n    this.#annotationStorage = annotationStorage || new AnnotationStorage();\n    this.page = page;\n    this.viewport = viewport;\n    this.zIndex = 0;\n    this._annotationEditorUIManager = annotationEditorUIManager;\n    this._commentManager = commentManager || null;\n  }\n  hasEditableAnnotations() {\n    return this.#editableAnnotations.size > 0;\n  }\n  async render(params) {\n    const {\n      annotations\n    } = params;\n    const layer = this.div;\n    setLayerDimensions(layer, this.viewport);\n    const popupToElements = new Map();\n    const popupAnnotations = [];\n    const elementParams = {\n      data: null,\n      layer,\n      linkService: this.#linkService,\n      downloadManager: params.downloadManager,\n      imageResourcesPath: params.imageResourcesPath || \"\",\n      renderForms: params.renderForms !== false,\n      svgFactory: new DOMSVGFactory(),\n      annotationStorage: this.#annotationStorage,\n      enableComment: params.enableComment === true,\n      enableScripting: params.enableScripting === true,\n      hasJSActions: params.hasJSActions,\n      fieldObjects: params.fieldObjects,\n      parent: this,\n      elements: null\n    };\n    for (const data of annotations) {\n      if (data.noHTML) {\n        continue;\n      }\n      const isPopupAnnotation = data.annotationType === AnnotationType.POPUP;\n      if (!isPopupAnnotation) {\n        if (data.rect[2] === data.rect[0] || data.rect[3] === data.rect[1]) {\n          continue;\n        }\n      } else {\n        const elements = popupToElements.get(data.id);\n        if (!elements) {\n          continue;\n        }\n        if (!this._commentManager) {\n          popupAnnotations.push(data);\n          continue;\n        }\n        elementParams.elements = elements;\n      }\n      elementParams.data = data;\n      const element = AnnotationElementFactory.create(elementParams);\n      if (!element.isRenderable) {\n        continue;\n      }\n      if (!isPopupAnnotation) {\n        this.#elements.push(element);\n        if (data.popupRef) {\n          const elements = popupToElements.get(data.popupRef);\n          if (!elements) {\n            popupToElements.set(data.popupRef, [element]);\n          } else {\n            elements.push(element);\n          }\n        }\n      }\n      const rendered = element.render();\n      if (data.hidden) {\n        rendered.style.visibility = \"hidden\";\n      }\n      if (element._isEditable) {\n        this.#editableAnnotations.set(element.data.id, element);\n        this._annotationEditorUIManager?.renderAnnotationElement(element);\n      }\n    }\n    await this.#addElementsToDOM();\n    for (const data of popupAnnotations) {\n      const elements = elementParams.elements = popupToElements.get(data.id);\n      elementParams.data = data;\n      const element = AnnotationElementFactory.create(elementParams);\n      if (!element.isRenderable) {\n        continue;\n      }\n      const rendered = element.render();\n      element.contentElement.id = `${AnnotationPrefix}${data.id}`;\n      if (data.hidden) {\n        rendered.style.visibility = \"hidden\";\n      }\n      elements.at(-1).container.after(rendered);\n    }\n    this.#setAnnotationCanvasMap();\n  }\n  async #addElementsToDOM() {\n    if (this.#elements.length === 0) {\n      return;\n    }\n    this.div.replaceChildren();\n    const promises = [];\n    if (!this.#hasAriaAttributesFromStructTree) {\n      this.#hasAriaAttributesFromStructTree = true;\n      for (const {\n        contentElement,\n        data: {\n          id\n        }\n      } of this.#elements) {\n        const annotationId = contentElement.id = `${AnnotationPrefix}${id}`;\n        promises.push(this.#structTreeLayer?.getAriaAttributes(annotationId).then(ariaAttributes => {\n          if (ariaAttributes) {\n            for (const [key, value] of ariaAttributes) {\n              contentElement.setAttribute(key, value);\n            }\n          }\n        }));\n      }\n    }\n    this.#elements.sort(({\n      data: {\n        rect: [a0, a1, a2, a3]\n      }\n    }, {\n      data: {\n        rect: [b0, b1, b2, b3]\n      }\n    }) => {\n      if (a0 === a2 && a1 === a3) {\n        return +1;\n      }\n      if (b0 === b2 && b1 === b3) {\n        return -1;\n      }\n      const top1 = a3;\n      const bot1 = a1;\n      const mid1 = (a1 + a3) / 2;\n      const top2 = b3;\n      const bot2 = b1;\n      const mid2 = (b1 + b3) / 2;\n      if (mid1 >= top2 && mid2 <= bot1) {\n        return -1;\n      }\n      if (mid2 >= top1 && mid1 <= bot2) {\n        return +1;\n      }\n      const centerX1 = (a0 + a2) / 2;\n      const centerX2 = (b0 + b2) / 2;\n      return centerX1 - centerX2;\n    });\n    const fragment = document.createDocumentFragment();\n    for (const element of this.#elements) {\n      fragment.append(element.container);\n      if (this._commentManager) {\n        (element.extraPopupElement?.popup || element.popup)?.renderCommentButton();\n      } else if (element.extraPopupElement) {\n        fragment.append(element.extraPopupElement.render());\n      }\n    }\n    this.div.append(fragment);\n    await Promise.all(promises);\n    if (this.#accessibilityManager) {\n      for (const element of this.#elements) {\n        this.#accessibilityManager.addPointerInTextLayer(element.contentElement, false);\n      }\n    }\n  }\n  async addLinkAnnotations(annotations) {\n    const elementParams = {\n      data: null,\n      layer: this.div,\n      linkService: this.#linkService,\n      svgFactory: new DOMSVGFactory(),\n      parent: this\n    };\n    for (const data of annotations) {\n      data.borderStyle ||= AnnotationLayer._defaultBorderStyle;\n      elementParams.data = data;\n      const element = AnnotationElementFactory.create(elementParams);\n      if (!element.isRenderable) {\n        continue;\n      }\n      element.render();\n      element.contentElement.id = `${AnnotationPrefix}${data.id}`;\n      this.#elements.push(element);\n    }\n    await this.#addElementsToDOM();\n  }\n  update({\n    viewport\n  }) {\n    const layer = this.div;\n    this.viewport = viewport;\n    setLayerDimensions(layer, {\n      rotation: viewport.rotation\n    });\n    this.#setAnnotationCanvasMap();\n    layer.hidden = false;\n  }\n  #setAnnotationCanvasMap() {\n    if (!this.#annotationCanvasMap) {\n      return;\n    }\n    const layer = this.div;\n    for (const [id, canvas] of this.#annotationCanvasMap) {\n      const element = layer.querySelector(`[data-annotation-id=\"${id}\"]`);\n      if (!element) {\n        continue;\n      }\n      canvas.className = \"annotationContent\";\n      const {\n        firstChild\n      } = element;\n      if (!firstChild) {\n        element.append(canvas);\n      } else if (firstChild.nodeName === \"CANVAS\") {\n        firstChild.replaceWith(canvas);\n      } else if (!firstChild.classList.contains(\"annotationContent\")) {\n        firstChild.before(canvas);\n      } else {\n        firstChild.after(canvas);\n      }\n      const editableAnnotation = this.#editableAnnotations.get(id);\n      if (!editableAnnotation) {\n        continue;\n      }\n      if (editableAnnotation._hasNoCanvas) {\n        this._annotationEditorUIManager?.setMissingCanvas(id, element.id, canvas);\n        editableAnnotation._hasNoCanvas = false;\n      } else {\n        editableAnnotation.canvas = canvas;\n      }\n    }\n    this.#annotationCanvasMap.clear();\n  }\n  getEditableAnnotations() {\n    return Array.from(this.#editableAnnotations.values());\n  }\n  getEditableAnnotation(id) {\n    return this.#editableAnnotations.get(id);\n  }\n  addFakeAnnotation(editor) {\n    const {\n      div\n    } = this;\n    const {\n      id,\n      rotation\n    } = editor;\n    const element = new EditorAnnotationElement({\n      data: {\n        id,\n        rect: editor.getPDFRect(),\n        rotation\n      },\n      editor,\n      layer: div,\n      parent: this,\n      enableComment: !!this._commentManager,\n      linkService: this.#linkService,\n      annotationStorage: this.#annotationStorage\n    });\n    element.render();\n    element.contentElement.id = `${AnnotationPrefix}${id}`;\n    element.createOrUpdatePopup();\n    this.#elements.push(element);\n    return element;\n  }\n  removeAnnotation(id) {\n    const index = this.#elements.findIndex(el => el.data.id === id);\n    if (index < 0) {\n      return;\n    }\n    const [element] = this.#elements.splice(index, 1);\n    this.#accessibilityManager?.removePointerInTextLayer(element.contentElement);\n  }\n  updateFakeAnnotations(editors) {\n    if (editors.length === 0) {\n      return;\n    }\n    for (const editor of editors) {\n      editor.updateFakeAnnotationElement(this);\n    }\n    this.#addElementsToDOM();\n  }\n  togglePointerEvents(enabled = false) {\n    this.div.classList.toggle(\"disabled\", !enabled);\n  }\n  static get _defaultBorderStyle() {\n    return shadow(this, \"_defaultBorderStyle\", Object.freeze({\n      width: 1,\n      rawWidth: 1,\n      style: AnnotationBorderStyleType.SOLID,\n      dashArray: [3],\n      horizontalCornerRadius: 0,\n      verticalCornerRadius: 0\n    }));\n  }\n}\n\n;// ./src/display/editor/freetext.js\n\n\n\n\n\nconst EOL_PATTERN = /\\r\\n?|\\n/g;\nclass FreeTextEditor extends AnnotationEditor {\n  #content = \"\";\n  #editorDivId = `${this.id}-editor`;\n  #editModeAC = null;\n  #fontSize;\n  _colorPicker = null;\n  static _freeTextDefaultContent = \"\";\n  static _internalPadding = 0;\n  static _defaultColor = null;\n  static _defaultFontSize = 10;\n  static get _keyboardManager() {\n    const proto = FreeTextEditor.prototype;\n    const arrowChecker = self => self.isEmpty();\n    const small = AnnotationEditorUIManager.TRANSLATE_SMALL;\n    const big = AnnotationEditorUIManager.TRANSLATE_BIG;\n    return shadow(this, \"_keyboardManager\", new KeyboardManager([[[\"ctrl+s\", \"mac+meta+s\", \"ctrl+p\", \"mac+meta+p\"], proto.commitOrRemove, {\n      bubbles: true\n    }], [[\"ctrl+Enter\", \"mac+meta+Enter\", \"Escape\", \"mac+Escape\"], proto.commitOrRemove], [[\"ArrowLeft\", \"mac+ArrowLeft\"], proto._translateEmpty, {\n      args: [-small, 0],\n      checker: arrowChecker\n    }], [[\"ctrl+ArrowLeft\", \"mac+shift+ArrowLeft\"], proto._translateEmpty, {\n      args: [-big, 0],\n      checker: arrowChecker\n    }], [[\"ArrowRight\", \"mac+ArrowRight\"], proto._translateEmpty, {\n      args: [small, 0],\n      checker: arrowChecker\n    }], [[\"ctrl+ArrowRight\", \"mac+shift+ArrowRight\"], proto._translateEmpty, {\n      args: [big, 0],\n      checker: arrowChecker\n    }], [[\"ArrowUp\", \"mac+ArrowUp\"], proto._translateEmpty, {\n      args: [0, -small],\n      checker: arrowChecker\n    }], [[\"ctrl+ArrowUp\", \"mac+shift+ArrowUp\"], proto._translateEmpty, {\n      args: [0, -big],\n      checker: arrowChecker\n    }], [[\"ArrowDown\", \"mac+ArrowDown\"], proto._translateEmpty, {\n      args: [0, small],\n      checker: arrowChecker\n    }], [[\"ctrl+ArrowDown\", \"mac+shift+ArrowDown\"], proto._translateEmpty, {\n      args: [0, big],\n      checker: arrowChecker\n    }]]));\n  }\n  static _type = \"freetext\";\n  static _editorType = AnnotationEditorType.FREETEXT;\n  constructor(params) {\n    super({\n      ...params,\n      name: \"freeTextEditor\"\n    });\n    this.color = params.color || FreeTextEditor._defaultColor || AnnotationEditor._defaultLineColor;\n    this.#fontSize = params.fontSize || FreeTextEditor._defaultFontSize;\n    if (!this.annotationElementId) {\n      this._uiManager.a11yAlert(\"pdfjs-editor-freetext-added-alert\");\n    }\n    this.canAddComment = false;\n  }\n  static initialize(l10n, uiManager) {\n    AnnotationEditor.initialize(l10n, uiManager);\n    const style = getComputedStyle(document.documentElement);\n    this._internalPadding = parseFloat(style.getPropertyValue(\"--freetext-padding\"));\n  }\n  static updateDefaultParams(type, value) {\n    switch (type) {\n      case AnnotationEditorParamsType.FREETEXT_SIZE:\n        FreeTextEditor._defaultFontSize = value;\n        break;\n      case AnnotationEditorParamsType.FREETEXT_COLOR:\n        FreeTextEditor._defaultColor = value;\n        break;\n    }\n  }\n  updateParams(type, value) {\n    switch (type) {\n      case AnnotationEditorParamsType.FREETEXT_SIZE:\n        this.#updateFontSize(value);\n        break;\n      case AnnotationEditorParamsType.FREETEXT_COLOR:\n        this.#updateColor(value);\n        break;\n    }\n  }\n  static get defaultPropertiesToUpdate() {\n    return [[AnnotationEditorParamsType.FREETEXT_SIZE, FreeTextEditor._defaultFontSize], [AnnotationEditorParamsType.FREETEXT_COLOR, FreeTextEditor._defaultColor || AnnotationEditor._defaultLineColor]];\n  }\n  get propertiesToUpdate() {\n    return [[AnnotationEditorParamsType.FREETEXT_SIZE, this.#fontSize], [AnnotationEditorParamsType.FREETEXT_COLOR, this.color]];\n  }\n  get toolbarButtons() {\n    this._colorPicker ||= new BasicColorPicker(this);\n    return [[\"colorPicker\", this._colorPicker]];\n  }\n  get colorType() {\n    return AnnotationEditorParamsType.FREETEXT_COLOR;\n  }\n  #updateFontSize(fontSize) {\n    const setFontsize = size => {\n      this.editorDiv.style.fontSize = `calc(${size}px * var(--total-scale-factor))`;\n      this.translate(0, -(size - this.#fontSize) * this.parentScale);\n      this.#fontSize = size;\n      this.#setEditorDimensions();\n    };\n    const savedFontsize = this.#fontSize;\n    this.addCommands({\n      cmd: setFontsize.bind(this, fontSize),\n      undo: setFontsize.bind(this, savedFontsize),\n      post: this._uiManager.updateUI.bind(this._uiManager, this),\n      mustExec: true,\n      type: AnnotationEditorParamsType.FREETEXT_SIZE,\n      overwriteIfSameType: true,\n      keepUndo: true\n    });\n  }\n  onUpdatedColor() {\n    this.editorDiv.style.color = this.color;\n    this._colorPicker?.update(this.color);\n    super.onUpdatedColor();\n  }\n  #updateColor(color) {\n    const setColor = col => {\n      this.color = col;\n      this.onUpdatedColor();\n    };\n    const savedColor = this.color;\n    this.addCommands({\n      cmd: setColor.bind(this, color),\n      undo: setColor.bind(this, savedColor),\n      post: this._uiManager.updateUI.bind(this._uiManager, this),\n      mustExec: true,\n      type: AnnotationEditorParamsType.FREETEXT_COLOR,\n      overwriteIfSameType: true,\n      keepUndo: true\n    });\n  }\n  _translateEmpty(x, y) {\n    this._uiManager.translateSelectedEditors(x, y, true);\n  }\n  getInitialTranslation() {\n    const scale = this.parentScale;\n    return [-FreeTextEditor._internalPadding * scale, -(FreeTextEditor._internalPadding + this.#fontSize) * scale];\n  }\n  rebuild() {\n    if (!this.parent) {\n      return;\n    }\n    super.rebuild();\n    if (this.div === null) {\n      return;\n    }\n    if (!this.isAttachedToDOM) {\n      this.parent.add(this);\n    }\n  }\n  enableEditMode() {\n    if (!super.enableEditMode()) {\n      return false;\n    }\n    this.overlayDiv.classList.remove(\"enabled\");\n    this.editorDiv.contentEditable = true;\n    this._isDraggable = false;\n    this.div.removeAttribute(\"aria-activedescendant\");\n    this.#editModeAC = new AbortController();\n    const signal = this._uiManager.combinedSignal(this.#editModeAC);\n    this.editorDiv.addEventListener(\"keydown\", this.editorDivKeydown.bind(this), {\n      signal\n    });\n    this.editorDiv.addEventListener(\"focus\", this.editorDivFocus.bind(this), {\n      signal\n    });\n    this.editorDiv.addEventListener(\"blur\", this.editorDivBlur.bind(this), {\n      signal\n    });\n    this.editorDiv.addEventListener(\"input\", this.editorDivInput.bind(this), {\n      signal\n    });\n    this.editorDiv.addEventListener(\"paste\", this.editorDivPaste.bind(this), {\n      signal\n    });\n    return true;\n  }\n  disableEditMode() {\n    if (!super.disableEditMode()) {\n      return false;\n    }\n    this.overlayDiv.classList.add(\"enabled\");\n    this.editorDiv.contentEditable = false;\n    this.div.setAttribute(\"aria-activedescendant\", this.#editorDivId);\n    this._isDraggable = true;\n    this.#editModeAC?.abort();\n    this.#editModeAC = null;\n    this.div.focus({\n      preventScroll: true\n    });\n    this.isEditing = false;\n    this.parent.div.classList.add(\"freetextEditing\");\n    return true;\n  }\n  focusin(event) {\n    if (!this._focusEventsAllowed) {\n      return;\n    }\n    super.focusin(event);\n    if (event.target !== this.editorDiv) {\n      this.editorDiv.focus();\n    }\n  }\n  onceAdded(focus) {\n    if (this.width) {\n      return;\n    }\n    this.enableEditMode();\n    if (focus) {\n      this.editorDiv.focus();\n    }\n    if (this._initialOptions?.isCentered) {\n      this.center();\n    }\n    this._initialOptions = null;\n  }\n  isEmpty() {\n    return !this.editorDiv || this.editorDiv.innerText.trim() === \"\";\n  }\n  remove() {\n    this.isEditing = false;\n    if (this.parent) {\n      this.parent.setEditingState(true);\n      this.parent.div.classList.add(\"freetextEditing\");\n    }\n    super.remove();\n  }\n  #extractText() {\n    const buffer = [];\n    this.editorDiv.normalize();\n    let prevChild = null;\n    for (const child of this.editorDiv.childNodes) {\n      if (prevChild?.nodeType === Node.TEXT_NODE && child.nodeName === \"BR\") {\n        continue;\n      }\n      buffer.push(FreeTextEditor.#getNodeContent(child));\n      prevChild = child;\n    }\n    return buffer.join(\"\\n\");\n  }\n  #setEditorDimensions() {\n    const [parentWidth, parentHeight] = this.parentDimensions;\n    let rect;\n    if (this.isAttachedToDOM) {\n      rect = this.div.getBoundingClientRect();\n    } else {\n      const {\n        currentLayer,\n        div\n      } = this;\n      const savedDisplay = div.style.display;\n      const savedVisibility = div.classList.contains(\"hidden\");\n      div.classList.remove(\"hidden\");\n      div.style.display = \"hidden\";\n      currentLayer.div.append(this.div);\n      rect = div.getBoundingClientRect();\n      div.remove();\n      div.style.display = savedDisplay;\n      div.classList.toggle(\"hidden\", savedVisibility);\n    }\n    if (this.rotation % 180 === this.parentRotation % 180) {\n      this.width = rect.width / parentWidth;\n      this.height = rect.height / parentHeight;\n    } else {\n      this.width = rect.height / parentWidth;\n      this.height = rect.width / parentHeight;\n    }\n    this.fixAndSetPosition();\n  }\n  commit() {\n    if (!this.isInEditMode()) {\n      return;\n    }\n    super.commit();\n    this.disableEditMode();\n    const savedText = this.#content;\n    const newText = this.#content = this.#extractText().trimEnd();\n    if (savedText === newText) {\n      return;\n    }\n    const setText = text => {\n      this.#content = text;\n      if (!text) {\n        this.remove();\n        return;\n      }\n      this.#setContent();\n      this._uiManager.rebuild(this);\n      this.#setEditorDimensions();\n    };\n    this.addCommands({\n      cmd: () => {\n        setText(newText);\n      },\n      undo: () => {\n        setText(savedText);\n      },\n      mustExec: false\n    });\n    this.#setEditorDimensions();\n  }\n  shouldGetKeyboardEvents() {\n    return this.isInEditMode();\n  }\n  enterInEditMode() {\n    this.enableEditMode();\n    this.editorDiv.focus();\n  }\n  keydown(event) {\n    if (event.target === this.div && event.key === \"Enter\") {\n      this.enterInEditMode();\n      event.preventDefault();\n    }\n  }\n  editorDivKeydown(event) {\n    FreeTextEditor._keyboardManager.exec(this, event);\n  }\n  editorDivFocus(event) {\n    this.isEditing = true;\n  }\n  editorDivBlur(event) {\n    this.isEditing = false;\n  }\n  editorDivInput(event) {\n    this.parent.div.classList.toggle(\"freetextEditing\", this.isEmpty());\n  }\n  disableEditing() {\n    this.editorDiv.setAttribute(\"role\", \"comment\");\n    this.editorDiv.removeAttribute(\"aria-multiline\");\n  }\n  enableEditing() {\n    this.editorDiv.setAttribute(\"role\", \"textbox\");\n    this.editorDiv.setAttribute(\"aria-multiline\", true);\n  }\n  get canChangeContent() {\n    return true;\n  }\n  render() {\n    if (this.div) {\n      return this.div;\n    }\n    let baseX, baseY;\n    if (this._isCopy || this.annotationElementId) {\n      baseX = this.x;\n      baseY = this.y;\n    }\n    super.render();\n    this.editorDiv = document.createElement(\"div\");\n    this.editorDiv.className = \"internal\";\n    this.editorDiv.setAttribute(\"id\", this.#editorDivId);\n    this.editorDiv.setAttribute(\"data-l10n-id\", \"pdfjs-free-text2\");\n    this.editorDiv.setAttribute(\"data-l10n-attrs\", \"default-content\");\n    this.enableEditing();\n    this.editorDiv.contentEditable = true;\n    const {\n      style\n    } = this.editorDiv;\n    style.fontSize = `calc(${this.#fontSize}px * var(--total-scale-factor))`;\n    style.color = this.color;\n    this.div.append(this.editorDiv);\n    this.overlayDiv = document.createElement(\"div\");\n    this.overlayDiv.classList.add(\"overlay\", \"enabled\");\n    this.div.append(this.overlayDiv);\n    if (this._isCopy || this.annotationElementId) {\n      const [parentWidth, parentHeight] = this.parentDimensions;\n      if (this.annotationElementId) {\n        const {\n          position\n        } = this._initialData;\n        let [tx, ty] = this.getInitialTranslation();\n        [tx, ty] = this.pageTranslationToScreen(tx, ty);\n        const [pageWidth, pageHeight] = this.pageDimensions;\n        const [pageX, pageY] = this.pageTranslation;\n        let posX, posY;\n        switch (this.rotation) {\n          case 0:\n            posX = baseX + (position[0] - pageX) / pageWidth;\n            posY = baseY + this.height - (position[1] - pageY) / pageHeight;\n            break;\n          case 90:\n            posX = baseX + (position[0] - pageX) / pageWidth;\n            posY = baseY - (position[1] - pageY) / pageHeight;\n            [tx, ty] = [ty, -tx];\n            break;\n          case 180:\n            posX = baseX - this.width + (position[0] - pageX) / pageWidth;\n            posY = baseY - (position[1] - pageY) / pageHeight;\n            [tx, ty] = [-tx, -ty];\n            break;\n          case 270:\n            posX = baseX + (position[0] - pageX - this.height * pageHeight) / pageWidth;\n            posY = baseY + (position[1] - pageY - this.width * pageWidth) / pageHeight;\n            [tx, ty] = [-ty, tx];\n            break;\n        }\n        this.setAt(posX * parentWidth, posY * parentHeight, tx, ty);\n      } else {\n        this._moveAfterPaste(baseX, baseY);\n      }\n      this.#setContent();\n      this._isDraggable = true;\n      this.editorDiv.contentEditable = false;\n    } else {\n      this._isDraggable = false;\n      this.editorDiv.contentEditable = true;\n    }\n    return this.div;\n  }\n  static #getNodeContent(node) {\n    return (node.nodeType === Node.TEXT_NODE ? node.nodeValue : node.innerText).replaceAll(EOL_PATTERN, \"\");\n  }\n  editorDivPaste(event) {\n    const clipboardData = event.clipboardData || window.clipboardData;\n    const {\n      types\n    } = clipboardData;\n    if (types.length === 1 && types[0] === \"text/plain\") {\n      return;\n    }\n    event.preventDefault();\n    const paste = FreeTextEditor.#deserializeContent(clipboardData.getData(\"text\") || \"\").replaceAll(EOL_PATTERN, \"\\n\");\n    if (!paste) {\n      return;\n    }\n    const selection = window.getSelection();\n    if (!selection.rangeCount) {\n      return;\n    }\n    this.editorDiv.normalize();\n    selection.deleteFromDocument();\n    const range = selection.getRangeAt(0);\n    if (!paste.includes(\"\\n\")) {\n      range.insertNode(document.createTextNode(paste));\n      this.editorDiv.normalize();\n      selection.collapseToStart();\n      return;\n    }\n    const {\n      startContainer,\n      startOffset\n    } = range;\n    const bufferBefore = [];\n    const bufferAfter = [];\n    if (startContainer.nodeType === Node.TEXT_NODE) {\n      const parent = startContainer.parentElement;\n      bufferAfter.push(startContainer.nodeValue.slice(startOffset).replaceAll(EOL_PATTERN, \"\"));\n      if (parent !== this.editorDiv) {\n        let buffer = bufferBefore;\n        for (const child of this.editorDiv.childNodes) {\n          if (child === parent) {\n            buffer = bufferAfter;\n            continue;\n          }\n          buffer.push(FreeTextEditor.#getNodeContent(child));\n        }\n      }\n      bufferBefore.push(startContainer.nodeValue.slice(0, startOffset).replaceAll(EOL_PATTERN, \"\"));\n    } else if (startContainer === this.editorDiv) {\n      let buffer = bufferBefore;\n      let i = 0;\n      for (const child of this.editorDiv.childNodes) {\n        if (i++ === startOffset) {\n          buffer = bufferAfter;\n        }\n        buffer.push(FreeTextEditor.#getNodeContent(child));\n      }\n    }\n    this.#content = `${bufferBefore.join(\"\\n\")}${paste}${bufferAfter.join(\"\\n\")}`;\n    this.#setContent();\n    const newRange = new Range();\n    let beforeLength = Math.sumPrecise(bufferBefore.map(line => line.length));\n    for (const {\n      firstChild\n    } of this.editorDiv.childNodes) {\n      if (firstChild.nodeType === Node.TEXT_NODE) {\n        const length = firstChild.nodeValue.length;\n        if (beforeLength <= length) {\n          newRange.setStart(firstChild, beforeLength);\n          newRange.setEnd(firstChild, beforeLength);\n          break;\n        }\n        beforeLength -= length;\n      }\n    }\n    selection.removeAllRanges();\n    selection.addRange(newRange);\n  }\n  #setContent() {\n    this.editorDiv.replaceChildren();\n    if (!this.#content) {\n      return;\n    }\n    for (const line of this.#content.split(\"\\n\")) {\n      const div = document.createElement(\"div\");\n      div.append(line ? document.createTextNode(line) : document.createElement(\"br\"));\n      this.editorDiv.append(div);\n    }\n  }\n  #serializeContent() {\n    return this.#content.replaceAll(\"\\xa0\", \" \");\n  }\n  static #deserializeContent(content) {\n    return content.replaceAll(\" \", \"\\xa0\");\n  }\n  get contentDiv() {\n    return this.editorDiv;\n  }\n  getPDFRect() {\n    const padding = FreeTextEditor._internalPadding * this.parentScale;\n    return this.getRect(padding, padding);\n  }\n  static async deserialize(data, parent, uiManager) {\n    let initialData = null;\n    if (data instanceof FreeTextAnnotationElement) {\n      const {\n        data: {\n          defaultAppearanceData: {\n            fontSize,\n            fontColor\n          },\n          rect,\n          rotation,\n          id,\n          popupRef,\n          richText,\n          contentsObj,\n          creationDate,\n          modificationDate\n        },\n        textContent,\n        textPosition,\n        parent: {\n          page: {\n            pageNumber\n          }\n        }\n      } = data;\n      if (!textContent || textContent.length === 0) {\n        return null;\n      }\n      initialData = data = {\n        annotationType: AnnotationEditorType.FREETEXT,\n        color: Array.from(fontColor),\n        fontSize,\n        value: textContent.join(\"\\n\"),\n        position: textPosition,\n        pageIndex: pageNumber - 1,\n        rect: rect.slice(0),\n        rotation,\n        annotationElementId: id,\n        id,\n        deleted: false,\n        popupRef,\n        comment: contentsObj?.str || null,\n        richText,\n        creationDate,\n        modificationDate\n      };\n    }\n    const editor = await super.deserialize(data, parent, uiManager);\n    editor.#fontSize = data.fontSize;\n    editor.color = Util.makeHexColor(...data.color);\n    editor.#content = FreeTextEditor.#deserializeContent(data.value);\n    editor._initialData = initialData;\n    if (data.comment) {\n      editor.setCommentData(data);\n    }\n    return editor;\n  }\n  serialize(isForCopying = false) {\n    if (this.isEmpty()) {\n      return null;\n    }\n    if (this.deleted) {\n      return this.serializeDeleted();\n    }\n    const color = AnnotationEditor._colorManager.convert(this.isAttachedToDOM ? getComputedStyle(this.editorDiv).color : this.color);\n    const serialized = Object.assign(super.serialize(isForCopying), {\n      color,\n      fontSize: this.#fontSize,\n      value: this.#serializeContent()\n    });\n    this.addComment(serialized);\n    if (isForCopying) {\n      serialized.isCopy = true;\n      return serialized;\n    }\n    if (this.annotationElementId && !this.#hasElementChanged(serialized)) {\n      return null;\n    }\n    serialized.id = this.annotationElementId;\n    return serialized;\n  }\n  #hasElementChanged(serialized) {\n    const {\n      value,\n      fontSize,\n      color,\n      pageIndex\n    } = this._initialData;\n    return this.hasEditedComment || this._hasBeenMoved || serialized.value !== value || serialized.fontSize !== fontSize || serialized.color.some((c, i) => c !== color[i]) || serialized.pageIndex !== pageIndex;\n  }\n  renderAnnotationElement(annotation) {\n    const content = super.renderAnnotationElement(annotation);\n    if (!content) {\n      return null;\n    }\n    const {\n      style\n    } = content;\n    style.fontSize = `calc(${this.#fontSize}px * var(--total-scale-factor))`;\n    style.color = this.color;\n    content.replaceChildren();\n    for (const line of this.#content.split(\"\\n\")) {\n      const div = document.createElement(\"div\");\n      div.append(line ? document.createTextNode(line) : document.createElement(\"br\"));\n      content.append(div);\n    }\n    annotation.updateEdited({\n      rect: this.getPDFRect(),\n      popup: this._uiManager.hasCommentManager() || this.hasEditedComment ? this.comment : {\n        text: this.#content\n      }\n    });\n    return content;\n  }\n  resetAnnotationElement(annotation) {\n    super.resetAnnotationElement(annotation);\n    annotation.resetEdited();\n  }\n}\n\n;// ./src/display/editor/drawers/outline.js\n\nclass Outline {\n  static PRECISION = 1e-4;\n  toSVGPath() {\n    unreachable(\"Abstract method `toSVGPath` must be implemented.\");\n  }\n  get box() {\n    unreachable(\"Abstract getter `box` must be implemented.\");\n  }\n  serialize(_bbox, _rotation) {\n    unreachable(\"Abstract method `serialize` must be implemented.\");\n  }\n  static _rescale(src, tx, ty, sx, sy, dest) {\n    dest ||= new Float32Array(src.length);\n    for (let i = 0, ii = src.length; i < ii; i += 2) {\n      dest[i] = tx + src[i] * sx;\n      dest[i + 1] = ty + src[i + 1] * sy;\n    }\n    return dest;\n  }\n  static _rescaleAndSwap(src, tx, ty, sx, sy, dest) {\n    dest ||= new Float32Array(src.length);\n    for (let i = 0, ii = src.length; i < ii; i += 2) {\n      dest[i] = tx + src[i + 1] * sx;\n      dest[i + 1] = ty + src[i] * sy;\n    }\n    return dest;\n  }\n  static _translate(src, tx, ty, dest) {\n    dest ||= new Float32Array(src.length);\n    for (let i = 0, ii = src.length; i < ii; i += 2) {\n      dest[i] = tx + src[i];\n      dest[i + 1] = ty + src[i + 1];\n    }\n    return dest;\n  }\n  static svgRound(x) {\n    return Math.round(x * 10000);\n  }\n  static _normalizePoint(x, y, parentWidth, parentHeight, rotation) {\n    switch (rotation) {\n      case 90:\n        return [1 - y / parentWidth, x / parentHeight];\n      case 180:\n        return [1 - x / parentWidth, 1 - y / parentHeight];\n      case 270:\n        return [y / parentWidth, 1 - x / parentHeight];\n      default:\n        return [x / parentWidth, y / parentHeight];\n    }\n  }\n  static _normalizePagePoint(x, y, rotation) {\n    switch (rotation) {\n      case 90:\n        return [1 - y, x];\n      case 180:\n        return [1 - x, 1 - y];\n      case 270:\n        return [y, 1 - x];\n      default:\n        return [x, y];\n    }\n  }\n  static createBezierPoints(x1, y1, x2, y2, x3, y3) {\n    return [(x1 + 5 * x2) / 6, (y1 + 5 * y2) / 6, (5 * x2 + x3) / 6, (5 * y2 + y3) / 6, (x2 + x3) / 2, (y2 + y3) / 2];\n  }\n}\n\n;// ./src/display/editor/drawers/freedraw.js\n\n\nclass FreeDrawOutliner {\n  #box;\n  #bottom = [];\n  #innerMargin;\n  #isLTR;\n  #top = [];\n  #last = new Float32Array(18);\n  #lastX;\n  #lastY;\n  #min;\n  #min_dist;\n  #scaleFactor;\n  #thickness;\n  #points = [];\n  static #MIN_DIST = 8;\n  static #MIN_DIFF = 2;\n  static #MIN = FreeDrawOutliner.#MIN_DIST + FreeDrawOutliner.#MIN_DIFF;\n  constructor({\n    x,\n    y\n  }, box, scaleFactor, thickness, isLTR, innerMargin = 0) {\n    this.#box = box;\n    this.#thickness = thickness * scaleFactor;\n    this.#isLTR = isLTR;\n    this.#last.set([NaN, NaN, NaN, NaN, x, y], 6);\n    this.#innerMargin = innerMargin;\n    this.#min_dist = FreeDrawOutliner.#MIN_DIST * scaleFactor;\n    this.#min = FreeDrawOutliner.#MIN * scaleFactor;\n    this.#scaleFactor = scaleFactor;\n    this.#points.push(x, y);\n  }\n  isEmpty() {\n    return isNaN(this.#last[8]);\n  }\n  #getLastCoords() {\n    const lastTop = this.#last.subarray(4, 6);\n    const lastBottom = this.#last.subarray(16, 18);\n    const [x, y, width, height] = this.#box;\n    return [(this.#lastX + (lastTop[0] - lastBottom[0]) / 2 - x) / width, (this.#lastY + (lastTop[1] - lastBottom[1]) / 2 - y) / height, (this.#lastX + (lastBottom[0] - lastTop[0]) / 2 - x) / width, (this.#lastY + (lastBottom[1] - lastTop[1]) / 2 - y) / height];\n  }\n  add({\n    x,\n    y\n  }) {\n    this.#lastX = x;\n    this.#lastY = y;\n    const [layerX, layerY, layerWidth, layerHeight] = this.#box;\n    let [x1, y1, x2, y2] = this.#last.subarray(8, 12);\n    const diffX = x - x2;\n    const diffY = y - y2;\n    const d = Math.hypot(diffX, diffY);\n    if (d < this.#min) {\n      return false;\n    }\n    const diffD = d - this.#min_dist;\n    const K = diffD / d;\n    const shiftX = K * diffX;\n    const shiftY = K * diffY;\n    let x0 = x1;\n    let y0 = y1;\n    x1 = x2;\n    y1 = y2;\n    x2 += shiftX;\n    y2 += shiftY;\n    this.#points?.push(x, y);\n    const nX = -shiftY / diffD;\n    const nY = shiftX / diffD;\n    const thX = nX * this.#thickness;\n    const thY = nY * this.#thickness;\n    this.#last.set(this.#last.subarray(2, 8), 0);\n    this.#last.set([x2 + thX, y2 + thY], 4);\n    this.#last.set(this.#last.subarray(14, 18), 12);\n    this.#last.set([x2 - thX, y2 - thY], 16);\n    if (isNaN(this.#last[6])) {\n      if (this.#top.length === 0) {\n        this.#last.set([x1 + thX, y1 + thY], 2);\n        this.#top.push(NaN, NaN, NaN, NaN, (x1 + thX - layerX) / layerWidth, (y1 + thY - layerY) / layerHeight);\n        this.#last.set([x1 - thX, y1 - thY], 14);\n        this.#bottom.push(NaN, NaN, NaN, NaN, (x1 - thX - layerX) / layerWidth, (y1 - thY - layerY) / layerHeight);\n      }\n      this.#last.set([x0, y0, x1, y1, x2, y2], 6);\n      return !this.isEmpty();\n    }\n    this.#last.set([x0, y0, x1, y1, x2, y2], 6);\n    const angle = Math.abs(Math.atan2(y0 - y1, x0 - x1) - Math.atan2(shiftY, shiftX));\n    if (angle < Math.PI / 2) {\n      [x1, y1, x2, y2] = this.#last.subarray(2, 6);\n      this.#top.push(NaN, NaN, NaN, NaN, ((x1 + x2) / 2 - layerX) / layerWidth, ((y1 + y2) / 2 - layerY) / layerHeight);\n      [x1, y1, x0, y0] = this.#last.subarray(14, 18);\n      this.#bottom.push(NaN, NaN, NaN, NaN, ((x0 + x1) / 2 - layerX) / layerWidth, ((y0 + y1) / 2 - layerY) / layerHeight);\n      return true;\n    }\n    [x0, y0, x1, y1, x2, y2] = this.#last.subarray(0, 6);\n    this.#top.push(((x0 + 5 * x1) / 6 - layerX) / layerWidth, ((y0 + 5 * y1) / 6 - layerY) / layerHeight, ((5 * x1 + x2) / 6 - layerX) / layerWidth, ((5 * y1 + y2) / 6 - layerY) / layerHeight, ((x1 + x2) / 2 - layerX) / layerWidth, ((y1 + y2) / 2 - layerY) / layerHeight);\n    [x2, y2, x1, y1, x0, y0] = this.#last.subarray(12, 18);\n    this.#bottom.push(((x0 + 5 * x1) / 6 - layerX) / layerWidth, ((y0 + 5 * y1) / 6 - layerY) / layerHeight, ((5 * x1 + x2) / 6 - layerX) / layerWidth, ((5 * y1 + y2) / 6 - layerY) / layerHeight, ((x1 + x2) / 2 - layerX) / layerWidth, ((y1 + y2) / 2 - layerY) / layerHeight);\n    return true;\n  }\n  toSVGPath() {\n    if (this.isEmpty()) {\n      return \"\";\n    }\n    const top = this.#top;\n    const bottom = this.#bottom;\n    if (isNaN(this.#last[6]) && !this.isEmpty()) {\n      return this.#toSVGPathTwoPoints();\n    }\n    const buffer = [];\n    buffer.push(`M${top[4]} ${top[5]}`);\n    for (let i = 6; i < top.length; i += 6) {\n      if (isNaN(top[i])) {\n        buffer.push(`L${top[i + 4]} ${top[i + 5]}`);\n      } else {\n        buffer.push(`C${top[i]} ${top[i + 1]} ${top[i + 2]} ${top[i + 3]} ${top[i + 4]} ${top[i + 5]}`);\n      }\n    }\n    this.#toSVGPathEnd(buffer);\n    for (let i = bottom.length - 6; i >= 6; i -= 6) {\n      if (isNaN(bottom[i])) {\n        buffer.push(`L${bottom[i + 4]} ${bottom[i + 5]}`);\n      } else {\n        buffer.push(`C${bottom[i]} ${bottom[i + 1]} ${bottom[i + 2]} ${bottom[i + 3]} ${bottom[i + 4]} ${bottom[i + 5]}`);\n      }\n    }\n    this.#toSVGPathStart(buffer);\n    return buffer.join(\" \");\n  }\n  #toSVGPathTwoPoints() {\n    const [x, y, width, height] = this.#box;\n    const [lastTopX, lastTopY, lastBottomX, lastBottomY] = this.#getLastCoords();\n    return `M${(this.#last[2] - x) / width} ${(this.#last[3] - y) / height} L${(this.#last[4] - x) / width} ${(this.#last[5] - y) / height} L${lastTopX} ${lastTopY} L${lastBottomX} ${lastBottomY} L${(this.#last[16] - x) / width} ${(this.#last[17] - y) / height} L${(this.#last[14] - x) / width} ${(this.#last[15] - y) / height} Z`;\n  }\n  #toSVGPathStart(buffer) {\n    const bottom = this.#bottom;\n    buffer.push(`L${bottom[4]} ${bottom[5]} Z`);\n  }\n  #toSVGPathEnd(buffer) {\n    const [x, y, width, height] = this.#box;\n    const lastTop = this.#last.subarray(4, 6);\n    const lastBottom = this.#last.subarray(16, 18);\n    const [lastTopX, lastTopY, lastBottomX, lastBottomY] = this.#getLastCoords();\n    buffer.push(`L${(lastTop[0] - x) / width} ${(lastTop[1] - y) / height} L${lastTopX} ${lastTopY} L${lastBottomX} ${lastBottomY} L${(lastBottom[0] - x) / width} ${(lastBottom[1] - y) / height}`);\n  }\n  newFreeDrawOutline(outline, points, box, scaleFactor, innerMargin, isLTR) {\n    return new FreeDrawOutline(outline, points, box, scaleFactor, innerMargin, isLTR);\n  }\n  getOutlines() {\n    const top = this.#top;\n    const bottom = this.#bottom;\n    const last = this.#last;\n    const [layerX, layerY, layerWidth, layerHeight] = this.#box;\n    const points = new Float32Array((this.#points?.length ?? 0) + 2);\n    for (let i = 0, ii = points.length - 2; i < ii; i += 2) {\n      points[i] = (this.#points[i] - layerX) / layerWidth;\n      points[i + 1] = (this.#points[i + 1] - layerY) / layerHeight;\n    }\n    points[points.length - 2] = (this.#lastX - layerX) / layerWidth;\n    points[points.length - 1] = (this.#lastY - layerY) / layerHeight;\n    if (isNaN(last[6]) && !this.isEmpty()) {\n      return this.#getOutlineTwoPoints(points);\n    }\n    const outline = new Float32Array(this.#top.length + 24 + this.#bottom.length);\n    let N = top.length;\n    for (let i = 0; i < N; i += 2) {\n      if (isNaN(top[i])) {\n        outline[i] = outline[i + 1] = NaN;\n        continue;\n      }\n      outline[i] = top[i];\n      outline[i + 1] = top[i + 1];\n    }\n    N = this.#getOutlineEnd(outline, N);\n    for (let i = bottom.length - 6; i >= 6; i -= 6) {\n      for (let j = 0; j < 6; j += 2) {\n        if (isNaN(bottom[i + j])) {\n          outline[N] = outline[N + 1] = NaN;\n          N += 2;\n          continue;\n        }\n        outline[N] = bottom[i + j];\n        outline[N + 1] = bottom[i + j + 1];\n        N += 2;\n      }\n    }\n    this.#getOutlineStart(outline, N);\n    return this.newFreeDrawOutline(outline, points, this.#box, this.#scaleFactor, this.#innerMargin, this.#isLTR);\n  }\n  #getOutlineTwoPoints(points) {\n    const last = this.#last;\n    const [layerX, layerY, layerWidth, layerHeight] = this.#box;\n    const [lastTopX, lastTopY, lastBottomX, lastBottomY] = this.#getLastCoords();\n    const outline = new Float32Array(36);\n    outline.set([NaN, NaN, NaN, NaN, (last[2] - layerX) / layerWidth, (last[3] - layerY) / layerHeight, NaN, NaN, NaN, NaN, (last[4] - layerX) / layerWidth, (last[5] - layerY) / layerHeight, NaN, NaN, NaN, NaN, lastTopX, lastTopY, NaN, NaN, NaN, NaN, lastBottomX, lastBottomY, NaN, NaN, NaN, NaN, (last[16] - layerX) / layerWidth, (last[17] - layerY) / layerHeight, NaN, NaN, NaN, NaN, (last[14] - layerX) / layerWidth, (last[15] - layerY) / layerHeight], 0);\n    return this.newFreeDrawOutline(outline, points, this.#box, this.#scaleFactor, this.#innerMargin, this.#isLTR);\n  }\n  #getOutlineStart(outline, pos) {\n    const bottom = this.#bottom;\n    outline.set([NaN, NaN, NaN, NaN, bottom[4], bottom[5]], pos);\n    return pos += 6;\n  }\n  #getOutlineEnd(outline, pos) {\n    const lastTop = this.#last.subarray(4, 6);\n    const lastBottom = this.#last.subarray(16, 18);\n    const [layerX, layerY, layerWidth, layerHeight] = this.#box;\n    const [lastTopX, lastTopY, lastBottomX, lastBottomY] = this.#getLastCoords();\n    outline.set([NaN, NaN, NaN, NaN, (lastTop[0] - layerX) / layerWidth, (lastTop[1] - layerY) / layerHeight, NaN, NaN, NaN, NaN, lastTopX, lastTopY, NaN, NaN, NaN, NaN, lastBottomX, lastBottomY, NaN, NaN, NaN, NaN, (lastBottom[0] - layerX) / layerWidth, (lastBottom[1] - layerY) / layerHeight], pos);\n    return pos += 24;\n  }\n}\nclass FreeDrawOutline extends Outline {\n  #box;\n  #bbox = new Float32Array(4);\n  #innerMargin;\n  #isLTR;\n  #points;\n  #scaleFactor;\n  #outline;\n  constructor(outline, points, box, scaleFactor, innerMargin, isLTR) {\n    super();\n    this.#outline = outline;\n    this.#points = points;\n    this.#box = box;\n    this.#scaleFactor = scaleFactor;\n    this.#innerMargin = innerMargin;\n    this.#isLTR = isLTR;\n    this.firstPoint = [NaN, NaN];\n    this.lastPoint = [NaN, NaN];\n    this.#computeMinMax(isLTR);\n    const [x, y, width, height] = this.#bbox;\n    for (let i = 0, ii = outline.length; i < ii; i += 2) {\n      outline[i] = (outline[i] - x) / width;\n      outline[i + 1] = (outline[i + 1] - y) / height;\n    }\n    for (let i = 0, ii = points.length; i < ii; i += 2) {\n      points[i] = (points[i] - x) / width;\n      points[i + 1] = (points[i + 1] - y) / height;\n    }\n  }\n  toSVGPath() {\n    const buffer = [`M${this.#outline[4]} ${this.#outline[5]}`];\n    for (let i = 6, ii = this.#outline.length; i < ii; i += 6) {\n      if (isNaN(this.#outline[i])) {\n        buffer.push(`L${this.#outline[i + 4]} ${this.#outline[i + 5]}`);\n        continue;\n      }\n      buffer.push(`C${this.#outline[i]} ${this.#outline[i + 1]} ${this.#outline[i + 2]} ${this.#outline[i + 3]} ${this.#outline[i + 4]} ${this.#outline[i + 5]}`);\n    }\n    buffer.push(\"Z\");\n    return buffer.join(\" \");\n  }\n  serialize([blX, blY, trX, trY], rotation) {\n    const width = trX - blX;\n    const height = trY - blY;\n    let outline;\n    let points;\n    switch (rotation) {\n      case 0:\n        outline = Outline._rescale(this.#outline, blX, trY, width, -height);\n        points = Outline._rescale(this.#points, blX, trY, width, -height);\n        break;\n      case 90:\n        outline = Outline._rescaleAndSwap(this.#outline, blX, blY, width, height);\n        points = Outline._rescaleAndSwap(this.#points, blX, blY, width, height);\n        break;\n      case 180:\n        outline = Outline._rescale(this.#outline, trX, blY, -width, height);\n        points = Outline._rescale(this.#points, trX, blY, -width, height);\n        break;\n      case 270:\n        outline = Outline._rescaleAndSwap(this.#outline, trX, trY, -width, -height);\n        points = Outline._rescaleAndSwap(this.#points, trX, trY, -width, -height);\n        break;\n    }\n    return {\n      outline: Array.from(outline),\n      points: [Array.from(points)]\n    };\n  }\n  #computeMinMax(isLTR) {\n    const outline = this.#outline;\n    let lastX = outline[4];\n    let lastY = outline[5];\n    const minMax = [lastX, lastY, lastX, lastY];\n    let firstPointX = lastX;\n    let firstPointY = lastY;\n    let lastPointX = lastX;\n    let lastPointY = lastY;\n    const ltrCallback = isLTR ? Math.max : Math.min;\n    const bezierBbox = new Float32Array(4);\n    for (let i = 6, ii = outline.length; i < ii; i += 6) {\n      const x = outline[i + 4],\n        y = outline[i + 5];\n      if (isNaN(outline[i])) {\n        Util.pointBoundingBox(x, y, minMax);\n        if (firstPointY > y) {\n          firstPointX = x;\n          firstPointY = y;\n        } else if (firstPointY === y) {\n          firstPointX = ltrCallback(firstPointX, x);\n        }\n        if (lastPointY < y) {\n          lastPointX = x;\n          lastPointY = y;\n        } else if (lastPointY === y) {\n          lastPointX = ltrCallback(lastPointX, x);\n        }\n      } else {\n        bezierBbox[0] = bezierBbox[1] = Infinity;\n        bezierBbox[2] = bezierBbox[3] = -Infinity;\n        Util.bezierBoundingBox(lastX, lastY, ...outline.slice(i, i + 6), bezierBbox);\n        Util.rectBoundingBox(bezierBbox[0], bezierBbox[1], bezierBbox[2], bezierBbox[3], minMax);\n        if (firstPointY > bezierBbox[1]) {\n          firstPointX = bezierBbox[0];\n          firstPointY = bezierBbox[1];\n        } else if (firstPointY === bezierBbox[1]) {\n          firstPointX = ltrCallback(firstPointX, bezierBbox[0]);\n        }\n        if (lastPointY < bezierBbox[3]) {\n          lastPointX = bezierBbox[2];\n          lastPointY = bezierBbox[3];\n        } else if (lastPointY === bezierBbox[3]) {\n          lastPointX = ltrCallback(lastPointX, bezierBbox[2]);\n        }\n      }\n      lastX = x;\n      lastY = y;\n    }\n    const bbox = this.#bbox;\n    bbox[0] = minMax[0] - this.#innerMargin;\n    bbox[1] = minMax[1] - this.#innerMargin;\n    bbox[2] = minMax[2] - minMax[0] + 2 * this.#innerMargin;\n    bbox[3] = minMax[3] - minMax[1] + 2 * this.#innerMargin;\n    this.firstPoint = [firstPointX, firstPointY];\n    this.lastPoint = [lastPointX, lastPointY];\n  }\n  get box() {\n    return this.#bbox;\n  }\n  newOutliner(point, box, scaleFactor, thickness, isLTR, innerMargin = 0) {\n    return new FreeDrawOutliner(point, box, scaleFactor, thickness, isLTR, innerMargin);\n  }\n  getNewOutline(thickness, innerMargin) {\n    const [x, y, width, height] = this.#bbox;\n    const [layerX, layerY, layerWidth, layerHeight] = this.#box;\n    const sx = width * layerWidth;\n    const sy = height * layerHeight;\n    const tx = x * layerWidth + layerX;\n    const ty = y * layerHeight + layerY;\n    const outliner = this.newOutliner({\n      x: this.#points[0] * sx + tx,\n      y: this.#points[1] * sy + ty\n    }, this.#box, this.#scaleFactor, thickness, this.#isLTR, innerMargin ?? this.#innerMargin);\n    for (let i = 2; i < this.#points.length; i += 2) {\n      outliner.add({\n        x: this.#points[i] * sx + tx,\n        y: this.#points[i + 1] * sy + ty\n      });\n    }\n    return outliner.getOutlines();\n  }\n}\n\n;// ./src/display/editor/drawers/highlight.js\n\n\n\nclass HighlightOutliner {\n  #box;\n  #firstPoint;\n  #lastPoint;\n  #verticalEdges = [];\n  #intervals = [];\n  constructor(boxes, borderWidth = 0, innerMargin = 0, isLTR = true) {\n    const minMax = [Infinity, Infinity, -Infinity, -Infinity];\n    const NUMBER_OF_DIGITS = 4;\n    const EPSILON = 10 ** -NUMBER_OF_DIGITS;\n    for (const {\n      x,\n      y,\n      width,\n      height\n    } of boxes) {\n      const x1 = Math.floor((x - borderWidth) / EPSILON) * EPSILON;\n      const x2 = Math.ceil((x + width + borderWidth) / EPSILON) * EPSILON;\n      const y1 = Math.floor((y - borderWidth) / EPSILON) * EPSILON;\n      const y2 = Math.ceil((y + height + borderWidth) / EPSILON) * EPSILON;\n      const left = [x1, y1, y2, true];\n      const right = [x2, y1, y2, false];\n      this.#verticalEdges.push(left, right);\n      Util.rectBoundingBox(x1, y1, x2, y2, minMax);\n    }\n    const bboxWidth = minMax[2] - minMax[0] + 2 * innerMargin;\n    const bboxHeight = minMax[3] - minMax[1] + 2 * innerMargin;\n    const shiftedMinX = minMax[0] - innerMargin;\n    const shiftedMinY = minMax[1] - innerMargin;\n    let firstPointX = isLTR ? -Infinity : Infinity;\n    let firstPointY = Infinity;\n    const lastEdge = this.#verticalEdges.at(isLTR ? -1 : -2);\n    const lastPoint = [lastEdge[0], lastEdge[2]];\n    for (const edge of this.#verticalEdges) {\n      const [x, y1, y2, left] = edge;\n      if (!left && isLTR) {\n        if (y1 < firstPointY) {\n          firstPointY = y1;\n          firstPointX = x;\n        } else if (y1 === firstPointY) {\n          firstPointX = Math.max(firstPointX, x);\n        }\n      } else if (left && !isLTR) {\n        if (y1 < firstPointY) {\n          firstPointY = y1;\n          firstPointX = x;\n        } else if (y1 === firstPointY) {\n          firstPointX = Math.min(firstPointX, x);\n        }\n      }\n      edge[0] = (x - shiftedMinX) / bboxWidth;\n      edge[1] = (y1 - shiftedMinY) / bboxHeight;\n      edge[2] = (y2 - shiftedMinY) / bboxHeight;\n    }\n    this.#box = new Float32Array([shiftedMinX, shiftedMinY, bboxWidth, bboxHeight]);\n    this.#firstPoint = [firstPointX, firstPointY];\n    this.#lastPoint = lastPoint;\n  }\n  getOutlines() {\n    this.#verticalEdges.sort((a, b) => a[0] - b[0] || a[1] - b[1] || a[2] - b[2]);\n    const outlineVerticalEdges = [];\n    for (const edge of this.#verticalEdges) {\n      if (edge[3]) {\n        outlineVerticalEdges.push(...this.#breakEdge(edge));\n        this.#insert(edge);\n      } else {\n        this.#remove(edge);\n        outlineVerticalEdges.push(...this.#breakEdge(edge));\n      }\n    }\n    return this.#getOutlines(outlineVerticalEdges);\n  }\n  #getOutlines(outlineVerticalEdges) {\n    const edges = [];\n    const allEdges = new Set();\n    for (const edge of outlineVerticalEdges) {\n      const [x, y1, y2] = edge;\n      edges.push([x, y1, edge], [x, y2, edge]);\n    }\n    edges.sort((a, b) => a[1] - b[1] || a[0] - b[0]);\n    for (let i = 0, ii = edges.length; i < ii; i += 2) {\n      const edge1 = edges[i][2];\n      const edge2 = edges[i + 1][2];\n      edge1.push(edge2);\n      edge2.push(edge1);\n      allEdges.add(edge1);\n      allEdges.add(edge2);\n    }\n    const outlines = [];\n    let outline;\n    while (allEdges.size > 0) {\n      const edge = allEdges.values().next().value;\n      let [x, y1, y2, edge1, edge2] = edge;\n      allEdges.delete(edge);\n      let lastPointX = x;\n      let lastPointY = y1;\n      outline = [x, y2];\n      outlines.push(outline);\n      while (true) {\n        let e;\n        if (allEdges.has(edge1)) {\n          e = edge1;\n        } else if (allEdges.has(edge2)) {\n          e = edge2;\n        } else {\n          break;\n        }\n        allEdges.delete(e);\n        [x, y1, y2, edge1, edge2] = e;\n        if (lastPointX !== x) {\n          outline.push(lastPointX, lastPointY, x, lastPointY === y1 ? y1 : y2);\n          lastPointX = x;\n        }\n        lastPointY = lastPointY === y1 ? y2 : y1;\n      }\n      outline.push(lastPointX, lastPointY);\n    }\n    return new HighlightOutline(outlines, this.#box, this.#firstPoint, this.#lastPoint);\n  }\n  #binarySearch(y) {\n    const array = this.#intervals;\n    let start = 0;\n    let end = array.length - 1;\n    while (start <= end) {\n      const middle = start + end >> 1;\n      const y1 = array[middle][0];\n      if (y1 === y) {\n        return middle;\n      }\n      if (y1 < y) {\n        start = middle + 1;\n      } else {\n        end = middle - 1;\n      }\n    }\n    return end + 1;\n  }\n  #insert([, y1, y2]) {\n    const index = this.#binarySearch(y1);\n    this.#intervals.splice(index, 0, [y1, y2]);\n  }\n  #remove([, y1, y2]) {\n    const index = this.#binarySearch(y1);\n    for (let i = index; i < this.#intervals.length; i++) {\n      const [start, end] = this.#intervals[i];\n      if (start !== y1) {\n        break;\n      }\n      if (start === y1 && end === y2) {\n        this.#intervals.splice(i, 1);\n        return;\n      }\n    }\n    for (let i = index - 1; i >= 0; i--) {\n      const [start, end] = this.#intervals[i];\n      if (start !== y1) {\n        break;\n      }\n      if (start === y1 && end === y2) {\n        this.#intervals.splice(i, 1);\n        return;\n      }\n    }\n  }\n  #breakEdge(edge) {\n    const [x, y1, y2] = edge;\n    const results = [[x, y1, y2]];\n    const index = this.#binarySearch(y2);\n    for (let i = 0; i < index; i++) {\n      const [start, end] = this.#intervals[i];\n      for (let j = 0, jj = results.length; j < jj; j++) {\n        const [, y3, y4] = results[j];\n        if (end <= y3 || y4 <= start) {\n          continue;\n        }\n        if (y3 >= start) {\n          if (y4 > end) {\n            results[j][1] = end;\n          } else {\n            if (jj === 1) {\n              return [];\n            }\n            results.splice(j, 1);\n            j--;\n            jj--;\n          }\n          continue;\n        }\n        results[j][2] = start;\n        if (y4 > end) {\n          results.push([x, end, y4]);\n        }\n      }\n    }\n    return results;\n  }\n}\nclass HighlightOutline extends Outline {\n  #box;\n  #outlines;\n  constructor(outlines, box, firstPoint, lastPoint) {\n    super();\n    this.#outlines = outlines;\n    this.#box = box;\n    this.firstPoint = firstPoint;\n    this.lastPoint = lastPoint;\n  }\n  toSVGPath() {\n    const buffer = [];\n    for (const polygon of this.#outlines) {\n      let [prevX, prevY] = polygon;\n      buffer.push(`M${prevX} ${prevY}`);\n      for (let i = 2; i < polygon.length; i += 2) {\n        const x = polygon[i];\n        const y = polygon[i + 1];\n        if (x === prevX) {\n          buffer.push(`V${y}`);\n          prevY = y;\n        } else if (y === prevY) {\n          buffer.push(`H${x}`);\n          prevX = x;\n        }\n      }\n      buffer.push(\"Z\");\n    }\n    return buffer.join(\" \");\n  }\n  serialize([blX, blY, trX, trY], _rotation) {\n    const outlines = [];\n    const width = trX - blX;\n    const height = trY - blY;\n    for (const outline of this.#outlines) {\n      const points = new Array(outline.length);\n      for (let i = 0; i < outline.length; i += 2) {\n        points[i] = blX + outline[i] * width;\n        points[i + 1] = trY - outline[i + 1] * height;\n      }\n      outlines.push(points);\n    }\n    return outlines;\n  }\n  get box() {\n    return this.#box;\n  }\n  get classNamesForOutlining() {\n    return [\"highlightOutline\"];\n  }\n}\nclass FreeHighlightOutliner extends FreeDrawOutliner {\n  newFreeDrawOutline(outline, points, box, scaleFactor, innerMargin, isLTR) {\n    return new FreeHighlightOutline(outline, points, box, scaleFactor, innerMargin, isLTR);\n  }\n}\nclass FreeHighlightOutline extends FreeDrawOutline {\n  newOutliner(point, box, scaleFactor, thickness, isLTR, innerMargin = 0) {\n    return new FreeHighlightOutliner(point, box, scaleFactor, thickness, isLTR, innerMargin);\n  }\n}\n\n;// ./src/display/editor/highlight.js\n\n\n\n\n\n\n\nclass HighlightEditor extends AnnotationEditor {\n  #anchorNode = null;\n  #anchorOffset = 0;\n  #boxes;\n  #clipPathId = null;\n  #colorPicker = null;\n  #focusOutlines = null;\n  #focusNode = null;\n  #focusOffset = 0;\n  #highlightDiv = null;\n  #highlightOutlines = null;\n  #id = null;\n  #isFreeHighlight = false;\n  #firstPoint = null;\n  #lastPoint = null;\n  #outlineId = null;\n  #text = \"\";\n  #thickness;\n  #methodOfCreation = \"\";\n  static _defaultColor = null;\n  static _defaultOpacity = 1;\n  static _defaultThickness = 12;\n  static _type = \"highlight\";\n  static _editorType = AnnotationEditorType.HIGHLIGHT;\n  static _freeHighlightId = -1;\n  static _freeHighlight = null;\n  static _freeHighlightClipId = \"\";\n  static get _keyboardManager() {\n    const proto = HighlightEditor.prototype;\n    return shadow(this, \"_keyboardManager\", new KeyboardManager([[[\"ArrowLeft\", \"mac+ArrowLeft\"], proto._moveCaret, {\n      args: [0]\n    }], [[\"ArrowRight\", \"mac+ArrowRight\"], proto._moveCaret, {\n      args: [1]\n    }], [[\"ArrowUp\", \"mac+ArrowUp\"], proto._moveCaret, {\n      args: [2]\n    }], [[\"ArrowDown\", \"mac+ArrowDown\"], proto._moveCaret, {\n      args: [3]\n    }]]));\n  }\n  constructor(params) {\n    super({\n      ...params,\n      name: \"highlightEditor\"\n    });\n    this.color = params.color || HighlightEditor._defaultColor;\n    this.#thickness = params.thickness || HighlightEditor._defaultThickness;\n    this.opacity = params.opacity || HighlightEditor._defaultOpacity;\n    this.#boxes = params.boxes || null;\n    this.#methodOfCreation = params.methodOfCreation || \"\";\n    this.#text = params.text || \"\";\n    this._isDraggable = false;\n    this.defaultL10nId = \"pdfjs-editor-highlight-editor\";\n    if (params.highlightId > -1) {\n      this.#isFreeHighlight = true;\n      this.#createFreeOutlines(params);\n      this.#addToDrawLayer();\n    } else if (this.#boxes) {\n      this.#anchorNode = params.anchorNode;\n      this.#anchorOffset = params.anchorOffset;\n      this.#focusNode = params.focusNode;\n      this.#focusOffset = params.focusOffset;\n      this.#createOutlines();\n      this.#addToDrawLayer();\n      this.rotate(this.rotation);\n    }\n    if (!this.annotationElementId) {\n      this._uiManager.a11yAlert(\"pdfjs-editor-highlight-added-alert\");\n    }\n  }\n  get telemetryInitialData() {\n    return {\n      action: \"added\",\n      type: this.#isFreeHighlight ? \"free_highlight\" : \"highlight\",\n      color: this._uiManager.getNonHCMColorName(this.color),\n      thickness: this.#thickness,\n      methodOfCreation: this.#methodOfCreation\n    };\n  }\n  get telemetryFinalData() {\n    return {\n      type: \"highlight\",\n      color: this._uiManager.getNonHCMColorName(this.color)\n    };\n  }\n  static computeTelemetryFinalData(data) {\n    return {\n      numberOfColors: data.get(\"color\").size\n    };\n  }\n  #createOutlines() {\n    const outliner = new HighlightOutliner(this.#boxes, 0.001);\n    this.#highlightOutlines = outliner.getOutlines();\n    [this.x, this.y, this.width, this.height] = this.#highlightOutlines.box;\n    const outlinerForOutline = new HighlightOutliner(this.#boxes, 0.0025, 0.001, this._uiManager.direction === \"ltr\");\n    this.#focusOutlines = outlinerForOutline.getOutlines();\n    const {\n      firstPoint\n    } = this.#highlightOutlines;\n    this.#firstPoint = [(firstPoint[0] - this.x) / this.width, (firstPoint[1] - this.y) / this.height];\n    const {\n      lastPoint\n    } = this.#focusOutlines;\n    this.#lastPoint = [(lastPoint[0] - this.x) / this.width, (lastPoint[1] - this.y) / this.height];\n  }\n  #createFreeOutlines({\n    highlightOutlines,\n    highlightId,\n    clipPathId\n  }) {\n    this.#highlightOutlines = highlightOutlines;\n    const extraThickness = 1.5;\n    this.#focusOutlines = highlightOutlines.getNewOutline(this.#thickness / 2 + extraThickness, 0.0025);\n    if (highlightId >= 0) {\n      this.#id = highlightId;\n      this.#clipPathId = clipPathId;\n      this.parent.drawLayer.finalizeDraw(highlightId, {\n        bbox: highlightOutlines.box,\n        path: {\n          d: highlightOutlines.toSVGPath()\n        }\n      });\n      this.#outlineId = this.parent.drawLayer.drawOutline({\n        rootClass: {\n          highlightOutline: true,\n          free: true\n        },\n        bbox: this.#focusOutlines.box,\n        path: {\n          d: this.#focusOutlines.toSVGPath()\n        }\n      }, true);\n    } else if (this.parent) {\n      const angle = this.parent.viewport.rotation;\n      this.parent.drawLayer.updateProperties(this.#id, {\n        bbox: HighlightEditor.#rotateBbox(this.#highlightOutlines.box, (angle - this.rotation + 360) % 360),\n        path: {\n          d: highlightOutlines.toSVGPath()\n        }\n      });\n      this.parent.drawLayer.updateProperties(this.#outlineId, {\n        bbox: HighlightEditor.#rotateBbox(this.#focusOutlines.box, angle),\n        path: {\n          d: this.#focusOutlines.toSVGPath()\n        }\n      });\n    }\n    const [x, y, width, height] = highlightOutlines.box;\n    switch (this.rotation) {\n      case 0:\n        this.x = x;\n        this.y = y;\n        this.width = width;\n        this.height = height;\n        break;\n      case 90:\n        {\n          const [pageWidth, pageHeight] = this.parentDimensions;\n          this.x = y;\n          this.y = 1 - x;\n          this.width = width * pageHeight / pageWidth;\n          this.height = height * pageWidth / pageHeight;\n          break;\n        }\n      case 180:\n        this.x = 1 - x;\n        this.y = 1 - y;\n        this.width = width;\n        this.height = height;\n        break;\n      case 270:\n        {\n          const [pageWidth, pageHeight] = this.parentDimensions;\n          this.x = 1 - y;\n          this.y = x;\n          this.width = width * pageHeight / pageWidth;\n          this.height = height * pageWidth / pageHeight;\n          break;\n        }\n    }\n    const {\n      firstPoint\n    } = highlightOutlines;\n    this.#firstPoint = [(firstPoint[0] - x) / width, (firstPoint[1] - y) / height];\n    const {\n      lastPoint\n    } = this.#focusOutlines;\n    this.#lastPoint = [(lastPoint[0] - x) / width, (lastPoint[1] - y) / height];\n  }\n  static initialize(l10n, uiManager) {\n    AnnotationEditor.initialize(l10n, uiManager);\n    HighlightEditor._defaultColor ||= uiManager.highlightColors?.values().next().value || \"#fff066\";\n  }\n  static updateDefaultParams(type, value) {\n    switch (type) {\n      case AnnotationEditorParamsType.HIGHLIGHT_COLOR:\n        HighlightEditor._defaultColor = value;\n        break;\n      case AnnotationEditorParamsType.HIGHLIGHT_THICKNESS:\n        HighlightEditor._defaultThickness = value;\n        break;\n    }\n  }\n  translateInPage(x, y) {}\n  get toolbarPosition() {\n    return this.#lastPoint;\n  }\n  get commentButtonPosition() {\n    return this.#firstPoint;\n  }\n  updateParams(type, value) {\n    switch (type) {\n      case AnnotationEditorParamsType.HIGHLIGHT_COLOR:\n        this.#updateColor(value);\n        break;\n      case AnnotationEditorParamsType.HIGHLIGHT_THICKNESS:\n        this.#updateThickness(value);\n        break;\n    }\n  }\n  static get defaultPropertiesToUpdate() {\n    return [[AnnotationEditorParamsType.HIGHLIGHT_COLOR, HighlightEditor._defaultColor], [AnnotationEditorParamsType.HIGHLIGHT_THICKNESS, HighlightEditor._defaultThickness]];\n  }\n  get propertiesToUpdate() {\n    return [[AnnotationEditorParamsType.HIGHLIGHT_COLOR, this.color || HighlightEditor._defaultColor], [AnnotationEditorParamsType.HIGHLIGHT_THICKNESS, this.#thickness || HighlightEditor._defaultThickness], [AnnotationEditorParamsType.HIGHLIGHT_FREE, this.#isFreeHighlight]];\n  }\n  onUpdatedColor() {\n    this.parent?.drawLayer.updateProperties(this.#id, {\n      root: {\n        fill: this.color,\n        \"fill-opacity\": this.opacity\n      }\n    });\n    this.#colorPicker?.updateColor(this.color);\n    super.onUpdatedColor();\n  }\n  #updateColor(color) {\n    const setColorAndOpacity = (col, opa) => {\n      this.color = col;\n      this.opacity = opa;\n      this.onUpdatedColor();\n    };\n    const savedColor = this.color;\n    const savedOpacity = this.opacity;\n    this.addCommands({\n      cmd: setColorAndOpacity.bind(this, color, HighlightEditor._defaultOpacity),\n      undo: setColorAndOpacity.bind(this, savedColor, savedOpacity),\n      post: this._uiManager.updateUI.bind(this._uiManager, this),\n      mustExec: true,\n      type: AnnotationEditorParamsType.HIGHLIGHT_COLOR,\n      overwriteIfSameType: true,\n      keepUndo: true\n    });\n    this._reportTelemetry({\n      action: \"color_changed\",\n      color: this._uiManager.getNonHCMColorName(color)\n    }, true);\n  }\n  #updateThickness(thickness) {\n    const savedThickness = this.#thickness;\n    const setThickness = th => {\n      this.#thickness = th;\n      this.#changeThickness(th);\n    };\n    this.addCommands({\n      cmd: setThickness.bind(this, thickness),\n      undo: setThickness.bind(this, savedThickness),\n      post: this._uiManager.updateUI.bind(this._uiManager, this),\n      mustExec: true,\n      type: AnnotationEditorParamsType.INK_THICKNESS,\n      overwriteIfSameType: true,\n      keepUndo: true\n    });\n    this._reportTelemetry({\n      action: \"thickness_changed\",\n      thickness\n    }, true);\n  }\n  get toolbarButtons() {\n    if (this._uiManager.highlightColors) {\n      const colorPicker = this.#colorPicker = new ColorPicker({\n        editor: this\n      });\n      return [[\"colorPicker\", colorPicker]];\n    }\n    return super.toolbarButtons;\n  }\n  disableEditing() {\n    super.disableEditing();\n    this.div.classList.toggle(\"disabled\", true);\n  }\n  enableEditing() {\n    super.enableEditing();\n    this.div.classList.toggle(\"disabled\", false);\n  }\n  fixAndSetPosition() {\n    return super.fixAndSetPosition(this.#getRotation());\n  }\n  getBaseTranslation() {\n    return [0, 0];\n  }\n  getRect(tx, ty) {\n    return super.getRect(tx, ty, this.#getRotation());\n  }\n  onceAdded(focus) {\n    if (!this.annotationElementId) {\n      this.parent.addUndoableEditor(this);\n    }\n    if (focus) {\n      this.div.focus();\n    }\n  }\n  remove() {\n    this.#cleanDrawLayer();\n    this._reportTelemetry({\n      action: \"deleted\"\n    });\n    super.remove();\n  }\n  rebuild() {\n    if (!this.parent) {\n      return;\n    }\n    super.rebuild();\n    if (this.div === null) {\n      return;\n    }\n    this.#addToDrawLayer();\n    if (!this.isAttachedToDOM) {\n      this.parent.add(this);\n    }\n  }\n  setParent(parent) {\n    let mustBeSelected = false;\n    if (this.parent && !parent) {\n      this.#cleanDrawLayer();\n    } else if (parent) {\n      this.#addToDrawLayer(parent);\n      mustBeSelected = !this.parent && this.div?.classList.contains(\"selectedEditor\");\n    }\n    super.setParent(parent);\n    this.show(this._isVisible);\n    if (mustBeSelected) {\n      this.select();\n    }\n  }\n  #changeThickness(thickness) {\n    if (!this.#isFreeHighlight) {\n      return;\n    }\n    this.#createFreeOutlines({\n      highlightOutlines: this.#highlightOutlines.getNewOutline(thickness / 2)\n    });\n    this.fixAndSetPosition();\n    this.setDims();\n  }\n  #cleanDrawLayer() {\n    if (this.#id === null || !this.parent) {\n      return;\n    }\n    this.parent.drawLayer.remove(this.#id);\n    this.#id = null;\n    this.parent.drawLayer.remove(this.#outlineId);\n    this.#outlineId = null;\n  }\n  #addToDrawLayer(parent = this.parent) {\n    if (this.#id !== null) {\n      return;\n    }\n    ({\n      id: this.#id,\n      clipPathId: this.#clipPathId\n    } = parent.drawLayer.draw({\n      bbox: this.#highlightOutlines.box,\n      root: {\n        viewBox: \"0 0 1 1\",\n        fill: this.color,\n        \"fill-opacity\": this.opacity\n      },\n      rootClass: {\n        highlight: true,\n        free: this.#isFreeHighlight\n      },\n      path: {\n        d: this.#highlightOutlines.toSVGPath()\n      }\n    }, false, true));\n    this.#outlineId = parent.drawLayer.drawOutline({\n      rootClass: {\n        highlightOutline: true,\n        free: this.#isFreeHighlight\n      },\n      bbox: this.#focusOutlines.box,\n      path: {\n        d: this.#focusOutlines.toSVGPath()\n      }\n    }, this.#isFreeHighlight);\n    if (this.#highlightDiv) {\n      this.#highlightDiv.style.clipPath = this.#clipPathId;\n    }\n  }\n  static #rotateBbox([x, y, width, height], angle) {\n    switch (angle) {\n      case 90:\n        return [1 - y - height, x, height, width];\n      case 180:\n        return [1 - x - width, 1 - y - height, width, height];\n      case 270:\n        return [y, 1 - x - width, height, width];\n    }\n    return [x, y, width, height];\n  }\n  rotate(angle) {\n    const {\n      drawLayer\n    } = this.parent;\n    let box;\n    if (this.#isFreeHighlight) {\n      angle = (angle - this.rotation + 360) % 360;\n      box = HighlightEditor.#rotateBbox(this.#highlightOutlines.box, angle);\n    } else {\n      box = HighlightEditor.#rotateBbox([this.x, this.y, this.width, this.height], angle);\n    }\n    drawLayer.updateProperties(this.#id, {\n      bbox: box,\n      root: {\n        \"data-main-rotation\": angle\n      }\n    });\n    drawLayer.updateProperties(this.#outlineId, {\n      bbox: HighlightEditor.#rotateBbox(this.#focusOutlines.box, angle),\n      root: {\n        \"data-main-rotation\": angle\n      }\n    });\n  }\n  render() {\n    if (this.div) {\n      return this.div;\n    }\n    const div = super.render();\n    if (this.#text) {\n      div.setAttribute(\"aria-label\", this.#text);\n      div.setAttribute(\"role\", \"mark\");\n    }\n    if (this.#isFreeHighlight) {\n      div.classList.add(\"free\");\n    } else {\n      this.div.addEventListener(\"keydown\", this.#keydown.bind(this), {\n        signal: this._uiManager._signal\n      });\n    }\n    const highlightDiv = this.#highlightDiv = document.createElement(\"div\");\n    div.append(highlightDiv);\n    highlightDiv.setAttribute(\"aria-hidden\", \"true\");\n    highlightDiv.className = \"internal\";\n    highlightDiv.style.clipPath = this.#clipPathId;\n    this.setDims();\n    bindEvents(this, this.#highlightDiv, [\"pointerover\", \"pointerleave\"]);\n    this.enableEditing();\n    return div;\n  }\n  pointerover() {\n    if (!this.isSelected) {\n      this.parent?.drawLayer.updateProperties(this.#outlineId, {\n        rootClass: {\n          hovered: true\n        }\n      });\n    }\n  }\n  pointerleave() {\n    if (!this.isSelected) {\n      this.parent?.drawLayer.updateProperties(this.#outlineId, {\n        rootClass: {\n          hovered: false\n        }\n      });\n    }\n  }\n  #keydown(event) {\n    HighlightEditor._keyboardManager.exec(this, event);\n  }\n  _moveCaret(direction) {\n    this.parent.unselect(this);\n    switch (direction) {\n      case 0:\n      case 2:\n        this.#setCaret(true);\n        break;\n      case 1:\n      case 3:\n        this.#setCaret(false);\n        break;\n    }\n  }\n  #setCaret(start) {\n    if (!this.#anchorNode) {\n      return;\n    }\n    const selection = window.getSelection();\n    if (start) {\n      selection.setPosition(this.#anchorNode, this.#anchorOffset);\n    } else {\n      selection.setPosition(this.#focusNode, this.#focusOffset);\n    }\n  }\n  select() {\n    super.select();\n    if (!this.#outlineId) {\n      return;\n    }\n    this.parent?.drawLayer.updateProperties(this.#outlineId, {\n      rootClass: {\n        hovered: false,\n        selected: true\n      }\n    });\n  }\n  unselect() {\n    super.unselect();\n    if (!this.#outlineId) {\n      return;\n    }\n    this.parent?.drawLayer.updateProperties(this.#outlineId, {\n      rootClass: {\n        selected: false\n      }\n    });\n    if (!this.#isFreeHighlight) {\n      this.#setCaret(false);\n    }\n  }\n  get _mustFixPosition() {\n    return !this.#isFreeHighlight;\n  }\n  show(visible = this._isVisible) {\n    super.show(visible);\n    if (this.parent) {\n      this.parent.drawLayer.updateProperties(this.#id, {\n        rootClass: {\n          hidden: !visible\n        }\n      });\n      this.parent.drawLayer.updateProperties(this.#outlineId, {\n        rootClass: {\n          hidden: !visible\n        }\n      });\n    }\n  }\n  #getRotation() {\n    return this.#isFreeHighlight ? this.rotation : 0;\n  }\n  #serializeBoxes() {\n    if (this.#isFreeHighlight) {\n      return null;\n    }\n    const [pageWidth, pageHeight] = this.pageDimensions;\n    const [pageX, pageY] = this.pageTranslation;\n    const boxes = this.#boxes;\n    const quadPoints = new Float32Array(boxes.length * 8);\n    let i = 0;\n    for (const {\n      x,\n      y,\n      width,\n      height\n    } of boxes) {\n      const sx = x * pageWidth + pageX;\n      const sy = (1 - y) * pageHeight + pageY;\n      quadPoints[i] = quadPoints[i + 4] = sx;\n      quadPoints[i + 1] = quadPoints[i + 3] = sy;\n      quadPoints[i + 2] = quadPoints[i + 6] = sx + width * pageWidth;\n      quadPoints[i + 5] = quadPoints[i + 7] = sy - height * pageHeight;\n      i += 8;\n    }\n    return quadPoints;\n  }\n  #serializeOutlines(rect) {\n    return this.#highlightOutlines.serialize(rect, this.#getRotation());\n  }\n  static startHighlighting(parent, isLTR, {\n    target: textLayer,\n    x,\n    y\n  }) {\n    const {\n      x: layerX,\n      y: layerY,\n      width: parentWidth,\n      height: parentHeight\n    } = textLayer.getBoundingClientRect();\n    const ac = new AbortController();\n    const signal = parent.combinedSignal(ac);\n    const pointerUpCallback = e => {\n      ac.abort();\n      this.#endHighlight(parent, e);\n    };\n    window.addEventListener(\"blur\", pointerUpCallback, {\n      signal\n    });\n    window.addEventListener(\"pointerup\", pointerUpCallback, {\n      signal\n    });\n    window.addEventListener(\"pointerdown\", stopEvent, {\n      capture: true,\n      passive: false,\n      signal\n    });\n    window.addEventListener(\"contextmenu\", noContextMenu, {\n      signal\n    });\n    textLayer.addEventListener(\"pointermove\", this.#highlightMove.bind(this, parent), {\n      signal\n    });\n    this._freeHighlight = new FreeHighlightOutliner({\n      x,\n      y\n    }, [layerX, layerY, parentWidth, parentHeight], parent.scale, this._defaultThickness / 2, isLTR, 0.001);\n    ({\n      id: this._freeHighlightId,\n      clipPathId: this._freeHighlightClipId\n    } = parent.drawLayer.draw({\n      bbox: [0, 0, 1, 1],\n      root: {\n        viewBox: \"0 0 1 1\",\n        fill: this._defaultColor,\n        \"fill-opacity\": this._defaultOpacity\n      },\n      rootClass: {\n        highlight: true,\n        free: true\n      },\n      path: {\n        d: this._freeHighlight.toSVGPath()\n      }\n    }, true, true));\n  }\n  static #highlightMove(parent, event) {\n    if (this._freeHighlight.add(event)) {\n      parent.drawLayer.updateProperties(this._freeHighlightId, {\n        path: {\n          d: this._freeHighlight.toSVGPath()\n        }\n      });\n    }\n  }\n  static #endHighlight(parent, event) {\n    if (!this._freeHighlight.isEmpty()) {\n      parent.createAndAddNewEditor(event, false, {\n        highlightId: this._freeHighlightId,\n        highlightOutlines: this._freeHighlight.getOutlines(),\n        clipPathId: this._freeHighlightClipId,\n        methodOfCreation: \"main_toolbar\"\n      });\n    } else {\n      parent.drawLayer.remove(this._freeHighlightId);\n    }\n    this._freeHighlightId = -1;\n    this._freeHighlight = null;\n    this._freeHighlightClipId = \"\";\n  }\n  static async deserialize(data, parent, uiManager) {\n    let initialData = null;\n    if (data instanceof HighlightAnnotationElement) {\n      const {\n        data: {\n          quadPoints,\n          rect,\n          rotation,\n          id,\n          color,\n          opacity,\n          popupRef,\n          richText,\n          contentsObj,\n          creationDate,\n          modificationDate\n        },\n        parent: {\n          page: {\n            pageNumber\n          }\n        }\n      } = data;\n      initialData = data = {\n        annotationType: AnnotationEditorType.HIGHLIGHT,\n        color: Array.from(color),\n        opacity,\n        quadPoints,\n        boxes: null,\n        pageIndex: pageNumber - 1,\n        rect: rect.slice(0),\n        rotation,\n        annotationElementId: id,\n        id,\n        deleted: false,\n        popupRef,\n        richText,\n        comment: contentsObj?.str || null,\n        creationDate,\n        modificationDate\n      };\n    } else if (data instanceof InkAnnotationElement) {\n      const {\n        data: {\n          inkLists,\n          rect,\n          rotation,\n          id,\n          color,\n          borderStyle: {\n            rawWidth: thickness\n          },\n          popupRef,\n          richText,\n          contentsObj,\n          creationDate,\n          modificationDate\n        },\n        parent: {\n          page: {\n            pageNumber\n          }\n        }\n      } = data;\n      initialData = data = {\n        annotationType: AnnotationEditorType.HIGHLIGHT,\n        color: Array.from(color),\n        thickness,\n        inkLists,\n        boxes: null,\n        pageIndex: pageNumber - 1,\n        rect: rect.slice(0),\n        rotation,\n        annotationElementId: id,\n        id,\n        deleted: false,\n        popupRef,\n        richText,\n        comment: contentsObj?.str || null,\n        creationDate,\n        modificationDate\n      };\n    }\n    const {\n      color,\n      quadPoints,\n      inkLists,\n      opacity\n    } = data;\n    const editor = await super.deserialize(data, parent, uiManager);\n    editor.color = Util.makeHexColor(...color);\n    editor.opacity = opacity || 1;\n    if (inkLists) {\n      editor.#thickness = data.thickness;\n    }\n    editor._initialData = initialData;\n    if (data.comment) {\n      editor.setCommentData(data);\n    }\n    const [pageWidth, pageHeight] = editor.pageDimensions;\n    const [pageX, pageY] = editor.pageTranslation;\n    if (quadPoints) {\n      const boxes = editor.#boxes = [];\n      for (let i = 0; i < quadPoints.length; i += 8) {\n        boxes.push({\n          x: (quadPoints[i] - pageX) / pageWidth,\n          y: 1 - (quadPoints[i + 1] - pageY) / pageHeight,\n          width: (quadPoints[i + 2] - quadPoints[i]) / pageWidth,\n          height: (quadPoints[i + 1] - quadPoints[i + 5]) / pageHeight\n        });\n      }\n      editor.#createOutlines();\n      editor.#addToDrawLayer();\n      editor.rotate(editor.rotation);\n    } else if (inkLists) {\n      editor.#isFreeHighlight = true;\n      const points = inkLists[0];\n      const point = {\n        x: points[0] - pageX,\n        y: pageHeight - (points[1] - pageY)\n      };\n      const outliner = new FreeHighlightOutliner(point, [0, 0, pageWidth, pageHeight], 1, editor.#thickness / 2, true, 0.001);\n      for (let i = 0, ii = points.length; i < ii; i += 2) {\n        point.x = points[i] - pageX;\n        point.y = pageHeight - (points[i + 1] - pageY);\n        outliner.add(point);\n      }\n      const {\n        id,\n        clipPathId\n      } = parent.drawLayer.draw({\n        bbox: [0, 0, 1, 1],\n        root: {\n          viewBox: \"0 0 1 1\",\n          fill: editor.color,\n          \"fill-opacity\": editor._defaultOpacity\n        },\n        rootClass: {\n          highlight: true,\n          free: true\n        },\n        path: {\n          d: outliner.toSVGPath()\n        }\n      }, true, true);\n      editor.#createFreeOutlines({\n        highlightOutlines: outliner.getOutlines(),\n        highlightId: id,\n        clipPathId\n      });\n      editor.#addToDrawLayer();\n      editor.rotate(editor.parentRotation);\n    }\n    return editor;\n  }\n  serialize(isForCopying = false) {\n    if (this.isEmpty() || isForCopying) {\n      return null;\n    }\n    if (this.deleted) {\n      return this.serializeDeleted();\n    }\n    const color = AnnotationEditor._colorManager.convert(this._uiManager.getNonHCMColor(this.color));\n    const serialized = super.serialize(isForCopying);\n    Object.assign(serialized, {\n      color,\n      opacity: this.opacity,\n      thickness: this.#thickness,\n      quadPoints: this.#serializeBoxes(),\n      outlines: this.#serializeOutlines(serialized.rect)\n    });\n    this.addComment(serialized);\n    if (this.annotationElementId && !this.#hasElementChanged(serialized)) {\n      return null;\n    }\n    serialized.id = this.annotationElementId;\n    return serialized;\n  }\n  #hasElementChanged(serialized) {\n    const {\n      color\n    } = this._initialData;\n    return this.hasEditedComment || serialized.color.some((c, i) => c !== color[i]);\n  }\n  renderAnnotationElement(annotation) {\n    if (this.deleted) {\n      annotation.hide();\n      return null;\n    }\n    annotation.updateEdited({\n      rect: this.getPDFRect(),\n      popup: this.comment\n    });\n    return null;\n  }\n  static canCreateNewEmptyEditor() {\n    return false;\n  }\n}\n\n;// ./src/display/editor/draw.js\n\n\n\n\nclass DrawingOptions {\n  #svgProperties = Object.create(null);\n  updateProperty(name, value) {\n    this[name] = value;\n    this.updateSVGProperty(name, value);\n  }\n  updateProperties(properties) {\n    if (!properties) {\n      return;\n    }\n    for (const [name, value] of Object.entries(properties)) {\n      if (!name.startsWith(\"_\")) {\n        this.updateProperty(name, value);\n      }\n    }\n  }\n  updateSVGProperty(name, value) {\n    this.#svgProperties[name] = value;\n  }\n  toSVGProperties() {\n    const root = this.#svgProperties;\n    this.#svgProperties = Object.create(null);\n    return {\n      root\n    };\n  }\n  reset() {\n    this.#svgProperties = Object.create(null);\n  }\n  updateAll(options = this) {\n    this.updateProperties(options);\n  }\n  clone() {\n    unreachable(\"Not implemented\");\n  }\n}\nclass DrawingEditor extends AnnotationEditor {\n  #drawOutlines = null;\n  #mustBeCommitted;\n  _colorPicker = null;\n  _drawId = null;\n  static _currentDrawId = -1;\n  static _currentParent = null;\n  static #currentDraw = null;\n  static #currentDrawingAC = null;\n  static #currentDrawingOptions = null;\n  static _INNER_MARGIN = 3;\n  constructor(params) {\n    super(params);\n    this.#mustBeCommitted = params.mustBeCommitted || false;\n    this._addOutlines(params);\n  }\n  onUpdatedColor() {\n    this._colorPicker?.update(this.color);\n    super.onUpdatedColor();\n  }\n  _addOutlines(params) {\n    if (params.drawOutlines) {\n      this.#createDrawOutlines(params);\n      this.#addToDrawLayer();\n    }\n  }\n  #createDrawOutlines({\n    drawOutlines,\n    drawId,\n    drawingOptions\n  }) {\n    this.#drawOutlines = drawOutlines;\n    this._drawingOptions ||= drawingOptions;\n    if (!this.annotationElementId) {\n      this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`);\n    }\n    if (drawId >= 0) {\n      this._drawId = drawId;\n      this.parent.drawLayer.finalizeDraw(drawId, drawOutlines.defaultProperties);\n    } else {\n      this._drawId = this.#createDrawing(drawOutlines, this.parent);\n    }\n    this.#updateBbox(drawOutlines.box);\n  }\n  #createDrawing(drawOutlines, parent) {\n    const {\n      id\n    } = parent.drawLayer.draw(DrawingEditor._mergeSVGProperties(this._drawingOptions.toSVGProperties(), drawOutlines.defaultSVGProperties), false, false);\n    return id;\n  }\n  static _mergeSVGProperties(p1, p2) {\n    const p1Keys = new Set(Object.keys(p1));\n    for (const [key, value] of Object.entries(p2)) {\n      if (p1Keys.has(key)) {\n        Object.assign(p1[key], value);\n      } else {\n        p1[key] = value;\n      }\n    }\n    return p1;\n  }\n  static getDefaultDrawingOptions(_options) {\n    unreachable(\"Not implemented\");\n  }\n  static get typesMap() {\n    unreachable(\"Not implemented\");\n  }\n  static get isDrawer() {\n    return true;\n  }\n  static get supportMultipleDrawings() {\n    return false;\n  }\n  static updateDefaultParams(type, value) {\n    const propertyName = this.typesMap.get(type);\n    if (propertyName) {\n      this._defaultDrawingOptions.updateProperty(propertyName, value);\n    }\n    if (this._currentParent) {\n      DrawingEditor.#currentDraw.updateProperty(propertyName, value);\n      this._currentParent.drawLayer.updateProperties(this._currentDrawId, this._defaultDrawingOptions.toSVGProperties());\n    }\n  }\n  updateParams(type, value) {\n    const propertyName = this.constructor.typesMap.get(type);\n    if (propertyName) {\n      this._updateProperty(type, propertyName, value);\n    }\n  }\n  static get defaultPropertiesToUpdate() {\n    const properties = [];\n    const options = this._defaultDrawingOptions;\n    for (const [type, name] of this.typesMap) {\n      properties.push([type, options[name]]);\n    }\n    return properties;\n  }\n  get propertiesToUpdate() {\n    const properties = [];\n    const {\n      _drawingOptions\n    } = this;\n    for (const [type, name] of this.constructor.typesMap) {\n      properties.push([type, _drawingOptions[name]]);\n    }\n    return properties;\n  }\n  _updateProperty(type, name, value) {\n    const options = this._drawingOptions;\n    const savedValue = options[name];\n    const setter = val => {\n      options.updateProperty(name, val);\n      const bbox = this.#drawOutlines.updateProperty(name, val);\n      if (bbox) {\n        this.#updateBbox(bbox);\n      }\n      this.parent?.drawLayer.updateProperties(this._drawId, options.toSVGProperties());\n      if (type === this.colorType) {\n        this.onUpdatedColor();\n      }\n    };\n    this.addCommands({\n      cmd: setter.bind(this, value),\n      undo: setter.bind(this, savedValue),\n      post: this._uiManager.updateUI.bind(this._uiManager, this),\n      mustExec: true,\n      type,\n      overwriteIfSameType: true,\n      keepUndo: true\n    });\n  }\n  _onResizing() {\n    this.parent?.drawLayer.updateProperties(this._drawId, DrawingEditor._mergeSVGProperties(this.#drawOutlines.getPathResizingSVGProperties(this.#convertToDrawSpace()), {\n      bbox: this.#rotateBox()\n    }));\n  }\n  _onResized() {\n    this.parent?.drawLayer.updateProperties(this._drawId, DrawingEditor._mergeSVGProperties(this.#drawOutlines.getPathResizedSVGProperties(this.#convertToDrawSpace()), {\n      bbox: this.#rotateBox()\n    }));\n  }\n  _onTranslating(_x, _y) {\n    this.parent?.drawLayer.updateProperties(this._drawId, {\n      bbox: this.#rotateBox()\n    });\n  }\n  _onTranslated() {\n    this.parent?.drawLayer.updateProperties(this._drawId, DrawingEditor._mergeSVGProperties(this.#drawOutlines.getPathTranslatedSVGProperties(this.#convertToDrawSpace(), this.parentDimensions), {\n      bbox: this.#rotateBox()\n    }));\n  }\n  _onStartDragging() {\n    this.parent?.drawLayer.updateProperties(this._drawId, {\n      rootClass: {\n        moving: true\n      }\n    });\n  }\n  _onStopDragging() {\n    this.parent?.drawLayer.updateProperties(this._drawId, {\n      rootClass: {\n        moving: false\n      }\n    });\n  }\n  commit() {\n    super.commit();\n    this.disableEditMode();\n    this.disableEditing();\n  }\n  disableEditing() {\n    super.disableEditing();\n    this.div.classList.toggle(\"disabled\", true);\n  }\n  enableEditing() {\n    super.enableEditing();\n    this.div.classList.toggle(\"disabled\", false);\n  }\n  getBaseTranslation() {\n    return [0, 0];\n  }\n  get isResizable() {\n    return true;\n  }\n  onceAdded(focus) {\n    if (!this.annotationElementId) {\n      this.parent.addUndoableEditor(this);\n    }\n    this._isDraggable = true;\n    if (this.#mustBeCommitted) {\n      this.#mustBeCommitted = false;\n      this.commit();\n      this.parent.setSelected(this);\n      if (focus && this.isOnScreen) {\n        this.div.focus();\n      }\n    }\n  }\n  remove() {\n    this.#cleanDrawLayer();\n    super.remove();\n  }\n  rebuild() {\n    if (!this.parent) {\n      return;\n    }\n    super.rebuild();\n    if (this.div === null) {\n      return;\n    }\n    this.#addToDrawLayer();\n    this.#updateBbox(this.#drawOutlines.box);\n    if (!this.isAttachedToDOM) {\n      this.parent.add(this);\n    }\n  }\n  setParent(parent) {\n    let mustBeSelected = false;\n    if (this.parent && !parent) {\n      this._uiManager.removeShouldRescale(this);\n      this.#cleanDrawLayer();\n    } else if (parent) {\n      this._uiManager.addShouldRescale(this);\n      this.#addToDrawLayer(parent);\n      mustBeSelected = !this.parent && this.div?.classList.contains(\"selectedEditor\");\n    }\n    super.setParent(parent);\n    if (mustBeSelected) {\n      this.select();\n    }\n  }\n  #cleanDrawLayer() {\n    if (this._drawId === null || !this.parent) {\n      return;\n    }\n    this.parent.drawLayer.remove(this._drawId);\n    this._drawId = null;\n    this._drawingOptions.reset();\n  }\n  #addToDrawLayer(parent = this.parent) {\n    if (this._drawId !== null && this.parent === parent) {\n      return;\n    }\n    if (this._drawId !== null) {\n      this.parent.drawLayer.updateParent(this._drawId, parent.drawLayer);\n      return;\n    }\n    this._drawingOptions.updateAll();\n    this._drawId = this.#createDrawing(this.#drawOutlines, parent);\n  }\n  #convertToParentSpace([x, y, width, height]) {\n    const {\n      parentDimensions: [pW, pH],\n      rotation\n    } = this;\n    switch (rotation) {\n      case 90:\n        return [y, 1 - x, width * (pH / pW), height * (pW / pH)];\n      case 180:\n        return [1 - x, 1 - y, width, height];\n      case 270:\n        return [1 - y, x, width * (pH / pW), height * (pW / pH)];\n      default:\n        return [x, y, width, height];\n    }\n  }\n  #convertToDrawSpace() {\n    const {\n      x,\n      y,\n      width,\n      height,\n      parentDimensions: [pW, pH],\n      rotation\n    } = this;\n    switch (rotation) {\n      case 90:\n        return [1 - y, x, width * (pW / pH), height * (pH / pW)];\n      case 180:\n        return [1 - x, 1 - y, width, height];\n      case 270:\n        return [y, 1 - x, width * (pW / pH), height * (pH / pW)];\n      default:\n        return [x, y, width, height];\n    }\n  }\n  #updateBbox(bbox) {\n    [this.x, this.y, this.width, this.height] = this.#convertToParentSpace(bbox);\n    if (this.div) {\n      this.fixAndSetPosition();\n      this.setDims();\n    }\n    this._onResized();\n  }\n  #rotateBox() {\n    const {\n      x,\n      y,\n      width,\n      height,\n      rotation,\n      parentRotation,\n      parentDimensions: [pW, pH]\n    } = this;\n    switch ((rotation * 4 + parentRotation) / 90) {\n      case 1:\n        return [1 - y - height, x, height, width];\n      case 2:\n        return [1 - x - width, 1 - y - height, width, height];\n      case 3:\n        return [y, 1 - x - width, height, width];\n      case 4:\n        return [x, y - width * (pW / pH), height * (pH / pW), width * (pW / pH)];\n      case 5:\n        return [1 - y, x, width * (pW / pH), height * (pH / pW)];\n      case 6:\n        return [1 - x - height * (pH / pW), 1 - y, height * (pH / pW), width * (pW / pH)];\n      case 7:\n        return [y - width * (pW / pH), 1 - x - height * (pH / pW), width * (pW / pH), height * (pH / pW)];\n      case 8:\n        return [x - width, y - height, width, height];\n      case 9:\n        return [1 - y, x - width, height, width];\n      case 10:\n        return [1 - x, 1 - y, width, height];\n      case 11:\n        return [y - height, 1 - x, height, width];\n      case 12:\n        return [x - height * (pH / pW), y, height * (pH / pW), width * (pW / pH)];\n      case 13:\n        return [1 - y - width * (pW / pH), x - height * (pH / pW), width * (pW / pH), height * (pH / pW)];\n      case 14:\n        return [1 - x, 1 - y - width * (pW / pH), height * (pH / pW), width * (pW / pH)];\n      case 15:\n        return [y, 1 - x, width * (pW / pH), height * (pH / pW)];\n      default:\n        return [x, y, width, height];\n    }\n  }\n  rotate() {\n    if (!this.parent) {\n      return;\n    }\n    this.parent.drawLayer.updateProperties(this._drawId, DrawingEditor._mergeSVGProperties({\n      bbox: this.#rotateBox()\n    }, this.#drawOutlines.updateRotation((this.parentRotation - this.rotation + 360) % 360)));\n  }\n  onScaleChanging() {\n    if (!this.parent) {\n      return;\n    }\n    this.#updateBbox(this.#drawOutlines.updateParentDimensions(this.parentDimensions, this.parent.scale));\n  }\n  static onScaleChangingWhenDrawing() {}\n  render() {\n    if (this.div) {\n      return this.div;\n    }\n    let baseX, baseY;\n    if (this._isCopy) {\n      baseX = this.x;\n      baseY = this.y;\n    }\n    const div = super.render();\n    div.classList.add(\"draw\");\n    const drawDiv = document.createElement(\"div\");\n    div.append(drawDiv);\n    drawDiv.setAttribute(\"aria-hidden\", \"true\");\n    drawDiv.className = \"internal\";\n    this.setDims();\n    this._uiManager.addShouldRescale(this);\n    this.disableEditing();\n    if (this._isCopy) {\n      this._moveAfterPaste(baseX, baseY);\n    }\n    return div;\n  }\n  static createDrawerInstance(_x, _y, _parentWidth, _parentHeight, _rotation) {\n    unreachable(\"Not implemented\");\n  }\n  static startDrawing(parent, uiManager, _isLTR, event) {\n    const {\n      target,\n      offsetX: x,\n      offsetY: y,\n      pointerId,\n      pointerType\n    } = event;\n    if (CurrentPointers.isInitializedAndDifferentPointerType(pointerType)) {\n      return;\n    }\n    const {\n      viewport: {\n        rotation\n      }\n    } = parent;\n    const {\n      width: parentWidth,\n      height: parentHeight\n    } = target.getBoundingClientRect();\n    const ac = DrawingEditor.#currentDrawingAC = new AbortController();\n    const signal = parent.combinedSignal(ac);\n    CurrentPointers.setPointer(pointerType, pointerId);\n    window.addEventListener(\"pointerup\", e => {\n      if (CurrentPointers.isSamePointerIdOrRemove(e.pointerId)) {\n        this._endDraw(e);\n      }\n    }, {\n      signal\n    });\n    window.addEventListener(\"pointercancel\", e => {\n      if (CurrentPointers.isSamePointerIdOrRemove(e.pointerId)) {\n        this._currentParent.endDrawingSession();\n      }\n    }, {\n      signal\n    });\n    window.addEventListener(\"pointerdown\", e => {\n      if (!CurrentPointers.isSamePointerType(e.pointerType)) {\n        return;\n      }\n      CurrentPointers.initializeAndAddPointerId(e.pointerId);\n      if (DrawingEditor.#currentDraw.isCancellable()) {\n        DrawingEditor.#currentDraw.removeLastElement();\n        if (DrawingEditor.#currentDraw.isEmpty()) {\n          this._currentParent.endDrawingSession(true);\n        } else {\n          this._endDraw(null);\n        }\n      }\n    }, {\n      capture: true,\n      passive: false,\n      signal\n    });\n    window.addEventListener(\"contextmenu\", noContextMenu, {\n      signal\n    });\n    target.addEventListener(\"pointermove\", this._drawMove.bind(this), {\n      signal\n    });\n    target.addEventListener(\"touchmove\", e => {\n      if (CurrentPointers.isSameTimeStamp(e.timeStamp)) {\n        stopEvent(e);\n      }\n    }, {\n      signal\n    });\n    parent.toggleDrawing();\n    uiManager._editorUndoBar?.hide();\n    if (DrawingEditor.#currentDraw) {\n      parent.drawLayer.updateProperties(this._currentDrawId, DrawingEditor.#currentDraw.startNew(x, y, parentWidth, parentHeight, rotation));\n      return;\n    }\n    uiManager.updateUIForDefaultProperties(this);\n    DrawingEditor.#currentDraw = this.createDrawerInstance(x, y, parentWidth, parentHeight, rotation);\n    DrawingEditor.#currentDrawingOptions = this.getDefaultDrawingOptions();\n    this._currentParent = parent;\n    ({\n      id: this._currentDrawId\n    } = parent.drawLayer.draw(this._mergeSVGProperties(DrawingEditor.#currentDrawingOptions.toSVGProperties(), DrawingEditor.#currentDraw.defaultSVGProperties), true, false));\n  }\n  static _drawMove(event) {\n    CurrentPointers.isSameTimeStamp(event.timeStamp);\n    if (!DrawingEditor.#currentDraw) {\n      return;\n    }\n    const {\n      offsetX,\n      offsetY,\n      pointerId\n    } = event;\n    if (!CurrentPointers.isSamePointerId(pointerId)) {\n      return;\n    }\n    if (CurrentPointers.isUsingMultiplePointers()) {\n      this._endDraw(event);\n      return;\n    }\n    this._currentParent.drawLayer.updateProperties(this._currentDrawId, DrawingEditor.#currentDraw.add(offsetX, offsetY));\n    CurrentPointers.setTimeStamp(event.timeStamp);\n    stopEvent(event);\n  }\n  static _cleanup(all) {\n    if (all) {\n      this._currentDrawId = -1;\n      this._currentParent = null;\n      DrawingEditor.#currentDraw = null;\n      DrawingEditor.#currentDrawingOptions = null;\n      CurrentPointers.clearTimeStamp();\n    }\n    if (DrawingEditor.#currentDrawingAC) {\n      DrawingEditor.#currentDrawingAC.abort();\n      DrawingEditor.#currentDrawingAC = null;\n      CurrentPointers.clearPointerIds();\n    }\n  }\n  static _endDraw(event) {\n    const parent = this._currentParent;\n    if (!parent) {\n      return;\n    }\n    parent.toggleDrawing(true);\n    this._cleanup(false);\n    if (event?.target === parent.div) {\n      parent.drawLayer.updateProperties(this._currentDrawId, DrawingEditor.#currentDraw.end(event.offsetX, event.offsetY));\n    }\n    if (this.supportMultipleDrawings) {\n      const draw = DrawingEditor.#currentDraw;\n      const drawId = this._currentDrawId;\n      const lastElement = draw.getLastElement();\n      parent.addCommands({\n        cmd: () => {\n          parent.drawLayer.updateProperties(drawId, draw.setLastElement(lastElement));\n        },\n        undo: () => {\n          parent.drawLayer.updateProperties(drawId, draw.removeLastElement());\n        },\n        mustExec: false,\n        type: AnnotationEditorParamsType.DRAW_STEP\n      });\n      return;\n    }\n    this.endDrawing(false);\n  }\n  static endDrawing(isAborted) {\n    const parent = this._currentParent;\n    if (!parent) {\n      return null;\n    }\n    parent.toggleDrawing(true);\n    parent.cleanUndoStack(AnnotationEditorParamsType.DRAW_STEP);\n    if (!DrawingEditor.#currentDraw.isEmpty()) {\n      const {\n        pageDimensions: [pageWidth, pageHeight],\n        scale\n      } = parent;\n      const editor = parent.createAndAddNewEditor({\n        offsetX: 0,\n        offsetY: 0\n      }, false, {\n        drawId: this._currentDrawId,\n        drawOutlines: DrawingEditor.#currentDraw.getOutlines(pageWidth * scale, pageHeight * scale, scale, this._INNER_MARGIN),\n        drawingOptions: DrawingEditor.#currentDrawingOptions,\n        mustBeCommitted: !isAborted\n      });\n      this._cleanup(true);\n      return editor;\n    }\n    parent.drawLayer.remove(this._currentDrawId);\n    this._cleanup(true);\n    return null;\n  }\n  createDrawingOptions(_data) {}\n  static deserializeDraw(_pageX, _pageY, _pageWidth, _pageHeight, _innerWidth, _data) {\n    unreachable(\"Not implemented\");\n  }\n  static async deserialize(data, parent, uiManager) {\n    const {\n      rawDims: {\n        pageWidth,\n        pageHeight,\n        pageX,\n        pageY\n      }\n    } = parent.viewport;\n    const drawOutlines = this.deserializeDraw(pageX, pageY, pageWidth, pageHeight, this._INNER_MARGIN, data);\n    const editor = await super.deserialize(data, parent, uiManager);\n    editor.createDrawingOptions(data);\n    editor.#createDrawOutlines({\n      drawOutlines\n    });\n    editor.#addToDrawLayer();\n    editor.onScaleChanging();\n    editor.rotate();\n    return editor;\n  }\n  serializeDraw(isForCopying) {\n    const [pageX, pageY] = this.pageTranslation;\n    const [pageWidth, pageHeight] = this.pageDimensions;\n    return this.#drawOutlines.serialize([pageX, pageY, pageWidth, pageHeight], isForCopying);\n  }\n  renderAnnotationElement(annotation) {\n    annotation.updateEdited({\n      rect: this.getPDFRect()\n    });\n    return null;\n  }\n  static canCreateNewEmptyEditor() {\n    return false;\n  }\n}\n\n;// ./src/display/editor/drawers/inkdraw.js\n\n\nclass InkDrawOutliner {\n  #last = new Float64Array(6);\n  #line;\n  #lines;\n  #rotation;\n  #thickness;\n  #points;\n  #lastSVGPath = \"\";\n  #lastIndex = 0;\n  #outlines = new InkDrawOutline();\n  #parentWidth;\n  #parentHeight;\n  constructor(x, y, parentWidth, parentHeight, rotation, thickness) {\n    this.#parentWidth = parentWidth;\n    this.#parentHeight = parentHeight;\n    this.#rotation = rotation;\n    this.#thickness = thickness;\n    [x, y] = this.#normalizePoint(x, y);\n    const line = this.#line = [NaN, NaN, NaN, NaN, x, y];\n    this.#points = [x, y];\n    this.#lines = [{\n      line,\n      points: this.#points\n    }];\n    this.#last.set(line, 0);\n  }\n  updateProperty(name, value) {\n    if (name === \"stroke-width\") {\n      this.#thickness = value;\n    }\n  }\n  #normalizePoint(x, y) {\n    return Outline._normalizePoint(x, y, this.#parentWidth, this.#parentHeight, this.#rotation);\n  }\n  isEmpty() {\n    return !this.#lines || this.#lines.length === 0;\n  }\n  isCancellable() {\n    return this.#points.length <= 10;\n  }\n  add(x, y) {\n    [x, y] = this.#normalizePoint(x, y);\n    const [x1, y1, x2, y2] = this.#last.subarray(2, 6);\n    const diffX = x - x2;\n    const diffY = y - y2;\n    const d = Math.hypot(this.#parentWidth * diffX, this.#parentHeight * diffY);\n    if (d <= 2) {\n      return null;\n    }\n    this.#points.push(x, y);\n    if (isNaN(x1)) {\n      this.#last.set([x2, y2, x, y], 2);\n      this.#line.push(NaN, NaN, NaN, NaN, x, y);\n      return {\n        path: {\n          d: this.toSVGPath()\n        }\n      };\n    }\n    if (isNaN(this.#last[0])) {\n      this.#line.splice(6, 6);\n    }\n    this.#last.set([x1, y1, x2, y2, x, y], 0);\n    this.#line.push(...Outline.createBezierPoints(x1, y1, x2, y2, x, y));\n    return {\n      path: {\n        d: this.toSVGPath()\n      }\n    };\n  }\n  end(x, y) {\n    const change = this.add(x, y);\n    if (change) {\n      return change;\n    }\n    if (this.#points.length === 2) {\n      return {\n        path: {\n          d: this.toSVGPath()\n        }\n      };\n    }\n    return null;\n  }\n  startNew(x, y, parentWidth, parentHeight, rotation) {\n    this.#parentWidth = parentWidth;\n    this.#parentHeight = parentHeight;\n    this.#rotation = rotation;\n    [x, y] = this.#normalizePoint(x, y);\n    const line = this.#line = [NaN, NaN, NaN, NaN, x, y];\n    this.#points = [x, y];\n    const last = this.#lines.at(-1);\n    if (last) {\n      last.line = new Float32Array(last.line);\n      last.points = new Float32Array(last.points);\n    }\n    this.#lines.push({\n      line,\n      points: this.#points\n    });\n    this.#last.set(line, 0);\n    this.#lastIndex = 0;\n    this.toSVGPath();\n    return null;\n  }\n  getLastElement() {\n    return this.#lines.at(-1);\n  }\n  setLastElement(element) {\n    if (!this.#lines) {\n      return this.#outlines.setLastElement(element);\n    }\n    this.#lines.push(element);\n    this.#line = element.line;\n    this.#points = element.points;\n    this.#lastIndex = 0;\n    return {\n      path: {\n        d: this.toSVGPath()\n      }\n    };\n  }\n  removeLastElement() {\n    if (!this.#lines) {\n      return this.#outlines.removeLastElement();\n    }\n    this.#lines.pop();\n    this.#lastSVGPath = \"\";\n    for (let i = 0, ii = this.#lines.length; i < ii; i++) {\n      const {\n        line,\n        points\n      } = this.#lines[i];\n      this.#line = line;\n      this.#points = points;\n      this.#lastIndex = 0;\n      this.toSVGPath();\n    }\n    return {\n      path: {\n        d: this.#lastSVGPath\n      }\n    };\n  }\n  toSVGPath() {\n    const firstX = Outline.svgRound(this.#line[4]);\n    const firstY = Outline.svgRound(this.#line[5]);\n    if (this.#points.length === 2) {\n      this.#lastSVGPath = `${this.#lastSVGPath} M ${firstX} ${firstY} Z`;\n      return this.#lastSVGPath;\n    }\n    if (this.#points.length <= 6) {\n      const i = this.#lastSVGPath.lastIndexOf(\"M\");\n      this.#lastSVGPath = `${this.#lastSVGPath.slice(0, i)} M ${firstX} ${firstY}`;\n      this.#lastIndex = 6;\n    }\n    if (this.#points.length === 4) {\n      const secondX = Outline.svgRound(this.#line[10]);\n      const secondY = Outline.svgRound(this.#line[11]);\n      this.#lastSVGPath = `${this.#lastSVGPath} L ${secondX} ${secondY}`;\n      this.#lastIndex = 12;\n      return this.#lastSVGPath;\n    }\n    const buffer = [];\n    if (this.#lastIndex === 0) {\n      buffer.push(`M ${firstX} ${firstY}`);\n      this.#lastIndex = 6;\n    }\n    for (let i = this.#lastIndex, ii = this.#line.length; i < ii; i += 6) {\n      const [c1x, c1y, c2x, c2y, x, y] = this.#line.slice(i, i + 6).map(Outline.svgRound);\n      buffer.push(`C${c1x} ${c1y} ${c2x} ${c2y} ${x} ${y}`);\n    }\n    this.#lastSVGPath += buffer.join(\" \");\n    this.#lastIndex = this.#line.length;\n    return this.#lastSVGPath;\n  }\n  getOutlines(parentWidth, parentHeight, scale, innerMargin) {\n    const last = this.#lines.at(-1);\n    last.line = new Float32Array(last.line);\n    last.points = new Float32Array(last.points);\n    this.#outlines.build(this.#lines, parentWidth, parentHeight, scale, this.#rotation, this.#thickness, innerMargin);\n    this.#last = null;\n    this.#line = null;\n    this.#lines = null;\n    this.#lastSVGPath = null;\n    return this.#outlines;\n  }\n  get defaultSVGProperties() {\n    return {\n      root: {\n        viewBox: \"0 0 10000 10000\"\n      },\n      rootClass: {\n        draw: true\n      },\n      bbox: [0, 0, 1, 1]\n    };\n  }\n}\nclass InkDrawOutline extends Outline {\n  #bbox;\n  #currentRotation = 0;\n  #innerMargin;\n  #lines;\n  #parentWidth;\n  #parentHeight;\n  #parentScale;\n  #rotation;\n  #thickness;\n  build(lines, parentWidth, parentHeight, parentScale, rotation, thickness, innerMargin) {\n    this.#parentWidth = parentWidth;\n    this.#parentHeight = parentHeight;\n    this.#parentScale = parentScale;\n    this.#rotation = rotation;\n    this.#thickness = thickness;\n    this.#innerMargin = innerMargin ?? 0;\n    this.#lines = lines;\n    this.#computeBbox();\n  }\n  get thickness() {\n    return this.#thickness;\n  }\n  setLastElement(element) {\n    this.#lines.push(element);\n    return {\n      path: {\n        d: this.toSVGPath()\n      }\n    };\n  }\n  removeLastElement() {\n    this.#lines.pop();\n    return {\n      path: {\n        d: this.toSVGPath()\n      }\n    };\n  }\n  toSVGPath() {\n    const buffer = [];\n    for (const {\n      line\n    } of this.#lines) {\n      buffer.push(`M${Outline.svgRound(line[4])} ${Outline.svgRound(line[5])}`);\n      if (line.length === 6) {\n        buffer.push(\"Z\");\n        continue;\n      }\n      if (line.length === 12 && isNaN(line[6])) {\n        buffer.push(`L${Outline.svgRound(line[10])} ${Outline.svgRound(line[11])}`);\n        continue;\n      }\n      for (let i = 6, ii = line.length; i < ii; i += 6) {\n        const [c1x, c1y, c2x, c2y, x, y] = line.subarray(i, i + 6).map(Outline.svgRound);\n        buffer.push(`C${c1x} ${c1y} ${c2x} ${c2y} ${x} ${y}`);\n      }\n    }\n    return buffer.join(\"\");\n  }\n  serialize([pageX, pageY, pageWidth, pageHeight], isForCopying) {\n    const serializedLines = [];\n    const serializedPoints = [];\n    const [x, y, width, height] = this.#getBBoxWithNoMargin();\n    let tx, ty, sx, sy, x1, y1, x2, y2, rescaleFn;\n    switch (this.#rotation) {\n      case 0:\n        rescaleFn = Outline._rescale;\n        tx = pageX;\n        ty = pageY + pageHeight;\n        sx = pageWidth;\n        sy = -pageHeight;\n        x1 = pageX + x * pageWidth;\n        y1 = pageY + (1 - y - height) * pageHeight;\n        x2 = pageX + (x + width) * pageWidth;\n        y2 = pageY + (1 - y) * pageHeight;\n        break;\n      case 90:\n        rescaleFn = Outline._rescaleAndSwap;\n        tx = pageX;\n        ty = pageY;\n        sx = pageWidth;\n        sy = pageHeight;\n        x1 = pageX + y * pageWidth;\n        y1 = pageY + x * pageHeight;\n        x2 = pageX + (y + height) * pageWidth;\n        y2 = pageY + (x + width) * pageHeight;\n        break;\n      case 180:\n        rescaleFn = Outline._rescale;\n        tx = pageX + pageWidth;\n        ty = pageY;\n        sx = -pageWidth;\n        sy = pageHeight;\n        x1 = pageX + (1 - x - width) * pageWidth;\n        y1 = pageY + y * pageHeight;\n        x2 = pageX + (1 - x) * pageWidth;\n        y2 = pageY + (y + height) * pageHeight;\n        break;\n      case 270:\n        rescaleFn = Outline._rescaleAndSwap;\n        tx = pageX + pageWidth;\n        ty = pageY + pageHeight;\n        sx = -pageWidth;\n        sy = -pageHeight;\n        x1 = pageX + (1 - y - height) * pageWidth;\n        y1 = pageY + (1 - x - width) * pageHeight;\n        x2 = pageX + (1 - y) * pageWidth;\n        y2 = pageY + (1 - x) * pageHeight;\n        break;\n    }\n    for (const {\n      line,\n      points\n    } of this.#lines) {\n      serializedLines.push(rescaleFn(line, tx, ty, sx, sy, isForCopying ? new Array(line.length) : null));\n      serializedPoints.push(rescaleFn(points, tx, ty, sx, sy, isForCopying ? new Array(points.length) : null));\n    }\n    return {\n      lines: serializedLines,\n      points: serializedPoints,\n      rect: [x1, y1, x2, y2]\n    };\n  }\n  static deserialize(pageX, pageY, pageWidth, pageHeight, innerMargin, {\n    paths: {\n      lines,\n      points\n    },\n    rotation,\n    thickness\n  }) {\n    const newLines = [];\n    let tx, ty, sx, sy, rescaleFn;\n    switch (rotation) {\n      case 0:\n        rescaleFn = Outline._rescale;\n        tx = -pageX / pageWidth;\n        ty = pageY / pageHeight + 1;\n        sx = 1 / pageWidth;\n        sy = -1 / pageHeight;\n        break;\n      case 90:\n        rescaleFn = Outline._rescaleAndSwap;\n        tx = -pageY / pageHeight;\n        ty = -pageX / pageWidth;\n        sx = 1 / pageHeight;\n        sy = 1 / pageWidth;\n        break;\n      case 180:\n        rescaleFn = Outline._rescale;\n        tx = pageX / pageWidth + 1;\n        ty = -pageY / pageHeight;\n        sx = -1 / pageWidth;\n        sy = 1 / pageHeight;\n        break;\n      case 270:\n        rescaleFn = Outline._rescaleAndSwap;\n        tx = pageY / pageHeight + 1;\n        ty = pageX / pageWidth + 1;\n        sx = -1 / pageHeight;\n        sy = -1 / pageWidth;\n        break;\n    }\n    if (!lines) {\n      lines = [];\n      for (const point of points) {\n        const len = point.length;\n        if (len === 2) {\n          lines.push(new Float32Array([NaN, NaN, NaN, NaN, point[0], point[1]]));\n          continue;\n        }\n        if (len === 4) {\n          lines.push(new Float32Array([NaN, NaN, NaN, NaN, point[0], point[1], NaN, NaN, NaN, NaN, point[2], point[3]]));\n          continue;\n        }\n        const line = new Float32Array(3 * (len - 2));\n        lines.push(line);\n        let [x1, y1, x2, y2] = point.subarray(0, 4);\n        line.set([NaN, NaN, NaN, NaN, x1, y1], 0);\n        for (let i = 4; i < len; i += 2) {\n          const x = point[i];\n          const y = point[i + 1];\n          line.set(Outline.createBezierPoints(x1, y1, x2, y2, x, y), (i - 2) * 3);\n          [x1, y1, x2, y2] = [x2, y2, x, y];\n        }\n      }\n    }\n    for (let i = 0, ii = lines.length; i < ii; i++) {\n      newLines.push({\n        line: rescaleFn(lines[i].map(x => x ?? NaN), tx, ty, sx, sy),\n        points: rescaleFn(points[i].map(x => x ?? NaN), tx, ty, sx, sy)\n      });\n    }\n    const outlines = new this.prototype.constructor();\n    outlines.build(newLines, pageWidth, pageHeight, 1, rotation, thickness, innerMargin);\n    return outlines;\n  }\n  #getMarginComponents(thickness = this.#thickness) {\n    const margin = this.#innerMargin + thickness / 2 * this.#parentScale;\n    return this.#rotation % 180 === 0 ? [margin / this.#parentWidth, margin / this.#parentHeight] : [margin / this.#parentHeight, margin / this.#parentWidth];\n  }\n  #getBBoxWithNoMargin() {\n    const [x, y, width, height] = this.#bbox;\n    const [marginX, marginY] = this.#getMarginComponents(0);\n    return [x + marginX, y + marginY, width - 2 * marginX, height - 2 * marginY];\n  }\n  #computeBbox() {\n    const bbox = this.#bbox = new Float32Array([Infinity, Infinity, -Infinity, -Infinity]);\n    for (const {\n      line\n    } of this.#lines) {\n      if (line.length <= 12) {\n        for (let i = 4, ii = line.length; i < ii; i += 6) {\n          Util.pointBoundingBox(line[i], line[i + 1], bbox);\n        }\n        continue;\n      }\n      let lastX = line[4],\n        lastY = line[5];\n      for (let i = 6, ii = line.length; i < ii; i += 6) {\n        const [c1x, c1y, c2x, c2y, x, y] = line.subarray(i, i + 6);\n        Util.bezierBoundingBox(lastX, lastY, c1x, c1y, c2x, c2y, x, y, bbox);\n        lastX = x;\n        lastY = y;\n      }\n    }\n    const [marginX, marginY] = this.#getMarginComponents();\n    bbox[0] = MathClamp(bbox[0] - marginX, 0, 1);\n    bbox[1] = MathClamp(bbox[1] - marginY, 0, 1);\n    bbox[2] = MathClamp(bbox[2] + marginX, 0, 1);\n    bbox[3] = MathClamp(bbox[3] + marginY, 0, 1);\n    bbox[2] -= bbox[0];\n    bbox[3] -= bbox[1];\n  }\n  get box() {\n    return this.#bbox;\n  }\n  updateProperty(name, value) {\n    if (name === \"stroke-width\") {\n      return this.#updateThickness(value);\n    }\n    return null;\n  }\n  #updateThickness(thickness) {\n    const [oldMarginX, oldMarginY] = this.#getMarginComponents();\n    this.#thickness = thickness;\n    const [newMarginX, newMarginY] = this.#getMarginComponents();\n    const [diffMarginX, diffMarginY] = [newMarginX - oldMarginX, newMarginY - oldMarginY];\n    const bbox = this.#bbox;\n    bbox[0] -= diffMarginX;\n    bbox[1] -= diffMarginY;\n    bbox[2] += 2 * diffMarginX;\n    bbox[3] += 2 * diffMarginY;\n    return bbox;\n  }\n  updateParentDimensions([width, height], scale) {\n    const [oldMarginX, oldMarginY] = this.#getMarginComponents();\n    this.#parentWidth = width;\n    this.#parentHeight = height;\n    this.#parentScale = scale;\n    const [newMarginX, newMarginY] = this.#getMarginComponents();\n    const diffMarginX = newMarginX - oldMarginX;\n    const diffMarginY = newMarginY - oldMarginY;\n    const bbox = this.#bbox;\n    bbox[0] -= diffMarginX;\n    bbox[1] -= diffMarginY;\n    bbox[2] += 2 * diffMarginX;\n    bbox[3] += 2 * diffMarginY;\n    return bbox;\n  }\n  updateRotation(rotation) {\n    this.#currentRotation = rotation;\n    return {\n      path: {\n        transform: this.rotationTransform\n      }\n    };\n  }\n  get viewBox() {\n    return this.#bbox.map(Outline.svgRound).join(\" \");\n  }\n  get defaultProperties() {\n    const [x, y] = this.#bbox;\n    return {\n      root: {\n        viewBox: this.viewBox\n      },\n      path: {\n        \"transform-origin\": `${Outline.svgRound(x)} ${Outline.svgRound(y)}`\n      }\n    };\n  }\n  get rotationTransform() {\n    const [,, width, height] = this.#bbox;\n    let a = 0,\n      b = 0,\n      c = 0,\n      d = 0,\n      e = 0,\n      f = 0;\n    switch (this.#currentRotation) {\n      case 90:\n        b = height / width;\n        c = -width / height;\n        e = width;\n        break;\n      case 180:\n        a = -1;\n        d = -1;\n        e = width;\n        f = height;\n        break;\n      case 270:\n        b = -height / width;\n        c = width / height;\n        f = height;\n        break;\n      default:\n        return \"\";\n    }\n    return `matrix(${a} ${b} ${c} ${d} ${Outline.svgRound(e)} ${Outline.svgRound(f)})`;\n  }\n  getPathResizingSVGProperties([newX, newY, newWidth, newHeight]) {\n    const [marginX, marginY] = this.#getMarginComponents();\n    const [x, y, width, height] = this.#bbox;\n    if (Math.abs(width - marginX) <= Outline.PRECISION || Math.abs(height - marginY) <= Outline.PRECISION) {\n      const tx = newX + newWidth / 2 - (x + width / 2);\n      const ty = newY + newHeight / 2 - (y + height / 2);\n      return {\n        path: {\n          \"transform-origin\": `${Outline.svgRound(newX)} ${Outline.svgRound(newY)}`,\n          transform: `${this.rotationTransform} translate(${tx} ${ty})`\n        }\n      };\n    }\n    const s1x = (newWidth - 2 * marginX) / (width - 2 * marginX);\n    const s1y = (newHeight - 2 * marginY) / (height - 2 * marginY);\n    const s2x = width / newWidth;\n    const s2y = height / newHeight;\n    return {\n      path: {\n        \"transform-origin\": `${Outline.svgRound(x)} ${Outline.svgRound(y)}`,\n        transform: `${this.rotationTransform} scale(${s2x} ${s2y}) ` + `translate(${Outline.svgRound(marginX)} ${Outline.svgRound(marginY)}) scale(${s1x} ${s1y}) ` + `translate(${Outline.svgRound(-marginX)} ${Outline.svgRound(-marginY)})`\n      }\n    };\n  }\n  getPathResizedSVGProperties([newX, newY, newWidth, newHeight]) {\n    const [marginX, marginY] = this.#getMarginComponents();\n    const bbox = this.#bbox;\n    const [x, y, width, height] = bbox;\n    bbox[0] = newX;\n    bbox[1] = newY;\n    bbox[2] = newWidth;\n    bbox[3] = newHeight;\n    if (Math.abs(width - marginX) <= Outline.PRECISION || Math.abs(height - marginY) <= Outline.PRECISION) {\n      const tx = newX + newWidth / 2 - (x + width / 2);\n      const ty = newY + newHeight / 2 - (y + height / 2);\n      for (const {\n        line,\n        points\n      } of this.#lines) {\n        Outline._translate(line, tx, ty, line);\n        Outline._translate(points, tx, ty, points);\n      }\n      return {\n        root: {\n          viewBox: this.viewBox\n        },\n        path: {\n          \"transform-origin\": `${Outline.svgRound(newX)} ${Outline.svgRound(newY)}`,\n          transform: this.rotationTransform || null,\n          d: this.toSVGPath()\n        }\n      };\n    }\n    const s1x = (newWidth - 2 * marginX) / (width - 2 * marginX);\n    const s1y = (newHeight - 2 * marginY) / (height - 2 * marginY);\n    const tx = -s1x * (x + marginX) + newX + marginX;\n    const ty = -s1y * (y + marginY) + newY + marginY;\n    if (s1x !== 1 || s1y !== 1 || tx !== 0 || ty !== 0) {\n      for (const {\n        line,\n        points\n      } of this.#lines) {\n        Outline._rescale(line, tx, ty, s1x, s1y, line);\n        Outline._rescale(points, tx, ty, s1x, s1y, points);\n      }\n    }\n    return {\n      root: {\n        viewBox: this.viewBox\n      },\n      path: {\n        \"transform-origin\": `${Outline.svgRound(newX)} ${Outline.svgRound(newY)}`,\n        transform: this.rotationTransform || null,\n        d: this.toSVGPath()\n      }\n    };\n  }\n  getPathTranslatedSVGProperties([newX, newY], parentDimensions) {\n    const [newParentWidth, newParentHeight] = parentDimensions;\n    const bbox = this.#bbox;\n    const tx = newX - bbox[0];\n    const ty = newY - bbox[1];\n    if (this.#parentWidth === newParentWidth && this.#parentHeight === newParentHeight) {\n      for (const {\n        line,\n        points\n      } of this.#lines) {\n        Outline._translate(line, tx, ty, line);\n        Outline._translate(points, tx, ty, points);\n      }\n    } else {\n      const sx = this.#parentWidth / newParentWidth;\n      const sy = this.#parentHeight / newParentHeight;\n      this.#parentWidth = newParentWidth;\n      this.#parentHeight = newParentHeight;\n      for (const {\n        line,\n        points\n      } of this.#lines) {\n        Outline._rescale(line, tx, ty, sx, sy, line);\n        Outline._rescale(points, tx, ty, sx, sy, points);\n      }\n      bbox[2] *= sx;\n      bbox[3] *= sy;\n    }\n    bbox[0] = newX;\n    bbox[1] = newY;\n    return {\n      root: {\n        viewBox: this.viewBox\n      },\n      path: {\n        d: this.toSVGPath(),\n        \"transform-origin\": `${Outline.svgRound(newX)} ${Outline.svgRound(newY)}`\n      }\n    };\n  }\n  get defaultSVGProperties() {\n    const bbox = this.#bbox;\n    return {\n      root: {\n        viewBox: this.viewBox\n      },\n      rootClass: {\n        draw: true\n      },\n      path: {\n        d: this.toSVGPath(),\n        \"transform-origin\": `${Outline.svgRound(bbox[0])} ${Outline.svgRound(bbox[1])}`,\n        transform: this.rotationTransform || null\n      },\n      bbox\n    };\n  }\n}\n\n;// ./src/display/editor/ink.js\n\n\n\n\n\n\nclass InkDrawingOptions extends DrawingOptions {\n  constructor(viewerParameters) {\n    super();\n    this._viewParameters = viewerParameters;\n    super.updateProperties({\n      fill: \"none\",\n      stroke: AnnotationEditor._defaultLineColor,\n      \"stroke-opacity\": 1,\n      \"stroke-width\": 1,\n      \"stroke-linecap\": \"round\",\n      \"stroke-linejoin\": \"round\",\n      \"stroke-miterlimit\": 10\n    });\n  }\n  updateSVGProperty(name, value) {\n    if (name === \"stroke-width\") {\n      value ??= this[\"stroke-width\"];\n      value *= this._viewParameters.realScale;\n    }\n    super.updateSVGProperty(name, value);\n  }\n  clone() {\n    const clone = new InkDrawingOptions(this._viewParameters);\n    clone.updateAll(this);\n    return clone;\n  }\n}\nclass InkEditor extends DrawingEditor {\n  static _type = \"ink\";\n  static _editorType = AnnotationEditorType.INK;\n  static _defaultDrawingOptions = null;\n  constructor(params) {\n    super({\n      ...params,\n      name: \"inkEditor\"\n    });\n    this._willKeepAspectRatio = true;\n    this.defaultL10nId = \"pdfjs-editor-ink-editor\";\n  }\n  static initialize(l10n, uiManager) {\n    AnnotationEditor.initialize(l10n, uiManager);\n    this._defaultDrawingOptions = new InkDrawingOptions(uiManager.viewParameters);\n  }\n  static getDefaultDrawingOptions(options) {\n    const clone = this._defaultDrawingOptions.clone();\n    clone.updateProperties(options);\n    return clone;\n  }\n  static get supportMultipleDrawings() {\n    return true;\n  }\n  static get typesMap() {\n    return shadow(this, \"typesMap\", new Map([[AnnotationEditorParamsType.INK_THICKNESS, \"stroke-width\"], [AnnotationEditorParamsType.INK_COLOR, \"stroke\"], [AnnotationEditorParamsType.INK_OPACITY, \"stroke-opacity\"]]));\n  }\n  static createDrawerInstance(x, y, parentWidth, parentHeight, rotation) {\n    return new InkDrawOutliner(x, y, parentWidth, parentHeight, rotation, this._defaultDrawingOptions[\"stroke-width\"]);\n  }\n  static deserializeDraw(pageX, pageY, pageWidth, pageHeight, innerMargin, data) {\n    return InkDrawOutline.deserialize(pageX, pageY, pageWidth, pageHeight, innerMargin, data);\n  }\n  static async deserialize(data, parent, uiManager) {\n    let initialData = null;\n    if (data instanceof InkAnnotationElement) {\n      const {\n        data: {\n          inkLists,\n          rect,\n          rotation,\n          id,\n          color,\n          opacity,\n          borderStyle: {\n            rawWidth: thickness\n          },\n          popupRef,\n          richText,\n          contentsObj,\n          creationDate,\n          modificationDate\n        },\n        parent: {\n          page: {\n            pageNumber\n          }\n        }\n      } = data;\n      initialData = data = {\n        annotationType: AnnotationEditorType.INK,\n        color: Array.from(color),\n        thickness,\n        opacity,\n        paths: {\n          points: inkLists\n        },\n        boxes: null,\n        pageIndex: pageNumber - 1,\n        rect: rect.slice(0),\n        rotation,\n        annotationElementId: id,\n        id,\n        deleted: false,\n        popupRef,\n        richText,\n        comment: contentsObj?.str || null,\n        creationDate,\n        modificationDate\n      };\n    }\n    const editor = await super.deserialize(data, parent, uiManager);\n    editor._initialData = initialData;\n    if (data.comment) {\n      editor.setCommentData(data);\n    }\n    return editor;\n  }\n  get toolbarButtons() {\n    this._colorPicker ||= new BasicColorPicker(this);\n    return [[\"colorPicker\", this._colorPicker]];\n  }\n  get colorType() {\n    return AnnotationEditorParamsType.INK_COLOR;\n  }\n  get color() {\n    return this._drawingOptions.stroke;\n  }\n  get opacity() {\n    return this._drawingOptions[\"stroke-opacity\"];\n  }\n  onScaleChanging() {\n    if (!this.parent) {\n      return;\n    }\n    super.onScaleChanging();\n    const {\n      _drawId,\n      _drawingOptions,\n      parent\n    } = this;\n    _drawingOptions.updateSVGProperty(\"stroke-width\");\n    parent.drawLayer.updateProperties(_drawId, _drawingOptions.toSVGProperties());\n  }\n  static onScaleChangingWhenDrawing() {\n    const parent = this._currentParent;\n    if (!parent) {\n      return;\n    }\n    super.onScaleChangingWhenDrawing();\n    this._defaultDrawingOptions.updateSVGProperty(\"stroke-width\");\n    parent.drawLayer.updateProperties(this._currentDrawId, this._defaultDrawingOptions.toSVGProperties());\n  }\n  createDrawingOptions({\n    color,\n    thickness,\n    opacity\n  }) {\n    this._drawingOptions = InkEditor.getDefaultDrawingOptions({\n      stroke: Util.makeHexColor(...color),\n      \"stroke-width\": thickness,\n      \"stroke-opacity\": opacity\n    });\n  }\n  serialize(isForCopying = false) {\n    if (this.isEmpty()) {\n      return null;\n    }\n    if (this.deleted) {\n      return this.serializeDeleted();\n    }\n    const {\n      lines,\n      points\n    } = this.serializeDraw(isForCopying);\n    const {\n      _drawingOptions: {\n        stroke,\n        \"stroke-opacity\": opacity,\n        \"stroke-width\": thickness\n      }\n    } = this;\n    const serialized = Object.assign(super.serialize(isForCopying), {\n      color: AnnotationEditor._colorManager.convert(stroke),\n      opacity,\n      thickness,\n      paths: {\n        lines,\n        points\n      }\n    });\n    this.addComment(serialized);\n    if (isForCopying) {\n      serialized.isCopy = true;\n      return serialized;\n    }\n    if (this.annotationElementId && !this.#hasElementChanged(serialized)) {\n      return null;\n    }\n    serialized.id = this.annotationElementId;\n    return serialized;\n  }\n  #hasElementChanged(serialized) {\n    const {\n      color,\n      thickness,\n      opacity,\n      pageIndex\n    } = this._initialData;\n    return this.hasEditedComment || this._hasBeenMoved || this._hasBeenResized || serialized.color.some((c, i) => c !== color[i]) || serialized.thickness !== thickness || serialized.opacity !== opacity || serialized.pageIndex !== pageIndex;\n  }\n  renderAnnotationElement(annotation) {\n    if (this.deleted) {\n      annotation.hide();\n      return null;\n    }\n    const {\n      points,\n      rect\n    } = this.serializeDraw(false);\n    annotation.updateEdited({\n      rect,\n      thickness: this._drawingOptions[\"stroke-width\"],\n      points,\n      popup: this.comment\n    });\n    return null;\n  }\n}\n\n;// ./src/display/editor/drawers/contour.js\n\nclass ContourDrawOutline extends InkDrawOutline {\n  toSVGPath() {\n    let path = super.toSVGPath();\n    if (!path.endsWith(\"Z\")) {\n      path += \"Z\";\n    }\n    return path;\n  }\n}\n\n;// ./src/display/editor/drawers/signaturedraw.js\n\n\n\n\nconst BASE_HEADER_LENGTH = 8;\nconst POINTS_PROPERTIES_NUMBER = 3;\nclass SignatureExtractor {\n  static #PARAMETERS = {\n    maxDim: 512,\n    sigmaSFactor: 0.02,\n    sigmaR: 25,\n    kernelSize: 16\n  };\n  static #neighborIndexToId(i0, j0, i, j) {\n    i -= i0;\n    j -= j0;\n    if (i === 0) {\n      return j > 0 ? 0 : 4;\n    }\n    if (i === 1) {\n      return j + 6;\n    }\n    return 2 - j;\n  }\n  static #neighborIdToIndex = new Int32Array([0, 1, -1, 1, -1, 0, -1, -1, 0, -1, 1, -1, 1, 0, 1, 1]);\n  static #clockwiseNonZero(buf, width, i0, j0, i, j, offset) {\n    const id = this.#neighborIndexToId(i0, j0, i, j);\n    for (let k = 0; k < 8; k++) {\n      const kk = (-k + id - offset + 16) % 8;\n      const shiftI = this.#neighborIdToIndex[2 * kk];\n      const shiftJ = this.#neighborIdToIndex[2 * kk + 1];\n      if (buf[(i0 + shiftI) * width + (j0 + shiftJ)] !== 0) {\n        return kk;\n      }\n    }\n    return -1;\n  }\n  static #counterClockwiseNonZero(buf, width, i0, j0, i, j, offset) {\n    const id = this.#neighborIndexToId(i0, j0, i, j);\n    for (let k = 0; k < 8; k++) {\n      const kk = (k + id + offset + 16) % 8;\n      const shiftI = this.#neighborIdToIndex[2 * kk];\n      const shiftJ = this.#neighborIdToIndex[2 * kk + 1];\n      if (buf[(i0 + shiftI) * width + (j0 + shiftJ)] !== 0) {\n        return kk;\n      }\n    }\n    return -1;\n  }\n  static #findContours(buf, width, height, threshold) {\n    const N = buf.length;\n    const types = new Int32Array(N);\n    for (let i = 0; i < N; i++) {\n      types[i] = buf[i] <= threshold ? 1 : 0;\n    }\n    for (let i = 1; i < height - 1; i++) {\n      types[i * width] = types[i * width + width - 1] = 0;\n    }\n    for (let i = 0; i < width; i++) {\n      types[i] = types[width * height - 1 - i] = 0;\n    }\n    let nbd = 1;\n    let lnbd;\n    const contours = [];\n    for (let i = 1; i < height - 1; i++) {\n      lnbd = 1;\n      for (let j = 1; j < width - 1; j++) {\n        const ij = i * width + j;\n        const pix = types[ij];\n        if (pix === 0) {\n          continue;\n        }\n        let i2 = i;\n        let j2 = j;\n        if (pix === 1 && types[ij - 1] === 0) {\n          nbd += 1;\n          j2 -= 1;\n        } else if (pix >= 1 && types[ij + 1] === 0) {\n          nbd += 1;\n          j2 += 1;\n          if (pix > 1) {\n            lnbd = pix;\n          }\n        } else {\n          if (pix !== 1) {\n            lnbd = Math.abs(pix);\n          }\n          continue;\n        }\n        const points = [j, i];\n        const isHole = j2 === j + 1;\n        const contour = {\n          isHole,\n          points,\n          id: nbd,\n          parent: 0\n        };\n        contours.push(contour);\n        let contour0;\n        for (const c of contours) {\n          if (c.id === lnbd) {\n            contour0 = c;\n            break;\n          }\n        }\n        if (!contour0) {\n          contour.parent = isHole ? lnbd : 0;\n        } else if (contour0.isHole) {\n          contour.parent = isHole ? contour0.parent : lnbd;\n        } else {\n          contour.parent = isHole ? lnbd : contour0.parent;\n        }\n        const k = this.#clockwiseNonZero(types, width, i, j, i2, j2, 0);\n        if (k === -1) {\n          types[ij] = -nbd;\n          if (types[ij] !== 1) {\n            lnbd = Math.abs(types[ij]);\n          }\n          continue;\n        }\n        let shiftI = this.#neighborIdToIndex[2 * k];\n        let shiftJ = this.#neighborIdToIndex[2 * k + 1];\n        const i1 = i + shiftI;\n        const j1 = j + shiftJ;\n        i2 = i1;\n        j2 = j1;\n        let i3 = i;\n        let j3 = j;\n        while (true) {\n          const kk = this.#counterClockwiseNonZero(types, width, i3, j3, i2, j2, 1);\n          shiftI = this.#neighborIdToIndex[2 * kk];\n          shiftJ = this.#neighborIdToIndex[2 * kk + 1];\n          const i4 = i3 + shiftI;\n          const j4 = j3 + shiftJ;\n          points.push(j4, i4);\n          const ij3 = i3 * width + j3;\n          if (types[ij3 + 1] === 0) {\n            types[ij3] = -nbd;\n          } else if (types[ij3] === 1) {\n            types[ij3] = nbd;\n          }\n          if (i4 === i && j4 === j && i3 === i1 && j3 === j1) {\n            if (types[ij] !== 1) {\n              lnbd = Math.abs(types[ij]);\n            }\n            break;\n          } else {\n            i2 = i3;\n            j2 = j3;\n            i3 = i4;\n            j3 = j4;\n          }\n        }\n      }\n    }\n    return contours;\n  }\n  static #douglasPeuckerHelper(points, start, end, output) {\n    if (end - start <= 4) {\n      for (let i = start; i < end - 2; i += 2) {\n        output.push(points[i], points[i + 1]);\n      }\n      return;\n    }\n    const ax = points[start];\n    const ay = points[start + 1];\n    const abx = points[end - 4] - ax;\n    const aby = points[end - 3] - ay;\n    const dist = Math.hypot(abx, aby);\n    const nabx = abx / dist;\n    const naby = aby / dist;\n    const aa = nabx * ay - naby * ax;\n    const m = aby / abx;\n    const invS = 1 / dist;\n    const phi = Math.atan(m);\n    const cosPhi = Math.cos(phi);\n    const sinPhi = Math.sin(phi);\n    const tmax = invS * (Math.abs(cosPhi) + Math.abs(sinPhi));\n    const poly = invS * (1 - tmax + tmax ** 2);\n    const partialPhi = Math.max(Math.atan(Math.abs(sinPhi + cosPhi) * poly), Math.atan(Math.abs(sinPhi - cosPhi) * poly));\n    let dmax = 0;\n    let index = start;\n    for (let i = start + 2; i < end - 2; i += 2) {\n      const d = Math.abs(aa - nabx * points[i + 1] + naby * points[i]);\n      if (d > dmax) {\n        index = i;\n        dmax = d;\n      }\n    }\n    if (dmax > (dist * partialPhi) ** 2) {\n      this.#douglasPeuckerHelper(points, start, index + 2, output);\n      this.#douglasPeuckerHelper(points, index, end, output);\n    } else {\n      output.push(ax, ay);\n    }\n  }\n  static #douglasPeucker(points) {\n    const output = [];\n    const len = points.length;\n    this.#douglasPeuckerHelper(points, 0, len, output);\n    output.push(points[len - 2], points[len - 1]);\n    return output.length <= 4 ? null : output;\n  }\n  static #bilateralFilter(buf, width, height, sigmaS, sigmaR, kernelSize) {\n    const kernel = new Float32Array(kernelSize ** 2);\n    const sigmaS2 = -2 * sigmaS ** 2;\n    const halfSize = kernelSize >> 1;\n    for (let i = 0; i < kernelSize; i++) {\n      const x = (i - halfSize) ** 2;\n      for (let j = 0; j < kernelSize; j++) {\n        kernel[i * kernelSize + j] = Math.exp((x + (j - halfSize) ** 2) / sigmaS2);\n      }\n    }\n    const rangeValues = new Float32Array(256);\n    const sigmaR2 = -2 * sigmaR ** 2;\n    for (let i = 0; i < 256; i++) {\n      rangeValues[i] = Math.exp(i ** 2 / sigmaR2);\n    }\n    const N = buf.length;\n    const out = new Uint8Array(N);\n    const histogram = new Uint32Array(256);\n    for (let i = 0; i < height; i++) {\n      for (let j = 0; j < width; j++) {\n        const ij = i * width + j;\n        const center = buf[ij];\n        let sum = 0;\n        let norm = 0;\n        for (let k = 0; k < kernelSize; k++) {\n          const y = i + k - halfSize;\n          if (y < 0 || y >= height) {\n            continue;\n          }\n          for (let l = 0; l < kernelSize; l++) {\n            const x = j + l - halfSize;\n            if (x < 0 || x >= width) {\n              continue;\n            }\n            const neighbour = buf[y * width + x];\n            const w = kernel[k * kernelSize + l] * rangeValues[Math.abs(neighbour - center)];\n            sum += neighbour * w;\n            norm += w;\n          }\n        }\n        const pix = out[ij] = Math.round(sum / norm);\n        histogram[pix]++;\n      }\n    }\n    return [out, histogram];\n  }\n  static #getHistogram(buf) {\n    const histogram = new Uint32Array(256);\n    for (const g of buf) {\n      histogram[g]++;\n    }\n    return histogram;\n  }\n  static #toUint8(buf) {\n    const N = buf.length;\n    const out = new Uint8ClampedArray(N >> 2);\n    let max = -Infinity;\n    let min = Infinity;\n    for (let i = 0, ii = out.length; i < ii; i++) {\n      const pix = out[i] = buf[i << 2];\n      max = Math.max(max, pix);\n      min = Math.min(min, pix);\n    }\n    const ratio = 255 / (max - min);\n    for (let i = 0, ii = out.length; i < ii; i++) {\n      out[i] = (out[i] - min) * ratio;\n    }\n    return out;\n  }\n  static #guessThreshold(histogram) {\n    let i;\n    let M = -Infinity;\n    let L = -Infinity;\n    const min = histogram.findIndex(v => v !== 0);\n    let pos = min;\n    let spos = min;\n    for (i = min; i < 256; i++) {\n      const v = histogram[i];\n      if (v > M) {\n        if (i - pos > L) {\n          L = i - pos;\n          spos = i - 1;\n        }\n        M = v;\n        pos = i;\n      }\n    }\n    for (i = spos - 1; i >= 0; i--) {\n      if (histogram[i] > histogram[i + 1]) {\n        break;\n      }\n    }\n    return i;\n  }\n  static #getGrayPixels(bitmap) {\n    const originalBitmap = bitmap;\n    const {\n      width,\n      height\n    } = bitmap;\n    const {\n      maxDim\n    } = this.#PARAMETERS;\n    let newWidth = width;\n    let newHeight = height;\n    if (width > maxDim || height > maxDim) {\n      let prevWidth = width;\n      let prevHeight = height;\n      let steps = Math.log2(Math.max(width, height) / maxDim);\n      const isteps = Math.floor(steps);\n      steps = steps === isteps ? isteps - 1 : isteps;\n      for (let i = 0; i < steps; i++) {\n        newWidth = Math.ceil(prevWidth / 2);\n        newHeight = Math.ceil(prevHeight / 2);\n        const offscreen = new OffscreenCanvas(newWidth, newHeight);\n        const ctx = offscreen.getContext(\"2d\");\n        ctx.drawImage(bitmap, 0, 0, prevWidth, prevHeight, 0, 0, newWidth, newHeight);\n        prevWidth = newWidth;\n        prevHeight = newHeight;\n        if (bitmap !== originalBitmap) {\n          bitmap.close();\n        }\n        bitmap = offscreen.transferToImageBitmap();\n      }\n      const ratio = Math.min(maxDim / newWidth, maxDim / newHeight);\n      newWidth = Math.round(newWidth * ratio);\n      newHeight = Math.round(newHeight * ratio);\n    }\n    const offscreen = new OffscreenCanvas(newWidth, newHeight);\n    const ctx = offscreen.getContext(\"2d\", {\n      willReadFrequently: true\n    });\n    ctx.fillStyle = \"white\";\n    ctx.fillRect(0, 0, newWidth, newHeight);\n    ctx.filter = \"grayscale(1)\";\n    ctx.drawImage(bitmap, 0, 0, bitmap.width, bitmap.height, 0, 0, newWidth, newHeight);\n    const grayImage = ctx.getImageData(0, 0, newWidth, newHeight).data;\n    const uint8Buf = this.#toUint8(grayImage);\n    return [uint8Buf, newWidth, newHeight];\n  }\n  static extractContoursFromText(text, {\n    fontFamily,\n    fontStyle,\n    fontWeight\n  }, pageWidth, pageHeight, rotation, innerMargin) {\n    let canvas = new OffscreenCanvas(1, 1);\n    let ctx = canvas.getContext(\"2d\", {\n      alpha: false\n    });\n    const fontSize = 200;\n    const font = ctx.font = `${fontStyle} ${fontWeight} ${fontSize}px ${fontFamily}`;\n    const {\n      actualBoundingBoxLeft,\n      actualBoundingBoxRight,\n      actualBoundingBoxAscent,\n      actualBoundingBoxDescent,\n      fontBoundingBoxAscent,\n      fontBoundingBoxDescent,\n      width\n    } = ctx.measureText(text);\n    const SCALE = 1.5;\n    const canvasWidth = Math.ceil(Math.max(Math.abs(actualBoundingBoxLeft) + Math.abs(actualBoundingBoxRight) || 0, width) * SCALE);\n    const canvasHeight = Math.ceil(Math.max(Math.abs(actualBoundingBoxAscent) + Math.abs(actualBoundingBoxDescent) || fontSize, Math.abs(fontBoundingBoxAscent) + Math.abs(fontBoundingBoxDescent) || fontSize) * SCALE);\n    canvas = new OffscreenCanvas(canvasWidth, canvasHeight);\n    ctx = canvas.getContext(\"2d\", {\n      alpha: true,\n      willReadFrequently: true\n    });\n    ctx.font = font;\n    ctx.filter = \"grayscale(1)\";\n    ctx.fillStyle = \"white\";\n    ctx.fillRect(0, 0, canvasWidth, canvasHeight);\n    ctx.fillStyle = \"black\";\n    ctx.fillText(text, canvasWidth * (SCALE - 1) / 2, canvasHeight * (3 - SCALE) / 2);\n    const uint8Buf = this.#toUint8(ctx.getImageData(0, 0, canvasWidth, canvasHeight).data);\n    const histogram = this.#getHistogram(uint8Buf);\n    const threshold = this.#guessThreshold(histogram);\n    const contourList = this.#findContours(uint8Buf, canvasWidth, canvasHeight, threshold);\n    return this.processDrawnLines({\n      lines: {\n        curves: contourList,\n        width: canvasWidth,\n        height: canvasHeight\n      },\n      pageWidth,\n      pageHeight,\n      rotation,\n      innerMargin,\n      mustSmooth: true,\n      areContours: true\n    });\n  }\n  static process(bitmap, pageWidth, pageHeight, rotation, innerMargin) {\n    const [uint8Buf, width, height] = this.#getGrayPixels(bitmap);\n    const [buffer, histogram] = this.#bilateralFilter(uint8Buf, width, height, Math.hypot(width, height) * this.#PARAMETERS.sigmaSFactor, this.#PARAMETERS.sigmaR, this.#PARAMETERS.kernelSize);\n    const threshold = this.#guessThreshold(histogram);\n    const contourList = this.#findContours(buffer, width, height, threshold);\n    return this.processDrawnLines({\n      lines: {\n        curves: contourList,\n        width,\n        height\n      },\n      pageWidth,\n      pageHeight,\n      rotation,\n      innerMargin,\n      mustSmooth: true,\n      areContours: true\n    });\n  }\n  static processDrawnLines({\n    lines,\n    pageWidth,\n    pageHeight,\n    rotation,\n    innerMargin,\n    mustSmooth,\n    areContours\n  }) {\n    if (rotation % 180 !== 0) {\n      [pageWidth, pageHeight] = [pageHeight, pageWidth];\n    }\n    const {\n      curves,\n      width,\n      height\n    } = lines;\n    const thickness = lines.thickness ?? 0;\n    const linesAndPoints = [];\n    const ratio = Math.min(pageWidth / width, pageHeight / height);\n    const xScale = ratio / pageWidth;\n    const yScale = ratio / pageHeight;\n    const newCurves = [];\n    for (const {\n      points\n    } of curves) {\n      const reducedPoints = mustSmooth ? this.#douglasPeucker(points) : points;\n      if (!reducedPoints) {\n        continue;\n      }\n      newCurves.push(reducedPoints);\n      const len = reducedPoints.length;\n      const newPoints = new Float32Array(len);\n      const line = new Float32Array(3 * (len === 2 ? 2 : len - 2));\n      linesAndPoints.push({\n        line,\n        points: newPoints\n      });\n      if (len === 2) {\n        newPoints[0] = reducedPoints[0] * xScale;\n        newPoints[1] = reducedPoints[1] * yScale;\n        line.set([NaN, NaN, NaN, NaN, newPoints[0], newPoints[1]], 0);\n        continue;\n      }\n      let [x1, y1, x2, y2] = reducedPoints;\n      x1 *= xScale;\n      y1 *= yScale;\n      x2 *= xScale;\n      y2 *= yScale;\n      newPoints.set([x1, y1, x2, y2], 0);\n      line.set([NaN, NaN, NaN, NaN, x1, y1], 0);\n      for (let i = 4; i < len; i += 2) {\n        const x = newPoints[i] = reducedPoints[i] * xScale;\n        const y = newPoints[i + 1] = reducedPoints[i + 1] * yScale;\n        line.set(Outline.createBezierPoints(x1, y1, x2, y2, x, y), (i - 2) * 3);\n        [x1, y1, x2, y2] = [x2, y2, x, y];\n      }\n    }\n    if (linesAndPoints.length === 0) {\n      return null;\n    }\n    const outline = areContours ? new ContourDrawOutline() : new InkDrawOutline();\n    outline.build(linesAndPoints, pageWidth, pageHeight, 1, rotation, areContours ? 0 : thickness, innerMargin);\n    return {\n      outline,\n      newCurves,\n      areContours,\n      thickness,\n      width,\n      height\n    };\n  }\n  static async compressSignature({\n    outlines,\n    areContours,\n    thickness,\n    width,\n    height\n  }) {\n    let minDiff = Infinity;\n    let maxDiff = -Infinity;\n    let outlinesLength = 0;\n    for (const points of outlines) {\n      outlinesLength += points.length;\n      for (let i = 2, ii = points.length; i < ii; i++) {\n        const dx = points[i] - points[i - 2];\n        minDiff = Math.min(minDiff, dx);\n        maxDiff = Math.max(maxDiff, dx);\n      }\n    }\n    let bufferType;\n    if (minDiff >= -128 && maxDiff <= 127) {\n      bufferType = Int8Array;\n    } else if (minDiff >= -32768 && maxDiff <= 32767) {\n      bufferType = Int16Array;\n    } else {\n      bufferType = Int32Array;\n    }\n    const len = outlines.length;\n    const headerLength = BASE_HEADER_LENGTH + POINTS_PROPERTIES_NUMBER * len;\n    const header = new Uint32Array(headerLength);\n    let offset = 0;\n    header[offset++] = headerLength * Uint32Array.BYTES_PER_ELEMENT + (outlinesLength - 2 * len) * bufferType.BYTES_PER_ELEMENT;\n    header[offset++] = 0;\n    header[offset++] = width;\n    header[offset++] = height;\n    header[offset++] = areContours ? 0 : 1;\n    header[offset++] = Math.max(0, Math.floor(thickness ?? 0));\n    header[offset++] = len;\n    header[offset++] = bufferType.BYTES_PER_ELEMENT;\n    for (const points of outlines) {\n      header[offset++] = points.length - 2;\n      header[offset++] = points[0];\n      header[offset++] = points[1];\n    }\n    const cs = new CompressionStream(\"deflate-raw\");\n    const writer = cs.writable.getWriter();\n    await writer.ready;\n    writer.write(header);\n    const BufferCtor = bufferType.prototype.constructor;\n    for (const points of outlines) {\n      const diffs = new BufferCtor(points.length - 2);\n      for (let i = 2, ii = points.length; i < ii; i++) {\n        diffs[i - 2] = points[i] - points[i - 2];\n      }\n      writer.write(diffs);\n    }\n    writer.close();\n    const buf = await new Response(cs.readable).arrayBuffer();\n    const bytes = new Uint8Array(buf);\n    return toBase64Util(bytes);\n  }\n  static async decompressSignature(signatureData) {\n    try {\n      const bytes = fromBase64Util(signatureData);\n      const {\n        readable,\n        writable\n      } = new DecompressionStream(\"deflate-raw\");\n      const writer = writable.getWriter();\n      await writer.ready;\n      writer.write(bytes).then(async () => {\n        await writer.ready;\n        await writer.close();\n      }).catch(() => {});\n      let data = null;\n      let offset = 0;\n      for await (const chunk of readable) {\n        data ||= new Uint8Array(new Uint32Array(chunk.buffer, 0, 4)[0]);\n        data.set(chunk, offset);\n        offset += chunk.length;\n      }\n      const header = new Uint32Array(data.buffer, 0, data.length >> 2);\n      const version = header[1];\n      if (version !== 0) {\n        throw new Error(`Invalid version: ${version}`);\n      }\n      const width = header[2];\n      const height = header[3];\n      const areContours = header[4] === 0;\n      const thickness = header[5];\n      const numberOfDrawings = header[6];\n      const bufferType = header[7];\n      const outlines = [];\n      const diffsOffset = (BASE_HEADER_LENGTH + POINTS_PROPERTIES_NUMBER * numberOfDrawings) * Uint32Array.BYTES_PER_ELEMENT;\n      let diffs;\n      switch (bufferType) {\n        case Int8Array.BYTES_PER_ELEMENT:\n          diffs = new Int8Array(data.buffer, diffsOffset);\n          break;\n        case Int16Array.BYTES_PER_ELEMENT:\n          diffs = new Int16Array(data.buffer, diffsOffset);\n          break;\n        case Int32Array.BYTES_PER_ELEMENT:\n          diffs = new Int32Array(data.buffer, diffsOffset);\n          break;\n      }\n      offset = 0;\n      for (let i = 0; i < numberOfDrawings; i++) {\n        const len = header[POINTS_PROPERTIES_NUMBER * i + BASE_HEADER_LENGTH];\n        const points = new Float32Array(len + 2);\n        outlines.push(points);\n        for (let j = 0; j < POINTS_PROPERTIES_NUMBER - 1; j++) {\n          points[j] = header[POINTS_PROPERTIES_NUMBER * i + BASE_HEADER_LENGTH + j + 1];\n        }\n        for (let j = 0; j < len; j++) {\n          points[j + 2] = points[j] + diffs[offset++];\n        }\n      }\n      return {\n        areContours,\n        thickness,\n        outlines,\n        width,\n        height\n      };\n    } catch (e) {\n      warn(`decompressSignature: ${e}`);\n      return null;\n    }\n  }\n}\n\n;// ./src/display/editor/signature.js\n\n\n\n\n\n\n\nclass SignatureOptions extends DrawingOptions {\n  constructor() {\n    super();\n    super.updateProperties({\n      fill: AnnotationEditor._defaultLineColor,\n      \"stroke-width\": 0\n    });\n  }\n  clone() {\n    const clone = new SignatureOptions();\n    clone.updateAll(this);\n    return clone;\n  }\n}\nclass DrawnSignatureOptions extends InkDrawingOptions {\n  constructor(viewerParameters) {\n    super(viewerParameters);\n    super.updateProperties({\n      stroke: AnnotationEditor._defaultLineColor,\n      \"stroke-width\": 1\n    });\n  }\n  clone() {\n    const clone = new DrawnSignatureOptions(this._viewParameters);\n    clone.updateAll(this);\n    return clone;\n  }\n}\nclass SignatureEditor extends DrawingEditor {\n  #isExtracted = false;\n  #description = null;\n  #signatureData = null;\n  #signatureUUID = null;\n  static _type = \"signature\";\n  static _editorType = AnnotationEditorType.SIGNATURE;\n  static _defaultDrawingOptions = null;\n  constructor(params) {\n    super({\n      ...params,\n      mustBeCommitted: true,\n      name: \"signatureEditor\"\n    });\n    this._willKeepAspectRatio = true;\n    this.#signatureData = params.signatureData || null;\n    this.#description = null;\n    this.defaultL10nId = \"pdfjs-editor-signature-editor1\";\n  }\n  static initialize(l10n, uiManager) {\n    AnnotationEditor.initialize(l10n, uiManager);\n    this._defaultDrawingOptions = new SignatureOptions();\n    this._defaultDrawnSignatureOptions = new DrawnSignatureOptions(uiManager.viewParameters);\n  }\n  static getDefaultDrawingOptions(options) {\n    const clone = this._defaultDrawingOptions.clone();\n    clone.updateProperties(options);\n    return clone;\n  }\n  static get supportMultipleDrawings() {\n    return false;\n  }\n  static get typesMap() {\n    return shadow(this, \"typesMap\", new Map());\n  }\n  static get isDrawer() {\n    return false;\n  }\n  get telemetryFinalData() {\n    return {\n      type: \"signature\",\n      hasDescription: !!this.#description\n    };\n  }\n  static computeTelemetryFinalData(data) {\n    const hasDescriptionStats = data.get(\"hasDescription\");\n    return {\n      hasAltText: hasDescriptionStats.get(true) ?? 0,\n      hasNoAltText: hasDescriptionStats.get(false) ?? 0\n    };\n  }\n  get isResizable() {\n    return true;\n  }\n  onScaleChanging() {\n    if (this._drawId === null) {\n      return;\n    }\n    super.onScaleChanging();\n  }\n  render() {\n    if (this.div) {\n      return this.div;\n    }\n    let baseX, baseY;\n    const {\n      _isCopy\n    } = this;\n    if (_isCopy) {\n      this._isCopy = false;\n      baseX = this.x;\n      baseY = this.y;\n    }\n    super.render();\n    if (this._drawId === null) {\n      if (this.#signatureData) {\n        const {\n          lines,\n          mustSmooth,\n          areContours,\n          description,\n          uuid,\n          heightInPage\n        } = this.#signatureData;\n        const {\n          rawDims: {\n            pageWidth,\n            pageHeight\n          },\n          rotation\n        } = this.parent.viewport;\n        const outline = SignatureExtractor.processDrawnLines({\n          lines,\n          pageWidth,\n          pageHeight,\n          rotation,\n          innerMargin: SignatureEditor._INNER_MARGIN,\n          mustSmooth,\n          areContours\n        });\n        this.addSignature(outline, heightInPage, description, uuid);\n      } else {\n        this.div.setAttribute(\"data-l10n-args\", JSON.stringify({\n          description: \"\"\n        }));\n        this.div.hidden = true;\n        this._uiManager.getSignature(this);\n      }\n    } else {\n      this.div.setAttribute(\"data-l10n-args\", JSON.stringify({\n        description: this.#description || \"\"\n      }));\n    }\n    if (_isCopy) {\n      this._isCopy = true;\n      this._moveAfterPaste(baseX, baseY);\n    }\n    return this.div;\n  }\n  setUuid(uuid) {\n    this.#signatureUUID = uuid;\n    this.addEditToolbar();\n  }\n  getUuid() {\n    return this.#signatureUUID;\n  }\n  get description() {\n    return this.#description;\n  }\n  set description(description) {\n    this.#description = description;\n    if (!this.div) {\n      return;\n    }\n    this.div.setAttribute(\"data-l10n-args\", JSON.stringify({\n      description\n    }));\n    super.addEditToolbar().then(toolbar => {\n      toolbar?.updateEditSignatureButton(description);\n    });\n  }\n  getSignaturePreview() {\n    const {\n      newCurves,\n      areContours,\n      thickness,\n      width,\n      height\n    } = this.#signatureData;\n    const maxDim = Math.max(width, height);\n    const outlineData = SignatureExtractor.processDrawnLines({\n      lines: {\n        curves: newCurves.map(points => ({\n          points\n        })),\n        thickness,\n        width,\n        height\n      },\n      pageWidth: maxDim,\n      pageHeight: maxDim,\n      rotation: 0,\n      innerMargin: 0,\n      mustSmooth: false,\n      areContours\n    });\n    return {\n      areContours,\n      outline: outlineData.outline\n    };\n  }\n  get toolbarButtons() {\n    if (this._uiManager.signatureManager) {\n      return [[\"editSignature\", this._uiManager.signatureManager]];\n    }\n    return super.toolbarButtons;\n  }\n  addSignature(data, heightInPage, description, uuid) {\n    const {\n      x: savedX,\n      y: savedY\n    } = this;\n    const {\n      outline\n    } = this.#signatureData = data;\n    this.#isExtracted = outline instanceof ContourDrawOutline;\n    this.description = description;\n    let drawingOptions;\n    if (this.#isExtracted) {\n      drawingOptions = SignatureEditor.getDefaultDrawingOptions();\n    } else {\n      drawingOptions = SignatureEditor._defaultDrawnSignatureOptions.clone();\n      drawingOptions.updateProperties({\n        \"stroke-width\": outline.thickness\n      });\n    }\n    this._addOutlines({\n      drawOutlines: outline,\n      drawingOptions\n    });\n    const [, pageHeight] = this.pageDimensions;\n    let newHeight = heightInPage / pageHeight;\n    newHeight = newHeight >= 1 ? 0.5 : newHeight;\n    this.width *= newHeight / this.height;\n    if (this.width >= 1) {\n      newHeight *= 0.9 / this.width;\n      this.width = 0.9;\n    }\n    this.height = newHeight;\n    this.setDims();\n    this.x = savedX;\n    this.y = savedY;\n    this.center();\n    this._onResized();\n    this.onScaleChanging();\n    this.rotate();\n    this._uiManager.addToAnnotationStorage(this);\n    this.setUuid(uuid);\n    this._reportTelemetry({\n      action: \"pdfjs.signature.inserted\",\n      data: {\n        hasBeenSaved: !!uuid,\n        hasDescription: !!description\n      }\n    });\n    this.div.hidden = false;\n  }\n  getFromImage(bitmap) {\n    const {\n      rawDims: {\n        pageWidth,\n        pageHeight\n      },\n      rotation\n    } = this.parent.viewport;\n    return SignatureExtractor.process(bitmap, pageWidth, pageHeight, rotation, SignatureEditor._INNER_MARGIN);\n  }\n  getFromText(text, fontInfo) {\n    const {\n      rawDims: {\n        pageWidth,\n        pageHeight\n      },\n      rotation\n    } = this.parent.viewport;\n    return SignatureExtractor.extractContoursFromText(text, fontInfo, pageWidth, pageHeight, rotation, SignatureEditor._INNER_MARGIN);\n  }\n  getDrawnSignature(curves) {\n    const {\n      rawDims: {\n        pageWidth,\n        pageHeight\n      },\n      rotation\n    } = this.parent.viewport;\n    return SignatureExtractor.processDrawnLines({\n      lines: curves,\n      pageWidth,\n      pageHeight,\n      rotation,\n      innerMargin: SignatureEditor._INNER_MARGIN,\n      mustSmooth: false,\n      areContours: false\n    });\n  }\n  createDrawingOptions({\n    areContours,\n    thickness\n  }) {\n    if (areContours) {\n      this._drawingOptions = SignatureEditor.getDefaultDrawingOptions();\n    } else {\n      this._drawingOptions = SignatureEditor._defaultDrawnSignatureOptions.clone();\n      this._drawingOptions.updateProperties({\n        \"stroke-width\": thickness\n      });\n    }\n  }\n  serialize(isForCopying = false) {\n    if (this.isEmpty()) {\n      return null;\n    }\n    const {\n      lines,\n      points\n    } = this.serializeDraw(isForCopying);\n    const {\n      _drawingOptions: {\n        \"stroke-width\": thickness\n      }\n    } = this;\n    const serialized = Object.assign(super.serialize(isForCopying), {\n      isSignature: true,\n      areContours: this.#isExtracted,\n      color: [0, 0, 0],\n      thickness: this.#isExtracted ? 0 : thickness\n    });\n    this.addComment(serialized);\n    if (isForCopying) {\n      serialized.paths = {\n        lines,\n        points\n      };\n      serialized.uuid = this.#signatureUUID;\n      serialized.isCopy = true;\n    } else {\n      serialized.lines = lines;\n    }\n    if (this.#description) {\n      serialized.accessibilityData = {\n        type: \"Figure\",\n        alt: this.#description\n      };\n    }\n    return serialized;\n  }\n  static deserializeDraw(pageX, pageY, pageWidth, pageHeight, innerMargin, data) {\n    if (data.areContours) {\n      return ContourDrawOutline.deserialize(pageX, pageY, pageWidth, pageHeight, innerMargin, data);\n    }\n    return InkDrawOutline.deserialize(pageX, pageY, pageWidth, pageHeight, innerMargin, data);\n  }\n  static async deserialize(data, parent, uiManager) {\n    const editor = await super.deserialize(data, parent, uiManager);\n    editor.#isExtracted = data.areContours;\n    editor.description = data.accessibilityData?.alt || \"\";\n    editor.#signatureUUID = data.uuid;\n    return editor;\n  }\n}\n\n;// ./src/display/editor/stamp.js\n\n\n\n\nclass StampEditor extends AnnotationEditor {\n  #bitmap = null;\n  #bitmapId = null;\n  #bitmapPromise = null;\n  #bitmapUrl = null;\n  #bitmapFile = null;\n  #bitmapFileName = \"\";\n  #canvas = null;\n  #missingCanvas = false;\n  #resizeTimeoutId = null;\n  #isSvg = false;\n  #hasBeenAddedInUndoStack = false;\n  static _type = \"stamp\";\n  static _editorType = AnnotationEditorType.STAMP;\n  constructor(params) {\n    super({\n      ...params,\n      name: \"stampEditor\"\n    });\n    this.#bitmapUrl = params.bitmapUrl;\n    this.#bitmapFile = params.bitmapFile;\n    this.defaultL10nId = \"pdfjs-editor-stamp-editor\";\n  }\n  static initialize(l10n, uiManager) {\n    AnnotationEditor.initialize(l10n, uiManager);\n  }\n  static isHandlingMimeForPasting(mime) {\n    return SupportedImageMimeTypes.includes(mime);\n  }\n  static paste(item, parent) {\n    parent.pasteEditor({\n      mode: AnnotationEditorType.STAMP\n    }, {\n      bitmapFile: item.getAsFile()\n    });\n  }\n  altTextFinish() {\n    if (this._uiManager.useNewAltTextFlow) {\n      this.div.hidden = false;\n    }\n    super.altTextFinish();\n  }\n  get telemetryFinalData() {\n    return {\n      type: \"stamp\",\n      hasAltText: !!this.altTextData?.altText\n    };\n  }\n  static computeTelemetryFinalData(data) {\n    const hasAltTextStats = data.get(\"hasAltText\");\n    return {\n      hasAltText: hasAltTextStats.get(true) ?? 0,\n      hasNoAltText: hasAltTextStats.get(false) ?? 0\n    };\n  }\n  #getBitmapFetched(data, fromId = false) {\n    if (!data) {\n      this.remove();\n      return;\n    }\n    this.#bitmap = data.bitmap;\n    if (!fromId) {\n      this.#bitmapId = data.id;\n      this.#isSvg = data.isSvg;\n    }\n    if (data.file) {\n      this.#bitmapFileName = data.file.name;\n    }\n    this.#createCanvas();\n  }\n  #getBitmapDone() {\n    this.#bitmapPromise = null;\n    this._uiManager.enableWaiting(false);\n    if (!this.#canvas) {\n      return;\n    }\n    if (this._uiManager.useNewAltTextWhenAddingImage && this._uiManager.useNewAltTextFlow && this.#bitmap) {\n      this.addEditToolbar().then(() => {\n        this._editToolbar.hide();\n        this._uiManager.editAltText(this, true);\n      });\n      return;\n    }\n    if (!this._uiManager.useNewAltTextWhenAddingImage && this._uiManager.useNewAltTextFlow && this.#bitmap) {\n      this._reportTelemetry({\n        action: \"pdfjs.image.image_added\",\n        data: {\n          alt_text_modal: false,\n          alt_text_type: \"empty\"\n        }\n      });\n      try {\n        this.mlGuessAltText();\n      } catch {}\n    }\n    this.div.focus();\n  }\n  async mlGuessAltText(imageData = null, updateAltTextData = true) {\n    if (this.hasAltTextData()) {\n      return null;\n    }\n    const {\n      mlManager\n    } = this._uiManager;\n    if (!mlManager) {\n      throw new Error(\"No ML.\");\n    }\n    if (!(await mlManager.isEnabledFor(\"altText\"))) {\n      throw new Error(\"ML isn't enabled for alt text.\");\n    }\n    const {\n      data,\n      width,\n      height\n    } = imageData || this.copyCanvas(null, null, true).imageData;\n    const response = await mlManager.guess({\n      name: \"altText\",\n      request: {\n        data,\n        width,\n        height,\n        channels: data.length / (width * height)\n      }\n    });\n    if (!response) {\n      throw new Error(\"No response from the AI service.\");\n    }\n    if (response.error) {\n      throw new Error(\"Error from the AI service.\");\n    }\n    if (response.cancel) {\n      return null;\n    }\n    if (!response.output) {\n      throw new Error(\"No valid response from the AI service.\");\n    }\n    const altText = response.output;\n    await this.setGuessedAltText(altText);\n    if (updateAltTextData && !this.hasAltTextData()) {\n      this.altTextData = {\n        alt: altText,\n        decorative: false\n      };\n    }\n    return altText;\n  }\n  #getBitmap() {\n    if (this.#bitmapId) {\n      this._uiManager.enableWaiting(true);\n      this._uiManager.imageManager.getFromId(this.#bitmapId).then(data => this.#getBitmapFetched(data, true)).finally(() => this.#getBitmapDone());\n      return;\n    }\n    if (this.#bitmapUrl) {\n      const url = this.#bitmapUrl;\n      this.#bitmapUrl = null;\n      this._uiManager.enableWaiting(true);\n      this.#bitmapPromise = this._uiManager.imageManager.getFromUrl(url).then(data => this.#getBitmapFetched(data)).finally(() => this.#getBitmapDone());\n      return;\n    }\n    if (this.#bitmapFile) {\n      const file = this.#bitmapFile;\n      this.#bitmapFile = null;\n      this._uiManager.enableWaiting(true);\n      this.#bitmapPromise = this._uiManager.imageManager.getFromFile(file).then(data => this.#getBitmapFetched(data)).finally(() => this.#getBitmapDone());\n      return;\n    }\n    const input = document.createElement(\"input\");\n    input.type = \"file\";\n    input.accept = SupportedImageMimeTypes.join(\",\");\n    const signal = this._uiManager._signal;\n    this.#bitmapPromise = new Promise(resolve => {\n      input.addEventListener(\"change\", async () => {\n        if (!input.files || input.files.length === 0) {\n          this.remove();\n        } else {\n          this._uiManager.enableWaiting(true);\n          const data = await this._uiManager.imageManager.getFromFile(input.files[0]);\n          this._reportTelemetry({\n            action: \"pdfjs.image.image_selected\",\n            data: {\n              alt_text_modal: this._uiManager.useNewAltTextFlow\n            }\n          });\n          this.#getBitmapFetched(data);\n        }\n        resolve();\n      }, {\n        signal\n      });\n      input.addEventListener(\"cancel\", () => {\n        this.remove();\n        resolve();\n      }, {\n        signal\n      });\n    }).finally(() => this.#getBitmapDone());\n    input.click();\n  }\n  remove() {\n    if (this.#bitmapId) {\n      this.#bitmap = null;\n      this._uiManager.imageManager.deleteId(this.#bitmapId);\n      this.#canvas?.remove();\n      this.#canvas = null;\n      if (this.#resizeTimeoutId) {\n        clearTimeout(this.#resizeTimeoutId);\n        this.#resizeTimeoutId = null;\n      }\n    }\n    super.remove();\n  }\n  rebuild() {\n    if (!this.parent) {\n      if (this.#bitmapId) {\n        this.#getBitmap();\n      }\n      return;\n    }\n    super.rebuild();\n    if (this.div === null) {\n      return;\n    }\n    if (this.#bitmapId && this.#canvas === null) {\n      this.#getBitmap();\n    }\n    if (!this.isAttachedToDOM) {\n      this.parent.add(this);\n    }\n  }\n  onceAdded(focus) {\n    this._isDraggable = true;\n    if (focus) {\n      this.div.focus();\n    }\n  }\n  isEmpty() {\n    return !(this.#bitmapPromise || this.#bitmap || this.#bitmapUrl || this.#bitmapFile || this.#bitmapId || this.#missingCanvas);\n  }\n  get toolbarButtons() {\n    return [[\"altText\", this.createAltText()]];\n  }\n  get isResizable() {\n    return true;\n  }\n  render() {\n    if (this.div) {\n      return this.div;\n    }\n    let baseX, baseY;\n    if (this._isCopy) {\n      baseX = this.x;\n      baseY = this.y;\n    }\n    super.render();\n    this.div.hidden = true;\n    this.createAltText();\n    if (!this.#missingCanvas) {\n      if (this.#bitmap) {\n        this.#createCanvas();\n      } else {\n        this.#getBitmap();\n      }\n    }\n    if (this._isCopy) {\n      this._moveAfterPaste(baseX, baseY);\n    }\n    this._uiManager.addShouldRescale(this);\n    return this.div;\n  }\n  setCanvas(annotationElementId, canvas) {\n    const {\n      id: bitmapId,\n      bitmap\n    } = this._uiManager.imageManager.getFromCanvas(annotationElementId, canvas);\n    canvas.remove();\n    if (bitmapId && this._uiManager.imageManager.isValidId(bitmapId)) {\n      this.#bitmapId = bitmapId;\n      if (bitmap) {\n        this.#bitmap = bitmap;\n      }\n      this.#missingCanvas = false;\n      this.#createCanvas();\n    }\n  }\n  _onResized() {\n    this.onScaleChanging();\n  }\n  onScaleChanging() {\n    if (!this.parent) {\n      return;\n    }\n    if (this.#resizeTimeoutId !== null) {\n      clearTimeout(this.#resizeTimeoutId);\n    }\n    const TIME_TO_WAIT = 200;\n    this.#resizeTimeoutId = setTimeout(() => {\n      this.#resizeTimeoutId = null;\n      this.#drawBitmap();\n    }, TIME_TO_WAIT);\n  }\n  #createCanvas() {\n    const {\n      div\n    } = this;\n    let {\n      width,\n      height\n    } = this.#bitmap;\n    const [pageWidth, pageHeight] = this.pageDimensions;\n    const MAX_RATIO = 0.75;\n    if (this.width) {\n      width = this.width * pageWidth;\n      height = this.height * pageHeight;\n    } else if (width > MAX_RATIO * pageWidth || height > MAX_RATIO * pageHeight) {\n      const factor = Math.min(MAX_RATIO * pageWidth / width, MAX_RATIO * pageHeight / height);\n      width *= factor;\n      height *= factor;\n    }\n    this._uiManager.enableWaiting(false);\n    const canvas = this.#canvas = document.createElement(\"canvas\");\n    canvas.setAttribute(\"role\", \"img\");\n    this.addContainer(canvas);\n    this.width = width / pageWidth;\n    this.height = height / pageHeight;\n    this.setDims();\n    if (this._initialOptions?.isCentered) {\n      this.center();\n    } else {\n      this.fixAndSetPosition();\n    }\n    this._initialOptions = null;\n    if (!this._uiManager.useNewAltTextWhenAddingImage || !this._uiManager.useNewAltTextFlow || this.annotationElementId) {\n      div.hidden = false;\n    }\n    this.#drawBitmap();\n    if (!this.#hasBeenAddedInUndoStack) {\n      this.parent.addUndoableEditor(this);\n      this.#hasBeenAddedInUndoStack = true;\n    }\n    this._reportTelemetry({\n      action: \"inserted_image\"\n    });\n    if (this.#bitmapFileName) {\n      this.div.setAttribute(\"aria-description\", this.#bitmapFileName);\n    }\n    if (!this.annotationElementId) {\n      this._uiManager.a11yAlert(\"pdfjs-editor-stamp-added-alert\");\n    }\n  }\n  copyCanvas(maxDataDimension, maxPreviewDimension, createImageData = false) {\n    if (!maxDataDimension) {\n      maxDataDimension = 224;\n    }\n    const {\n      width: bitmapWidth,\n      height: bitmapHeight\n    } = this.#bitmap;\n    const outputScale = new OutputScale();\n    let bitmap = this.#bitmap;\n    let width = bitmapWidth,\n      height = bitmapHeight;\n    let canvas = null;\n    if (maxPreviewDimension) {\n      if (bitmapWidth > maxPreviewDimension || bitmapHeight > maxPreviewDimension) {\n        const ratio = Math.min(maxPreviewDimension / bitmapWidth, maxPreviewDimension / bitmapHeight);\n        width = Math.floor(bitmapWidth * ratio);\n        height = Math.floor(bitmapHeight * ratio);\n      }\n      canvas = document.createElement(\"canvas\");\n      const scaledWidth = canvas.width = Math.ceil(width * outputScale.sx);\n      const scaledHeight = canvas.height = Math.ceil(height * outputScale.sy);\n      if (!this.#isSvg) {\n        bitmap = this.#scaleBitmap(scaledWidth, scaledHeight);\n      }\n      const ctx = canvas.getContext(\"2d\");\n      ctx.filter = this._uiManager.hcmFilter;\n      let white = \"white\",\n        black = \"#cfcfd8\";\n      if (this._uiManager.hcmFilter !== \"none\") {\n        black = \"black\";\n      } else if (ColorScheme.isDarkMode) {\n        white = \"#8f8f9d\";\n        black = \"#42414d\";\n      }\n      const boxDim = 15;\n      const boxDimWidth = boxDim * outputScale.sx;\n      const boxDimHeight = boxDim * outputScale.sy;\n      const pattern = new OffscreenCanvas(boxDimWidth * 2, boxDimHeight * 2);\n      const patternCtx = pattern.getContext(\"2d\");\n      patternCtx.fillStyle = white;\n      patternCtx.fillRect(0, 0, boxDimWidth * 2, boxDimHeight * 2);\n      patternCtx.fillStyle = black;\n      patternCtx.fillRect(0, 0, boxDimWidth, boxDimHeight);\n      patternCtx.fillRect(boxDimWidth, boxDimHeight, boxDimWidth, boxDimHeight);\n      ctx.fillStyle = ctx.createPattern(pattern, \"repeat\");\n      ctx.fillRect(0, 0, scaledWidth, scaledHeight);\n      ctx.drawImage(bitmap, 0, 0, bitmap.width, bitmap.height, 0, 0, scaledWidth, scaledHeight);\n    }\n    let imageData = null;\n    if (createImageData) {\n      let dataWidth, dataHeight;\n      if (outputScale.symmetric && bitmap.width < maxDataDimension && bitmap.height < maxDataDimension) {\n        dataWidth = bitmap.width;\n        dataHeight = bitmap.height;\n      } else {\n        bitmap = this.#bitmap;\n        if (bitmapWidth > maxDataDimension || bitmapHeight > maxDataDimension) {\n          const ratio = Math.min(maxDataDimension / bitmapWidth, maxDataDimension / bitmapHeight);\n          dataWidth = Math.floor(bitmapWidth * ratio);\n          dataHeight = Math.floor(bitmapHeight * ratio);\n          if (!this.#isSvg) {\n            bitmap = this.#scaleBitmap(dataWidth, dataHeight);\n          }\n        }\n      }\n      const offscreen = new OffscreenCanvas(dataWidth, dataHeight);\n      const offscreenCtx = offscreen.getContext(\"2d\", {\n        willReadFrequently: true\n      });\n      offscreenCtx.drawImage(bitmap, 0, 0, bitmap.width, bitmap.height, 0, 0, dataWidth, dataHeight);\n      imageData = {\n        width: dataWidth,\n        height: dataHeight,\n        data: offscreenCtx.getImageData(0, 0, dataWidth, dataHeight).data\n      };\n    }\n    return {\n      canvas,\n      width,\n      height,\n      imageData\n    };\n  }\n  #scaleBitmap(width, height) {\n    const {\n      width: bitmapWidth,\n      height: bitmapHeight\n    } = this.#bitmap;\n    let newWidth = bitmapWidth;\n    let newHeight = bitmapHeight;\n    let bitmap = this.#bitmap;\n    while (newWidth > 2 * width || newHeight > 2 * height) {\n      const prevWidth = newWidth;\n      const prevHeight = newHeight;\n      if (newWidth > 2 * width) {\n        newWidth = newWidth >= 16384 ? Math.floor(newWidth / 2) - 1 : Math.ceil(newWidth / 2);\n      }\n      if (newHeight > 2 * height) {\n        newHeight = newHeight >= 16384 ? Math.floor(newHeight / 2) - 1 : Math.ceil(newHeight / 2);\n      }\n      const offscreen = new OffscreenCanvas(newWidth, newHeight);\n      const ctx = offscreen.getContext(\"2d\");\n      ctx.drawImage(bitmap, 0, 0, prevWidth, prevHeight, 0, 0, newWidth, newHeight);\n      bitmap = offscreen.transferToImageBitmap();\n    }\n    return bitmap;\n  }\n  #drawBitmap() {\n    const [parentWidth, parentHeight] = this.parentDimensions;\n    const {\n      width,\n      height\n    } = this;\n    const outputScale = new OutputScale();\n    const scaledWidth = Math.ceil(width * parentWidth * outputScale.sx);\n    const scaledHeight = Math.ceil(height * parentHeight * outputScale.sy);\n    const canvas = this.#canvas;\n    if (!canvas || canvas.width === scaledWidth && canvas.height === scaledHeight) {\n      return;\n    }\n    canvas.width = scaledWidth;\n    canvas.height = scaledHeight;\n    const bitmap = this.#isSvg ? this.#bitmap : this.#scaleBitmap(scaledWidth, scaledHeight);\n    const ctx = canvas.getContext(\"2d\");\n    ctx.filter = this._uiManager.hcmFilter;\n    ctx.drawImage(bitmap, 0, 0, bitmap.width, bitmap.height, 0, 0, scaledWidth, scaledHeight);\n  }\n  #serializeBitmap(toUrl) {\n    if (toUrl) {\n      if (this.#isSvg) {\n        const url = this._uiManager.imageManager.getSvgUrl(this.#bitmapId);\n        if (url) {\n          return url;\n        }\n      }\n      const canvas = document.createElement(\"canvas\");\n      ({\n        width: canvas.width,\n        height: canvas.height\n      } = this.#bitmap);\n      const ctx = canvas.getContext(\"2d\");\n      ctx.drawImage(this.#bitmap, 0, 0);\n      return canvas.toDataURL();\n    }\n    if (this.#isSvg) {\n      const [pageWidth, pageHeight] = this.pageDimensions;\n      const width = Math.round(this.width * pageWidth * PixelsPerInch.PDF_TO_CSS_UNITS);\n      const height = Math.round(this.height * pageHeight * PixelsPerInch.PDF_TO_CSS_UNITS);\n      const offscreen = new OffscreenCanvas(width, height);\n      const ctx = offscreen.getContext(\"2d\");\n      ctx.drawImage(this.#bitmap, 0, 0, this.#bitmap.width, this.#bitmap.height, 0, 0, width, height);\n      return offscreen.transferToImageBitmap();\n    }\n    return structuredClone(this.#bitmap);\n  }\n  static async deserialize(data, parent, uiManager) {\n    let initialData = null;\n    let missingCanvas = false;\n    if (data instanceof StampAnnotationElement) {\n      const {\n        data: {\n          rect,\n          rotation,\n          id,\n          structParent,\n          popupRef,\n          richText,\n          contentsObj,\n          creationDate,\n          modificationDate\n        },\n        container,\n        parent: {\n          page: {\n            pageNumber\n          }\n        },\n        canvas\n      } = data;\n      let bitmapId, bitmap;\n      if (canvas) {\n        delete data.canvas;\n        ({\n          id: bitmapId,\n          bitmap\n        } = uiManager.imageManager.getFromCanvas(container.id, canvas));\n        canvas.remove();\n      } else {\n        missingCanvas = true;\n        data._hasNoCanvas = true;\n      }\n      const altText = (await parent._structTree.getAriaAttributes(`${AnnotationPrefix}${id}`))?.get(\"aria-label\") || \"\";\n      initialData = data = {\n        annotationType: AnnotationEditorType.STAMP,\n        bitmapId,\n        bitmap,\n        pageIndex: pageNumber - 1,\n        rect: rect.slice(0),\n        rotation,\n        annotationElementId: id,\n        id,\n        deleted: false,\n        accessibilityData: {\n          decorative: false,\n          altText\n        },\n        isSvg: false,\n        structParent,\n        popupRef,\n        richText,\n        comment: contentsObj?.str || null,\n        creationDate,\n        modificationDate\n      };\n    }\n    const editor = await super.deserialize(data, parent, uiManager);\n    const {\n      rect,\n      bitmap,\n      bitmapUrl,\n      bitmapId,\n      isSvg,\n      accessibilityData\n    } = data;\n    if (missingCanvas) {\n      uiManager.addMissingCanvas(data.id, editor);\n      editor.#missingCanvas = true;\n    } else if (bitmapId && uiManager.imageManager.isValidId(bitmapId)) {\n      editor.#bitmapId = bitmapId;\n      if (bitmap) {\n        editor.#bitmap = bitmap;\n      }\n    } else {\n      editor.#bitmapUrl = bitmapUrl;\n    }\n    editor.#isSvg = isSvg;\n    const [parentWidth, parentHeight] = editor.pageDimensions;\n    editor.width = (rect[2] - rect[0]) / parentWidth;\n    editor.height = (rect[3] - rect[1]) / parentHeight;\n    if (accessibilityData) {\n      editor.altTextData = accessibilityData;\n    }\n    editor._initialData = initialData;\n    if (data.comment) {\n      editor.setCommentData(data);\n    }\n    editor.#hasBeenAddedInUndoStack = !!initialData;\n    return editor;\n  }\n  serialize(isForCopying = false, context = null) {\n    if (this.isEmpty()) {\n      return null;\n    }\n    if (this.deleted) {\n      return this.serializeDeleted();\n    }\n    const serialized = Object.assign(super.serialize(isForCopying), {\n      bitmapId: this.#bitmapId,\n      isSvg: this.#isSvg\n    });\n    this.addComment(serialized);\n    if (isForCopying) {\n      serialized.bitmapUrl = this.#serializeBitmap(true);\n      serialized.accessibilityData = this.serializeAltText(true);\n      serialized.isCopy = true;\n      return serialized;\n    }\n    const {\n      decorative,\n      altText\n    } = this.serializeAltText(false);\n    if (!decorative && altText) {\n      serialized.accessibilityData = {\n        type: \"Figure\",\n        alt: altText\n      };\n    }\n    if (this.annotationElementId) {\n      const changes = this.#hasElementChanged(serialized);\n      if (changes.isSame) {\n        return null;\n      }\n      if (changes.isSameAltText) {\n        delete serialized.accessibilityData;\n      } else {\n        serialized.accessibilityData.structParent = this._initialData.structParent ?? -1;\n      }\n      serialized.id = this.annotationElementId;\n      delete serialized.bitmapId;\n      return serialized;\n    }\n    if (context === null) {\n      return serialized;\n    }\n    context.stamps ||= new Map();\n    const area = this.#isSvg ? (serialized.rect[2] - serialized.rect[0]) * (serialized.rect[3] - serialized.rect[1]) : null;\n    if (!context.stamps.has(this.#bitmapId)) {\n      context.stamps.set(this.#bitmapId, {\n        area,\n        serialized\n      });\n      serialized.bitmap = this.#serializeBitmap(false);\n    } else if (this.#isSvg) {\n      const prevData = context.stamps.get(this.#bitmapId);\n      if (area > prevData.area) {\n        prevData.area = area;\n        prevData.serialized.bitmap.close();\n        prevData.serialized.bitmap = this.#serializeBitmap(false);\n      }\n    }\n    return serialized;\n  }\n  #hasElementChanged(serialized) {\n    const {\n      pageIndex,\n      accessibilityData: {\n        altText\n      }\n    } = this._initialData;\n    const isSamePageIndex = serialized.pageIndex === pageIndex;\n    const isSameAltText = (serialized.accessibilityData?.alt || \"\") === altText;\n    return {\n      isSame: !this.hasEditedComment && !this._hasBeenMoved && !this._hasBeenResized && isSamePageIndex && isSameAltText,\n      isSameAltText\n    };\n  }\n  renderAnnotationElement(annotation) {\n    if (this.deleted) {\n      annotation.hide();\n      return null;\n    }\n    annotation.updateEdited({\n      rect: this.getPDFRect(),\n      popup: this.comment\n    });\n    return null;\n  }\n}\n\n;// ./src/display/editor/annotation_editor_layer.js\n\n\n\n\n\n\n\n\nclass AnnotationEditorLayer {\n  #accessibilityManager;\n  #allowClick = false;\n  #annotationLayer = null;\n  #clickAC = null;\n  #editorFocusTimeoutId = null;\n  #editors = new Map();\n  #hadPointerDown = false;\n  #isDisabling = false;\n  #isEnabling = false;\n  #drawingAC = null;\n  #focusedElement = null;\n  #textLayer = null;\n  #textSelectionAC = null;\n  #textLayerDblClickAC = null;\n  #lastPointerDownTimestamp = -1;\n  #uiManager;\n  static _initialized = false;\n  static #editorTypes = new Map([FreeTextEditor, InkEditor, StampEditor, HighlightEditor, SignatureEditor].map(type => [type._editorType, type]));\n  constructor({\n    uiManager,\n    pageIndex,\n    div,\n    structTreeLayer,\n    accessibilityManager,\n    annotationLayer,\n    drawLayer,\n    textLayer,\n    viewport,\n    l10n\n  }) {\n    const editorTypes = [...AnnotationEditorLayer.#editorTypes.values()];\n    if (!AnnotationEditorLayer._initialized) {\n      AnnotationEditorLayer._initialized = true;\n      for (const editorType of editorTypes) {\n        editorType.initialize(l10n, uiManager);\n      }\n    }\n    uiManager.registerEditorTypes(editorTypes);\n    this.#uiManager = uiManager;\n    this.pageIndex = pageIndex;\n    this.div = div;\n    this.#accessibilityManager = accessibilityManager;\n    this.#annotationLayer = annotationLayer;\n    this.viewport = viewport;\n    this.#textLayer = textLayer;\n    this.drawLayer = drawLayer;\n    this._structTree = structTreeLayer;\n    this.#uiManager.addLayer(this);\n  }\n  get isEmpty() {\n    return this.#editors.size === 0;\n  }\n  get isInvisible() {\n    return this.isEmpty && this.#uiManager.getMode() === AnnotationEditorType.NONE;\n  }\n  updateToolbar(options) {\n    this.#uiManager.updateToolbar(options);\n  }\n  updateMode(mode = this.#uiManager.getMode()) {\n    this.#cleanup();\n    switch (mode) {\n      case AnnotationEditorType.NONE:\n        this.div.classList.toggle(\"nonEditing\", true);\n        this.disableTextSelection();\n        this.togglePointerEvents(false);\n        this.toggleAnnotationLayerPointerEvents(true);\n        this.disableClick();\n        return;\n      case AnnotationEditorType.INK:\n        this.disableTextSelection();\n        this.togglePointerEvents(true);\n        this.enableClick();\n        break;\n      case AnnotationEditorType.HIGHLIGHT:\n        this.enableTextSelection();\n        this.togglePointerEvents(false);\n        this.disableClick();\n        break;\n      default:\n        this.disableTextSelection();\n        this.togglePointerEvents(true);\n        this.enableClick();\n    }\n    this.toggleAnnotationLayerPointerEvents(false);\n    const {\n      classList\n    } = this.div;\n    classList.toggle(\"nonEditing\", false);\n    if (mode === AnnotationEditorType.POPUP) {\n      classList.toggle(\"commentEditing\", true);\n    } else {\n      classList.toggle(\"commentEditing\", false);\n      for (const editorType of AnnotationEditorLayer.#editorTypes.values()) {\n        classList.toggle(`${editorType._type}Editing`, mode === editorType._editorType);\n      }\n    }\n    this.div.hidden = false;\n  }\n  hasTextLayer(textLayer) {\n    return textLayer === this.#textLayer?.div;\n  }\n  setEditingState(isEditing) {\n    this.#uiManager.setEditingState(isEditing);\n  }\n  addCommands(params) {\n    this.#uiManager.addCommands(params);\n  }\n  cleanUndoStack(type) {\n    this.#uiManager.cleanUndoStack(type);\n  }\n  toggleDrawing(enabled = false) {\n    this.div.classList.toggle(\"drawing\", !enabled);\n  }\n  togglePointerEvents(enabled = false) {\n    this.div.classList.toggle(\"disabled\", !enabled);\n  }\n  toggleAnnotationLayerPointerEvents(enabled = false) {\n    this.#annotationLayer?.togglePointerEvents(enabled);\n  }\n  get #allEditorsIterator() {\n    return this.#editors.size !== 0 ? this.#editors.values() : this.#uiManager.getEditors(this.pageIndex);\n  }\n  async enable() {\n    this.#isEnabling = true;\n    this.div.tabIndex = 0;\n    this.togglePointerEvents(true);\n    this.div.classList.toggle(\"nonEditing\", false);\n    this.#textLayerDblClickAC?.abort();\n    this.#textLayerDblClickAC = null;\n    const annotationElementIds = new Set();\n    for (const editor of this.#allEditorsIterator) {\n      editor.enableEditing();\n      editor.show(true);\n      if (editor.annotationElementId) {\n        this.#uiManager.removeChangedExistingAnnotation(editor);\n        annotationElementIds.add(editor.annotationElementId);\n      }\n    }\n    const annotationLayer = this.#annotationLayer;\n    if (annotationLayer) {\n      for (const editable of annotationLayer.getEditableAnnotations()) {\n        editable.hide();\n        if (this.#uiManager.isDeletedAnnotationElement(editable.data.id)) {\n          continue;\n        }\n        if (annotationElementIds.has(editable.data.id)) {\n          continue;\n        }\n        const editor = await this.deserialize(editable);\n        if (!editor) {\n          continue;\n        }\n        this.addOrRebuild(editor);\n        editor.enableEditing();\n      }\n    }\n    this.#isEnabling = false;\n    this.#uiManager._eventBus.dispatch(\"editorsrendered\", {\n      source: this,\n      pageNumber: this.pageIndex + 1\n    });\n  }\n  disable() {\n    this.#isDisabling = true;\n    this.div.tabIndex = -1;\n    this.togglePointerEvents(false);\n    this.div.classList.toggle(\"nonEditing\", true);\n    if (this.#textLayer && !this.#textLayerDblClickAC) {\n      this.#textLayerDblClickAC = new AbortController();\n      const signal = this.#uiManager.combinedSignal(this.#textLayerDblClickAC);\n      this.#textLayer.div.addEventListener(\"pointerdown\", e => {\n        const DBL_CLICK_THRESHOLD = 500;\n        const {\n          clientX,\n          clientY,\n          timeStamp\n        } = e;\n        const lastPointerDownTimestamp = this.#lastPointerDownTimestamp;\n        if (timeStamp - lastPointerDownTimestamp > DBL_CLICK_THRESHOLD) {\n          this.#lastPointerDownTimestamp = timeStamp;\n          return;\n        }\n        this.#lastPointerDownTimestamp = -1;\n        const {\n          classList\n        } = this.div;\n        classList.toggle(\"getElements\", true);\n        const elements = document.elementsFromPoint(clientX, clientY);\n        classList.toggle(\"getElements\", false);\n        if (!this.div.contains(elements[0])) {\n          return;\n        }\n        let id;\n        const regex = new RegExp(`^${AnnotationEditorPrefix}[0-9]+$`);\n        for (const element of elements) {\n          if (regex.test(element.id)) {\n            id = element.id;\n            break;\n          }\n        }\n        if (!id) {\n          return;\n        }\n        const editor = this.#editors.get(id);\n        if (editor?.annotationElementId === null) {\n          e.stopPropagation();\n          e.preventDefault();\n          editor.dblclick(e);\n        }\n      }, {\n        signal,\n        capture: true\n      });\n    }\n    const annotationLayer = this.#annotationLayer;\n    const needFakeAnnotation = [];\n    if (annotationLayer) {\n      const changedAnnotations = new Map();\n      const resetAnnotations = new Map();\n      for (const editor of this.#allEditorsIterator) {\n        editor.disableEditing();\n        if (!editor.annotationElementId) {\n          needFakeAnnotation.push(editor);\n          continue;\n        }\n        if (editor.serialize() !== null) {\n          changedAnnotations.set(editor.annotationElementId, editor);\n          continue;\n        } else {\n          resetAnnotations.set(editor.annotationElementId, editor);\n        }\n        this.getEditableAnnotation(editor.annotationElementId)?.show();\n        editor.remove();\n      }\n      const editables = annotationLayer.getEditableAnnotations();\n      for (const editable of editables) {\n        const {\n          id\n        } = editable.data;\n        if (this.#uiManager.isDeletedAnnotationElement(id)) {\n          editable.updateEdited({\n            deleted: true\n          });\n          continue;\n        }\n        let editor = resetAnnotations.get(id);\n        if (editor) {\n          editor.resetAnnotationElement(editable);\n          editor.show(false);\n          editable.show();\n          continue;\n        }\n        editor = changedAnnotations.get(id);\n        if (editor) {\n          this.#uiManager.addChangedExistingAnnotation(editor);\n          if (editor.renderAnnotationElement(editable)) {\n            editor.show(false);\n          }\n        }\n        editable.show();\n      }\n    }\n    this.#cleanup();\n    if (this.isEmpty) {\n      this.div.hidden = true;\n    }\n    const {\n      classList\n    } = this.div;\n    for (const editorType of AnnotationEditorLayer.#editorTypes.values()) {\n      classList.remove(`${editorType._type}Editing`);\n    }\n    this.disableTextSelection();\n    this.toggleAnnotationLayerPointerEvents(true);\n    annotationLayer?.updateFakeAnnotations(needFakeAnnotation);\n    this.#isDisabling = false;\n  }\n  getEditableAnnotation(id) {\n    return this.#annotationLayer?.getEditableAnnotation(id) || null;\n  }\n  setActiveEditor(editor) {\n    const currentActive = this.#uiManager.getActive();\n    if (currentActive === editor) {\n      return;\n    }\n    this.#uiManager.setActiveEditor(editor);\n  }\n  enableTextSelection() {\n    this.div.tabIndex = -1;\n    if (this.#textLayer?.div && !this.#textSelectionAC) {\n      this.#textSelectionAC = new AbortController();\n      const signal = this.#uiManager.combinedSignal(this.#textSelectionAC);\n      this.#textLayer.div.addEventListener(\"pointerdown\", this.#textLayerPointerDown.bind(this), {\n        signal\n      });\n      this.#textLayer.div.classList.add(\"highlighting\");\n    }\n  }\n  disableTextSelection() {\n    this.div.tabIndex = 0;\n    if (this.#textLayer?.div && this.#textSelectionAC) {\n      this.#textSelectionAC.abort();\n      this.#textSelectionAC = null;\n      this.#textLayer.div.classList.remove(\"highlighting\");\n    }\n  }\n  #textLayerPointerDown(event) {\n    this.#uiManager.unselectAll();\n    const {\n      target\n    } = event;\n    if (target === this.#textLayer.div || (target.getAttribute(\"role\") === \"img\" || target.classList.contains(\"endOfContent\")) && this.#textLayer.div.contains(target)) {\n      const {\n        isMac\n      } = util_FeatureTest.platform;\n      if (event.button !== 0 || event.ctrlKey && isMac) {\n        return;\n      }\n      this.#uiManager.showAllEditors(\"highlight\", true, true);\n      this.#textLayer.div.classList.add(\"free\");\n      this.toggleDrawing();\n      HighlightEditor.startHighlighting(this, this.#uiManager.direction === \"ltr\", {\n        target: this.#textLayer.div,\n        x: event.x,\n        y: event.y\n      });\n      this.#textLayer.div.addEventListener(\"pointerup\", () => {\n        this.#textLayer.div.classList.remove(\"free\");\n        this.toggleDrawing(true);\n      }, {\n        once: true,\n        signal: this.#uiManager._signal\n      });\n      event.preventDefault();\n    }\n  }\n  enableClick() {\n    if (this.#clickAC) {\n      return;\n    }\n    this.#clickAC = new AbortController();\n    const signal = this.#uiManager.combinedSignal(this.#clickAC);\n    this.div.addEventListener(\"pointerdown\", this.pointerdown.bind(this), {\n      signal\n    });\n    const pointerup = this.pointerup.bind(this);\n    this.div.addEventListener(\"pointerup\", pointerup, {\n      signal\n    });\n    this.div.addEventListener(\"pointercancel\", pointerup, {\n      signal\n    });\n  }\n  disableClick() {\n    this.#clickAC?.abort();\n    this.#clickAC = null;\n  }\n  attach(editor) {\n    this.#editors.set(editor.id, editor);\n    const {\n      annotationElementId\n    } = editor;\n    if (annotationElementId && this.#uiManager.isDeletedAnnotationElement(annotationElementId)) {\n      this.#uiManager.removeDeletedAnnotationElement(editor);\n    }\n  }\n  detach(editor) {\n    this.#editors.delete(editor.id);\n    this.#accessibilityManager?.removePointerInTextLayer(editor.contentDiv);\n    if (!this.#isDisabling && editor.annotationElementId) {\n      this.#uiManager.addDeletedAnnotationElement(editor);\n    }\n  }\n  remove(editor) {\n    this.detach(editor);\n    this.#uiManager.removeEditor(editor);\n    editor.div.remove();\n    editor.isAttachedToDOM = false;\n  }\n  changeParent(editor) {\n    if (editor.parent === this) {\n      return;\n    }\n    if (editor.parent && editor.annotationElementId) {\n      this.#uiManager.addDeletedAnnotationElement(editor);\n      AnnotationEditor.deleteAnnotationElement(editor);\n      editor.annotationElementId = null;\n    }\n    this.attach(editor);\n    editor.parent?.detach(editor);\n    editor.setParent(this);\n    if (editor.div && editor.isAttachedToDOM) {\n      editor.div.remove();\n      this.div.append(editor.div);\n    }\n  }\n  add(editor) {\n    if (editor.parent === this && editor.isAttachedToDOM) {\n      return;\n    }\n    this.changeParent(editor);\n    this.#uiManager.addEditor(editor);\n    this.attach(editor);\n    if (!editor.isAttachedToDOM) {\n      const div = editor.render();\n      this.div.append(div);\n      editor.isAttachedToDOM = true;\n    }\n    editor.fixAndSetPosition();\n    editor.onceAdded(!this.#isEnabling);\n    this.#uiManager.addToAnnotationStorage(editor);\n    editor._reportTelemetry(editor.telemetryInitialData);\n  }\n  moveEditorInDOM(editor) {\n    if (!editor.isAttachedToDOM) {\n      return;\n    }\n    const {\n      activeElement\n    } = document;\n    if (editor.div.contains(activeElement) && !this.#editorFocusTimeoutId) {\n      editor._focusEventsAllowed = false;\n      this.#editorFocusTimeoutId = setTimeout(() => {\n        this.#editorFocusTimeoutId = null;\n        if (!editor.div.contains(document.activeElement)) {\n          editor.div.addEventListener(\"focusin\", () => {\n            editor._focusEventsAllowed = true;\n          }, {\n            once: true,\n            signal: this.#uiManager._signal\n          });\n          activeElement.focus();\n        } else {\n          editor._focusEventsAllowed = true;\n        }\n      }, 0);\n    }\n    editor._structTreeParentId = this.#accessibilityManager?.moveElementInDOM(this.div, editor.div, editor.contentDiv, true);\n  }\n  addOrRebuild(editor) {\n    if (editor.needsToBeRebuilt()) {\n      editor.parent ||= this;\n      editor.rebuild();\n      editor.show();\n    } else {\n      this.add(editor);\n    }\n  }\n  addUndoableEditor(editor) {\n    const cmd = () => editor._uiManager.rebuild(editor);\n    const undo = () => {\n      editor.remove();\n    };\n    this.addCommands({\n      cmd,\n      undo,\n      mustExec: false\n    });\n  }\n  getEditorByUID(uid) {\n    for (const editor of this.#editors.values()) {\n      if (editor.uid === uid) {\n        return editor;\n      }\n    }\n    return null;\n  }\n  getNextId() {\n    return this.#uiManager.getId();\n  }\n  get #currentEditorType() {\n    return AnnotationEditorLayer.#editorTypes.get(this.#uiManager.getMode());\n  }\n  combinedSignal(ac) {\n    return this.#uiManager.combinedSignal(ac);\n  }\n  #createNewEditor(params) {\n    const editorType = this.#currentEditorType;\n    return editorType ? new editorType.prototype.constructor(params) : null;\n  }\n  canCreateNewEmptyEditor() {\n    return this.#currentEditorType?.canCreateNewEmptyEditor();\n  }\n  async pasteEditor(options, params) {\n    this.updateToolbar(options);\n    await this.#uiManager.updateMode(options.mode);\n    const {\n      offsetX,\n      offsetY\n    } = this.#getCenterPoint();\n    const id = this.getNextId();\n    const editor = this.#createNewEditor({\n      parent: this,\n      id,\n      x: offsetX,\n      y: offsetY,\n      uiManager: this.#uiManager,\n      isCentered: true,\n      ...params\n    });\n    if (editor) {\n      this.add(editor);\n    }\n  }\n  async deserialize(data) {\n    return (await AnnotationEditorLayer.#editorTypes.get(data.annotationType ?? data.annotationEditorType)?.deserialize(data, this, this.#uiManager)) || null;\n  }\n  createAndAddNewEditor(event, isCentered, data = {}) {\n    const id = this.getNextId();\n    const editor = this.#createNewEditor({\n      parent: this,\n      id,\n      x: event.offsetX,\n      y: event.offsetY,\n      uiManager: this.#uiManager,\n      isCentered,\n      ...data\n    });\n    if (editor) {\n      this.add(editor);\n    }\n    return editor;\n  }\n  get boundingClientRect() {\n    return this.div.getBoundingClientRect();\n  }\n  #getCenterPoint() {\n    const {\n      x,\n      y,\n      width,\n      height\n    } = this.boundingClientRect;\n    const tlX = Math.max(0, x);\n    const tlY = Math.max(0, y);\n    const brX = Math.min(window.innerWidth, x + width);\n    const brY = Math.min(window.innerHeight, y + height);\n    const centerX = (tlX + brX) / 2 - x;\n    const centerY = (tlY + brY) / 2 - y;\n    const [offsetX, offsetY] = this.viewport.rotation % 180 === 0 ? [centerX, centerY] : [centerY, centerX];\n    return {\n      offsetX,\n      offsetY\n    };\n  }\n  addNewEditor(data = {}) {\n    this.createAndAddNewEditor(this.#getCenterPoint(), true, data);\n  }\n  setSelected(editor) {\n    this.#uiManager.setSelected(editor);\n  }\n  toggleSelected(editor) {\n    this.#uiManager.toggleSelected(editor);\n  }\n  unselect(editor) {\n    this.#uiManager.unselect(editor);\n  }\n  pointerup(event) {\n    const {\n      isMac\n    } = util_FeatureTest.platform;\n    if (event.button !== 0 || event.ctrlKey && isMac) {\n      return;\n    }\n    if (event.target !== this.div) {\n      return;\n    }\n    if (!this.#hadPointerDown) {\n      return;\n    }\n    this.#hadPointerDown = false;\n    if (this.#currentEditorType?.isDrawer && this.#currentEditorType.supportMultipleDrawings) {\n      return;\n    }\n    if (!this.#allowClick) {\n      this.#allowClick = true;\n      return;\n    }\n    const currentMode = this.#uiManager.getMode();\n    if (currentMode === AnnotationEditorType.STAMP || currentMode === AnnotationEditorType.SIGNATURE) {\n      this.#uiManager.unselectAll();\n      return;\n    }\n    this.createAndAddNewEditor(event, false);\n  }\n  pointerdown(event) {\n    if (this.#uiManager.getMode() === AnnotationEditorType.HIGHLIGHT) {\n      this.enableTextSelection();\n    }\n    if (this.#hadPointerDown) {\n      this.#hadPointerDown = false;\n      return;\n    }\n    const {\n      isMac\n    } = util_FeatureTest.platform;\n    if (event.button !== 0 || event.ctrlKey && isMac) {\n      return;\n    }\n    if (event.target !== this.div) {\n      return;\n    }\n    this.#hadPointerDown = true;\n    if (this.#currentEditorType?.isDrawer) {\n      this.startDrawingSession(event);\n      return;\n    }\n    const editor = this.#uiManager.getActive();\n    this.#allowClick = !editor || editor.isEmpty();\n  }\n  startDrawingSession(event) {\n    this.div.focus({\n      preventScroll: true\n    });\n    if (this.#drawingAC) {\n      this.#currentEditorType.startDrawing(this, this.#uiManager, false, event);\n      return;\n    }\n    this.#uiManager.setCurrentDrawingSession(this);\n    this.#drawingAC = new AbortController();\n    const signal = this.#uiManager.combinedSignal(this.#drawingAC);\n    this.div.addEventListener(\"blur\", ({\n      relatedTarget\n    }) => {\n      if (relatedTarget && !this.div.contains(relatedTarget)) {\n        this.#focusedElement = null;\n        this.commitOrRemove();\n      }\n    }, {\n      signal\n    });\n    this.#currentEditorType.startDrawing(this, this.#uiManager, false, event);\n  }\n  pause(on) {\n    if (on) {\n      const {\n        activeElement\n      } = document;\n      if (this.div.contains(activeElement)) {\n        this.#focusedElement = activeElement;\n      }\n      return;\n    }\n    if (this.#focusedElement) {\n      setTimeout(() => {\n        this.#focusedElement?.focus();\n        this.#focusedElement = null;\n      }, 0);\n    }\n  }\n  endDrawingSession(isAborted = false) {\n    if (!this.#drawingAC) {\n      return null;\n    }\n    this.#uiManager.setCurrentDrawingSession(null);\n    this.#drawingAC.abort();\n    this.#drawingAC = null;\n    this.#focusedElement = null;\n    return this.#currentEditorType.endDrawing(isAborted);\n  }\n  findNewParent(editor, x, y) {\n    const layer = this.#uiManager.findParent(x, y);\n    if (layer === null || layer === this) {\n      return false;\n    }\n    layer.changeParent(editor);\n    return true;\n  }\n  commitOrRemove() {\n    if (this.#drawingAC) {\n      this.endDrawingSession();\n      return true;\n    }\n    return false;\n  }\n  onScaleChanging() {\n    if (!this.#drawingAC) {\n      return;\n    }\n    this.#currentEditorType.onScaleChangingWhenDrawing(this);\n  }\n  destroy() {\n    this.commitOrRemove();\n    if (this.#uiManager.getActive()?.parent === this) {\n      this.#uiManager.commitOrRemove();\n      this.#uiManager.setActiveEditor(null);\n    }\n    if (this.#editorFocusTimeoutId) {\n      clearTimeout(this.#editorFocusTimeoutId);\n      this.#editorFocusTimeoutId = null;\n    }\n    for (const editor of this.#editors.values()) {\n      this.#accessibilityManager?.removePointerInTextLayer(editor.contentDiv);\n      editor.setParent(null);\n      editor.isAttachedToDOM = false;\n      editor.div.remove();\n    }\n    this.div = null;\n    this.#editors.clear();\n    this.#uiManager.removeLayer(this);\n  }\n  #cleanup() {\n    for (const editor of this.#editors.values()) {\n      if (editor.isEmpty()) {\n        editor.remove();\n      }\n    }\n  }\n  render({\n    viewport\n  }) {\n    this.viewport = viewport;\n    setLayerDimensions(this.div, viewport);\n    for (const editor of this.#uiManager.getEditors(this.pageIndex)) {\n      this.add(editor);\n      editor.rebuild();\n    }\n    this.updateMode();\n  }\n  update({\n    viewport\n  }) {\n    this.#uiManager.commitOrRemove();\n    this.#cleanup();\n    const oldRotation = this.viewport.rotation;\n    const rotation = viewport.rotation;\n    this.viewport = viewport;\n    setLayerDimensions(this.div, {\n      rotation\n    });\n    if (oldRotation !== rotation) {\n      for (const editor of this.#editors.values()) {\n        editor.rotate(rotation);\n      }\n    }\n  }\n  get pageDimensions() {\n    const {\n      pageWidth,\n      pageHeight\n    } = this.viewport.rawDims;\n    return [pageWidth, pageHeight];\n  }\n  get scale() {\n    return this.#uiManager.viewParameters.realScale;\n  }\n}\n\n;// ./src/display/draw_layer.js\n\n\nclass DrawLayer {\n  #parent = null;\n  #mapping = new Map();\n  #toUpdate = new Map();\n  static #id = 0;\n  constructor({\n    pageIndex\n  }) {\n    this.pageIndex = pageIndex;\n  }\n  setParent(parent) {\n    if (!this.#parent) {\n      this.#parent = parent;\n      return;\n    }\n    if (this.#parent !== parent) {\n      if (this.#mapping.size > 0) {\n        for (const root of this.#mapping.values()) {\n          root.remove();\n          parent.append(root);\n        }\n      }\n      this.#parent = parent;\n    }\n  }\n  static get _svgFactory() {\n    return shadow(this, \"_svgFactory\", new DOMSVGFactory());\n  }\n  static #setBox(element, [x, y, width, height]) {\n    const {\n      style\n    } = element;\n    style.top = `${100 * y}%`;\n    style.left = `${100 * x}%`;\n    style.width = `${100 * width}%`;\n    style.height = `${100 * height}%`;\n  }\n  #createSVG() {\n    const svg = DrawLayer._svgFactory.create(1, 1, true);\n    this.#parent.append(svg);\n    svg.setAttribute(\"aria-hidden\", true);\n    return svg;\n  }\n  #createClipPath(defs, pathId) {\n    const clipPath = DrawLayer._svgFactory.createElement(\"clipPath\");\n    defs.append(clipPath);\n    const clipPathId = `clip_${pathId}`;\n    clipPath.setAttribute(\"id\", clipPathId);\n    clipPath.setAttribute(\"clipPathUnits\", \"objectBoundingBox\");\n    const clipPathUse = DrawLayer._svgFactory.createElement(\"use\");\n    clipPath.append(clipPathUse);\n    clipPathUse.setAttribute(\"href\", `#${pathId}`);\n    clipPathUse.classList.add(\"clip\");\n    return clipPathId;\n  }\n  #updateProperties(element, properties) {\n    for (const [key, value] of Object.entries(properties)) {\n      if (value === null) {\n        element.removeAttribute(key);\n      } else {\n        element.setAttribute(key, value);\n      }\n    }\n  }\n  draw(properties, isPathUpdatable = false, hasClip = false) {\n    const id = DrawLayer.#id++;\n    const root = this.#createSVG();\n    const defs = DrawLayer._svgFactory.createElement(\"defs\");\n    root.append(defs);\n    const path = DrawLayer._svgFactory.createElement(\"path\");\n    defs.append(path);\n    const pathId = `path_p${this.pageIndex}_${id}`;\n    path.setAttribute(\"id\", pathId);\n    path.setAttribute(\"vector-effect\", \"non-scaling-stroke\");\n    if (isPathUpdatable) {\n      this.#toUpdate.set(id, path);\n    }\n    const clipPathId = hasClip ? this.#createClipPath(defs, pathId) : null;\n    const use = DrawLayer._svgFactory.createElement(\"use\");\n    root.append(use);\n    use.setAttribute(\"href\", `#${pathId}`);\n    this.updateProperties(root, properties);\n    this.#mapping.set(id, root);\n    return {\n      id,\n      clipPathId: `url(#${clipPathId})`\n    };\n  }\n  drawOutline(properties, mustRemoveSelfIntersections) {\n    const id = DrawLayer.#id++;\n    const root = this.#createSVG();\n    const defs = DrawLayer._svgFactory.createElement(\"defs\");\n    root.append(defs);\n    const path = DrawLayer._svgFactory.createElement(\"path\");\n    defs.append(path);\n    const pathId = `path_p${this.pageIndex}_${id}`;\n    path.setAttribute(\"id\", pathId);\n    path.setAttribute(\"vector-effect\", \"non-scaling-stroke\");\n    let maskId;\n    if (mustRemoveSelfIntersections) {\n      const mask = DrawLayer._svgFactory.createElement(\"mask\");\n      defs.append(mask);\n      maskId = `mask_p${this.pageIndex}_${id}`;\n      mask.setAttribute(\"id\", maskId);\n      mask.setAttribute(\"maskUnits\", \"objectBoundingBox\");\n      const rect = DrawLayer._svgFactory.createElement(\"rect\");\n      mask.append(rect);\n      rect.setAttribute(\"width\", \"1\");\n      rect.setAttribute(\"height\", \"1\");\n      rect.setAttribute(\"fill\", \"white\");\n      const use = DrawLayer._svgFactory.createElement(\"use\");\n      mask.append(use);\n      use.setAttribute(\"href\", `#${pathId}`);\n      use.setAttribute(\"stroke\", \"none\");\n      use.setAttribute(\"fill\", \"black\");\n      use.setAttribute(\"fill-rule\", \"nonzero\");\n      use.classList.add(\"mask\");\n    }\n    const use1 = DrawLayer._svgFactory.createElement(\"use\");\n    root.append(use1);\n    use1.setAttribute(\"href\", `#${pathId}`);\n    if (maskId) {\n      use1.setAttribute(\"mask\", `url(#${maskId})`);\n    }\n    const use2 = use1.cloneNode();\n    root.append(use2);\n    use1.classList.add(\"mainOutline\");\n    use2.classList.add(\"secondaryOutline\");\n    this.updateProperties(root, properties);\n    this.#mapping.set(id, root);\n    return id;\n  }\n  finalizeDraw(id, properties) {\n    this.#toUpdate.delete(id);\n    this.updateProperties(id, properties);\n  }\n  updateProperties(elementOrId, properties) {\n    if (!properties) {\n      return;\n    }\n    const {\n      root,\n      bbox,\n      rootClass,\n      path\n    } = properties;\n    const element = typeof elementOrId === \"number\" ? this.#mapping.get(elementOrId) : elementOrId;\n    if (!element) {\n      return;\n    }\n    if (root) {\n      this.#updateProperties(element, root);\n    }\n    if (bbox) {\n      DrawLayer.#setBox(element, bbox);\n    }\n    if (rootClass) {\n      const {\n        classList\n      } = element;\n      for (const [className, value] of Object.entries(rootClass)) {\n        classList.toggle(className, value);\n      }\n    }\n    if (path) {\n      const defs = element.firstElementChild;\n      const pathElement = defs.firstElementChild;\n      this.#updateProperties(pathElement, path);\n    }\n  }\n  updateParent(id, layer) {\n    if (layer === this) {\n      return;\n    }\n    const root = this.#mapping.get(id);\n    if (!root) {\n      return;\n    }\n    layer.#parent.append(root);\n    this.#mapping.delete(id);\n    layer.#mapping.set(id, root);\n  }\n  remove(id) {\n    this.#toUpdate.delete(id);\n    if (this.#parent === null) {\n      return;\n    }\n    this.#mapping.get(id).remove();\n    this.#mapping.delete(id);\n  }\n  destroy() {\n    this.#parent = null;\n    for (const root of this.#mapping.values()) {\n      root.remove();\n    }\n    this.#mapping.clear();\n    this.#toUpdate.clear();\n  }\n}\n\n;// ./src/pdf.js\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n{\n  globalThis._pdfjsTestingUtils = {\n    HighlightOutliner: HighlightOutliner\n  };\n}\nglobalThis.pdfjsLib = {\n  AbortException: AbortException,\n  AnnotationEditorLayer: AnnotationEditorLayer,\n  AnnotationEditorParamsType: AnnotationEditorParamsType,\n  AnnotationEditorType: AnnotationEditorType,\n  AnnotationEditorUIManager: AnnotationEditorUIManager,\n  AnnotationLayer: AnnotationLayer,\n  AnnotationMode: AnnotationMode,\n  AnnotationType: AnnotationType,\n  applyOpacity: applyOpacity,\n  build: build,\n  ColorPicker: ColorPicker,\n  createValidAbsoluteUrl: createValidAbsoluteUrl,\n  CSSConstants: CSSConstants,\n  DOMSVGFactory: DOMSVGFactory,\n  DrawLayer: DrawLayer,\n  FeatureTest: util_FeatureTest,\n  fetchData: fetchData,\n  findContrastColor: findContrastColor,\n  getDocument: getDocument,\n  getFilenameFromUrl: getFilenameFromUrl,\n  getPdfFilenameFromUrl: getPdfFilenameFromUrl,\n  getRGB: getRGB,\n  getUuid: getUuid,\n  getXfaPageViewport: getXfaPageViewport,\n  GlobalWorkerOptions: GlobalWorkerOptions,\n  ImageKind: util_ImageKind,\n  InvalidPDFException: InvalidPDFException,\n  isDataScheme: isDataScheme,\n  isPdfFile: isPdfFile,\n  isValidExplicitDest: isValidExplicitDest,\n  MathClamp: MathClamp,\n  noContextMenu: noContextMenu,\n  normalizeUnicode: normalizeUnicode,\n  OPS: OPS,\n  OutputScale: OutputScale,\n  PasswordResponses: PasswordResponses,\n  PDFDataRangeTransport: PDFDataRangeTransport,\n  PDFDateString: PDFDateString,\n  PDFWorker: PDFWorker,\n  PermissionFlag: PermissionFlag,\n  PixelsPerInch: PixelsPerInch,\n  RenderingCancelledException: RenderingCancelledException,\n  renderRichText: renderRichText,\n  ResponseException: ResponseException,\n  setLayerDimensions: setLayerDimensions,\n  shadow: shadow,\n  SignatureExtractor: SignatureExtractor,\n  stopEvent: stopEvent,\n  SupportedImageMimeTypes: SupportedImageMimeTypes,\n  TextLayer: TextLayer,\n  TouchManager: TouchManager,\n  updateUrlHash: updateUrlHash,\n  Util: Util,\n  VerbosityLevel: VerbosityLevel,\n  version: version,\n  XfaLayer: XfaLayer\n};\n\nexport { AbortException, AnnotationEditorLayer, AnnotationEditorParamsType, AnnotationEditorType, AnnotationEditorUIManager, AnnotationLayer, AnnotationMode, AnnotationType, CSSConstants, ColorPicker, DOMSVGFactory, DrawLayer, util_FeatureTest as FeatureTest, GlobalWorkerOptions, util_ImageKind as ImageKind, InvalidPDFException, MathClamp, OPS, OutputScale, PDFDataRangeTransport, PDFDateString, PDFWorker, PasswordResponses, PermissionFlag, PixelsPerInch, RenderingCancelledException, ResponseException, SignatureExtractor, SupportedImageMimeTypes, TextLayer, TouchManager, Util, VerbosityLevel, XfaLayer, applyOpacity, build, createValidAbsoluteUrl, fetchData, findContrastColor, getDocument, getFilenameFromUrl, getPdfFilenameFromUrl, getRGB, getUuid, getXfaPageViewport, isDataScheme, isPdfFile, isValidExplicitDest, noContextMenu, normalizeUnicode, renderRichText, setLayerDimensions, shadow, stopEvent, updateUrlHash, version };\n\n//# sourceMappingURL=pdf.mjs.map","'use strict';\nvar NATIVE_WEAK_MAP = require('../internals/weak-map-basic-detection');\nvar globalThis = require('../internals/global-this');\nvar isObject = require('../internals/is-object');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar hasOwn = require('../internals/has-own-property');\nvar shared = require('../internals/shared-store');\nvar sharedKey = require('../internals/shared-key');\nvar hiddenKeys = require('../internals/hidden-keys');\n\nvar OBJECT_ALREADY_INITIALIZED = 'Object already initialized';\nvar TypeError = globalThis.TypeError;\nvar WeakMap = globalThis.WeakMap;\nvar set, get, has;\n\nvar enforce = function (it) {\n  return has(it) ? get(it) : set(it, {});\n};\n\nvar getterFor = function (TYPE) {\n  return function (it) {\n    var state;\n    if (!isObject(it) || (state = get(it)).type !== TYPE) {\n      throw new TypeError('Incompatible receiver, ' + TYPE + ' required');\n    } return state;\n  };\n};\n\nif (NATIVE_WEAK_MAP || shared.state) {\n  var store = shared.state || (shared.state = new WeakMap());\n  /* eslint-disable no-self-assign -- prototype methods protection */\n  store.get = store.get;\n  store.has = store.has;\n  store.set = store.set;\n  /* eslint-enable no-self-assign -- prototype methods protection */\n  set = function (it, metadata) {\n    if (store.has(it)) throw new TypeError(OBJECT_ALREADY_INITIALIZED);\n    metadata.facade = it;\n    store.set(it, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return store.get(it) || {};\n  };\n  has = function (it) {\n    return store.has(it);\n  };\n} else {\n  var STATE = sharedKey('state');\n  hiddenKeys[STATE] = true;\n  set = function (it, metadata) {\n    if (hasOwn(it, STATE)) throw new TypeError(OBJECT_ALREADY_INITIALIZED);\n    metadata.facade = it;\n    createNonEnumerableProperty(it, STATE, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return hasOwn(it, STATE) ? it[STATE] : {};\n  };\n  has = function (it) {\n    return hasOwn(it, STATE);\n  };\n}\n\nmodule.exports = {\n  set: set,\n  get: get,\n  has: has,\n  enforce: enforce,\n  getterFor: getterFor\n};\n","'use strict';\nvar trunc = require('../internals/math-trunc');\n\n// `ToIntegerOrInfinity` abstract operation\n// https://tc39.es/ecma262/#sec-tointegerorinfinity\nmodule.exports = function (argument) {\n  var number = +argument;\n  // eslint-disable-next-line no-self-compare -- NaN check\n  return number !== number || number === 0 ? 0 : trunc(number);\n};\n","'use strict';\nvar iteratorClose = require('../internals/iterator-close');\n\nmodule.exports = function (iters, kind, value) {\n  for (var i = iters.length - 1; i >= 0; i--) {\n    if (iters[i] === undefined) continue;\n    try {\n      value = iteratorClose(iters[i].iterator, kind, value);\n    } catch (error) {\n      kind = 'throw';\n      value = error;\n    }\n  }\n  if (kind === 'throw') throw value;\n  return value;\n};\n","'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this');\n\nmodule.exports = uncurryThis({}.isPrototypeOf);\n","/* globals __VUE_SSR_CONTEXT__ */\n\n// IMPORTANT: Do NOT use ES2015 features in this file (except for modules).\n// This module is a runtime utility for cleaner component module output and will\n// be included in the final webpack user bundle.\n\nexport default function normalizeComponent(\n  scriptExports,\n  render,\n  staticRenderFns,\n  functionalTemplate,\n  injectStyles,\n  scopeId,\n  moduleIdentifier /* server only */,\n  shadowMode /* vue-cli only */\n) {\n  // Vue.extend constructor export interop\n  var options =\n    typeof scriptExports === 'function' ? scriptExports.options : scriptExports\n\n  // render functions\n  if (render) {\n    options.render = render\n    options.staticRenderFns = staticRenderFns\n    options._compiled = true\n  }\n\n  // functional template\n  if (functionalTemplate) {\n    options.functional = true\n  }\n\n  // scopedId\n  if (scopeId) {\n    options._scopeId = 'data-v-' + scopeId\n  }\n\n  var hook\n  if (moduleIdentifier) {\n    // server build\n    hook = function (context) {\n      // 2.3 injection\n      context =\n        context || // cached call\n        (this.$vnode && this.$vnode.ssrContext) || // stateful\n        (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext) // functional\n      // 2.2 with runInNewContext: true\n      if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\n        context = __VUE_SSR_CONTEXT__\n      }\n      // inject component styles\n      if (injectStyles) {\n        injectStyles.call(this, context)\n      }\n      // register component module identifier for async chunk inferrence\n      if (context && context._registeredComponents) {\n        context._registeredComponents.add(moduleIdentifier)\n      }\n    }\n    // used by ssr in case component is cached and beforeCreate\n    // never gets called\n    options._ssrRegister = hook\n  } else if (injectStyles) {\n    hook = shadowMode\n      ? function () {\n          injectStyles.call(\n            this,\n            (options.functional ? this.parent : this).$root.$options.shadowRoot\n          )\n        }\n      : injectStyles\n  }\n\n  if (hook) {\n    if (options.functional) {\n      // for template-only hot-reload because in that case the render fn doesn't\n      // go through the normalizer\n      options._injectStyles = hook\n      // register for functional component in vue file\n      var originalRender = options.render\n      options.render = function renderWithStyleInjection(h, context) {\n        hook.call(context)\n        return originalRender(h, context)\n      }\n    } else {\n      // inject component registration as beforeCreate hook\n      var existing = options.beforeCreate\n      options.beforeCreate = existing ? [].concat(existing, hook) : [hook]\n    }\n  }\n\n  return {\n    exports: scriptExports,\n    options: options\n  }\n}\n","'use strict';\nvar $ = require('../internals/export');\nvar call = require('../internals/function-call');\nvar aCallable = require('../internals/a-callable');\nvar anObject = require('../internals/an-object');\nvar getIteratorDirect = require('../internals/get-iterator-direct');\nvar createIteratorProxy = require('../internals/iterator-create-proxy');\nvar callWithSafeIterationClosing = require('../internals/call-with-safe-iteration-closing');\nvar iteratorClose = require('../internals/iterator-close');\nvar iteratorHelperThrowsOnInvalidIterator = require('../internals/iterator-helper-throws-on-invalid-iterator');\nvar iteratorHelperWithoutClosingOnEarlyError = require('../internals/iterator-helper-without-closing-on-early-error');\nvar IS_PURE = require('../internals/is-pure');\n\nvar MAP_WITHOUT_THROWING_ON_INVALID_ITERATOR = !IS_PURE && !iteratorHelperThrowsOnInvalidIterator('map', function () { /* empty */ });\nvar mapWithoutClosingOnEarlyError = !IS_PURE && !MAP_WITHOUT_THROWING_ON_INVALID_ITERATOR\n  && iteratorHelperWithoutClosingOnEarlyError('map', TypeError);\n\nvar FORCED = IS_PURE || MAP_WITHOUT_THROWING_ON_INVALID_ITERATOR || mapWithoutClosingOnEarlyError;\n\nvar IteratorProxy = createIteratorProxy(function () {\n  var iterator = this.iterator;\n  var result = anObject(call(this.next, iterator));\n  var done = this.done = !!result.done;\n  if (!done) return callWithSafeIterationClosing(iterator, this.mapper, [result.value, this.counter++], true);\n});\n\n// `Iterator.prototype.map` method\n// https://tc39.es/ecma262/#sec-iterator.prototype.map\n$({ target: 'Iterator', proto: true, real: true, forced: FORCED }, {\n  map: function map(mapper) {\n    anObject(this);\n    try {\n      aCallable(mapper);\n    } catch (error) {\n      iteratorClose(this, 'throw', error);\n    }\n\n    if (mapWithoutClosingOnEarlyError) return call(mapWithoutClosingOnEarlyError, this, mapper);\n\n    return new IteratorProxy(getIteratorDirect(this), {\n      mapper: mapper\n    });\n  }\n});\n","'use strict';\n// `GetIteratorDirect(obj)` abstract operation\n// https://tc39.es/ecma262/#sec-getiteratordirect\nmodule.exports = function (obj) {\n  return {\n    iterator: obj,\n    next: obj.next,\n    done: false\n  };\n};\n","'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar hasOwn = require('../internals/has-own-property');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar indexOf = require('../internals/array-includes').indexOf;\nvar hiddenKeys = require('../internals/hidden-keys');\n\nvar push = uncurryThis([].push);\n\nmodule.exports = function (object, names) {\n  var O = toIndexedObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) !hasOwn(hiddenKeys, key) && hasOwn(O, key) && push(result, key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (hasOwn(O, key = names[i++])) {\n    ~indexOf(result, key) || push(result, key);\n  }\n  return result;\n};\n","'use strict';\nvar makeBuiltIn = require('../internals/make-built-in');\nvar defineProperty = require('../internals/object-define-property');\n\nmodule.exports = function (target, name, descriptor) {\n  if (descriptor.get) makeBuiltIn(descriptor.get, name, { getter: true });\n  if (descriptor.set) makeBuiltIn(descriptor.set, name, { setter: true });\n  return defineProperty.f(target, name, descriptor);\n};\n","'use strict';\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar test = {};\n// eslint-disable-next-line unicorn/no-immediate-mutation -- ES3 syntax limitation\ntest[TO_STRING_TAG] = 'z';\n\nmodule.exports = String(test) === '[object z]';\n","'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this');\n\nvar toString = uncurryThis({}.toString);\nvar stringSlice = uncurryThis(''.slice);\n\nmodule.exports = function (it) {\n  return stringSlice(toString(it), 8, -1);\n};\n","'use strict';\nvar fails = require('../internals/fails');\n\nmodule.exports = !fails(function () {\n  function F() { /* empty */ }\n  F.prototype.constructor = null;\n  // eslint-disable-next-line es/no-object-getprototypeof -- required for testing\n  return Object.getPrototypeOf(new F()) !== F.prototype;\n});\n","'use strict';\n/* global ActiveXObject -- old IE, WSH */\nvar anObject = require('../internals/an-object');\nvar definePropertiesModule = require('../internals/object-define-properties');\nvar enumBugKeys = require('../internals/enum-bug-keys');\nvar hiddenKeys = require('../internals/hidden-keys');\nvar html = require('../internals/html');\nvar documentCreateElement = require('../internals/document-create-element');\nvar sharedKey = require('../internals/shared-key');\n\nvar GT = '>';\nvar LT = '<';\nvar PROTOTYPE = 'prototype';\nvar SCRIPT = 'script';\nvar IE_PROTO = sharedKey('IE_PROTO');\n\nvar EmptyConstructor = function () { /* empty */ };\n\nvar scriptTag = function (content) {\n  return LT + SCRIPT + GT + content + LT + '/' + SCRIPT + GT;\n};\n\n// Create object with fake `null` prototype: use ActiveX Object with cleared prototype\nvar NullProtoObjectViaActiveX = function (activeXDocument) {\n  activeXDocument.write(scriptTag(''));\n  activeXDocument.close();\n  var temp = activeXDocument.parentWindow.Object;\n  // eslint-disable-next-line no-useless-assignment -- avoid memory leak\n  activeXDocument = null;\n  return temp;\n};\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar NullProtoObjectViaIFrame = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = documentCreateElement('iframe');\n  var JS = 'java' + SCRIPT + ':';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  html.appendChild(iframe);\n  // https://github.com/zloirock/core-js/issues/475\n  iframe.src = String(JS);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(scriptTag('document.F=Object'));\n  iframeDocument.close();\n  return iframeDocument.F;\n};\n\n// Check for document.domain and active x support\n// No need to use active x approach when document.domain is not set\n// see https://github.com/es-shims/es5-shim/issues/150\n// variation of https://github.com/kitcambridge/es5-shim/commit/4f738ac066346\n// avoid IE GC bug\nvar activeXDocument;\nvar NullProtoObject = function () {\n  try {\n    activeXDocument = new ActiveXObject('htmlfile');\n  } catch (error) { /* ignore */ }\n  NullProtoObject = typeof document != 'undefined'\n    ? document.domain && activeXDocument\n      ? NullProtoObjectViaActiveX(activeXDocument) // old IE\n      : NullProtoObjectViaIFrame()\n    : NullProtoObjectViaActiveX(activeXDocument); // WSH\n  var length = enumBugKeys.length;\n  while (length--) delete NullProtoObject[PROTOTYPE][enumBugKeys[length]];\n  return NullProtoObject();\n};\n\nhiddenKeys[IE_PROTO] = true;\n\n// `Object.create` method\n// https://tc39.es/ecma262/#sec-object.create\n// eslint-disable-next-line es/no-object-create -- safe\nmodule.exports = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    EmptyConstructor[PROTOTYPE] = anObject(O);\n    result = new EmptyConstructor();\n    EmptyConstructor[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = NullProtoObject();\n  return Properties === undefined ? result : definePropertiesModule.f(result, Properties);\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar call = require('../internals/function-call');\nvar aCallable = require('../internals/a-callable');\nvar anObject = require('../internals/an-object');\nvar getIteratorDirect = require('../internals/get-iterator-direct');\nvar createIteratorProxy = require('../internals/iterator-create-proxy');\nvar callWithSafeIterationClosing = require('../internals/call-with-safe-iteration-closing');\nvar IS_PURE = require('../internals/is-pure');\nvar iteratorClose = require('../internals/iterator-close');\nvar iteratorHelperThrowsOnInvalidIterator = require('../internals/iterator-helper-throws-on-invalid-iterator');\nvar iteratorHelperWithoutClosingOnEarlyError = require('../internals/iterator-helper-without-closing-on-early-error');\n\nvar FILTER_WITHOUT_THROWING_ON_INVALID_ITERATOR = !IS_PURE && !iteratorHelperThrowsOnInvalidIterator('filter', function () { /* empty */ });\nvar filterWithoutClosingOnEarlyError = !IS_PURE && !FILTER_WITHOUT_THROWING_ON_INVALID_ITERATOR\n  && iteratorHelperWithoutClosingOnEarlyError('filter', TypeError);\n\nvar FORCED = IS_PURE || FILTER_WITHOUT_THROWING_ON_INVALID_ITERATOR || filterWithoutClosingOnEarlyError;\n\nvar IteratorProxy = createIteratorProxy(function () {\n  var iterator = this.iterator;\n  var predicate = this.predicate;\n  var next = this.next;\n  var result, done, value;\n  while (true) {\n    result = anObject(call(next, iterator));\n    done = this.done = !!result.done;\n    if (done) return;\n    value = result.value;\n    if (callWithSafeIterationClosing(iterator, predicate, [value, this.counter++], true)) return value;\n  }\n});\n\n// `Iterator.prototype.filter` method\n// https://tc39.es/ecma262/#sec-iterator.prototype.filter\n$({ target: 'Iterator', proto: true, real: true, forced: FORCED }, {\n  filter: function filter(predicate) {\n    anObject(this);\n    try {\n      aCallable(predicate);\n    } catch (error) {\n      iteratorClose(this, 'throw', error);\n    }\n\n    if (filterWithoutClosingOnEarlyError) return call(filterWithoutClosingOnEarlyError, this, predicate);\n\n    return new IteratorProxy(getIteratorDirect(this), {\n      predicate: predicate\n    });\n  }\n});\n","'use strict';\n// `CreateIterResultObject` abstract operation\n// https://tc39.es/ecma262/#sec-createiterresultobject\nmodule.exports = function (value, done) {\n  return { value: value, done: done };\n};\n","'use strict';\nvar bind = require('../internals/function-bind-context');\nvar call = require('../internals/function-call');\nvar anObject = require('../internals/an-object');\nvar tryToString = require('../internals/try-to-string');\nvar isArrayIteratorMethod = require('../internals/is-array-iterator-method');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\nvar isPrototypeOf = require('../internals/object-is-prototype-of');\nvar getIterator = require('../internals/get-iterator');\nvar getIteratorMethod = require('../internals/get-iterator-method');\nvar iteratorClose = require('../internals/iterator-close');\n\nvar $TypeError = TypeError;\n\nvar Result = function (stopped, result) {\n  this.stopped = stopped;\n  this.result = result;\n};\n\nvar ResultPrototype = Result.prototype;\n\nmodule.exports = function (iterable, unboundFunction, options) {\n  var that = options && options.that;\n  var AS_ENTRIES = !!(options && options.AS_ENTRIES);\n  var IS_RECORD = !!(options && options.IS_RECORD);\n  var IS_ITERATOR = !!(options && options.IS_ITERATOR);\n  var INTERRUPTED = !!(options && options.INTERRUPTED);\n  var fn = bind(unboundFunction, that);\n  var iterator, iterFn, index, length, result, next, step;\n\n  var stop = function (condition) {\n    if (iterator) iteratorClose(iterator, 'normal');\n    return new Result(true, condition);\n  };\n\n  var callFn = function (value) {\n    if (AS_ENTRIES) {\n      anObject(value);\n      return INTERRUPTED ? fn(value[0], value[1], stop) : fn(value[0], value[1]);\n    } return INTERRUPTED ? fn(value, stop) : fn(value);\n  };\n\n  if (IS_RECORD) {\n    iterator = iterable.iterator;\n  } else if (IS_ITERATOR) {\n    iterator = iterable;\n  } else {\n    iterFn = getIteratorMethod(iterable);\n    if (!iterFn) throw new $TypeError(tryToString(iterable) + ' is not iterable');\n    // optimisation for array iterators\n    if (isArrayIteratorMethod(iterFn)) {\n      for (index = 0, length = lengthOfArrayLike(iterable); length > index; index++) {\n        result = callFn(iterable[index]);\n        if (result && isPrototypeOf(ResultPrototype, result)) return result;\n      } return new Result(false);\n    }\n    iterator = getIterator(iterable, iterFn);\n  }\n\n  next = IS_RECORD ? iterable.next : iterator.next;\n  while (!(step = call(next, iterator)).done) {\n    try {\n      result = callFn(step.value);\n    } catch (error) {\n      iteratorClose(iterator, 'throw', error);\n    }\n    if (typeof result == 'object' && result && isPrototypeOf(ResultPrototype, result)) return result;\n  } return new Result(false);\n};\n","'use strict';\nvar call = require('../internals/function-call');\nvar isObject = require('../internals/is-object');\nvar isSymbol = require('../internals/is-symbol');\nvar getMethod = require('../internals/get-method');\nvar ordinaryToPrimitive = require('../internals/ordinary-to-primitive');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar $TypeError = TypeError;\nvar TO_PRIMITIVE = wellKnownSymbol('toPrimitive');\n\n// `ToPrimitive` abstract operation\n// https://tc39.es/ecma262/#sec-toprimitive\nmodule.exports = function (input, pref) {\n  if (!isObject(input) || isSymbol(input)) return input;\n  var exoticToPrim = getMethod(input, TO_PRIMITIVE);\n  var result;\n  if (exoticToPrim) {\n    if (pref === undefined) pref = 'default';\n    result = call(exoticToPrim, input, pref);\n    if (!isObject(result) || isSymbol(result)) return result;\n    throw new $TypeError(\"Can't convert object to primitive value\");\n  }\n  if (pref === undefined) pref = 'number';\n  return ordinaryToPrimitive(input, pref);\n};\n","'use strict';\nvar hasOwn = require('../internals/has-own-property');\nvar isCallable = require('../internals/is-callable');\nvar toObject = require('../internals/to-object');\nvar sharedKey = require('../internals/shared-key');\nvar CORRECT_PROTOTYPE_GETTER = require('../internals/correct-prototype-getter');\n\nvar IE_PROTO = sharedKey('IE_PROTO');\nvar $Object = Object;\nvar ObjectPrototype = $Object.prototype;\n\n// `Object.getPrototypeOf` method\n// https://tc39.es/ecma262/#sec-object.getprototypeof\n// eslint-disable-next-line es/no-object-getprototypeof -- safe\nmodule.exports = CORRECT_PROTOTYPE_GETTER ? $Object.getPrototypeOf : function (O) {\n  var object = toObject(O);\n  if (hasOwn(object, IE_PROTO)) return object[IE_PROTO];\n  var constructor = object.constructor;\n  if (isCallable(constructor) && object instanceof constructor) {\n    return constructor.prototype;\n  } return object instanceof $Object ? ObjectPrototype : null;\n};\n","'use strict';\nvar fails = require('../internals/fails');\nvar isCallable = require('../internals/is-callable');\n\nvar replacement = /#|\\.prototype\\./;\n\nvar isForced = function (feature, detection) {\n  var value = data[normalize(feature)];\n  return value === POLYFILL ? true\n    : value === NATIVE ? false\n    : isCallable(detection) ? fails(detection)\n    : !!detection;\n};\n\nvar normalize = isForced.normalize = function (string) {\n  return String(string).replace(replacement, '.').toLowerCase();\n};\n\nvar data = isForced.data = {};\nvar NATIVE = isForced.NATIVE = 'N';\nvar POLYFILL = isForced.POLYFILL = 'P';\n\nmodule.exports = isForced;\n","'use strict';\nvar globalThis = require('../internals/global-this');\n\nvar navigator = globalThis.navigator;\nvar userAgent = navigator && navigator.userAgent;\n\nmodule.exports = userAgent ? String(userAgent) : '';\n","'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this');\n\nvar id = 0;\nvar postfix = Math.random();\nvar toString = uncurryThis(1.1.toString);\n\nmodule.exports = function (key) {\n  return 'Symbol(' + (key === undefined ? '' : key) + ')_' + toString(++id + postfix, 36);\n};\n","'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar isCallable = require('../internals/is-callable');\nvar store = require('../internals/shared-store');\n\nvar functionToString = uncurryThis(Function.toString);\n\n// this helper broken in `core-js@3.4.1-3.4.4`, so we can't use `shared` helper\nif (!isCallable(store.inspectSource)) {\n  store.inspectSource = function (it) {\n    return functionToString(it);\n  };\n}\n\nmodule.exports = store.inspectSource;\n","'use strict';\n// eslint-disable-next-line es/no-object-getownpropertysymbols -- safe\nexports.f = Object.getOwnPropertySymbols;\n","'use strict';\nvar fails = require('../internals/fails');\n\n// Detect IE8's incomplete defineProperty implementation\nmodule.exports = !fails(function () {\n  // eslint-disable-next-line es/no-object-defineproperty -- required for testing\n  return Object.defineProperty({}, 1, { get: function () { return 7; } })[1] !== 7;\n});\n","'use strict';\nvar globalThis = require('../internals/global-this');\nvar isObject = require('../internals/is-object');\n\nvar document = globalThis.document;\n// typeof document.createElement is 'object' in old IE\nvar EXISTS = isObject(document) && isObject(document.createElement);\n\nmodule.exports = function (it) {\n  return EXISTS ? document.createElement(it) : {};\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar toObject = require('../internals/to-object');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\nvar setArrayLength = require('../internals/array-set-length');\nvar doesNotExceedSafeInteger = require('../internals/does-not-exceed-safe-integer');\nvar fails = require('../internals/fails');\n\nvar INCORRECT_TO_LENGTH = fails(function () {\n  return [].push.call({ length: 0x100000000 }, 1) !== 4294967297;\n});\n\n// V8 <= 121 and Safari <= 15.4; FF < 23 throws InternalError\n// https://bugs.chromium.org/p/v8/issues/detail?id=12681\nvar properErrorOnNonWritableLength = function () {\n  try {\n    // eslint-disable-next-line es/no-object-defineproperty -- safe\n    Object.defineProperty([], 'length', { writable: false }).push();\n  } catch (error) {\n    return error instanceof TypeError;\n  }\n};\n\nvar FORCED = INCORRECT_TO_LENGTH || !properErrorOnNonWritableLength();\n\n// `Array.prototype.push` method\n// https://tc39.es/ecma262/#sec-array.prototype.push\n$({ target: 'Array', proto: true, arity: 1, forced: FORCED }, {\n  // eslint-disable-next-line no-unused-vars -- required for `.length`\n  push: function push(item) {\n    var O = toObject(this);\n    var len = lengthOfArrayLike(O);\n    var argCount = arguments.length;\n    doesNotExceedSafeInteger(len + argCount);\n    for (var i = 0; i < argCount; i++) {\n      O[len] = arguments[i];\n      len++;\n    }\n    setArrayLength(O, len);\n    return len;\n  }\n});\n","'use strict';\n// we can't use just `it == null` since of `document.all` special case\n// https://tc39.es/ecma262/#sec-IsHTMLDDA-internal-slot-aec\nmodule.exports = function (it) {\n  return it === null || it === undefined;\n};\n","'use strict';\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar Iterators = require('../internals/iterators');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar ArrayPrototype = Array.prototype;\n\n// check on default Array iterator\nmodule.exports = function (it) {\n  return it !== undefined && (Iterators.Array === it || ArrayPrototype[ITERATOR] === it);\n};\n","'use strict';\nvar call = require('../internals/function-call');\nvar isCallable = require('../internals/is-callable');\nvar isObject = require('../internals/is-object');\n\nvar $TypeError = TypeError;\n\n// `OrdinaryToPrimitive` abstract operation\n// https://tc39.es/ecma262/#sec-ordinarytoprimitive\nmodule.exports = function (input, pref) {\n  var fn, val;\n  if (pref === 'string' && isCallable(fn = input.toString) && !isObject(val = call(fn, input))) return val;\n  if (isCallable(fn = input.valueOf) && !isObject(val = call(fn, input))) return val;\n  if (pref !== 'string' && isCallable(fn = input.toString) && !isObject(val = call(fn, input))) return val;\n  throw new $TypeError(\"Can't convert object to primitive value\");\n};\n","'use strict';\nvar classof = require('../internals/classof-raw');\n\n// `IsArray` abstract operation\n// https://tc39.es/ecma262/#sec-isarray\n// eslint-disable-next-line es/no-array-isarray -- safe\nmodule.exports = Array.isArray || function isArray(argument) {\n  return classof(argument) === 'Array';\n};\n","'use strict';\n/* eslint-disable es/no-symbol -- required for testing */\nvar V8_VERSION = require('../internals/environment-v8-version');\nvar fails = require('../internals/fails');\nvar globalThis = require('../internals/global-this');\n\nvar $String = globalThis.String;\n\n// eslint-disable-next-line es/no-object-getownpropertysymbols -- required for testing\nmodule.exports = !!Object.getOwnPropertySymbols && !fails(function () {\n  var symbol = Symbol('symbol detection');\n  // Chrome 38 Symbol has incorrect toString conversion\n  // `get-own-property-symbols` polyfill symbols converted to object are not Symbol instances\n  // nb: Do not call `String` directly to avoid this being optimized out to `symbol+''` which will,\n  // of course, fail.\n  return !$String(symbol) || !(Object(symbol) instanceof Symbol) ||\n    // Chrome 38-40 symbols are not inherited from DOM collections prototypes to instances\n    !Symbol.sham && V8_VERSION && V8_VERSION < 41;\n});\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar isArray = require('../internals/is-array');\n\nvar $TypeError = TypeError;\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// Safari < 13 does not throw an error in this case\nvar SILENT_ON_NON_WRITABLE_LENGTH_SET = DESCRIPTORS && !function () {\n  // makes no sense without proper strict mode support\n  if (this !== undefined) return true;\n  try {\n    // eslint-disable-next-line es/no-object-defineproperty -- safe\n    Object.defineProperty([], 'length', { writable: false }).length = 1;\n  } catch (error) {\n    return error instanceof TypeError;\n  }\n}();\n\nmodule.exports = SILENT_ON_NON_WRITABLE_LENGTH_SET ? function (O, length) {\n  if (isArray(O) && !getOwnPropertyDescriptor(O, 'length').writable) {\n    throw new $TypeError('Cannot set read only .length');\n  } return O.length = length;\n} : function (O, length) {\n  return O.length = length;\n};\n","'use strict';\nvar globalThis = require('../internals/global-this');\n\n// https://github.com/tc39/ecma262/pull/3467\nmodule.exports = function (METHOD_NAME, ExpectedError) {\n  var Iterator = globalThis.Iterator;\n  var IteratorPrototype = Iterator && Iterator.prototype;\n  var method = IteratorPrototype && IteratorPrototype[METHOD_NAME];\n\n  var CLOSED = false;\n\n  if (method) try {\n    method.call({\n      next: function () { return { done: true }; },\n      'return': function () { CLOSED = true; }\n    }, -1);\n  } catch (error) {\n    // https://bugs.webkit.org/show_bug.cgi?id=291195\n    if (!(error instanceof ExpectedError)) CLOSED = false;\n  }\n\n  if (!CLOSED) return method;\n};\n","'use strict';\nvar check = function (it) {\n  return it && it.Math === Math && it;\n};\n\n// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nmodule.exports =\n  // eslint-disable-next-line es/no-global-this -- safe\n  check(typeof globalThis == 'object' && globalThis) ||\n  check(typeof window == 'object' && window) ||\n  // eslint-disable-next-line no-restricted-globals -- safe\n  check(typeof self == 'object' && self) ||\n  check(typeof global == 'object' && global) ||\n  check(typeof this == 'object' && this) ||\n  // eslint-disable-next-line no-new-func -- fallback\n  (function () { return this; })() || Function('return this')();\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar definePropertyModule = require('../internals/object-define-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = function (object, key, value) {\n  if (DESCRIPTORS) definePropertyModule.f(object, key, createPropertyDescriptor(0, value));\n  else object[key] = value;\n};\n","'use strict';\n// https://tc39.es/ecma262/#sec-IsHTMLDDA-internal-slot\nvar documentAll = typeof document == 'object' && document.all;\n\n// `IsCallable` abstract operation\n// https://tc39.es/ecma262/#sec-iscallable\n// eslint-disable-next-line unicorn/no-typeof-undefined -- required for testing\nmodule.exports = typeof documentAll == 'undefined' && documentAll !== undefined ? function (argument) {\n  return typeof argument == 'function' || argument === documentAll;\n} : function (argument) {\n  return typeof argument == 'function';\n};\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\nvar V8_PROTOTYPE_DEFINE_BUG = require('../internals/v8-prototype-define-bug');\nvar anObject = require('../internals/an-object');\nvar toPropertyKey = require('../internals/to-property-key');\n\nvar $TypeError = TypeError;\n// eslint-disable-next-line es/no-object-defineproperty -- safe\nvar $defineProperty = Object.defineProperty;\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar $getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\nvar ENUMERABLE = 'enumerable';\nvar CONFIGURABLE = 'configurable';\nvar WRITABLE = 'writable';\n\n// `Object.defineProperty` method\n// https://tc39.es/ecma262/#sec-object.defineproperty\nexports.f = DESCRIPTORS ? V8_PROTOTYPE_DEFINE_BUG ? function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPropertyKey(P);\n  anObject(Attributes);\n  if (typeof O === 'function' && P === 'prototype' && 'value' in Attributes && WRITABLE in Attributes && !Attributes[WRITABLE]) {\n    var current = $getOwnPropertyDescriptor(O, P);\n    if (current && current[WRITABLE]) {\n      O[P] = Attributes.value;\n      Attributes = {\n        configurable: CONFIGURABLE in Attributes ? Attributes[CONFIGURABLE] : current[CONFIGURABLE],\n        enumerable: ENUMERABLE in Attributes ? Attributes[ENUMERABLE] : current[ENUMERABLE],\n        writable: false\n      };\n    }\n  } return $defineProperty(O, P, Attributes);\n} : $defineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPropertyKey(P);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return $defineProperty(O, P, Attributes);\n  } catch (error) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw new $TypeError('Accessors not supported');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n","'use strict';\nvar getBuiltIn = require('../internals/get-built-in');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar getOwnPropertyNamesModule = require('../internals/object-get-own-property-names');\nvar getOwnPropertySymbolsModule = require('../internals/object-get-own-property-symbols');\nvar anObject = require('../internals/an-object');\n\nvar concat = uncurryThis([].concat);\n\n// all object keys, includes non-enumerable and symbols\nmodule.exports = getBuiltIn('Reflect', 'ownKeys') || function ownKeys(it) {\n  var keys = getOwnPropertyNamesModule.f(anObject(it));\n  var getOwnPropertySymbols = getOwnPropertySymbolsModule.f;\n  return getOwnPropertySymbols ? concat(keys, getOwnPropertySymbols(it)) : keys;\n};\n","'use strict';\n// toObject with fallback for non-array-like ES3 strings\nvar IndexedObject = require('../internals/indexed-object');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\nmodule.exports = function (it) {\n  return IndexedObject(requireObjectCoercible(it));\n};\n","/*!\n * Vue.js v2.7.16\n * (c) 2014-2023 Evan You\n * Released under the MIT License.\n */\nvar emptyObject = Object.freeze({});\nvar isArray = Array.isArray;\n// These helpers produce better VM code in JS engines due to their\n// explicitness and function inlining.\nfunction isUndef(v) {\n    return v === undefined || v === null;\n}\nfunction isDef(v) {\n    return v !== undefined && v !== null;\n}\nfunction isTrue(v) {\n    return v === true;\n}\nfunction isFalse(v) {\n    return v === false;\n}\n/**\n * Check if value is primitive.\n */\nfunction isPrimitive(value) {\n    return (typeof value === 'string' ||\n        typeof value === 'number' ||\n        // $flow-disable-line\n        typeof value === 'symbol' ||\n        typeof value === 'boolean');\n}\nfunction isFunction(value) {\n    return typeof value === 'function';\n}\n/**\n * Quick object check - this is primarily used to tell\n * objects from primitive values when we know the value\n * is a JSON-compliant type.\n */\nfunction isObject(obj) {\n    return obj !== null && typeof obj === 'object';\n}\n/**\n * Get the raw type string of a value, e.g., [object Object].\n */\nvar _toString = Object.prototype.toString;\nfunction toRawType(value) {\n    return _toString.call(value).slice(8, -1);\n}\n/**\n * Strict object type check. Only returns true\n * for plain JavaScript objects.\n */\nfunction isPlainObject(obj) {\n    return _toString.call(obj) === '[object Object]';\n}\nfunction isRegExp(v) {\n    return _toString.call(v) === '[object RegExp]';\n}\n/**\n * Check if val is a valid array index.\n */\nfunction isValidArrayIndex(val) {\n    var n = parseFloat(String(val));\n    return n >= 0 && Math.floor(n) === n && isFinite(val);\n}\nfunction isPromise(val) {\n    return (isDef(val) &&\n        typeof val.then === 'function' &&\n        typeof val.catch === 'function');\n}\n/**\n * Convert a value to a string that is actually rendered.\n */\nfunction toString(val) {\n    return val == null\n        ? ''\n        : Array.isArray(val) || (isPlainObject(val) && val.toString === _toString)\n            ? JSON.stringify(val, replacer, 2)\n            : String(val);\n}\nfunction replacer(_key, val) {\n    // avoid circular deps from v3\n    if (val && val.__v_isRef) {\n        return val.value;\n    }\n    return val;\n}\n/**\n * Convert an input value to a number for persistence.\n * If the conversion fails, return original string.\n */\nfunction toNumber(val) {\n    var n = parseFloat(val);\n    return isNaN(n) ? val : n;\n}\n/**\n * Make a map and return a function for checking if a key\n * is in that map.\n */\nfunction makeMap(str, expectsLowerCase) {\n    var map = Object.create(null);\n    var list = str.split(',');\n    for (var i = 0; i < list.length; i++) {\n        map[list[i]] = true;\n    }\n    return expectsLowerCase ? function (val) { return map[val.toLowerCase()]; } : function (val) { return map[val]; };\n}\n/**\n * Check if a tag is a built-in tag.\n */\nvar isBuiltInTag = makeMap('slot,component', true);\n/**\n * Check if an attribute is a reserved attribute.\n */\nvar isReservedAttribute = makeMap('key,ref,slot,slot-scope,is');\n/**\n * Remove an item from an array.\n */\nfunction remove$2(arr, item) {\n    var len = arr.length;\n    if (len) {\n        // fast path for the only / last item\n        if (item === arr[len - 1]) {\n            arr.length = len - 1;\n            return;\n        }\n        var index = arr.indexOf(item);\n        if (index > -1) {\n            return arr.splice(index, 1);\n        }\n    }\n}\n/**\n * Check whether an object has the property.\n */\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nfunction hasOwn(obj, key) {\n    return hasOwnProperty.call(obj, key);\n}\n/**\n * Create a cached version of a pure function.\n */\nfunction cached(fn) {\n    var cache = Object.create(null);\n    return function cachedFn(str) {\n        var hit = cache[str];\n        return hit || (cache[str] = fn(str));\n    };\n}\n/**\n * Camelize a hyphen-delimited string.\n */\nvar camelizeRE = /-(\\w)/g;\nvar camelize = cached(function (str) {\n    return str.replace(camelizeRE, function (_, c) { return (c ? c.toUpperCase() : ''); });\n});\n/**\n * Capitalize a string.\n */\nvar capitalize = cached(function (str) {\n    return str.charAt(0).toUpperCase() + str.slice(1);\n});\n/**\n * Hyphenate a camelCase string.\n */\nvar hyphenateRE = /\\B([A-Z])/g;\nvar hyphenate = cached(function (str) {\n    return str.replace(hyphenateRE, '-$1').toLowerCase();\n});\n/**\n * Simple bind polyfill for environments that do not support it,\n * e.g., PhantomJS 1.x. Technically, we don't need this anymore\n * since native bind is now performant enough in most browsers.\n * But removing it would mean breaking code that was able to run in\n * PhantomJS 1.x, so this must be kept for backward compatibility.\n */\n/* istanbul ignore next */\nfunction polyfillBind(fn, ctx) {\n    function boundFn(a) {\n        var l = arguments.length;\n        return l\n            ? l > 1\n                ? fn.apply(ctx, arguments)\n                : fn.call(ctx, a)\n            : fn.call(ctx);\n    }\n    boundFn._length = fn.length;\n    return boundFn;\n}\nfunction nativeBind(fn, ctx) {\n    return fn.bind(ctx);\n}\n// @ts-expect-error bind cannot be `undefined`\nvar bind = Function.prototype.bind ? nativeBind : polyfillBind;\n/**\n * Convert an Array-like object to a real Array.\n */\nfunction toArray(list, start) {\n    start = start || 0;\n    var i = list.length - start;\n    var ret = new Array(i);\n    while (i--) {\n        ret[i] = list[i + start];\n    }\n    return ret;\n}\n/**\n * Mix properties into target object.\n */\nfunction extend(to, _from) {\n    for (var key in _from) {\n        to[key] = _from[key];\n    }\n    return to;\n}\n/**\n * Merge an Array of Objects into a single Object.\n */\nfunction toObject(arr) {\n    var res = {};\n    for (var i = 0; i < arr.length; i++) {\n        if (arr[i]) {\n            extend(res, arr[i]);\n        }\n    }\n    return res;\n}\n/* eslint-disable no-unused-vars */\n/**\n * Perform no operation.\n * Stubbing args to make Flow happy without leaving useless transpiled code\n * with ...rest (https://flow.org/blog/2017/05/07/Strict-Function-Call-Arity/).\n */\nfunction noop(a, b, c) { }\n/**\n * Always return false.\n */\nvar no = function (a, b, c) { return false; };\n/* eslint-enable no-unused-vars */\n/**\n * Return the same value.\n */\nvar identity = function (_) { return _; };\n/**\n * Check if two values are loosely equal - that is,\n * if they are plain objects, do they have the same shape?\n */\nfunction looseEqual(a, b) {\n    if (a === b)\n        return true;\n    var isObjectA = isObject(a);\n    var isObjectB = isObject(b);\n    if (isObjectA && isObjectB) {\n        try {\n            var isArrayA = Array.isArray(a);\n            var isArrayB = Array.isArray(b);\n            if (isArrayA && isArrayB) {\n                return (a.length === b.length &&\n                    a.every(function (e, i) {\n                        return looseEqual(e, b[i]);\n                    }));\n            }\n            else if (a instanceof Date && b instanceof Date) {\n                return a.getTime() === b.getTime();\n            }\n            else if (!isArrayA && !isArrayB) {\n                var keysA = Object.keys(a);\n                var keysB = Object.keys(b);\n                return (keysA.length === keysB.length &&\n                    keysA.every(function (key) {\n                        return looseEqual(a[key], b[key]);\n                    }));\n            }\n            else {\n                /* istanbul ignore next */\n                return false;\n            }\n        }\n        catch (e) {\n            /* istanbul ignore next */\n            return false;\n        }\n    }\n    else if (!isObjectA && !isObjectB) {\n        return String(a) === String(b);\n    }\n    else {\n        return false;\n    }\n}\n/**\n * Return the first index at which a loosely equal value can be\n * found in the array (if value is a plain object, the array must\n * contain an object of the same shape), or -1 if it is not present.\n */\nfunction looseIndexOf(arr, val) {\n    for (var i = 0; i < arr.length; i++) {\n        if (looseEqual(arr[i], val))\n            return i;\n    }\n    return -1;\n}\n/**\n * Ensure a function is called only once.\n */\nfunction once(fn) {\n    var called = false;\n    return function () {\n        if (!called) {\n            called = true;\n            fn.apply(this, arguments);\n        }\n    };\n}\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is#polyfill\nfunction hasChanged(x, y) {\n    if (x === y) {\n        return x === 0 && 1 / x !== 1 / y;\n    }\n    else {\n        return x === x || y === y;\n    }\n}\n\nvar SSR_ATTR = 'data-server-rendered';\nvar ASSET_TYPES = ['component', 'directive', 'filter'];\nvar LIFECYCLE_HOOKS = [\n    'beforeCreate',\n    'created',\n    'beforeMount',\n    'mounted',\n    'beforeUpdate',\n    'updated',\n    'beforeDestroy',\n    'destroyed',\n    'activated',\n    'deactivated',\n    'errorCaptured',\n    'serverPrefetch',\n    'renderTracked',\n    'renderTriggered'\n];\n\nvar config = {\n    /**\n     * Option merge strategies (used in core/util/options)\n     */\n    // $flow-disable-line\n    optionMergeStrategies: Object.create(null),\n    /**\n     * Whether to suppress warnings.\n     */\n    silent: false,\n    /**\n     * Show production mode tip message on boot?\n     */\n    productionTip: process.env.NODE_ENV !== 'production',\n    /**\n     * Whether to enable devtools\n     */\n    devtools: process.env.NODE_ENV !== 'production',\n    /**\n     * Whether to record perf\n     */\n    performance: false,\n    /**\n     * Error handler for watcher errors\n     */\n    errorHandler: null,\n    /**\n     * Warn handler for watcher warns\n     */\n    warnHandler: null,\n    /**\n     * Ignore certain custom elements\n     */\n    ignoredElements: [],\n    /**\n     * Custom user key aliases for v-on\n     */\n    // $flow-disable-line\n    keyCodes: Object.create(null),\n    /**\n     * Check if a tag is reserved so that it cannot be registered as a\n     * component. This is platform-dependent and may be overwritten.\n     */\n    isReservedTag: no,\n    /**\n     * Check if an attribute is reserved so that it cannot be used as a component\n     * prop. This is platform-dependent and may be overwritten.\n     */\n    isReservedAttr: no,\n    /**\n     * Check if a tag is an unknown element.\n     * Platform-dependent.\n     */\n    isUnknownElement: no,\n    /**\n     * Get the namespace of an element\n     */\n    getTagNamespace: noop,\n    /**\n     * Parse the real tag name for the specific platform.\n     */\n    parsePlatformTagName: identity,\n    /**\n     * Check if an attribute must be bound using property, e.g. value\n     * Platform-dependent.\n     */\n    mustUseProp: no,\n    /**\n     * Perform updates asynchronously. Intended to be used by Vue Test Utils\n     * This will significantly reduce performance if set to false.\n     */\n    async: true,\n    /**\n     * Exposed for legacy reasons\n     */\n    _lifecycleHooks: LIFECYCLE_HOOKS\n};\n\n/**\n * unicode letters used for parsing html tags, component names and property paths.\n * using https://www.w3.org/TR/html53/semantics-scripting.html#potentialcustomelementname\n * skipping \\u10000-\\uEFFFF due to it freezing up PhantomJS\n */\nvar unicodeRegExp = /a-zA-Z\\u00B7\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u203F-\\u2040\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD/;\n/**\n * Check if a string starts with $ or _\n */\nfunction isReserved(str) {\n    var c = (str + '').charCodeAt(0);\n    return c === 0x24 || c === 0x5f;\n}\n/**\n * Define a property.\n */\nfunction def(obj, key, val, enumerable) {\n    Object.defineProperty(obj, key, {\n        value: val,\n        enumerable: !!enumerable,\n        writable: true,\n        configurable: true\n    });\n}\n/**\n * Parse simple path.\n */\nvar bailRE = new RegExp(\"[^\".concat(unicodeRegExp.source, \".$_\\\\d]\"));\nfunction parsePath(path) {\n    if (bailRE.test(path)) {\n        return;\n    }\n    var segments = path.split('.');\n    return function (obj) {\n        for (var i = 0; i < segments.length; i++) {\n            if (!obj)\n                return;\n            obj = obj[segments[i]];\n        }\n        return obj;\n    };\n}\n\n// can we use __proto__?\nvar hasProto = '__proto__' in {};\n// Browser environment sniffing\nvar inBrowser = typeof window !== 'undefined';\nvar UA = inBrowser && window.navigator.userAgent.toLowerCase();\nvar isIE = UA && /msie|trident/.test(UA);\nvar isIE9 = UA && UA.indexOf('msie 9.0') > 0;\nvar isEdge = UA && UA.indexOf('edge/') > 0;\nUA && UA.indexOf('android') > 0;\nvar isIOS = UA && /iphone|ipad|ipod|ios/.test(UA);\nUA && /chrome\\/\\d+/.test(UA) && !isEdge;\nUA && /phantomjs/.test(UA);\nvar isFF = UA && UA.match(/firefox\\/(\\d+)/);\n// Firefox has a \"watch\" function on Object.prototype...\n// @ts-expect-error firebox support\nvar nativeWatch = {}.watch;\nvar supportsPassive = false;\nif (inBrowser) {\n    try {\n        var opts = {};\n        Object.defineProperty(opts, 'passive', {\n            get: function () {\n                /* istanbul ignore next */\n                supportsPassive = true;\n            }\n        }); // https://github.com/facebook/flow/issues/285\n        window.addEventListener('test-passive', null, opts);\n    }\n    catch (e) { }\n}\n// this needs to be lazy-evaled because vue may be required before\n// vue-server-renderer can set VUE_ENV\nvar _isServer;\nvar isServerRendering = function () {\n    if (_isServer === undefined) {\n        /* istanbul ignore if */\n        if (!inBrowser && typeof global !== 'undefined') {\n            // detect presence of vue-server-renderer and avoid\n            // Webpack shimming the process\n            _isServer =\n                global['process'] && global['process'].env.VUE_ENV === 'server';\n        }\n        else {\n            _isServer = false;\n        }\n    }\n    return _isServer;\n};\n// detect devtools\nvar devtools = inBrowser && window.__VUE_DEVTOOLS_GLOBAL_HOOK__;\n/* istanbul ignore next */\nfunction isNative(Ctor) {\n    return typeof Ctor === 'function' && /native code/.test(Ctor.toString());\n}\nvar hasSymbol = typeof Symbol !== 'undefined' &&\n    isNative(Symbol) &&\n    typeof Reflect !== 'undefined' &&\n    isNative(Reflect.ownKeys);\nvar _Set; // $flow-disable-line\n/* istanbul ignore if */ if (typeof Set !== 'undefined' && isNative(Set)) {\n    // use native Set when available.\n    _Set = Set;\n}\nelse {\n    // a non-standard Set polyfill that only works with primitive keys.\n    _Set = /** @class */ (function () {\n        function Set() {\n            this.set = Object.create(null);\n        }\n        Set.prototype.has = function (key) {\n            return this.set[key] === true;\n        };\n        Set.prototype.add = function (key) {\n            this.set[key] = true;\n        };\n        Set.prototype.clear = function () {\n            this.set = Object.create(null);\n        };\n        return Set;\n    }());\n}\n\nvar currentInstance = null;\n/**\n * This is exposed for compatibility with v3 (e.g. some functions in VueUse\n * relies on it). Do not use this internally, just use `currentInstance`.\n *\n * @internal this function needs manual type declaration because it relies\n * on previously manually authored types from Vue 2\n */\nfunction getCurrentInstance() {\n    return currentInstance && { proxy: currentInstance };\n}\n/**\n * @internal\n */\nfunction setCurrentInstance(vm) {\n    if (vm === void 0) { vm = null; }\n    if (!vm)\n        currentInstance && currentInstance._scope.off();\n    currentInstance = vm;\n    vm && vm._scope.on();\n}\n\n/**\n * @internal\n */\nvar VNode = /** @class */ (function () {\n    function VNode(tag, data, children, text, elm, context, componentOptions, asyncFactory) {\n        this.tag = tag;\n        this.data = data;\n        this.children = children;\n        this.text = text;\n        this.elm = elm;\n        this.ns = undefined;\n        this.context = context;\n        this.fnContext = undefined;\n        this.fnOptions = undefined;\n        this.fnScopeId = undefined;\n        this.key = data && data.key;\n        this.componentOptions = componentOptions;\n        this.componentInstance = undefined;\n        this.parent = undefined;\n        this.raw = false;\n        this.isStatic = false;\n        this.isRootInsert = true;\n        this.isComment = false;\n        this.isCloned = false;\n        this.isOnce = false;\n        this.asyncFactory = asyncFactory;\n        this.asyncMeta = undefined;\n        this.isAsyncPlaceholder = false;\n    }\n    Object.defineProperty(VNode.prototype, \"child\", {\n        // DEPRECATED: alias for componentInstance for backwards compat.\n        /* istanbul ignore next */\n        get: function () {\n            return this.componentInstance;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return VNode;\n}());\nvar createEmptyVNode = function (text) {\n    if (text === void 0) { text = ''; }\n    var node = new VNode();\n    node.text = text;\n    node.isComment = true;\n    return node;\n};\nfunction createTextVNode(val) {\n    return new VNode(undefined, undefined, undefined, String(val));\n}\n// optimized shallow clone\n// used for static nodes and slot nodes because they may be reused across\n// multiple renders, cloning them avoids errors when DOM manipulations rely\n// on their elm reference.\nfunction cloneVNode(vnode) {\n    var cloned = new VNode(vnode.tag, vnode.data, \n    // #7975\n    // clone children array to avoid mutating original in case of cloning\n    // a child.\n    vnode.children && vnode.children.slice(), vnode.text, vnode.elm, vnode.context, vnode.componentOptions, vnode.asyncFactory);\n    cloned.ns = vnode.ns;\n    cloned.isStatic = vnode.isStatic;\n    cloned.key = vnode.key;\n    cloned.isComment = vnode.isComment;\n    cloned.fnContext = vnode.fnContext;\n    cloned.fnOptions = vnode.fnOptions;\n    cloned.fnScopeId = vnode.fnScopeId;\n    cloned.asyncMeta = vnode.asyncMeta;\n    cloned.isCloned = true;\n    return cloned;\n}\n\n/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\n\r\ntypeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\r\n    var e = new Error(message);\r\n    return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\r\n};\n\nvar uid$2 = 0;\nvar pendingCleanupDeps = [];\nvar cleanupDeps = function () {\n    for (var i = 0; i < pendingCleanupDeps.length; i++) {\n        var dep = pendingCleanupDeps[i];\n        dep.subs = dep.subs.filter(function (s) { return s; });\n        dep._pending = false;\n    }\n    pendingCleanupDeps.length = 0;\n};\n/**\n * A dep is an observable that can have multiple\n * directives subscribing to it.\n * @internal\n */\nvar Dep = /** @class */ (function () {\n    function Dep() {\n        // pending subs cleanup\n        this._pending = false;\n        this.id = uid$2++;\n        this.subs = [];\n    }\n    Dep.prototype.addSub = function (sub) {\n        this.subs.push(sub);\n    };\n    Dep.prototype.removeSub = function (sub) {\n        // #12696 deps with massive amount of subscribers are extremely slow to\n        // clean up in Chromium\n        // to workaround this, we unset the sub for now, and clear them on\n        // next scheduler flush.\n        this.subs[this.subs.indexOf(sub)] = null;\n        if (!this._pending) {\n            this._pending = true;\n            pendingCleanupDeps.push(this);\n        }\n    };\n    Dep.prototype.depend = function (info) {\n        if (Dep.target) {\n            Dep.target.addDep(this);\n            if (process.env.NODE_ENV !== 'production' && info && Dep.target.onTrack) {\n                Dep.target.onTrack(__assign({ effect: Dep.target }, info));\n            }\n        }\n    };\n    Dep.prototype.notify = function (info) {\n        // stabilize the subscriber list first\n        var subs = this.subs.filter(function (s) { return s; });\n        if (process.env.NODE_ENV !== 'production' && !config.async) {\n            // subs aren't sorted in scheduler if not running async\n            // we need to sort them now to make sure they fire in correct\n            // order\n            subs.sort(function (a, b) { return a.id - b.id; });\n        }\n        for (var i = 0, l = subs.length; i < l; i++) {\n            var sub = subs[i];\n            if (process.env.NODE_ENV !== 'production' && info) {\n                sub.onTrigger &&\n                    sub.onTrigger(__assign({ effect: subs[i] }, info));\n            }\n            sub.update();\n        }\n    };\n    return Dep;\n}());\n// The current target watcher being evaluated.\n// This is globally unique because only one watcher\n// can be evaluated at a time.\nDep.target = null;\nvar targetStack = [];\nfunction pushTarget(target) {\n    targetStack.push(target);\n    Dep.target = target;\n}\nfunction popTarget() {\n    targetStack.pop();\n    Dep.target = targetStack[targetStack.length - 1];\n}\n\n/*\n * not type checking this file because flow doesn't play well with\n * dynamically accessing methods on Array prototype\n */\nvar arrayProto = Array.prototype;\nvar arrayMethods = Object.create(arrayProto);\nvar methodsToPatch = [\n    'push',\n    'pop',\n    'shift',\n    'unshift',\n    'splice',\n    'sort',\n    'reverse'\n];\n/**\n * Intercept mutating methods and emit events\n */\nmethodsToPatch.forEach(function (method) {\n    // cache original method\n    var original = arrayProto[method];\n    def(arrayMethods, method, function mutator() {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        var result = original.apply(this, args);\n        var ob = this.__ob__;\n        var inserted;\n        switch (method) {\n            case 'push':\n            case 'unshift':\n                inserted = args;\n                break;\n            case 'splice':\n                inserted = args.slice(2);\n                break;\n        }\n        if (inserted)\n            ob.observeArray(inserted);\n        // notify change\n        if (process.env.NODE_ENV !== 'production') {\n            ob.dep.notify({\n                type: \"array mutation\" /* TriggerOpTypes.ARRAY_MUTATION */,\n                target: this,\n                key: method\n            });\n        }\n        else {\n            ob.dep.notify();\n        }\n        return result;\n    });\n});\n\nvar arrayKeys = Object.getOwnPropertyNames(arrayMethods);\nvar NO_INITIAL_VALUE = {};\n/**\n * In some cases we may want to disable observation inside a component's\n * update computation.\n */\nvar shouldObserve = true;\nfunction toggleObserving(value) {\n    shouldObserve = value;\n}\n// ssr mock dep\nvar mockDep = {\n    notify: noop,\n    depend: noop,\n    addSub: noop,\n    removeSub: noop\n};\n/**\n * Observer class that is attached to each observed\n * object. Once attached, the observer converts the target\n * object's property keys into getter/setters that\n * collect dependencies and dispatch updates.\n */\nvar Observer = /** @class */ (function () {\n    function Observer(value, shallow, mock) {\n        if (shallow === void 0) { shallow = false; }\n        if (mock === void 0) { mock = false; }\n        this.value = value;\n        this.shallow = shallow;\n        this.mock = mock;\n        // this.value = value\n        this.dep = mock ? mockDep : new Dep();\n        this.vmCount = 0;\n        def(value, '__ob__', this);\n        if (isArray(value)) {\n            if (!mock) {\n                if (hasProto) {\n                    value.__proto__ = arrayMethods;\n                    /* eslint-enable no-proto */\n                }\n                else {\n                    for (var i = 0, l = arrayKeys.length; i < l; i++) {\n                        var key = arrayKeys[i];\n                        def(value, key, arrayMethods[key]);\n                    }\n                }\n            }\n            if (!shallow) {\n                this.observeArray(value);\n            }\n        }\n        else {\n            /**\n             * Walk through all properties and convert them into\n             * getter/setters. This method should only be called when\n             * value type is Object.\n             */\n            var keys = Object.keys(value);\n            for (var i = 0; i < keys.length; i++) {\n                var key = keys[i];\n                defineReactive(value, key, NO_INITIAL_VALUE, undefined, shallow, mock);\n            }\n        }\n    }\n    /**\n     * Observe a list of Array items.\n     */\n    Observer.prototype.observeArray = function (value) {\n        for (var i = 0, l = value.length; i < l; i++) {\n            observe(value[i], false, this.mock);\n        }\n    };\n    return Observer;\n}());\n// helpers\n/**\n * Attempt to create an observer instance for a value,\n * returns the new observer if successfully observed,\n * or the existing observer if the value already has one.\n */\nfunction observe(value, shallow, ssrMockReactivity) {\n    if (value && hasOwn(value, '__ob__') && value.__ob__ instanceof Observer) {\n        return value.__ob__;\n    }\n    if (shouldObserve &&\n        (ssrMockReactivity || !isServerRendering()) &&\n        (isArray(value) || isPlainObject(value)) &&\n        Object.isExtensible(value) &&\n        !value.__v_skip /* ReactiveFlags.SKIP */ &&\n        !isRef(value) &&\n        !(value instanceof VNode)) {\n        return new Observer(value, shallow, ssrMockReactivity);\n    }\n}\n/**\n * Define a reactive property on an Object.\n */\nfunction defineReactive(obj, key, val, customSetter, shallow, mock, observeEvenIfShallow) {\n    if (observeEvenIfShallow === void 0) { observeEvenIfShallow = false; }\n    var dep = new Dep();\n    var property = Object.getOwnPropertyDescriptor(obj, key);\n    if (property && property.configurable === false) {\n        return;\n    }\n    // cater for pre-defined getter/setters\n    var getter = property && property.get;\n    var setter = property && property.set;\n    if ((!getter || setter) &&\n        (val === NO_INITIAL_VALUE || arguments.length === 2)) {\n        val = obj[key];\n    }\n    var childOb = shallow ? val && val.__ob__ : observe(val, false, mock);\n    Object.defineProperty(obj, key, {\n        enumerable: true,\n        configurable: true,\n        get: function reactiveGetter() {\n            var value = getter ? getter.call(obj) : val;\n            if (Dep.target) {\n                if (process.env.NODE_ENV !== 'production') {\n                    dep.depend({\n                        target: obj,\n                        type: \"get\" /* TrackOpTypes.GET */,\n                        key: key\n                    });\n                }\n                else {\n                    dep.depend();\n                }\n                if (childOb) {\n                    childOb.dep.depend();\n                    if (isArray(value)) {\n                        dependArray(value);\n                    }\n                }\n            }\n            return isRef(value) && !shallow ? value.value : value;\n        },\n        set: function reactiveSetter(newVal) {\n            var value = getter ? getter.call(obj) : val;\n            if (!hasChanged(value, newVal)) {\n                return;\n            }\n            if (process.env.NODE_ENV !== 'production' && customSetter) {\n                customSetter();\n            }\n            if (setter) {\n                setter.call(obj, newVal);\n            }\n            else if (getter) {\n                // #7981: for accessor properties without setter\n                return;\n            }\n            else if (!shallow && isRef(value) && !isRef(newVal)) {\n                value.value = newVal;\n                return;\n            }\n            else {\n                val = newVal;\n            }\n            childOb = shallow ? newVal && newVal.__ob__ : observe(newVal, false, mock);\n            if (process.env.NODE_ENV !== 'production') {\n                dep.notify({\n                    type: \"set\" /* TriggerOpTypes.SET */,\n                    target: obj,\n                    key: key,\n                    newValue: newVal,\n                    oldValue: value\n                });\n            }\n            else {\n                dep.notify();\n            }\n        }\n    });\n    return dep;\n}\nfunction set(target, key, val) {\n    if (process.env.NODE_ENV !== 'production' && (isUndef(target) || isPrimitive(target))) {\n        warn(\"Cannot set reactive property on undefined, null, or primitive value: \".concat(target));\n    }\n    if (isReadonly(target)) {\n        process.env.NODE_ENV !== 'production' && warn(\"Set operation on key \\\"\".concat(key, \"\\\" failed: target is readonly.\"));\n        return;\n    }\n    var ob = target.__ob__;\n    if (isArray(target) && isValidArrayIndex(key)) {\n        target.length = Math.max(target.length, key);\n        target.splice(key, 1, val);\n        // when mocking for SSR, array methods are not hijacked\n        if (ob && !ob.shallow && ob.mock) {\n            observe(val, false, true);\n        }\n        return val;\n    }\n    if (key in target && !(key in Object.prototype)) {\n        target[key] = val;\n        return val;\n    }\n    if (target._isVue || (ob && ob.vmCount)) {\n        process.env.NODE_ENV !== 'production' &&\n            warn('Avoid adding reactive properties to a Vue instance or its root $data ' +\n                'at runtime - declare it upfront in the data option.');\n        return val;\n    }\n    if (!ob) {\n        target[key] = val;\n        return val;\n    }\n    defineReactive(ob.value, key, val, undefined, ob.shallow, ob.mock);\n    if (process.env.NODE_ENV !== 'production') {\n        ob.dep.notify({\n            type: \"add\" /* TriggerOpTypes.ADD */,\n            target: target,\n            key: key,\n            newValue: val,\n            oldValue: undefined\n        });\n    }\n    else {\n        ob.dep.notify();\n    }\n    return val;\n}\nfunction del(target, key) {\n    if (process.env.NODE_ENV !== 'production' && (isUndef(target) || isPrimitive(target))) {\n        warn(\"Cannot delete reactive property on undefined, null, or primitive value: \".concat(target));\n    }\n    if (isArray(target) && isValidArrayIndex(key)) {\n        target.splice(key, 1);\n        return;\n    }\n    var ob = target.__ob__;\n    if (target._isVue || (ob && ob.vmCount)) {\n        process.env.NODE_ENV !== 'production' &&\n            warn('Avoid deleting properties on a Vue instance or its root $data ' +\n                '- just set it to null.');\n        return;\n    }\n    if (isReadonly(target)) {\n        process.env.NODE_ENV !== 'production' &&\n            warn(\"Delete operation on key \\\"\".concat(key, \"\\\" failed: target is readonly.\"));\n        return;\n    }\n    if (!hasOwn(target, key)) {\n        return;\n    }\n    delete target[key];\n    if (!ob) {\n        return;\n    }\n    if (process.env.NODE_ENV !== 'production') {\n        ob.dep.notify({\n            type: \"delete\" /* TriggerOpTypes.DELETE */,\n            target: target,\n            key: key\n        });\n    }\n    else {\n        ob.dep.notify();\n    }\n}\n/**\n * Collect dependencies on array elements when the array is touched, since\n * we cannot intercept array element access like property getters.\n */\nfunction dependArray(value) {\n    for (var e = void 0, i = 0, l = value.length; i < l; i++) {\n        e = value[i];\n        if (e && e.__ob__) {\n            e.__ob__.dep.depend();\n        }\n        if (isArray(e)) {\n            dependArray(e);\n        }\n    }\n}\n\nfunction reactive(target) {\n    makeReactive(target, false);\n    return target;\n}\n/**\n * Return a shallowly-reactive copy of the original object, where only the root\n * level properties are reactive. It also does not auto-unwrap refs (even at the\n * root level).\n */\nfunction shallowReactive(target) {\n    makeReactive(target, true);\n    def(target, \"__v_isShallow\" /* ReactiveFlags.IS_SHALLOW */, true);\n    return target;\n}\nfunction makeReactive(target, shallow) {\n    // if trying to observe a readonly proxy, return the readonly version.\n    if (!isReadonly(target)) {\n        if (process.env.NODE_ENV !== 'production') {\n            if (isArray(target)) {\n                warn(\"Avoid using Array as root value for \".concat(shallow ? \"shallowReactive()\" : \"reactive()\", \" as it cannot be tracked in watch() or watchEffect(). Use \").concat(shallow ? \"shallowRef()\" : \"ref()\", \" instead. This is a Vue-2-only limitation.\"));\n            }\n            var existingOb = target && target.__ob__;\n            if (existingOb && existingOb.shallow !== shallow) {\n                warn(\"Target is already a \".concat(existingOb.shallow ? \"\" : \"non-\", \"shallow reactive object, and cannot be converted to \").concat(shallow ? \"\" : \"non-\", \"shallow.\"));\n            }\n        }\n        var ob = observe(target, shallow, isServerRendering() /* ssr mock reactivity */);\n        if (process.env.NODE_ENV !== 'production' && !ob) {\n            if (target == null || isPrimitive(target)) {\n                warn(\"value cannot be made reactive: \".concat(String(target)));\n            }\n            if (isCollectionType(target)) {\n                warn(\"Vue 2 does not support reactive collection types such as Map or Set.\");\n            }\n        }\n    }\n}\nfunction isReactive(value) {\n    if (isReadonly(value)) {\n        return isReactive(value[\"__v_raw\" /* ReactiveFlags.RAW */]);\n    }\n    return !!(value && value.__ob__);\n}\nfunction isShallow(value) {\n    return !!(value && value.__v_isShallow);\n}\nfunction isReadonly(value) {\n    return !!(value && value.__v_isReadonly);\n}\nfunction isProxy(value) {\n    return isReactive(value) || isReadonly(value);\n}\nfunction toRaw(observed) {\n    var raw = observed && observed[\"__v_raw\" /* ReactiveFlags.RAW */];\n    return raw ? toRaw(raw) : observed;\n}\nfunction markRaw(value) {\n    // non-extensible objects won't be observed anyway\n    if (Object.isExtensible(value)) {\n        def(value, \"__v_skip\" /* ReactiveFlags.SKIP */, true);\n    }\n    return value;\n}\n/**\n * @internal\n */\nfunction isCollectionType(value) {\n    var type = toRawType(value);\n    return (type === 'Map' || type === 'WeakMap' || type === 'Set' || type === 'WeakSet');\n}\n\n/**\n * @internal\n */\nvar RefFlag = \"__v_isRef\";\nfunction isRef(r) {\n    return !!(r && r.__v_isRef === true);\n}\nfunction ref$1(value) {\n    return createRef(value, false);\n}\nfunction shallowRef(value) {\n    return createRef(value, true);\n}\nfunction createRef(rawValue, shallow) {\n    if (isRef(rawValue)) {\n        return rawValue;\n    }\n    var ref = {};\n    def(ref, RefFlag, true);\n    def(ref, \"__v_isShallow\" /* ReactiveFlags.IS_SHALLOW */, shallow);\n    def(ref, 'dep', defineReactive(ref, 'value', rawValue, null, shallow, isServerRendering()));\n    return ref;\n}\nfunction triggerRef(ref) {\n    if (process.env.NODE_ENV !== 'production' && !ref.dep) {\n        warn(\"received object is not a triggerable ref.\");\n    }\n    if (process.env.NODE_ENV !== 'production') {\n        ref.dep &&\n            ref.dep.notify({\n                type: \"set\" /* TriggerOpTypes.SET */,\n                target: ref,\n                key: 'value'\n            });\n    }\n    else {\n        ref.dep && ref.dep.notify();\n    }\n}\nfunction unref(ref) {\n    return isRef(ref) ? ref.value : ref;\n}\nfunction proxyRefs(objectWithRefs) {\n    if (isReactive(objectWithRefs)) {\n        return objectWithRefs;\n    }\n    var proxy = {};\n    var keys = Object.keys(objectWithRefs);\n    for (var i = 0; i < keys.length; i++) {\n        proxyWithRefUnwrap(proxy, objectWithRefs, keys[i]);\n    }\n    return proxy;\n}\nfunction proxyWithRefUnwrap(target, source, key) {\n    Object.defineProperty(target, key, {\n        enumerable: true,\n        configurable: true,\n        get: function () {\n            var val = source[key];\n            if (isRef(val)) {\n                return val.value;\n            }\n            else {\n                var ob = val && val.__ob__;\n                if (ob)\n                    ob.dep.depend();\n                return val;\n            }\n        },\n        set: function (value) {\n            var oldValue = source[key];\n            if (isRef(oldValue) && !isRef(value)) {\n                oldValue.value = value;\n            }\n            else {\n                source[key] = value;\n            }\n        }\n    });\n}\nfunction customRef(factory) {\n    var dep = new Dep();\n    var _a = factory(function () {\n        if (process.env.NODE_ENV !== 'production') {\n            dep.depend({\n                target: ref,\n                type: \"get\" /* TrackOpTypes.GET */,\n                key: 'value'\n            });\n        }\n        else {\n            dep.depend();\n        }\n    }, function () {\n        if (process.env.NODE_ENV !== 'production') {\n            dep.notify({\n                target: ref,\n                type: \"set\" /* TriggerOpTypes.SET */,\n                key: 'value'\n            });\n        }\n        else {\n            dep.notify();\n        }\n    }), get = _a.get, set = _a.set;\n    var ref = {\n        get value() {\n            return get();\n        },\n        set value(newVal) {\n            set(newVal);\n        }\n    };\n    def(ref, RefFlag, true);\n    return ref;\n}\nfunction toRefs(object) {\n    if (process.env.NODE_ENV !== 'production' && !isReactive(object)) {\n        warn(\"toRefs() expects a reactive object but received a plain one.\");\n    }\n    var ret = isArray(object) ? new Array(object.length) : {};\n    for (var key in object) {\n        ret[key] = toRef(object, key);\n    }\n    return ret;\n}\nfunction toRef(object, key, defaultValue) {\n    var val = object[key];\n    if (isRef(val)) {\n        return val;\n    }\n    var ref = {\n        get value() {\n            var val = object[key];\n            return val === undefined ? defaultValue : val;\n        },\n        set value(newVal) {\n            object[key] = newVal;\n        }\n    };\n    def(ref, RefFlag, true);\n    return ref;\n}\n\nvar rawToReadonlyFlag = \"__v_rawToReadonly\";\nvar rawToShallowReadonlyFlag = \"__v_rawToShallowReadonly\";\nfunction readonly(target) {\n    return createReadonly(target, false);\n}\nfunction createReadonly(target, shallow) {\n    if (!isPlainObject(target)) {\n        if (process.env.NODE_ENV !== 'production') {\n            if (isArray(target)) {\n                warn(\"Vue 2 does not support readonly arrays.\");\n            }\n            else if (isCollectionType(target)) {\n                warn(\"Vue 2 does not support readonly collection types such as Map or Set.\");\n            }\n            else {\n                warn(\"value cannot be made readonly: \".concat(typeof target));\n            }\n        }\n        return target;\n    }\n    if (process.env.NODE_ENV !== 'production' && !Object.isExtensible(target)) {\n        warn(\"Vue 2 does not support creating readonly proxy for non-extensible object.\");\n    }\n    // already a readonly object\n    if (isReadonly(target)) {\n        return target;\n    }\n    // already has a readonly proxy\n    var existingFlag = shallow ? rawToShallowReadonlyFlag : rawToReadonlyFlag;\n    var existingProxy = target[existingFlag];\n    if (existingProxy) {\n        return existingProxy;\n    }\n    var proxy = Object.create(Object.getPrototypeOf(target));\n    def(target, existingFlag, proxy);\n    def(proxy, \"__v_isReadonly\" /* ReactiveFlags.IS_READONLY */, true);\n    def(proxy, \"__v_raw\" /* ReactiveFlags.RAW */, target);\n    if (isRef(target)) {\n        def(proxy, RefFlag, true);\n    }\n    if (shallow || isShallow(target)) {\n        def(proxy, \"__v_isShallow\" /* ReactiveFlags.IS_SHALLOW */, true);\n    }\n    var keys = Object.keys(target);\n    for (var i = 0; i < keys.length; i++) {\n        defineReadonlyProperty(proxy, target, keys[i], shallow);\n    }\n    return proxy;\n}\nfunction defineReadonlyProperty(proxy, target, key, shallow) {\n    Object.defineProperty(proxy, key, {\n        enumerable: true,\n        configurable: true,\n        get: function () {\n            var val = target[key];\n            return shallow || !isPlainObject(val) ? val : readonly(val);\n        },\n        set: function () {\n            process.env.NODE_ENV !== 'production' &&\n                warn(\"Set operation on key \\\"\".concat(key, \"\\\" failed: target is readonly.\"));\n        }\n    });\n}\n/**\n * Returns a reactive-copy of the original object, where only the root level\n * properties are readonly, and does NOT unwrap refs nor recursively convert\n * returned properties.\n * This is used for creating the props proxy object for stateful components.\n */\nfunction shallowReadonly(target) {\n    return createReadonly(target, true);\n}\n\nfunction computed(getterOrOptions, debugOptions) {\n    var getter;\n    var setter;\n    var onlyGetter = isFunction(getterOrOptions);\n    if (onlyGetter) {\n        getter = getterOrOptions;\n        setter = process.env.NODE_ENV !== 'production'\n            ? function () {\n                warn('Write operation failed: computed value is readonly');\n            }\n            : noop;\n    }\n    else {\n        getter = getterOrOptions.get;\n        setter = getterOrOptions.set;\n    }\n    var watcher = isServerRendering()\n        ? null\n        : new Watcher(currentInstance, getter, noop, { lazy: true });\n    if (process.env.NODE_ENV !== 'production' && watcher && debugOptions) {\n        watcher.onTrack = debugOptions.onTrack;\n        watcher.onTrigger = debugOptions.onTrigger;\n    }\n    var ref = {\n        // some libs rely on the presence effect for checking computed refs\n        // from normal refs, but the implementation doesn't matter\n        effect: watcher,\n        get value() {\n            if (watcher) {\n                if (watcher.dirty) {\n                    watcher.evaluate();\n                }\n                if (Dep.target) {\n                    if (process.env.NODE_ENV !== 'production' && Dep.target.onTrack) {\n                        Dep.target.onTrack({\n                            effect: Dep.target,\n                            target: ref,\n                            type: \"get\" /* TrackOpTypes.GET */,\n                            key: 'value'\n                        });\n                    }\n                    watcher.depend();\n                }\n                return watcher.value;\n            }\n            else {\n                return getter();\n            }\n        },\n        set value(newVal) {\n            setter(newVal);\n        }\n    };\n    def(ref, RefFlag, true);\n    def(ref, \"__v_isReadonly\" /* ReactiveFlags.IS_READONLY */, onlyGetter);\n    return ref;\n}\n\nvar WATCHER = \"watcher\";\nvar WATCHER_CB = \"\".concat(WATCHER, \" callback\");\nvar WATCHER_GETTER = \"\".concat(WATCHER, \" getter\");\nvar WATCHER_CLEANUP = \"\".concat(WATCHER, \" cleanup\");\n// Simple effect.\nfunction watchEffect(effect, options) {\n    return doWatch(effect, null, options);\n}\nfunction watchPostEffect(effect, options) {\n    return doWatch(effect, null, (process.env.NODE_ENV !== 'production'\n        ? __assign(__assign({}, options), { flush: 'post' }) : { flush: 'post' }));\n}\nfunction watchSyncEffect(effect, options) {\n    return doWatch(effect, null, (process.env.NODE_ENV !== 'production'\n        ? __assign(__assign({}, options), { flush: 'sync' }) : { flush: 'sync' }));\n}\n// initial value for watchers to trigger on undefined initial values\nvar INITIAL_WATCHER_VALUE = {};\n// implementation\nfunction watch(source, cb, options) {\n    if (process.env.NODE_ENV !== 'production' && typeof cb !== 'function') {\n        warn(\"`watch(fn, options?)` signature has been moved to a separate API. \" +\n            \"Use `watchEffect(fn, options?)` instead. `watch` now only \" +\n            \"supports `watch(source, cb, options?) signature.\");\n    }\n    return doWatch(source, cb, options);\n}\nfunction doWatch(source, cb, _a) {\n    var _b = _a === void 0 ? emptyObject : _a, immediate = _b.immediate, deep = _b.deep, _c = _b.flush, flush = _c === void 0 ? 'pre' : _c, onTrack = _b.onTrack, onTrigger = _b.onTrigger;\n    if (process.env.NODE_ENV !== 'production' && !cb) {\n        if (immediate !== undefined) {\n            warn(\"watch() \\\"immediate\\\" option is only respected when using the \" +\n                \"watch(source, callback, options?) signature.\");\n        }\n        if (deep !== undefined) {\n            warn(\"watch() \\\"deep\\\" option is only respected when using the \" +\n                \"watch(source, callback, options?) signature.\");\n        }\n    }\n    var warnInvalidSource = function (s) {\n        warn(\"Invalid watch source: \".concat(s, \". A watch source can only be a getter/effect \") +\n            \"function, a ref, a reactive object, or an array of these types.\");\n    };\n    var instance = currentInstance;\n    var call = function (fn, type, args) {\n        if (args === void 0) { args = null; }\n        var res = invokeWithErrorHandling(fn, null, args, instance, type);\n        if (deep && res && res.__ob__)\n            res.__ob__.dep.depend();\n        return res;\n    };\n    var getter;\n    var forceTrigger = false;\n    var isMultiSource = false;\n    if (isRef(source)) {\n        getter = function () { return source.value; };\n        forceTrigger = isShallow(source);\n    }\n    else if (isReactive(source)) {\n        getter = function () {\n            source.__ob__.dep.depend();\n            return source;\n        };\n        deep = true;\n    }\n    else if (isArray(source)) {\n        isMultiSource = true;\n        forceTrigger = source.some(function (s) { return isReactive(s) || isShallow(s); });\n        getter = function () {\n            return source.map(function (s) {\n                if (isRef(s)) {\n                    return s.value;\n                }\n                else if (isReactive(s)) {\n                    s.__ob__.dep.depend();\n                    return traverse(s);\n                }\n                else if (isFunction(s)) {\n                    return call(s, WATCHER_GETTER);\n                }\n                else {\n                    process.env.NODE_ENV !== 'production' && warnInvalidSource(s);\n                }\n            });\n        };\n    }\n    else if (isFunction(source)) {\n        if (cb) {\n            // getter with cb\n            getter = function () { return call(source, WATCHER_GETTER); };\n        }\n        else {\n            // no cb -> simple effect\n            getter = function () {\n                if (instance && instance._isDestroyed) {\n                    return;\n                }\n                if (cleanup) {\n                    cleanup();\n                }\n                return call(source, WATCHER, [onCleanup]);\n            };\n        }\n    }\n    else {\n        getter = noop;\n        process.env.NODE_ENV !== 'production' && warnInvalidSource(source);\n    }\n    if (cb && deep) {\n        var baseGetter_1 = getter;\n        getter = function () { return traverse(baseGetter_1()); };\n    }\n    var cleanup;\n    var onCleanup = function (fn) {\n        cleanup = watcher.onStop = function () {\n            call(fn, WATCHER_CLEANUP);\n        };\n    };\n    // in SSR there is no need to setup an actual effect, and it should be noop\n    // unless it's eager\n    if (isServerRendering()) {\n        // we will also not call the invalidate callback (+ runner is not set up)\n        onCleanup = noop;\n        if (!cb) {\n            getter();\n        }\n        else if (immediate) {\n            call(cb, WATCHER_CB, [\n                getter(),\n                isMultiSource ? [] : undefined,\n                onCleanup\n            ]);\n        }\n        return noop;\n    }\n    var watcher = new Watcher(currentInstance, getter, noop, {\n        lazy: true\n    });\n    watcher.noRecurse = !cb;\n    var oldValue = isMultiSource ? [] : INITIAL_WATCHER_VALUE;\n    // overwrite default run\n    watcher.run = function () {\n        if (!watcher.active) {\n            return;\n        }\n        if (cb) {\n            // watch(source, cb)\n            var newValue = watcher.get();\n            if (deep ||\n                forceTrigger ||\n                (isMultiSource\n                    ? newValue.some(function (v, i) {\n                        return hasChanged(v, oldValue[i]);\n                    })\n                    : hasChanged(newValue, oldValue))) {\n                // cleanup before running cb again\n                if (cleanup) {\n                    cleanup();\n                }\n                call(cb, WATCHER_CB, [\n                    newValue,\n                    // pass undefined as the old value when it's changed for the first time\n                    oldValue === INITIAL_WATCHER_VALUE ? undefined : oldValue,\n                    onCleanup\n                ]);\n                oldValue = newValue;\n            }\n        }\n        else {\n            // watchEffect\n            watcher.get();\n        }\n    };\n    if (flush === 'sync') {\n        watcher.update = watcher.run;\n    }\n    else if (flush === 'post') {\n        watcher.post = true;\n        watcher.update = function () { return queueWatcher(watcher); };\n    }\n    else {\n        // pre\n        watcher.update = function () {\n            if (instance && instance === currentInstance && !instance._isMounted) {\n                // pre-watcher triggered before\n                var buffer = instance._preWatchers || (instance._preWatchers = []);\n                if (buffer.indexOf(watcher) < 0)\n                    buffer.push(watcher);\n            }\n            else {\n                queueWatcher(watcher);\n            }\n        };\n    }\n    if (process.env.NODE_ENV !== 'production') {\n        watcher.onTrack = onTrack;\n        watcher.onTrigger = onTrigger;\n    }\n    // initial run\n    if (cb) {\n        if (immediate) {\n            watcher.run();\n        }\n        else {\n            oldValue = watcher.get();\n        }\n    }\n    else if (flush === 'post' && instance) {\n        instance.$once('hook:mounted', function () { return watcher.get(); });\n    }\n    else {\n        watcher.get();\n    }\n    return function () {\n        watcher.teardown();\n    };\n}\n\nvar activeEffectScope;\nvar EffectScope = /** @class */ (function () {\n    function EffectScope(detached) {\n        if (detached === void 0) { detached = false; }\n        this.detached = detached;\n        /**\n         * @internal\n         */\n        this.active = true;\n        /**\n         * @internal\n         */\n        this.effects = [];\n        /**\n         * @internal\n         */\n        this.cleanups = [];\n        this.parent = activeEffectScope;\n        if (!detached && activeEffectScope) {\n            this.index =\n                (activeEffectScope.scopes || (activeEffectScope.scopes = [])).push(this) - 1;\n        }\n    }\n    EffectScope.prototype.run = function (fn) {\n        if (this.active) {\n            var currentEffectScope = activeEffectScope;\n            try {\n                activeEffectScope = this;\n                return fn();\n            }\n            finally {\n                activeEffectScope = currentEffectScope;\n            }\n        }\n        else if (process.env.NODE_ENV !== 'production') {\n            warn(\"cannot run an inactive effect scope.\");\n        }\n    };\n    /**\n     * This should only be called on non-detached scopes\n     * @internal\n     */\n    EffectScope.prototype.on = function () {\n        activeEffectScope = this;\n    };\n    /**\n     * This should only be called on non-detached scopes\n     * @internal\n     */\n    EffectScope.prototype.off = function () {\n        activeEffectScope = this.parent;\n    };\n    EffectScope.prototype.stop = function (fromParent) {\n        if (this.active) {\n            var i = void 0, l = void 0;\n            for (i = 0, l = this.effects.length; i < l; i++) {\n                this.effects[i].teardown();\n            }\n            for (i = 0, l = this.cleanups.length; i < l; i++) {\n                this.cleanups[i]();\n            }\n            if (this.scopes) {\n                for (i = 0, l = this.scopes.length; i < l; i++) {\n                    this.scopes[i].stop(true);\n                }\n            }\n            // nested scope, dereference from parent to avoid memory leaks\n            if (!this.detached && this.parent && !fromParent) {\n                // optimized O(1) removal\n                var last = this.parent.scopes.pop();\n                if (last && last !== this) {\n                    this.parent.scopes[this.index] = last;\n                    last.index = this.index;\n                }\n            }\n            this.parent = undefined;\n            this.active = false;\n        }\n    };\n    return EffectScope;\n}());\nfunction effectScope(detached) {\n    return new EffectScope(detached);\n}\n/**\n * @internal\n */\nfunction recordEffectScope(effect, scope) {\n    if (scope === void 0) { scope = activeEffectScope; }\n    if (scope && scope.active) {\n        scope.effects.push(effect);\n    }\n}\nfunction getCurrentScope() {\n    return activeEffectScope;\n}\nfunction onScopeDispose(fn) {\n    if (activeEffectScope) {\n        activeEffectScope.cleanups.push(fn);\n    }\n    else if (process.env.NODE_ENV !== 'production') {\n        warn(\"onScopeDispose() is called when there is no active effect scope\" +\n            \" to be associated with.\");\n    }\n}\n\nfunction provide(key, value) {\n    if (!currentInstance) {\n        if (process.env.NODE_ENV !== 'production') {\n            warn(\"provide() can only be used inside setup().\");\n        }\n    }\n    else {\n        // TS doesn't allow symbol as index type\n        resolveProvided(currentInstance)[key] = value;\n    }\n}\nfunction resolveProvided(vm) {\n    // by default an instance inherits its parent's provides object\n    // but when it needs to provide values of its own, it creates its\n    // own provides object using parent provides object as prototype.\n    // this way in `inject` we can simply look up injections from direct\n    // parent and let the prototype chain do the work.\n    var existing = vm._provided;\n    var parentProvides = vm.$parent && vm.$parent._provided;\n    if (parentProvides === existing) {\n        return (vm._provided = Object.create(parentProvides));\n    }\n    else {\n        return existing;\n    }\n}\nfunction inject(key, defaultValue, treatDefaultAsFactory) {\n    if (treatDefaultAsFactory === void 0) { treatDefaultAsFactory = false; }\n    // fallback to `currentRenderingInstance` so that this can be called in\n    // a functional component\n    var instance = currentInstance;\n    if (instance) {\n        // #2400\n        // to support `app.use` plugins,\n        // fallback to appContext's `provides` if the instance is at root\n        var provides = instance.$parent && instance.$parent._provided;\n        if (provides && key in provides) {\n            // TS doesn't allow symbol as index type\n            return provides[key];\n        }\n        else if (arguments.length > 1) {\n            return treatDefaultAsFactory && isFunction(defaultValue)\n                ? defaultValue.call(instance)\n                : defaultValue;\n        }\n        else if (process.env.NODE_ENV !== 'production') {\n            warn(\"injection \\\"\".concat(String(key), \"\\\" not found.\"));\n        }\n    }\n    else if (process.env.NODE_ENV !== 'production') {\n        warn(\"inject() can only be used inside setup() or functional components.\");\n    }\n}\n\nvar normalizeEvent = cached(function (name) {\n    var passive = name.charAt(0) === '&';\n    name = passive ? name.slice(1) : name;\n    var once = name.charAt(0) === '~'; // Prefixed last, checked first\n    name = once ? name.slice(1) : name;\n    var capture = name.charAt(0) === '!';\n    name = capture ? name.slice(1) : name;\n    return {\n        name: name,\n        once: once,\n        capture: capture,\n        passive: passive\n    };\n});\nfunction createFnInvoker(fns, vm) {\n    function invoker() {\n        var fns = invoker.fns;\n        if (isArray(fns)) {\n            var cloned = fns.slice();\n            for (var i = 0; i < cloned.length; i++) {\n                invokeWithErrorHandling(cloned[i], null, arguments, vm, \"v-on handler\");\n            }\n        }\n        else {\n            // return handler return value for single handlers\n            return invokeWithErrorHandling(fns, null, arguments, vm, \"v-on handler\");\n        }\n    }\n    invoker.fns = fns;\n    return invoker;\n}\nfunction updateListeners(on, oldOn, add, remove, createOnceHandler, vm) {\n    var name, cur, old, event;\n    for (name in on) {\n        cur = on[name];\n        old = oldOn[name];\n        event = normalizeEvent(name);\n        if (isUndef(cur)) {\n            process.env.NODE_ENV !== 'production' &&\n                warn(\"Invalid handler for event \\\"\".concat(event.name, \"\\\": got \") + String(cur), vm);\n        }\n        else if (isUndef(old)) {\n            if (isUndef(cur.fns)) {\n                cur = on[name] = createFnInvoker(cur, vm);\n            }\n            if (isTrue(event.once)) {\n                cur = on[name] = createOnceHandler(event.name, cur, event.capture);\n            }\n            add(event.name, cur, event.capture, event.passive, event.params);\n        }\n        else if (cur !== old) {\n            old.fns = cur;\n            on[name] = old;\n        }\n    }\n    for (name in oldOn) {\n        if (isUndef(on[name])) {\n            event = normalizeEvent(name);\n            remove(event.name, oldOn[name], event.capture);\n        }\n    }\n}\n\nfunction mergeVNodeHook(def, hookKey, hook) {\n    if (def instanceof VNode) {\n        def = def.data.hook || (def.data.hook = {});\n    }\n    var invoker;\n    var oldHook = def[hookKey];\n    function wrappedHook() {\n        hook.apply(this, arguments);\n        // important: remove merged hook to ensure it's called only once\n        // and prevent memory leak\n        remove$2(invoker.fns, wrappedHook);\n    }\n    if (isUndef(oldHook)) {\n        // no existing hook\n        invoker = createFnInvoker([wrappedHook]);\n    }\n    else {\n        /* istanbul ignore if */\n        if (isDef(oldHook.fns) && isTrue(oldHook.merged)) {\n            // already a merged invoker\n            invoker = oldHook;\n            invoker.fns.push(wrappedHook);\n        }\n        else {\n            // existing plain hook\n            invoker = createFnInvoker([oldHook, wrappedHook]);\n        }\n    }\n    invoker.merged = true;\n    def[hookKey] = invoker;\n}\n\nfunction extractPropsFromVNodeData(data, Ctor, tag) {\n    // we are only extracting raw values here.\n    // validation and default values are handled in the child\n    // component itself.\n    var propOptions = Ctor.options.props;\n    if (isUndef(propOptions)) {\n        return;\n    }\n    var res = {};\n    var attrs = data.attrs, props = data.props;\n    if (isDef(attrs) || isDef(props)) {\n        for (var key in propOptions) {\n            var altKey = hyphenate(key);\n            if (process.env.NODE_ENV !== 'production') {\n                var keyInLowerCase = key.toLowerCase();\n                if (key !== keyInLowerCase && attrs && hasOwn(attrs, keyInLowerCase)) {\n                    tip(\"Prop \\\"\".concat(keyInLowerCase, \"\\\" is passed to component \") +\n                        \"\".concat(formatComponentName(\n                        // @ts-expect-error tag is string\n                        tag || Ctor), \", but the declared prop name is\") +\n                        \" \\\"\".concat(key, \"\\\". \") +\n                        \"Note that HTML attributes are case-insensitive and camelCased \" +\n                        \"props need to use their kebab-case equivalents when using in-DOM \" +\n                        \"templates. You should probably use \\\"\".concat(altKey, \"\\\" instead of \\\"\").concat(key, \"\\\".\"));\n                }\n            }\n            checkProp(res, props, key, altKey, true) ||\n                checkProp(res, attrs, key, altKey, false);\n        }\n    }\n    return res;\n}\nfunction checkProp(res, hash, key, altKey, preserve) {\n    if (isDef(hash)) {\n        if (hasOwn(hash, key)) {\n            res[key] = hash[key];\n            if (!preserve) {\n                delete hash[key];\n            }\n            return true;\n        }\n        else if (hasOwn(hash, altKey)) {\n            res[key] = hash[altKey];\n            if (!preserve) {\n                delete hash[altKey];\n            }\n            return true;\n        }\n    }\n    return false;\n}\n\n// The template compiler attempts to minimize the need for normalization by\n// statically analyzing the template at compile time.\n//\n// For plain HTML markup, normalization can be completely skipped because the\n// generated render function is guaranteed to return Array<VNode>. There are\n// two cases where extra normalization is needed:\n// 1. When the children contains components - because a functional component\n// may return an Array instead of a single root. In this case, just a simple\n// normalization is needed - if any child is an Array, we flatten the whole\n// thing with Array.prototype.concat. It is guaranteed to be only 1-level deep\n// because functional components already normalize their own children.\nfunction simpleNormalizeChildren(children) {\n    for (var i = 0; i < children.length; i++) {\n        if (isArray(children[i])) {\n            return Array.prototype.concat.apply([], children);\n        }\n    }\n    return children;\n}\n// 2. When the children contains constructs that always generated nested Arrays,\n// e.g. <template>, <slot>, v-for, or when the children is provided by user\n// with hand-written render functions / JSX. In such cases a full normalization\n// is needed to cater to all possible types of children values.\nfunction normalizeChildren(children) {\n    return isPrimitive(children)\n        ? [createTextVNode(children)]\n        : isArray(children)\n            ? normalizeArrayChildren(children)\n            : undefined;\n}\nfunction isTextNode(node) {\n    return isDef(node) && isDef(node.text) && isFalse(node.isComment);\n}\nfunction normalizeArrayChildren(children, nestedIndex) {\n    var res = [];\n    var i, c, lastIndex, last;\n    for (i = 0; i < children.length; i++) {\n        c = children[i];\n        if (isUndef(c) || typeof c === 'boolean')\n            continue;\n        lastIndex = res.length - 1;\n        last = res[lastIndex];\n        //  nested\n        if (isArray(c)) {\n            if (c.length > 0) {\n                c = normalizeArrayChildren(c, \"\".concat(nestedIndex || '', \"_\").concat(i));\n                // merge adjacent text nodes\n                if (isTextNode(c[0]) && isTextNode(last)) {\n                    res[lastIndex] = createTextVNode(last.text + c[0].text);\n                    c.shift();\n                }\n                res.push.apply(res, c);\n            }\n        }\n        else if (isPrimitive(c)) {\n            if (isTextNode(last)) {\n                // merge adjacent text nodes\n                // this is necessary for SSR hydration because text nodes are\n                // essentially merged when rendered to HTML strings\n                res[lastIndex] = createTextVNode(last.text + c);\n            }\n            else if (c !== '') {\n                // convert primitive to vnode\n                res.push(createTextVNode(c));\n            }\n        }\n        else {\n            if (isTextNode(c) && isTextNode(last)) {\n                // merge adjacent text nodes\n                res[lastIndex] = createTextVNode(last.text + c.text);\n            }\n            else {\n                // default key for nested array children (likely generated by v-for)\n                if (isTrue(children._isVList) &&\n                    isDef(c.tag) &&\n                    isUndef(c.key) &&\n                    isDef(nestedIndex)) {\n                    c.key = \"__vlist\".concat(nestedIndex, \"_\").concat(i, \"__\");\n                }\n                res.push(c);\n            }\n        }\n    }\n    return res;\n}\n\n/**\n * Runtime helper for rendering v-for lists.\n */\nfunction renderList(val, render) {\n    var ret = null, i, l, keys, key;\n    if (isArray(val) || typeof val === 'string') {\n        ret = new Array(val.length);\n        for (i = 0, l = val.length; i < l; i++) {\n            ret[i] = render(val[i], i);\n        }\n    }\n    else if (typeof val === 'number') {\n        ret = new Array(val);\n        for (i = 0; i < val; i++) {\n            ret[i] = render(i + 1, i);\n        }\n    }\n    else if (isObject(val)) {\n        if (hasSymbol && val[Symbol.iterator]) {\n            ret = [];\n            var iterator = val[Symbol.iterator]();\n            var result = iterator.next();\n            while (!result.done) {\n                ret.push(render(result.value, ret.length));\n                result = iterator.next();\n            }\n        }\n        else {\n            keys = Object.keys(val);\n            ret = new Array(keys.length);\n            for (i = 0, l = keys.length; i < l; i++) {\n                key = keys[i];\n                ret[i] = render(val[key], key, i);\n            }\n        }\n    }\n    if (!isDef(ret)) {\n        ret = [];\n    }\n    ret._isVList = true;\n    return ret;\n}\n\n/**\n * Runtime helper for rendering <slot>\n */\nfunction renderSlot(name, fallbackRender, props, bindObject) {\n    var scopedSlotFn = this.$scopedSlots[name];\n    var nodes;\n    if (scopedSlotFn) {\n        // scoped slot\n        props = props || {};\n        if (bindObject) {\n            if (process.env.NODE_ENV !== 'production' && !isObject(bindObject)) {\n                warn('slot v-bind without argument expects an Object', this);\n            }\n            props = extend(extend({}, bindObject), props);\n        }\n        nodes =\n            scopedSlotFn(props) ||\n                (isFunction(fallbackRender) ? fallbackRender() : fallbackRender);\n    }\n    else {\n        nodes =\n            this.$slots[name] ||\n                (isFunction(fallbackRender) ? fallbackRender() : fallbackRender);\n    }\n    var target = props && props.slot;\n    if (target) {\n        return this.$createElement('template', { slot: target }, nodes);\n    }\n    else {\n        return nodes;\n    }\n}\n\n/**\n * Runtime helper for resolving filters\n */\nfunction resolveFilter(id) {\n    return resolveAsset(this.$options, 'filters', id, true) || identity;\n}\n\nfunction isKeyNotMatch(expect, actual) {\n    if (isArray(expect)) {\n        return expect.indexOf(actual) === -1;\n    }\n    else {\n        return expect !== actual;\n    }\n}\n/**\n * Runtime helper for checking keyCodes from config.\n * exposed as Vue.prototype._k\n * passing in eventKeyName as last argument separately for backwards compat\n */\nfunction checkKeyCodes(eventKeyCode, key, builtInKeyCode, eventKeyName, builtInKeyName) {\n    var mappedKeyCode = config.keyCodes[key] || builtInKeyCode;\n    if (builtInKeyName && eventKeyName && !config.keyCodes[key]) {\n        return isKeyNotMatch(builtInKeyName, eventKeyName);\n    }\n    else if (mappedKeyCode) {\n        return isKeyNotMatch(mappedKeyCode, eventKeyCode);\n    }\n    else if (eventKeyName) {\n        return hyphenate(eventKeyName) !== key;\n    }\n    return eventKeyCode === undefined;\n}\n\n/**\n * Runtime helper for merging v-bind=\"object\" into a VNode's data.\n */\nfunction bindObjectProps(data, tag, value, asProp, isSync) {\n    if (value) {\n        if (!isObject(value)) {\n            process.env.NODE_ENV !== 'production' &&\n                warn('v-bind without argument expects an Object or Array value', this);\n        }\n        else {\n            if (isArray(value)) {\n                value = toObject(value);\n            }\n            var hash = void 0;\n            var _loop_1 = function (key) {\n                if (key === 'class' || key === 'style' || isReservedAttribute(key)) {\n                    hash = data;\n                }\n                else {\n                    var type = data.attrs && data.attrs.type;\n                    hash =\n                        asProp || config.mustUseProp(tag, type, key)\n                            ? data.domProps || (data.domProps = {})\n                            : data.attrs || (data.attrs = {});\n                }\n                var camelizedKey = camelize(key);\n                var hyphenatedKey = hyphenate(key);\n                if (!(camelizedKey in hash) && !(hyphenatedKey in hash)) {\n                    hash[key] = value[key];\n                    if (isSync) {\n                        var on = data.on || (data.on = {});\n                        on[\"update:\".concat(key)] = function ($event) {\n                            value[key] = $event;\n                        };\n                    }\n                }\n            };\n            for (var key in value) {\n                _loop_1(key);\n            }\n        }\n    }\n    return data;\n}\n\n/**\n * Runtime helper for rendering static trees.\n */\nfunction renderStatic(index, isInFor) {\n    var cached = this._staticTrees || (this._staticTrees = []);\n    var tree = cached[index];\n    // if has already-rendered static tree and not inside v-for,\n    // we can reuse the same tree.\n    if (tree && !isInFor) {\n        return tree;\n    }\n    // otherwise, render a fresh tree.\n    tree = cached[index] = this.$options.staticRenderFns[index].call(this._renderProxy, this._c, this // for render fns generated for functional component templates\n    );\n    markStatic(tree, \"__static__\".concat(index), false);\n    return tree;\n}\n/**\n * Runtime helper for v-once.\n * Effectively it means marking the node as static with a unique key.\n */\nfunction markOnce(tree, index, key) {\n    markStatic(tree, \"__once__\".concat(index).concat(key ? \"_\".concat(key) : \"\"), true);\n    return tree;\n}\nfunction markStatic(tree, key, isOnce) {\n    if (isArray(tree)) {\n        for (var i = 0; i < tree.length; i++) {\n            if (tree[i] && typeof tree[i] !== 'string') {\n                markStaticNode(tree[i], \"\".concat(key, \"_\").concat(i), isOnce);\n            }\n        }\n    }\n    else {\n        markStaticNode(tree, key, isOnce);\n    }\n}\nfunction markStaticNode(node, key, isOnce) {\n    node.isStatic = true;\n    node.key = key;\n    node.isOnce = isOnce;\n}\n\nfunction bindObjectListeners(data, value) {\n    if (value) {\n        if (!isPlainObject(value)) {\n            process.env.NODE_ENV !== 'production' && warn('v-on without argument expects an Object value', this);\n        }\n        else {\n            var on = (data.on = data.on ? extend({}, data.on) : {});\n            for (var key in value) {\n                var existing = on[key];\n                var ours = value[key];\n                on[key] = existing ? [].concat(existing, ours) : ours;\n            }\n        }\n    }\n    return data;\n}\n\nfunction resolveScopedSlots(fns, res, \n// the following are added in 2.6\nhasDynamicKeys, contentHashKey) {\n    res = res || { $stable: !hasDynamicKeys };\n    for (var i = 0; i < fns.length; i++) {\n        var slot = fns[i];\n        if (isArray(slot)) {\n            resolveScopedSlots(slot, res, hasDynamicKeys);\n        }\n        else if (slot) {\n            // marker for reverse proxying v-slot without scope on this.$slots\n            // @ts-expect-error\n            if (slot.proxy) {\n                // @ts-expect-error\n                slot.fn.proxy = true;\n            }\n            res[slot.key] = slot.fn;\n        }\n    }\n    if (contentHashKey) {\n        res.$key = contentHashKey;\n    }\n    return res;\n}\n\n// helper to process dynamic keys for dynamic arguments in v-bind and v-on.\nfunction bindDynamicKeys(baseObj, values) {\n    for (var i = 0; i < values.length; i += 2) {\n        var key = values[i];\n        if (typeof key === 'string' && key) {\n            baseObj[values[i]] = values[i + 1];\n        }\n        else if (process.env.NODE_ENV !== 'production' && key !== '' && key !== null) {\n            // null is a special value for explicitly removing a binding\n            warn(\"Invalid value for dynamic directive argument (expected string or null): \".concat(key), this);\n        }\n    }\n    return baseObj;\n}\n// helper to dynamically append modifier runtime markers to event names.\n// ensure only append when value is already string, otherwise it will be cast\n// to string and cause the type check to miss.\nfunction prependModifier(value, symbol) {\n    return typeof value === 'string' ? symbol + value : value;\n}\n\nfunction installRenderHelpers(target) {\n    target._o = markOnce;\n    target._n = toNumber;\n    target._s = toString;\n    target._l = renderList;\n    target._t = renderSlot;\n    target._q = looseEqual;\n    target._i = looseIndexOf;\n    target._m = renderStatic;\n    target._f = resolveFilter;\n    target._k = checkKeyCodes;\n    target._b = bindObjectProps;\n    target._v = createTextVNode;\n    target._e = createEmptyVNode;\n    target._u = resolveScopedSlots;\n    target._g = bindObjectListeners;\n    target._d = bindDynamicKeys;\n    target._p = prependModifier;\n}\n\n/**\n * Runtime helper for resolving raw children VNodes into a slot object.\n */\nfunction resolveSlots(children, context) {\n    if (!children || !children.length) {\n        return {};\n    }\n    var slots = {};\n    for (var i = 0, l = children.length; i < l; i++) {\n        var child = children[i];\n        var data = child.data;\n        // remove slot attribute if the node is resolved as a Vue slot node\n        if (data && data.attrs && data.attrs.slot) {\n            delete data.attrs.slot;\n        }\n        // named slots should only be respected if the vnode was rendered in the\n        // same context.\n        if ((child.context === context || child.fnContext === context) &&\n            data &&\n            data.slot != null) {\n            var name_1 = data.slot;\n            var slot = slots[name_1] || (slots[name_1] = []);\n            if (child.tag === 'template') {\n                slot.push.apply(slot, child.children || []);\n            }\n            else {\n                slot.push(child);\n            }\n        }\n        else {\n            (slots.default || (slots.default = [])).push(child);\n        }\n    }\n    // ignore slots that contains only whitespace\n    for (var name_2 in slots) {\n        if (slots[name_2].every(isWhitespace)) {\n            delete slots[name_2];\n        }\n    }\n    return slots;\n}\nfunction isWhitespace(node) {\n    return (node.isComment && !node.asyncFactory) || node.text === ' ';\n}\n\nfunction isAsyncPlaceholder(node) {\n    // @ts-expect-error not really boolean type\n    return node.isComment && node.asyncFactory;\n}\n\nfunction normalizeScopedSlots(ownerVm, scopedSlots, normalSlots, prevScopedSlots) {\n    var res;\n    var hasNormalSlots = Object.keys(normalSlots).length > 0;\n    var isStable = scopedSlots ? !!scopedSlots.$stable : !hasNormalSlots;\n    var key = scopedSlots && scopedSlots.$key;\n    if (!scopedSlots) {\n        res = {};\n    }\n    else if (scopedSlots._normalized) {\n        // fast path 1: child component re-render only, parent did not change\n        return scopedSlots._normalized;\n    }\n    else if (isStable &&\n        prevScopedSlots &&\n        prevScopedSlots !== emptyObject &&\n        key === prevScopedSlots.$key &&\n        !hasNormalSlots &&\n        !prevScopedSlots.$hasNormal) {\n        // fast path 2: stable scoped slots w/ no normal slots to proxy,\n        // only need to normalize once\n        return prevScopedSlots;\n    }\n    else {\n        res = {};\n        for (var key_1 in scopedSlots) {\n            if (scopedSlots[key_1] && key_1[0] !== '$') {\n                res[key_1] = normalizeScopedSlot(ownerVm, normalSlots, key_1, scopedSlots[key_1]);\n            }\n        }\n    }\n    // expose normal slots on scopedSlots\n    for (var key_2 in normalSlots) {\n        if (!(key_2 in res)) {\n            res[key_2] = proxyNormalSlot(normalSlots, key_2);\n        }\n    }\n    // avoriaz seems to mock a non-extensible $scopedSlots object\n    // and when that is passed down this would cause an error\n    if (scopedSlots && Object.isExtensible(scopedSlots)) {\n        scopedSlots._normalized = res;\n    }\n    def(res, '$stable', isStable);\n    def(res, '$key', key);\n    def(res, '$hasNormal', hasNormalSlots);\n    return res;\n}\nfunction normalizeScopedSlot(vm, normalSlots, key, fn) {\n    var normalized = function () {\n        var cur = currentInstance;\n        setCurrentInstance(vm);\n        var res = arguments.length ? fn.apply(null, arguments) : fn({});\n        res =\n            res && typeof res === 'object' && !isArray(res)\n                ? [res] // single vnode\n                : normalizeChildren(res);\n        var vnode = res && res[0];\n        setCurrentInstance(cur);\n        return res &&\n            (!vnode ||\n                (res.length === 1 && vnode.isComment && !isAsyncPlaceholder(vnode))) // #9658, #10391\n            ? undefined\n            : res;\n    };\n    // this is a slot using the new v-slot syntax without scope. although it is\n    // compiled as a scoped slot, render fn users would expect it to be present\n    // on this.$slots because the usage is semantically a normal slot.\n    if (fn.proxy) {\n        Object.defineProperty(normalSlots, key, {\n            get: normalized,\n            enumerable: true,\n            configurable: true\n        });\n    }\n    return normalized;\n}\nfunction proxyNormalSlot(slots, key) {\n    return function () { return slots[key]; };\n}\n\nfunction initSetup(vm) {\n    var options = vm.$options;\n    var setup = options.setup;\n    if (setup) {\n        var ctx = (vm._setupContext = createSetupContext(vm));\n        setCurrentInstance(vm);\n        pushTarget();\n        var setupResult = invokeWithErrorHandling(setup, null, [vm._props || shallowReactive({}), ctx], vm, \"setup\");\n        popTarget();\n        setCurrentInstance();\n        if (isFunction(setupResult)) {\n            // render function\n            // @ts-ignore\n            options.render = setupResult;\n        }\n        else if (isObject(setupResult)) {\n            // bindings\n            if (process.env.NODE_ENV !== 'production' && setupResult instanceof VNode) {\n                warn(\"setup() should not return VNodes directly - \" +\n                    \"return a render function instead.\");\n            }\n            vm._setupState = setupResult;\n            // __sfc indicates compiled bindings from <script setup>\n            if (!setupResult.__sfc) {\n                for (var key in setupResult) {\n                    if (!isReserved(key)) {\n                        proxyWithRefUnwrap(vm, setupResult, key);\n                    }\n                    else if (process.env.NODE_ENV !== 'production') {\n                        warn(\"Avoid using variables that start with _ or $ in setup().\");\n                    }\n                }\n            }\n            else {\n                // exposed for compiled render fn\n                var proxy = (vm._setupProxy = {});\n                for (var key in setupResult) {\n                    if (key !== '__sfc') {\n                        proxyWithRefUnwrap(proxy, setupResult, key);\n                    }\n                }\n            }\n        }\n        else if (process.env.NODE_ENV !== 'production' && setupResult !== undefined) {\n            warn(\"setup() should return an object. Received: \".concat(setupResult === null ? 'null' : typeof setupResult));\n        }\n    }\n}\nfunction createSetupContext(vm) {\n    var exposeCalled = false;\n    return {\n        get attrs() {\n            if (!vm._attrsProxy) {\n                var proxy = (vm._attrsProxy = {});\n                def(proxy, '_v_attr_proxy', true);\n                syncSetupProxy(proxy, vm.$attrs, emptyObject, vm, '$attrs');\n            }\n            return vm._attrsProxy;\n        },\n        get listeners() {\n            if (!vm._listenersProxy) {\n                var proxy = (vm._listenersProxy = {});\n                syncSetupProxy(proxy, vm.$listeners, emptyObject, vm, '$listeners');\n            }\n            return vm._listenersProxy;\n        },\n        get slots() {\n            return initSlotsProxy(vm);\n        },\n        emit: bind(vm.$emit, vm),\n        expose: function (exposed) {\n            if (process.env.NODE_ENV !== 'production') {\n                if (exposeCalled) {\n                    warn(\"expose() should be called only once per setup().\", vm);\n                }\n                exposeCalled = true;\n            }\n            if (exposed) {\n                Object.keys(exposed).forEach(function (key) {\n                    return proxyWithRefUnwrap(vm, exposed, key);\n                });\n            }\n        }\n    };\n}\nfunction syncSetupProxy(to, from, prev, instance, type) {\n    var changed = false;\n    for (var key in from) {\n        if (!(key in to)) {\n            changed = true;\n            defineProxyAttr(to, key, instance, type);\n        }\n        else if (from[key] !== prev[key]) {\n            changed = true;\n        }\n    }\n    for (var key in to) {\n        if (!(key in from)) {\n            changed = true;\n            delete to[key];\n        }\n    }\n    return changed;\n}\nfunction defineProxyAttr(proxy, key, instance, type) {\n    Object.defineProperty(proxy, key, {\n        enumerable: true,\n        configurable: true,\n        get: function () {\n            return instance[type][key];\n        }\n    });\n}\nfunction initSlotsProxy(vm) {\n    if (!vm._slotsProxy) {\n        syncSetupSlots((vm._slotsProxy = {}), vm.$scopedSlots);\n    }\n    return vm._slotsProxy;\n}\nfunction syncSetupSlots(to, from) {\n    for (var key in from) {\n        to[key] = from[key];\n    }\n    for (var key in to) {\n        if (!(key in from)) {\n            delete to[key];\n        }\n    }\n}\n/**\n * @internal use manual type def because public setup context type relies on\n * legacy VNode types\n */\nfunction useSlots() {\n    return getContext().slots;\n}\n/**\n * @internal use manual type def because public setup context type relies on\n * legacy VNode types\n */\nfunction useAttrs() {\n    return getContext().attrs;\n}\n/**\n * Vue 2 only\n * @internal use manual type def because public setup context type relies on\n * legacy VNode types\n */\nfunction useListeners() {\n    return getContext().listeners;\n}\nfunction getContext() {\n    if (process.env.NODE_ENV !== 'production' && !currentInstance) {\n        warn(\"useContext() called without active instance.\");\n    }\n    var vm = currentInstance;\n    return vm._setupContext || (vm._setupContext = createSetupContext(vm));\n}\n/**\n * Runtime helper for merging default declarations. Imported by compiled code\n * only.\n * @internal\n */\nfunction mergeDefaults(raw, defaults) {\n    var props = isArray(raw)\n        ? raw.reduce(function (normalized, p) { return ((normalized[p] = {}), normalized); }, {})\n        : raw;\n    for (var key in defaults) {\n        var opt = props[key];\n        if (opt) {\n            if (isArray(opt) || isFunction(opt)) {\n                props[key] = { type: opt, default: defaults[key] };\n            }\n            else {\n                opt.default = defaults[key];\n            }\n        }\n        else if (opt === null) {\n            props[key] = { default: defaults[key] };\n        }\n        else if (process.env.NODE_ENV !== 'production') {\n            warn(\"props default key \\\"\".concat(key, \"\\\" has no corresponding declaration.\"));\n        }\n    }\n    return props;\n}\n\nfunction initRender(vm) {\n    vm._vnode = null; // the root of the child tree\n    vm._staticTrees = null; // v-once cached trees\n    var options = vm.$options;\n    var parentVnode = (vm.$vnode = options._parentVnode); // the placeholder node in parent tree\n    var renderContext = parentVnode && parentVnode.context;\n    vm.$slots = resolveSlots(options._renderChildren, renderContext);\n    vm.$scopedSlots = parentVnode\n        ? normalizeScopedSlots(vm.$parent, parentVnode.data.scopedSlots, vm.$slots)\n        : emptyObject;\n    // bind the createElement fn to this instance\n    // so that we get proper render context inside it.\n    // args order: tag, data, children, normalizationType, alwaysNormalize\n    // internal version is used by render functions compiled from templates\n    // @ts-expect-error\n    vm._c = function (a, b, c, d) { return createElement$1(vm, a, b, c, d, false); };\n    // normalization is always applied for the public version, used in\n    // user-written render functions.\n    // @ts-expect-error\n    vm.$createElement = function (a, b, c, d) { return createElement$1(vm, a, b, c, d, true); };\n    // $attrs & $listeners are exposed for easier HOC creation.\n    // they need to be reactive so that HOCs using them are always updated\n    var parentData = parentVnode && parentVnode.data;\n    /* istanbul ignore else */\n    if (process.env.NODE_ENV !== 'production') {\n        defineReactive(vm, '$attrs', (parentData && parentData.attrs) || emptyObject, function () {\n            !isUpdatingChildComponent && warn(\"$attrs is readonly.\", vm);\n        }, true);\n        defineReactive(vm, '$listeners', options._parentListeners || emptyObject, function () {\n            !isUpdatingChildComponent && warn(\"$listeners is readonly.\", vm);\n        }, true);\n    }\n    else {\n        defineReactive(vm, '$attrs', (parentData && parentData.attrs) || emptyObject, null, true);\n        defineReactive(vm, '$listeners', options._parentListeners || emptyObject, null, true);\n    }\n}\nvar currentRenderingInstance = null;\nfunction renderMixin(Vue) {\n    // install runtime convenience helpers\n    installRenderHelpers(Vue.prototype);\n    Vue.prototype.$nextTick = function (fn) {\n        return nextTick(fn, this);\n    };\n    Vue.prototype._render = function () {\n        var vm = this;\n        var _a = vm.$options, render = _a.render, _parentVnode = _a._parentVnode;\n        if (_parentVnode && vm._isMounted) {\n            vm.$scopedSlots = normalizeScopedSlots(vm.$parent, _parentVnode.data.scopedSlots, vm.$slots, vm.$scopedSlots);\n            if (vm._slotsProxy) {\n                syncSetupSlots(vm._slotsProxy, vm.$scopedSlots);\n            }\n        }\n        // set parent vnode. this allows render functions to have access\n        // to the data on the placeholder node.\n        vm.$vnode = _parentVnode;\n        // render self\n        var prevInst = currentInstance;\n        var prevRenderInst = currentRenderingInstance;\n        var vnode;\n        try {\n            setCurrentInstance(vm);\n            currentRenderingInstance = vm;\n            vnode = render.call(vm._renderProxy, vm.$createElement);\n        }\n        catch (e) {\n            handleError(e, vm, \"render\");\n            // return error render result,\n            // or previous vnode to prevent render error causing blank component\n            /* istanbul ignore else */\n            if (process.env.NODE_ENV !== 'production' && vm.$options.renderError) {\n                try {\n                    vnode = vm.$options.renderError.call(vm._renderProxy, vm.$createElement, e);\n                }\n                catch (e) {\n                    handleError(e, vm, \"renderError\");\n                    vnode = vm._vnode;\n                }\n            }\n            else {\n                vnode = vm._vnode;\n            }\n        }\n        finally {\n            currentRenderingInstance = prevRenderInst;\n            setCurrentInstance(prevInst);\n        }\n        // if the returned array contains only a single node, allow it\n        if (isArray(vnode) && vnode.length === 1) {\n            vnode = vnode[0];\n        }\n        // return empty vnode in case the render function errored out\n        if (!(vnode instanceof VNode)) {\n            if (process.env.NODE_ENV !== 'production' && isArray(vnode)) {\n                warn('Multiple root nodes returned from render function. Render function ' +\n                    'should return a single root node.', vm);\n            }\n            vnode = createEmptyVNode();\n        }\n        // set parent\n        vnode.parent = _parentVnode;\n        return vnode;\n    };\n}\n\nfunction ensureCtor(comp, base) {\n    if (comp.__esModule || (hasSymbol && comp[Symbol.toStringTag] === 'Module')) {\n        comp = comp.default;\n    }\n    return isObject(comp) ? base.extend(comp) : comp;\n}\nfunction createAsyncPlaceholder(factory, data, context, children, tag) {\n    var node = createEmptyVNode();\n    node.asyncFactory = factory;\n    node.asyncMeta = { data: data, context: context, children: children, tag: tag };\n    return node;\n}\nfunction resolveAsyncComponent(factory, baseCtor) {\n    if (isTrue(factory.error) && isDef(factory.errorComp)) {\n        return factory.errorComp;\n    }\n    if (isDef(factory.resolved)) {\n        return factory.resolved;\n    }\n    var owner = currentRenderingInstance;\n    if (owner && isDef(factory.owners) && factory.owners.indexOf(owner) === -1) {\n        // already pending\n        factory.owners.push(owner);\n    }\n    if (isTrue(factory.loading) && isDef(factory.loadingComp)) {\n        return factory.loadingComp;\n    }\n    if (owner && !isDef(factory.owners)) {\n        var owners_1 = (factory.owners = [owner]);\n        var sync_1 = true;\n        var timerLoading_1 = null;\n        var timerTimeout_1 = null;\n        owner.$on('hook:destroyed', function () { return remove$2(owners_1, owner); });\n        var forceRender_1 = function (renderCompleted) {\n            for (var i = 0, l = owners_1.length; i < l; i++) {\n                owners_1[i].$forceUpdate();\n            }\n            if (renderCompleted) {\n                owners_1.length = 0;\n                if (timerLoading_1 !== null) {\n                    clearTimeout(timerLoading_1);\n                    timerLoading_1 = null;\n                }\n                if (timerTimeout_1 !== null) {\n                    clearTimeout(timerTimeout_1);\n                    timerTimeout_1 = null;\n                }\n            }\n        };\n        var resolve = once(function (res) {\n            // cache resolved\n            factory.resolved = ensureCtor(res, baseCtor);\n            // invoke callbacks only if this is not a synchronous resolve\n            // (async resolves are shimmed as synchronous during SSR)\n            if (!sync_1) {\n                forceRender_1(true);\n            }\n            else {\n                owners_1.length = 0;\n            }\n        });\n        var reject_1 = once(function (reason) {\n            process.env.NODE_ENV !== 'production' &&\n                warn(\"Failed to resolve async component: \".concat(String(factory)) +\n                    (reason ? \"\\nReason: \".concat(reason) : ''));\n            if (isDef(factory.errorComp)) {\n                factory.error = true;\n                forceRender_1(true);\n            }\n        });\n        var res_1 = factory(resolve, reject_1);\n        if (isObject(res_1)) {\n            if (isPromise(res_1)) {\n                // () => Promise\n                if (isUndef(factory.resolved)) {\n                    res_1.then(resolve, reject_1);\n                }\n            }\n            else if (isPromise(res_1.component)) {\n                res_1.component.then(resolve, reject_1);\n                if (isDef(res_1.error)) {\n                    factory.errorComp = ensureCtor(res_1.error, baseCtor);\n                }\n                if (isDef(res_1.loading)) {\n                    factory.loadingComp = ensureCtor(res_1.loading, baseCtor);\n                    if (res_1.delay === 0) {\n                        factory.loading = true;\n                    }\n                    else {\n                        // @ts-expect-error NodeJS timeout type\n                        timerLoading_1 = setTimeout(function () {\n                            timerLoading_1 = null;\n                            if (isUndef(factory.resolved) && isUndef(factory.error)) {\n                                factory.loading = true;\n                                forceRender_1(false);\n                            }\n                        }, res_1.delay || 200);\n                    }\n                }\n                if (isDef(res_1.timeout)) {\n                    // @ts-expect-error NodeJS timeout type\n                    timerTimeout_1 = setTimeout(function () {\n                        timerTimeout_1 = null;\n                        if (isUndef(factory.resolved)) {\n                            reject_1(process.env.NODE_ENV !== 'production' ? \"timeout (\".concat(res_1.timeout, \"ms)\") : null);\n                        }\n                    }, res_1.timeout);\n                }\n            }\n        }\n        sync_1 = false;\n        // return in case resolved synchronously\n        return factory.loading ? factory.loadingComp : factory.resolved;\n    }\n}\n\nfunction getFirstComponentChild(children) {\n    if (isArray(children)) {\n        for (var i = 0; i < children.length; i++) {\n            var c = children[i];\n            if (isDef(c) && (isDef(c.componentOptions) || isAsyncPlaceholder(c))) {\n                return c;\n            }\n        }\n    }\n}\n\nvar SIMPLE_NORMALIZE = 1;\nvar ALWAYS_NORMALIZE = 2;\n// wrapper function for providing a more flexible interface\n// without getting yelled at by flow\nfunction createElement$1(context, tag, data, children, normalizationType, alwaysNormalize) {\n    if (isArray(data) || isPrimitive(data)) {\n        normalizationType = children;\n        children = data;\n        data = undefined;\n    }\n    if (isTrue(alwaysNormalize)) {\n        normalizationType = ALWAYS_NORMALIZE;\n    }\n    return _createElement(context, tag, data, children, normalizationType);\n}\nfunction _createElement(context, tag, data, children, normalizationType) {\n    if (isDef(data) && isDef(data.__ob__)) {\n        process.env.NODE_ENV !== 'production' &&\n            warn(\"Avoid using observed data object as vnode data: \".concat(JSON.stringify(data), \"\\n\") + 'Always create fresh vnode data objects in each render!', context);\n        return createEmptyVNode();\n    }\n    // object syntax in v-bind\n    if (isDef(data) && isDef(data.is)) {\n        tag = data.is;\n    }\n    if (!tag) {\n        // in case of component :is set to falsy value\n        return createEmptyVNode();\n    }\n    // warn against non-primitive key\n    if (process.env.NODE_ENV !== 'production' && isDef(data) && isDef(data.key) && !isPrimitive(data.key)) {\n        warn('Avoid using non-primitive value as key, ' +\n            'use string/number value instead.', context);\n    }\n    // support single function children as default scoped slot\n    if (isArray(children) && isFunction(children[0])) {\n        data = data || {};\n        data.scopedSlots = { default: children[0] };\n        children.length = 0;\n    }\n    if (normalizationType === ALWAYS_NORMALIZE) {\n        children = normalizeChildren(children);\n    }\n    else if (normalizationType === SIMPLE_NORMALIZE) {\n        children = simpleNormalizeChildren(children);\n    }\n    var vnode, ns;\n    if (typeof tag === 'string') {\n        var Ctor = void 0;\n        ns = (context.$vnode && context.$vnode.ns) || config.getTagNamespace(tag);\n        if (config.isReservedTag(tag)) {\n            // platform built-in elements\n            if (process.env.NODE_ENV !== 'production' &&\n                isDef(data) &&\n                isDef(data.nativeOn) &&\n                data.tag !== 'component') {\n                warn(\"The .native modifier for v-on is only valid on components but it was used on <\".concat(tag, \">.\"), context);\n            }\n            vnode = new VNode(config.parsePlatformTagName(tag), data, children, undefined, undefined, context);\n        }\n        else if ((!data || !data.pre) &&\n            isDef((Ctor = resolveAsset(context.$options, 'components', tag)))) {\n            // component\n            vnode = createComponent(Ctor, data, context, children, tag);\n        }\n        else {\n            // unknown or unlisted namespaced elements\n            // check at runtime because it may get assigned a namespace when its\n            // parent normalizes children\n            vnode = new VNode(tag, data, children, undefined, undefined, context);\n        }\n    }\n    else {\n        // direct component options / constructor\n        vnode = createComponent(tag, data, context, children);\n    }\n    if (isArray(vnode)) {\n        return vnode;\n    }\n    else if (isDef(vnode)) {\n        if (isDef(ns))\n            applyNS(vnode, ns);\n        if (isDef(data))\n            registerDeepBindings(data);\n        return vnode;\n    }\n    else {\n        return createEmptyVNode();\n    }\n}\nfunction applyNS(vnode, ns, force) {\n    vnode.ns = ns;\n    if (vnode.tag === 'foreignObject') {\n        // use default namespace inside foreignObject\n        ns = undefined;\n        force = true;\n    }\n    if (isDef(vnode.children)) {\n        for (var i = 0, l = vnode.children.length; i < l; i++) {\n            var child = vnode.children[i];\n            if (isDef(child.tag) &&\n                (isUndef(child.ns) || (isTrue(force) && child.tag !== 'svg'))) {\n                applyNS(child, ns, force);\n            }\n        }\n    }\n}\n// ref #5318\n// necessary to ensure parent re-render when deep bindings like :style and\n// :class are used on slot nodes\nfunction registerDeepBindings(data) {\n    if (isObject(data.style)) {\n        traverse(data.style);\n    }\n    if (isObject(data.class)) {\n        traverse(data.class);\n    }\n}\n\n/**\n * @internal this function needs manual public type declaration because it relies\n * on previously manually authored types from Vue 2\n */\nfunction h(type, props, children) {\n    if (!currentInstance) {\n        process.env.NODE_ENV !== 'production' &&\n            warn(\"globally imported h() can only be invoked when there is an active \" +\n                \"component instance, e.g. synchronously in a component's render or setup function.\");\n    }\n    return createElement$1(currentInstance, type, props, children, 2, true);\n}\n\nfunction handleError(err, vm, info) {\n    // Deactivate deps tracking while processing error handler to avoid possible infinite rendering.\n    // See: https://github.com/vuejs/vuex/issues/1505\n    pushTarget();\n    try {\n        if (vm) {\n            var cur = vm;\n            while ((cur = cur.$parent)) {\n                var hooks = cur.$options.errorCaptured;\n                if (hooks) {\n                    for (var i = 0; i < hooks.length; i++) {\n                        try {\n                            var capture = hooks[i].call(cur, err, vm, info) === false;\n                            if (capture)\n                                return;\n                        }\n                        catch (e) {\n                            globalHandleError(e, cur, 'errorCaptured hook');\n                        }\n                    }\n                }\n            }\n        }\n        globalHandleError(err, vm, info);\n    }\n    finally {\n        popTarget();\n    }\n}\nfunction invokeWithErrorHandling(handler, context, args, vm, info) {\n    var res;\n    try {\n        res = args ? handler.apply(context, args) : handler.call(context);\n        if (res && !res._isVue && isPromise(res) && !res._handled) {\n            res.catch(function (e) { return handleError(e, vm, info + \" (Promise/async)\"); });\n            res._handled = true;\n        }\n    }\n    catch (e) {\n        handleError(e, vm, info);\n    }\n    return res;\n}\nfunction globalHandleError(err, vm, info) {\n    if (config.errorHandler) {\n        try {\n            return config.errorHandler.call(null, err, vm, info);\n        }\n        catch (e) {\n            // if the user intentionally throws the original error in the handler,\n            // do not log it twice\n            if (e !== err) {\n                logError(e, null, 'config.errorHandler');\n            }\n        }\n    }\n    logError(err, vm, info);\n}\nfunction logError(err, vm, info) {\n    if (process.env.NODE_ENV !== 'production') {\n        warn(\"Error in \".concat(info, \": \\\"\").concat(err.toString(), \"\\\"\"), vm);\n    }\n    /* istanbul ignore else */\n    if (inBrowser && typeof console !== 'undefined') {\n        console.error(err);\n    }\n    else {\n        throw err;\n    }\n}\n\n/* globals MutationObserver */\nvar isUsingMicroTask = false;\nvar callbacks = [];\nvar pending = false;\nfunction flushCallbacks() {\n    pending = false;\n    var copies = callbacks.slice(0);\n    callbacks.length = 0;\n    for (var i = 0; i < copies.length; i++) {\n        copies[i]();\n    }\n}\n// Here we have async deferring wrappers using microtasks.\n// In 2.5 we used (macro) tasks (in combination with microtasks).\n// However, it has subtle problems when state is changed right before repaint\n// (e.g. #6813, out-in transitions).\n// Also, using (macro) tasks in event handler would cause some weird behaviors\n// that cannot be circumvented (e.g. #7109, #7153, #7546, #7834, #8109).\n// So we now use microtasks everywhere, again.\n// A major drawback of this tradeoff is that there are some scenarios\n// where microtasks have too high a priority and fire in between supposedly\n// sequential events (e.g. #4521, #6690, which have workarounds)\n// or even between bubbling of the same event (#6566).\nvar timerFunc;\n// The nextTick behavior leverages the microtask queue, which can be accessed\n// via either native Promise.then or MutationObserver.\n// MutationObserver has wider support, however it is seriously bugged in\n// UIWebView in iOS >= 9.3.3 when triggered in touch event handlers. It\n// completely stops working after triggering a few times... so, if native\n// Promise is available, we will use it:\n/* istanbul ignore next, $flow-disable-line */\nif (typeof Promise !== 'undefined' && isNative(Promise)) {\n    var p_1 = Promise.resolve();\n    timerFunc = function () {\n        p_1.then(flushCallbacks);\n        // In problematic UIWebViews, Promise.then doesn't completely break, but\n        // it can get stuck in a weird state where callbacks are pushed into the\n        // microtask queue but the queue isn't being flushed, until the browser\n        // needs to do some other work, e.g. handle a timer. Therefore we can\n        // \"force\" the microtask queue to be flushed by adding an empty timer.\n        if (isIOS)\n            setTimeout(noop);\n    };\n    isUsingMicroTask = true;\n}\nelse if (!isIE &&\n    typeof MutationObserver !== 'undefined' &&\n    (isNative(MutationObserver) ||\n        // PhantomJS and iOS 7.x\n        MutationObserver.toString() === '[object MutationObserverConstructor]')) {\n    // Use MutationObserver where native Promise is not available,\n    // e.g. PhantomJS, iOS7, Android 4.4\n    // (#6466 MutationObserver is unreliable in IE11)\n    var counter_1 = 1;\n    var observer = new MutationObserver(flushCallbacks);\n    var textNode_1 = document.createTextNode(String(counter_1));\n    observer.observe(textNode_1, {\n        characterData: true\n    });\n    timerFunc = function () {\n        counter_1 = (counter_1 + 1) % 2;\n        textNode_1.data = String(counter_1);\n    };\n    isUsingMicroTask = true;\n}\nelse if (typeof setImmediate !== 'undefined' && isNative(setImmediate)) {\n    // Fallback to setImmediate.\n    // Technically it leverages the (macro) task queue,\n    // but it is still a better choice than setTimeout.\n    timerFunc = function () {\n        setImmediate(flushCallbacks);\n    };\n}\nelse {\n    // Fallback to setTimeout.\n    timerFunc = function () {\n        setTimeout(flushCallbacks, 0);\n    };\n}\n/**\n * @internal\n */\nfunction nextTick(cb, ctx) {\n    var _resolve;\n    callbacks.push(function () {\n        if (cb) {\n            try {\n                cb.call(ctx);\n            }\n            catch (e) {\n                handleError(e, ctx, 'nextTick');\n            }\n        }\n        else if (_resolve) {\n            _resolve(ctx);\n        }\n    });\n    if (!pending) {\n        pending = true;\n        timerFunc();\n    }\n    // $flow-disable-line\n    if (!cb && typeof Promise !== 'undefined') {\n        return new Promise(function (resolve) {\n            _resolve = resolve;\n        });\n    }\n}\n\nfunction useCssModule(name) {\n    if (name === void 0) { name = '$style'; }\n    /* istanbul ignore else */\n    {\n        if (!currentInstance) {\n            process.env.NODE_ENV !== 'production' && warn(\"useCssModule must be called inside setup()\");\n            return emptyObject;\n        }\n        var mod = currentInstance[name];\n        if (!mod) {\n            process.env.NODE_ENV !== 'production' &&\n                warn(\"Current instance does not have CSS module named \\\"\".concat(name, \"\\\".\"));\n            return emptyObject;\n        }\n        return mod;\n    }\n}\n\n/**\n * Runtime helper for SFC's CSS variable injection feature.\n * @private\n */\nfunction useCssVars(getter) {\n    if (!inBrowser && !false)\n        return;\n    var instance = currentInstance;\n    if (!instance) {\n        process.env.NODE_ENV !== 'production' &&\n            warn(\"useCssVars is called without current active component instance.\");\n        return;\n    }\n    watchPostEffect(function () {\n        var el = instance.$el;\n        var vars = getter(instance, instance._setupProxy);\n        if (el && el.nodeType === 1) {\n            var style = el.style;\n            for (var key in vars) {\n                style.setProperty(\"--\".concat(key), vars[key]);\n            }\n        }\n    });\n}\n\n/**\n * v3-compatible async component API.\n * @internal the type is manually declared in <root>/types/v3-define-async-component.d.ts\n * because it relies on existing manual types\n */\nfunction defineAsyncComponent(source) {\n    if (isFunction(source)) {\n        source = { loader: source };\n    }\n    var loader = source.loader, loadingComponent = source.loadingComponent, errorComponent = source.errorComponent, _a = source.delay, delay = _a === void 0 ? 200 : _a, timeout = source.timeout, // undefined = never times out\n    _b = source.suspensible, // undefined = never times out\n    suspensible = _b === void 0 ? false : _b, // in Vue 3 default is true\n    userOnError = source.onError;\n    if (process.env.NODE_ENV !== 'production' && suspensible) {\n        warn(\"The suspensible option for async components is not supported in Vue2. It is ignored.\");\n    }\n    var pendingRequest = null;\n    var retries = 0;\n    var retry = function () {\n        retries++;\n        pendingRequest = null;\n        return load();\n    };\n    var load = function () {\n        var thisRequest;\n        return (pendingRequest ||\n            (thisRequest = pendingRequest =\n                loader()\n                    .catch(function (err) {\n                    err = err instanceof Error ? err : new Error(String(err));\n                    if (userOnError) {\n                        return new Promise(function (resolve, reject) {\n                            var userRetry = function () { return resolve(retry()); };\n                            var userFail = function () { return reject(err); };\n                            userOnError(err, userRetry, userFail, retries + 1);\n                        });\n                    }\n                    else {\n                        throw err;\n                    }\n                })\n                    .then(function (comp) {\n                    if (thisRequest !== pendingRequest && pendingRequest) {\n                        return pendingRequest;\n                    }\n                    if (process.env.NODE_ENV !== 'production' && !comp) {\n                        warn(\"Async component loader resolved to undefined. \" +\n                            \"If you are using retry(), make sure to return its return value.\");\n                    }\n                    // interop module default\n                    if (comp &&\n                        (comp.__esModule || comp[Symbol.toStringTag] === 'Module')) {\n                        comp = comp.default;\n                    }\n                    if (process.env.NODE_ENV !== 'production' && comp && !isObject(comp) && !isFunction(comp)) {\n                        throw new Error(\"Invalid async component load result: \".concat(comp));\n                    }\n                    return comp;\n                })));\n    };\n    return function () {\n        var component = load();\n        return {\n            component: component,\n            delay: delay,\n            timeout: timeout,\n            error: errorComponent,\n            loading: loadingComponent\n        };\n    };\n}\n\nfunction createLifeCycle(hookName) {\n    return function (fn, target) {\n        if (target === void 0) { target = currentInstance; }\n        if (!target) {\n            process.env.NODE_ENV !== 'production' &&\n                warn(\"\".concat(formatName(hookName), \" is called when there is no active component instance to be \") +\n                    \"associated with. \" +\n                    \"Lifecycle injection APIs can only be used during execution of setup().\");\n            return;\n        }\n        return injectHook(target, hookName, fn);\n    };\n}\nfunction formatName(name) {\n    if (name === 'beforeDestroy') {\n        name = 'beforeUnmount';\n    }\n    else if (name === 'destroyed') {\n        name = 'unmounted';\n    }\n    return \"on\".concat(name[0].toUpperCase() + name.slice(1));\n}\nfunction injectHook(instance, hookName, fn) {\n    var options = instance.$options;\n    options[hookName] = mergeLifecycleHook(options[hookName], fn);\n}\nvar onBeforeMount = createLifeCycle('beforeMount');\nvar onMounted = createLifeCycle('mounted');\nvar onBeforeUpdate = createLifeCycle('beforeUpdate');\nvar onUpdated = createLifeCycle('updated');\nvar onBeforeUnmount = createLifeCycle('beforeDestroy');\nvar onUnmounted = createLifeCycle('destroyed');\nvar onActivated = createLifeCycle('activated');\nvar onDeactivated = createLifeCycle('deactivated');\nvar onServerPrefetch = createLifeCycle('serverPrefetch');\nvar onRenderTracked = createLifeCycle('renderTracked');\nvar onRenderTriggered = createLifeCycle('renderTriggered');\nvar injectErrorCapturedHook = createLifeCycle('errorCaptured');\nfunction onErrorCaptured(hook, target) {\n    if (target === void 0) { target = currentInstance; }\n    injectErrorCapturedHook(hook, target);\n}\n\n/**\n * Note: also update dist/vue.runtime.mjs when adding new exports to this file.\n */\nvar version = '2.7.16';\n/**\n * @internal type is manually declared in <root>/types/v3-define-component.d.ts\n */\nfunction defineComponent(options) {\n    return options;\n}\n\nvar seenObjects = new _Set();\n/**\n * Recursively traverse an object to evoke all converted\n * getters, so that every nested property inside the object\n * is collected as a \"deep\" dependency.\n */\nfunction traverse(val) {\n    _traverse(val, seenObjects);\n    seenObjects.clear();\n    return val;\n}\nfunction _traverse(val, seen) {\n    var i, keys;\n    var isA = isArray(val);\n    if ((!isA && !isObject(val)) ||\n        val.__v_skip /* ReactiveFlags.SKIP */ ||\n        Object.isFrozen(val) ||\n        val instanceof VNode) {\n        return;\n    }\n    if (val.__ob__) {\n        var depId = val.__ob__.dep.id;\n        if (seen.has(depId)) {\n            return;\n        }\n        seen.add(depId);\n    }\n    if (isA) {\n        i = val.length;\n        while (i--)\n            _traverse(val[i], seen);\n    }\n    else if (isRef(val)) {\n        _traverse(val.value, seen);\n    }\n    else {\n        keys = Object.keys(val);\n        i = keys.length;\n        while (i--)\n            _traverse(val[keys[i]], seen);\n    }\n}\n\nvar uid$1 = 0;\n/**\n * A watcher parses an expression, collects dependencies,\n * and fires callback when the expression value changes.\n * This is used for both the $watch() api and directives.\n * @internal\n */\nvar Watcher = /** @class */ (function () {\n    function Watcher(vm, expOrFn, cb, options, isRenderWatcher) {\n        recordEffectScope(this, \n        // if the active effect scope is manually created (not a component scope),\n        // prioritize it\n        activeEffectScope && !activeEffectScope._vm\n            ? activeEffectScope\n            : vm\n                ? vm._scope\n                : undefined);\n        if ((this.vm = vm) && isRenderWatcher) {\n            vm._watcher = this;\n        }\n        // options\n        if (options) {\n            this.deep = !!options.deep;\n            this.user = !!options.user;\n            this.lazy = !!options.lazy;\n            this.sync = !!options.sync;\n            this.before = options.before;\n            if (process.env.NODE_ENV !== 'production') {\n                this.onTrack = options.onTrack;\n                this.onTrigger = options.onTrigger;\n            }\n        }\n        else {\n            this.deep = this.user = this.lazy = this.sync = false;\n        }\n        this.cb = cb;\n        this.id = ++uid$1; // uid for batching\n        this.active = true;\n        this.post = false;\n        this.dirty = this.lazy; // for lazy watchers\n        this.deps = [];\n        this.newDeps = [];\n        this.depIds = new _Set();\n        this.newDepIds = new _Set();\n        this.expression = process.env.NODE_ENV !== 'production' ? expOrFn.toString() : '';\n        // parse expression for getter\n        if (isFunction(expOrFn)) {\n            this.getter = expOrFn;\n        }\n        else {\n            this.getter = parsePath(expOrFn);\n            if (!this.getter) {\n                this.getter = noop;\n                process.env.NODE_ENV !== 'production' &&\n                    warn(\"Failed watching path: \\\"\".concat(expOrFn, \"\\\" \") +\n                        'Watcher only accepts simple dot-delimited paths. ' +\n                        'For full control, use a function instead.', vm);\n            }\n        }\n        this.value = this.lazy ? undefined : this.get();\n    }\n    /**\n     * Evaluate the getter, and re-collect dependencies.\n     */\n    Watcher.prototype.get = function () {\n        pushTarget(this);\n        var value;\n        var vm = this.vm;\n        try {\n            value = this.getter.call(vm, vm);\n        }\n        catch (e) {\n            if (this.user) {\n                handleError(e, vm, \"getter for watcher \\\"\".concat(this.expression, \"\\\"\"));\n            }\n            else {\n                throw e;\n            }\n        }\n        finally {\n            // \"touch\" every property so they are all tracked as\n            // dependencies for deep watching\n            if (this.deep) {\n                traverse(value);\n            }\n            popTarget();\n            this.cleanupDeps();\n        }\n        return value;\n    };\n    /**\n     * Add a dependency to this directive.\n     */\n    Watcher.prototype.addDep = function (dep) {\n        var id = dep.id;\n        if (!this.newDepIds.has(id)) {\n            this.newDepIds.add(id);\n            this.newDeps.push(dep);\n            if (!this.depIds.has(id)) {\n                dep.addSub(this);\n            }\n        }\n    };\n    /**\n     * Clean up for dependency collection.\n     */\n    Watcher.prototype.cleanupDeps = function () {\n        var i = this.deps.length;\n        while (i--) {\n            var dep = this.deps[i];\n            if (!this.newDepIds.has(dep.id)) {\n                dep.removeSub(this);\n            }\n        }\n        var tmp = this.depIds;\n        this.depIds = this.newDepIds;\n        this.newDepIds = tmp;\n        this.newDepIds.clear();\n        tmp = this.deps;\n        this.deps = this.newDeps;\n        this.newDeps = tmp;\n        this.newDeps.length = 0;\n    };\n    /**\n     * Subscriber interface.\n     * Will be called when a dependency changes.\n     */\n    Watcher.prototype.update = function () {\n        /* istanbul ignore else */\n        if (this.lazy) {\n            this.dirty = true;\n        }\n        else if (this.sync) {\n            this.run();\n        }\n        else {\n            queueWatcher(this);\n        }\n    };\n    /**\n     * Scheduler job interface.\n     * Will be called by the scheduler.\n     */\n    Watcher.prototype.run = function () {\n        if (this.active) {\n            var value = this.get();\n            if (value !== this.value ||\n                // Deep watchers and watchers on Object/Arrays should fire even\n                // when the value is the same, because the value may\n                // have mutated.\n                isObject(value) ||\n                this.deep) {\n                // set new value\n                var oldValue = this.value;\n                this.value = value;\n                if (this.user) {\n                    var info = \"callback for watcher \\\"\".concat(this.expression, \"\\\"\");\n                    invokeWithErrorHandling(this.cb, this.vm, [value, oldValue], this.vm, info);\n                }\n                else {\n                    this.cb.call(this.vm, value, oldValue);\n                }\n            }\n        }\n    };\n    /**\n     * Evaluate the value of the watcher.\n     * This only gets called for lazy watchers.\n     */\n    Watcher.prototype.evaluate = function () {\n        this.value = this.get();\n        this.dirty = false;\n    };\n    /**\n     * Depend on all deps collected by this watcher.\n     */\n    Watcher.prototype.depend = function () {\n        var i = this.deps.length;\n        while (i--) {\n            this.deps[i].depend();\n        }\n    };\n    /**\n     * Remove self from all dependencies' subscriber list.\n     */\n    Watcher.prototype.teardown = function () {\n        if (this.vm && !this.vm._isBeingDestroyed) {\n            remove$2(this.vm._scope.effects, this);\n        }\n        if (this.active) {\n            var i = this.deps.length;\n            while (i--) {\n                this.deps[i].removeSub(this);\n            }\n            this.active = false;\n            if (this.onStop) {\n                this.onStop();\n            }\n        }\n    };\n    return Watcher;\n}());\n\nvar mark;\nvar measure;\nif (process.env.NODE_ENV !== 'production') {\n    var perf_1 = inBrowser && window.performance;\n    /* istanbul ignore if */\n    if (perf_1 &&\n        // @ts-ignore\n        perf_1.mark &&\n        // @ts-ignore\n        perf_1.measure &&\n        // @ts-ignore\n        perf_1.clearMarks &&\n        // @ts-ignore\n        perf_1.clearMeasures) {\n        mark = function (tag) { return perf_1.mark(tag); };\n        measure = function (name, startTag, endTag) {\n            perf_1.measure(name, startTag, endTag);\n            perf_1.clearMarks(startTag);\n            perf_1.clearMarks(endTag);\n            // perf.clearMeasures(name)\n        };\n    }\n}\n\nfunction initEvents(vm) {\n    vm._events = Object.create(null);\n    vm._hasHookEvent = false;\n    // init parent attached events\n    var listeners = vm.$options._parentListeners;\n    if (listeners) {\n        updateComponentListeners(vm, listeners);\n    }\n}\nvar target$1;\nfunction add$1(event, fn) {\n    target$1.$on(event, fn);\n}\nfunction remove$1(event, fn) {\n    target$1.$off(event, fn);\n}\nfunction createOnceHandler$1(event, fn) {\n    var _target = target$1;\n    return function onceHandler() {\n        var res = fn.apply(null, arguments);\n        if (res !== null) {\n            _target.$off(event, onceHandler);\n        }\n    };\n}\nfunction updateComponentListeners(vm, listeners, oldListeners) {\n    target$1 = vm;\n    updateListeners(listeners, oldListeners || {}, add$1, remove$1, createOnceHandler$1, vm);\n    target$1 = undefined;\n}\nfunction eventsMixin(Vue) {\n    var hookRE = /^hook:/;\n    Vue.prototype.$on = function (event, fn) {\n        var vm = this;\n        if (isArray(event)) {\n            for (var i = 0, l = event.length; i < l; i++) {\n                vm.$on(event[i], fn);\n            }\n        }\n        else {\n            (vm._events[event] || (vm._events[event] = [])).push(fn);\n            // optimize hook:event cost by using a boolean flag marked at registration\n            // instead of a hash lookup\n            if (hookRE.test(event)) {\n                vm._hasHookEvent = true;\n            }\n        }\n        return vm;\n    };\n    Vue.prototype.$once = function (event, fn) {\n        var vm = this;\n        function on() {\n            vm.$off(event, on);\n            fn.apply(vm, arguments);\n        }\n        on.fn = fn;\n        vm.$on(event, on);\n        return vm;\n    };\n    Vue.prototype.$off = function (event, fn) {\n        var vm = this;\n        // all\n        if (!arguments.length) {\n            vm._events = Object.create(null);\n            return vm;\n        }\n        // array of events\n        if (isArray(event)) {\n            for (var i_1 = 0, l = event.length; i_1 < l; i_1++) {\n                vm.$off(event[i_1], fn);\n            }\n            return vm;\n        }\n        // specific event\n        var cbs = vm._events[event];\n        if (!cbs) {\n            return vm;\n        }\n        if (!fn) {\n            vm._events[event] = null;\n            return vm;\n        }\n        // specific handler\n        var cb;\n        var i = cbs.length;\n        while (i--) {\n            cb = cbs[i];\n            if (cb === fn || cb.fn === fn) {\n                cbs.splice(i, 1);\n                break;\n            }\n        }\n        return vm;\n    };\n    Vue.prototype.$emit = function (event) {\n        var vm = this;\n        if (process.env.NODE_ENV !== 'production') {\n            var lowerCaseEvent = event.toLowerCase();\n            if (lowerCaseEvent !== event && vm._events[lowerCaseEvent]) {\n                tip(\"Event \\\"\".concat(lowerCaseEvent, \"\\\" is emitted in component \") +\n                    \"\".concat(formatComponentName(vm), \" but the handler is registered for \\\"\").concat(event, \"\\\". \") +\n                    \"Note that HTML attributes are case-insensitive and you cannot use \" +\n                    \"v-on to listen to camelCase events when using in-DOM templates. \" +\n                    \"You should probably use \\\"\".concat(hyphenate(event), \"\\\" instead of \\\"\").concat(event, \"\\\".\"));\n            }\n        }\n        var cbs = vm._events[event];\n        if (cbs) {\n            cbs = cbs.length > 1 ? toArray(cbs) : cbs;\n            var args = toArray(arguments, 1);\n            var info = \"event handler for \\\"\".concat(event, \"\\\"\");\n            for (var i = 0, l = cbs.length; i < l; i++) {\n                invokeWithErrorHandling(cbs[i], vm, args, vm, info);\n            }\n        }\n        return vm;\n    };\n}\n\nvar activeInstance = null;\nvar isUpdatingChildComponent = false;\nfunction setActiveInstance(vm) {\n    var prevActiveInstance = activeInstance;\n    activeInstance = vm;\n    return function () {\n        activeInstance = prevActiveInstance;\n    };\n}\nfunction initLifecycle(vm) {\n    var options = vm.$options;\n    // locate first non-abstract parent\n    var parent = options.parent;\n    if (parent && !options.abstract) {\n        while (parent.$options.abstract && parent.$parent) {\n            parent = parent.$parent;\n        }\n        parent.$children.push(vm);\n    }\n    vm.$parent = parent;\n    vm.$root = parent ? parent.$root : vm;\n    vm.$children = [];\n    vm.$refs = {};\n    vm._provided = parent ? parent._provided : Object.create(null);\n    vm._watcher = null;\n    vm._inactive = null;\n    vm._directInactive = false;\n    vm._isMounted = false;\n    vm._isDestroyed = false;\n    vm._isBeingDestroyed = false;\n}\nfunction lifecycleMixin(Vue) {\n    Vue.prototype._update = function (vnode, hydrating) {\n        var vm = this;\n        var prevEl = vm.$el;\n        var prevVnode = vm._vnode;\n        var restoreActiveInstance = setActiveInstance(vm);\n        vm._vnode = vnode;\n        // Vue.prototype.__patch__ is injected in entry points\n        // based on the rendering backend used.\n        if (!prevVnode) {\n            // initial render\n            vm.$el = vm.__patch__(vm.$el, vnode, hydrating, false /* removeOnly */);\n        }\n        else {\n            // updates\n            vm.$el = vm.__patch__(prevVnode, vnode);\n        }\n        restoreActiveInstance();\n        // update __vue__ reference\n        if (prevEl) {\n            prevEl.__vue__ = null;\n        }\n        if (vm.$el) {\n            vm.$el.__vue__ = vm;\n        }\n        // if parent is an HOC, update its $el as well\n        var wrapper = vm;\n        while (wrapper &&\n            wrapper.$vnode &&\n            wrapper.$parent &&\n            wrapper.$vnode === wrapper.$parent._vnode) {\n            wrapper.$parent.$el = wrapper.$el;\n            wrapper = wrapper.$parent;\n        }\n        // updated hook is called by the scheduler to ensure that children are\n        // updated in a parent's updated hook.\n    };\n    Vue.prototype.$forceUpdate = function () {\n        var vm = this;\n        if (vm._watcher) {\n            vm._watcher.update();\n        }\n    };\n    Vue.prototype.$destroy = function () {\n        var vm = this;\n        if (vm._isBeingDestroyed) {\n            return;\n        }\n        callHook$1(vm, 'beforeDestroy');\n        vm._isBeingDestroyed = true;\n        // remove self from parent\n        var parent = vm.$parent;\n        if (parent && !parent._isBeingDestroyed && !vm.$options.abstract) {\n            remove$2(parent.$children, vm);\n        }\n        // teardown scope. this includes both the render watcher and other\n        // watchers created\n        vm._scope.stop();\n        // remove reference from data ob\n        // frozen object may not have observer.\n        if (vm._data.__ob__) {\n            vm._data.__ob__.vmCount--;\n        }\n        // call the last hook...\n        vm._isDestroyed = true;\n        // invoke destroy hooks on current rendered tree\n        vm.__patch__(vm._vnode, null);\n        // fire destroyed hook\n        callHook$1(vm, 'destroyed');\n        // turn off all instance listeners.\n        vm.$off();\n        // remove __vue__ reference\n        if (vm.$el) {\n            vm.$el.__vue__ = null;\n        }\n        // release circular reference (#6759)\n        if (vm.$vnode) {\n            vm.$vnode.parent = null;\n        }\n    };\n}\nfunction mountComponent(vm, el, hydrating) {\n    vm.$el = el;\n    if (!vm.$options.render) {\n        // @ts-expect-error invalid type\n        vm.$options.render = createEmptyVNode;\n        if (process.env.NODE_ENV !== 'production') {\n            /* istanbul ignore if */\n            if ((vm.$options.template && vm.$options.template.charAt(0) !== '#') ||\n                vm.$options.el ||\n                el) {\n                warn('You are using the runtime-only build of Vue where the template ' +\n                    'compiler is not available. Either pre-compile the templates into ' +\n                    'render functions, or use the compiler-included build.', vm);\n            }\n            else {\n                warn('Failed to mount component: template or render function not defined.', vm);\n            }\n        }\n    }\n    callHook$1(vm, 'beforeMount');\n    var updateComponent;\n    /* istanbul ignore if */\n    if (process.env.NODE_ENV !== 'production' && config.performance && mark) {\n        updateComponent = function () {\n            var name = vm._name;\n            var id = vm._uid;\n            var startTag = \"vue-perf-start:\".concat(id);\n            var endTag = \"vue-perf-end:\".concat(id);\n            mark(startTag);\n            var vnode = vm._render();\n            mark(endTag);\n            measure(\"vue \".concat(name, \" render\"), startTag, endTag);\n            mark(startTag);\n            vm._update(vnode, hydrating);\n            mark(endTag);\n            measure(\"vue \".concat(name, \" patch\"), startTag, endTag);\n        };\n    }\n    else {\n        updateComponent = function () {\n            vm._update(vm._render(), hydrating);\n        };\n    }\n    var watcherOptions = {\n        before: function () {\n            if (vm._isMounted && !vm._isDestroyed) {\n                callHook$1(vm, 'beforeUpdate');\n            }\n        }\n    };\n    if (process.env.NODE_ENV !== 'production') {\n        watcherOptions.onTrack = function (e) { return callHook$1(vm, 'renderTracked', [e]); };\n        watcherOptions.onTrigger = function (e) { return callHook$1(vm, 'renderTriggered', [e]); };\n    }\n    // we set this to vm._watcher inside the watcher's constructor\n    // since the watcher's initial patch may call $forceUpdate (e.g. inside child\n    // component's mounted hook), which relies on vm._watcher being already defined\n    new Watcher(vm, updateComponent, noop, watcherOptions, true /* isRenderWatcher */);\n    hydrating = false;\n    // flush buffer for flush: \"pre\" watchers queued in setup()\n    var preWatchers = vm._preWatchers;\n    if (preWatchers) {\n        for (var i = 0; i < preWatchers.length; i++) {\n            preWatchers[i].run();\n        }\n    }\n    // manually mounted instance, call mounted on self\n    // mounted is called for render-created child components in its inserted hook\n    if (vm.$vnode == null) {\n        vm._isMounted = true;\n        callHook$1(vm, 'mounted');\n    }\n    return vm;\n}\nfunction updateChildComponent(vm, propsData, listeners, parentVnode, renderChildren) {\n    if (process.env.NODE_ENV !== 'production') {\n        isUpdatingChildComponent = true;\n    }\n    // determine whether component has slot children\n    // we need to do this before overwriting $options._renderChildren.\n    // check if there are dynamic scopedSlots (hand-written or compiled but with\n    // dynamic slot names). Static scoped slots compiled from template has the\n    // \"$stable\" marker.\n    var newScopedSlots = parentVnode.data.scopedSlots;\n    var oldScopedSlots = vm.$scopedSlots;\n    var hasDynamicScopedSlot = !!((newScopedSlots && !newScopedSlots.$stable) ||\n        (oldScopedSlots !== emptyObject && !oldScopedSlots.$stable) ||\n        (newScopedSlots && vm.$scopedSlots.$key !== newScopedSlots.$key) ||\n        (!newScopedSlots && vm.$scopedSlots.$key));\n    // Any static slot children from the parent may have changed during parent's\n    // update. Dynamic scoped slots may also have changed. In such cases, a forced\n    // update is necessary to ensure correctness.\n    var needsForceUpdate = !!(renderChildren || // has new static slots\n        vm.$options._renderChildren || // has old static slots\n        hasDynamicScopedSlot);\n    var prevVNode = vm.$vnode;\n    vm.$options._parentVnode = parentVnode;\n    vm.$vnode = parentVnode; // update vm's placeholder node without re-render\n    if (vm._vnode) {\n        // update child tree's parent\n        vm._vnode.parent = parentVnode;\n    }\n    vm.$options._renderChildren = renderChildren;\n    // update $attrs and $listeners hash\n    // these are also reactive so they may trigger child update if the child\n    // used them during render\n    var attrs = parentVnode.data.attrs || emptyObject;\n    if (vm._attrsProxy) {\n        // force update if attrs are accessed and has changed since it may be\n        // passed to a child component.\n        if (syncSetupProxy(vm._attrsProxy, attrs, (prevVNode.data && prevVNode.data.attrs) || emptyObject, vm, '$attrs')) {\n            needsForceUpdate = true;\n        }\n    }\n    vm.$attrs = attrs;\n    // update listeners\n    listeners = listeners || emptyObject;\n    var prevListeners = vm.$options._parentListeners;\n    if (vm._listenersProxy) {\n        syncSetupProxy(vm._listenersProxy, listeners, prevListeners || emptyObject, vm, '$listeners');\n    }\n    vm.$listeners = vm.$options._parentListeners = listeners;\n    updateComponentListeners(vm, listeners, prevListeners);\n    // update props\n    if (propsData && vm.$options.props) {\n        toggleObserving(false);\n        var props = vm._props;\n        var propKeys = vm.$options._propKeys || [];\n        for (var i = 0; i < propKeys.length; i++) {\n            var key = propKeys[i];\n            var propOptions = vm.$options.props; // wtf flow?\n            props[key] = validateProp(key, propOptions, propsData, vm);\n        }\n        toggleObserving(true);\n        // keep a copy of raw propsData\n        vm.$options.propsData = propsData;\n    }\n    // resolve slots + force update if has children\n    if (needsForceUpdate) {\n        vm.$slots = resolveSlots(renderChildren, parentVnode.context);\n        vm.$forceUpdate();\n    }\n    if (process.env.NODE_ENV !== 'production') {\n        isUpdatingChildComponent = false;\n    }\n}\nfunction isInInactiveTree(vm) {\n    while (vm && (vm = vm.$parent)) {\n        if (vm._inactive)\n            return true;\n    }\n    return false;\n}\nfunction activateChildComponent(vm, direct) {\n    if (direct) {\n        vm._directInactive = false;\n        if (isInInactiveTree(vm)) {\n            return;\n        }\n    }\n    else if (vm._directInactive) {\n        return;\n    }\n    if (vm._inactive || vm._inactive === null) {\n        vm._inactive = false;\n        for (var i = 0; i < vm.$children.length; i++) {\n            activateChildComponent(vm.$children[i]);\n        }\n        callHook$1(vm, 'activated');\n    }\n}\nfunction deactivateChildComponent(vm, direct) {\n    if (direct) {\n        vm._directInactive = true;\n        if (isInInactiveTree(vm)) {\n            return;\n        }\n    }\n    if (!vm._inactive) {\n        vm._inactive = true;\n        for (var i = 0; i < vm.$children.length; i++) {\n            deactivateChildComponent(vm.$children[i]);\n        }\n        callHook$1(vm, 'deactivated');\n    }\n}\nfunction callHook$1(vm, hook, args, setContext) {\n    if (setContext === void 0) { setContext = true; }\n    // #7573 disable dep collection when invoking lifecycle hooks\n    pushTarget();\n    var prevInst = currentInstance;\n    var prevScope = getCurrentScope();\n    setContext && setCurrentInstance(vm);\n    var handlers = vm.$options[hook];\n    var info = \"\".concat(hook, \" hook\");\n    if (handlers) {\n        for (var i = 0, j = handlers.length; i < j; i++) {\n            invokeWithErrorHandling(handlers[i], vm, args || null, vm, info);\n        }\n    }\n    if (vm._hasHookEvent) {\n        vm.$emit('hook:' + hook);\n    }\n    if (setContext) {\n        setCurrentInstance(prevInst);\n        prevScope && prevScope.on();\n    }\n    popTarget();\n}\n\nvar MAX_UPDATE_COUNT = 100;\nvar queue = [];\nvar activatedChildren = [];\nvar has = {};\nvar circular = {};\nvar waiting = false;\nvar flushing = false;\nvar index = 0;\n/**\n * Reset the scheduler's state.\n */\nfunction resetSchedulerState() {\n    index = queue.length = activatedChildren.length = 0;\n    has = {};\n    if (process.env.NODE_ENV !== 'production') {\n        circular = {};\n    }\n    waiting = flushing = false;\n}\n// Async edge case #6566 requires saving the timestamp when event listeners are\n// attached. However, calling performance.now() has a perf overhead especially\n// if the page has thousands of event listeners. Instead, we take a timestamp\n// every time the scheduler flushes and use that for all event listeners\n// attached during that flush.\nvar currentFlushTimestamp = 0;\n// Async edge case fix requires storing an event listener's attach timestamp.\nvar getNow = Date.now;\n// Determine what event timestamp the browser is using. Annoyingly, the\n// timestamp can either be hi-res (relative to page load) or low-res\n// (relative to UNIX epoch), so in order to compare time we have to use the\n// same timestamp type when saving the flush timestamp.\n// All IE versions use low-res event timestamps, and have problematic clock\n// implementations (#9632)\nif (inBrowser && !isIE) {\n    var performance_1 = window.performance;\n    if (performance_1 &&\n        typeof performance_1.now === 'function' &&\n        getNow() > document.createEvent('Event').timeStamp) {\n        // if the event timestamp, although evaluated AFTER the Date.now(), is\n        // smaller than it, it means the event is using a hi-res timestamp,\n        // and we need to use the hi-res version for event listener timestamps as\n        // well.\n        getNow = function () { return performance_1.now(); };\n    }\n}\nvar sortCompareFn = function (a, b) {\n    if (a.post) {\n        if (!b.post)\n            return 1;\n    }\n    else if (b.post) {\n        return -1;\n    }\n    return a.id - b.id;\n};\n/**\n * Flush both queues and run the watchers.\n */\nfunction flushSchedulerQueue() {\n    currentFlushTimestamp = getNow();\n    flushing = true;\n    var watcher, id;\n    // Sort queue before flush.\n    // This ensures that:\n    // 1. Components are updated from parent to child. (because parent is always\n    //    created before the child)\n    // 2. A component's user watchers are run before its render watcher (because\n    //    user watchers are created before the render watcher)\n    // 3. If a component is destroyed during a parent component's watcher run,\n    //    its watchers can be skipped.\n    queue.sort(sortCompareFn);\n    // do not cache length because more watchers might be pushed\n    // as we run existing watchers\n    for (index = 0; index < queue.length; index++) {\n        watcher = queue[index];\n        if (watcher.before) {\n            watcher.before();\n        }\n        id = watcher.id;\n        has[id] = null;\n        watcher.run();\n        // in dev build, check and stop circular updates.\n        if (process.env.NODE_ENV !== 'production' && has[id] != null) {\n            circular[id] = (circular[id] || 0) + 1;\n            if (circular[id] > MAX_UPDATE_COUNT) {\n                warn('You may have an infinite update loop ' +\n                    (watcher.user\n                        ? \"in watcher with expression \\\"\".concat(watcher.expression, \"\\\"\")\n                        : \"in a component render function.\"), watcher.vm);\n                break;\n            }\n        }\n    }\n    // keep copies of post queues before resetting state\n    var activatedQueue = activatedChildren.slice();\n    var updatedQueue = queue.slice();\n    resetSchedulerState();\n    // call component updated and activated hooks\n    callActivatedHooks(activatedQueue);\n    callUpdatedHooks(updatedQueue);\n    cleanupDeps();\n    // devtool hook\n    /* istanbul ignore if */\n    if (devtools && config.devtools) {\n        devtools.emit('flush');\n    }\n}\nfunction callUpdatedHooks(queue) {\n    var i = queue.length;\n    while (i--) {\n        var watcher = queue[i];\n        var vm = watcher.vm;\n        if (vm && vm._watcher === watcher && vm._isMounted && !vm._isDestroyed) {\n            callHook$1(vm, 'updated');\n        }\n    }\n}\n/**\n * Queue a kept-alive component that was activated during patch.\n * The queue will be processed after the entire tree has been patched.\n */\nfunction queueActivatedComponent(vm) {\n    // setting _inactive to false here so that a render function can\n    // rely on checking whether it's in an inactive tree (e.g. router-view)\n    vm._inactive = false;\n    activatedChildren.push(vm);\n}\nfunction callActivatedHooks(queue) {\n    for (var i = 0; i < queue.length; i++) {\n        queue[i]._inactive = true;\n        activateChildComponent(queue[i], true /* true */);\n    }\n}\n/**\n * Push a watcher into the watcher queue.\n * Jobs with duplicate IDs will be skipped unless it's\n * pushed when the queue is being flushed.\n */\nfunction queueWatcher(watcher) {\n    var id = watcher.id;\n    if (has[id] != null) {\n        return;\n    }\n    if (watcher === Dep.target && watcher.noRecurse) {\n        return;\n    }\n    has[id] = true;\n    if (!flushing) {\n        queue.push(watcher);\n    }\n    else {\n        // if already flushing, splice the watcher based on its id\n        // if already past its id, it will be run next immediately.\n        var i = queue.length - 1;\n        while (i > index && queue[i].id > watcher.id) {\n            i--;\n        }\n        queue.splice(i + 1, 0, watcher);\n    }\n    // queue the flush\n    if (!waiting) {\n        waiting = true;\n        if (process.env.NODE_ENV !== 'production' && !config.async) {\n            flushSchedulerQueue();\n            return;\n        }\n        nextTick(flushSchedulerQueue);\n    }\n}\n\nfunction initProvide(vm) {\n    var provideOption = vm.$options.provide;\n    if (provideOption) {\n        var provided = isFunction(provideOption)\n            ? provideOption.call(vm)\n            : provideOption;\n        if (!isObject(provided)) {\n            return;\n        }\n        var source = resolveProvided(vm);\n        // IE9 doesn't support Object.getOwnPropertyDescriptors so we have to\n        // iterate the keys ourselves.\n        var keys = hasSymbol ? Reflect.ownKeys(provided) : Object.keys(provided);\n        for (var i = 0; i < keys.length; i++) {\n            var key = keys[i];\n            Object.defineProperty(source, key, Object.getOwnPropertyDescriptor(provided, key));\n        }\n    }\n}\nfunction initInjections(vm) {\n    var result = resolveInject(vm.$options.inject, vm);\n    if (result) {\n        toggleObserving(false);\n        Object.keys(result).forEach(function (key) {\n            /* istanbul ignore else */\n            if (process.env.NODE_ENV !== 'production') {\n                defineReactive(vm, key, result[key], function () {\n                    warn(\"Avoid mutating an injected value directly since the changes will be \" +\n                        \"overwritten whenever the provided component re-renders. \" +\n                        \"injection being mutated: \\\"\".concat(key, \"\\\"\"), vm);\n                });\n            }\n            else {\n                defineReactive(vm, key, result[key]);\n            }\n        });\n        toggleObserving(true);\n    }\n}\nfunction resolveInject(inject, vm) {\n    if (inject) {\n        // inject is :any because flow is not smart enough to figure out cached\n        var result = Object.create(null);\n        var keys = hasSymbol ? Reflect.ownKeys(inject) : Object.keys(inject);\n        for (var i = 0; i < keys.length; i++) {\n            var key = keys[i];\n            // #6574 in case the inject object is observed...\n            if (key === '__ob__')\n                continue;\n            var provideKey = inject[key].from;\n            if (provideKey in vm._provided) {\n                result[key] = vm._provided[provideKey];\n            }\n            else if ('default' in inject[key]) {\n                var provideDefault = inject[key].default;\n                result[key] = isFunction(provideDefault)\n                    ? provideDefault.call(vm)\n                    : provideDefault;\n            }\n            else if (process.env.NODE_ENV !== 'production') {\n                warn(\"Injection \\\"\".concat(key, \"\\\" not found\"), vm);\n            }\n        }\n        return result;\n    }\n}\n\nfunction FunctionalRenderContext(data, props, children, parent, Ctor) {\n    var _this = this;\n    var options = Ctor.options;\n    // ensure the createElement function in functional components\n    // gets a unique context - this is necessary for correct named slot check\n    var contextVm;\n    if (hasOwn(parent, '_uid')) {\n        contextVm = Object.create(parent);\n        contextVm._original = parent;\n    }\n    else {\n        // the context vm passed in is a functional context as well.\n        // in this case we want to make sure we are able to get a hold to the\n        // real context instance.\n        contextVm = parent;\n        // @ts-ignore\n        parent = parent._original;\n    }\n    var isCompiled = isTrue(options._compiled);\n    var needNormalization = !isCompiled;\n    this.data = data;\n    this.props = props;\n    this.children = children;\n    this.parent = parent;\n    this.listeners = data.on || emptyObject;\n    this.injections = resolveInject(options.inject, parent);\n    this.slots = function () {\n        if (!_this.$slots) {\n            normalizeScopedSlots(parent, data.scopedSlots, (_this.$slots = resolveSlots(children, parent)));\n        }\n        return _this.$slots;\n    };\n    Object.defineProperty(this, 'scopedSlots', {\n        enumerable: true,\n        get: function () {\n            return normalizeScopedSlots(parent, data.scopedSlots, this.slots());\n        }\n    });\n    // support for compiled functional template\n    if (isCompiled) {\n        // exposing $options for renderStatic()\n        this.$options = options;\n        // pre-resolve slots for renderSlot()\n        this.$slots = this.slots();\n        this.$scopedSlots = normalizeScopedSlots(parent, data.scopedSlots, this.$slots);\n    }\n    if (options._scopeId) {\n        this._c = function (a, b, c, d) {\n            var vnode = createElement$1(contextVm, a, b, c, d, needNormalization);\n            if (vnode && !isArray(vnode)) {\n                vnode.fnScopeId = options._scopeId;\n                vnode.fnContext = parent;\n            }\n            return vnode;\n        };\n    }\n    else {\n        this._c = function (a, b, c, d) {\n            return createElement$1(contextVm, a, b, c, d, needNormalization);\n        };\n    }\n}\ninstallRenderHelpers(FunctionalRenderContext.prototype);\nfunction createFunctionalComponent(Ctor, propsData, data, contextVm, children) {\n    var options = Ctor.options;\n    var props = {};\n    var propOptions = options.props;\n    if (isDef(propOptions)) {\n        for (var key in propOptions) {\n            props[key] = validateProp(key, propOptions, propsData || emptyObject);\n        }\n    }\n    else {\n        if (isDef(data.attrs))\n            mergeProps(props, data.attrs);\n        if (isDef(data.props))\n            mergeProps(props, data.props);\n    }\n    var renderContext = new FunctionalRenderContext(data, props, children, contextVm, Ctor);\n    var vnode = options.render.call(null, renderContext._c, renderContext);\n    if (vnode instanceof VNode) {\n        return cloneAndMarkFunctionalResult(vnode, data, renderContext.parent, options, renderContext);\n    }\n    else if (isArray(vnode)) {\n        var vnodes = normalizeChildren(vnode) || [];\n        var res = new Array(vnodes.length);\n        for (var i = 0; i < vnodes.length; i++) {\n            res[i] = cloneAndMarkFunctionalResult(vnodes[i], data, renderContext.parent, options, renderContext);\n        }\n        return res;\n    }\n}\nfunction cloneAndMarkFunctionalResult(vnode, data, contextVm, options, renderContext) {\n    // #7817 clone node before setting fnContext, otherwise if the node is reused\n    // (e.g. it was from a cached normal slot) the fnContext causes named slots\n    // that should not be matched to match.\n    var clone = cloneVNode(vnode);\n    clone.fnContext = contextVm;\n    clone.fnOptions = options;\n    if (process.env.NODE_ENV !== 'production') {\n        (clone.devtoolsMeta = clone.devtoolsMeta || {}).renderContext =\n            renderContext;\n    }\n    if (data.slot) {\n        (clone.data || (clone.data = {})).slot = data.slot;\n    }\n    return clone;\n}\nfunction mergeProps(to, from) {\n    for (var key in from) {\n        to[camelize(key)] = from[key];\n    }\n}\n\nfunction getComponentName(options) {\n    return options.name || options.__name || options._componentTag;\n}\n// inline hooks to be invoked on component VNodes during patch\nvar componentVNodeHooks = {\n    init: function (vnode, hydrating) {\n        if (vnode.componentInstance &&\n            !vnode.componentInstance._isDestroyed &&\n            vnode.data.keepAlive) {\n            // kept-alive components, treat as a patch\n            var mountedNode = vnode; // work around flow\n            componentVNodeHooks.prepatch(mountedNode, mountedNode);\n        }\n        else {\n            var child = (vnode.componentInstance = createComponentInstanceForVnode(vnode, activeInstance));\n            child.$mount(hydrating ? vnode.elm : undefined, hydrating);\n        }\n    },\n    prepatch: function (oldVnode, vnode) {\n        var options = vnode.componentOptions;\n        var child = (vnode.componentInstance = oldVnode.componentInstance);\n        updateChildComponent(child, options.propsData, // updated props\n        options.listeners, // updated listeners\n        vnode, // new parent vnode\n        options.children // new children\n        );\n    },\n    insert: function (vnode) {\n        var context = vnode.context, componentInstance = vnode.componentInstance;\n        if (!componentInstance._isMounted) {\n            componentInstance._isMounted = true;\n            callHook$1(componentInstance, 'mounted');\n        }\n        if (vnode.data.keepAlive) {\n            if (context._isMounted) {\n                // vue-router#1212\n                // During updates, a kept-alive component's child components may\n                // change, so directly walking the tree here may call activated hooks\n                // on incorrect children. Instead we push them into a queue which will\n                // be processed after the whole patch process ended.\n                queueActivatedComponent(componentInstance);\n            }\n            else {\n                activateChildComponent(componentInstance, true /* direct */);\n            }\n        }\n    },\n    destroy: function (vnode) {\n        var componentInstance = vnode.componentInstance;\n        if (!componentInstance._isDestroyed) {\n            if (!vnode.data.keepAlive) {\n                componentInstance.$destroy();\n            }\n            else {\n                deactivateChildComponent(componentInstance, true /* direct */);\n            }\n        }\n    }\n};\nvar hooksToMerge = Object.keys(componentVNodeHooks);\nfunction createComponent(Ctor, data, context, children, tag) {\n    if (isUndef(Ctor)) {\n        return;\n    }\n    var baseCtor = context.$options._base;\n    // plain options object: turn it into a constructor\n    if (isObject(Ctor)) {\n        Ctor = baseCtor.extend(Ctor);\n    }\n    // if at this stage it's not a constructor or an async component factory,\n    // reject.\n    if (typeof Ctor !== 'function') {\n        if (process.env.NODE_ENV !== 'production') {\n            warn(\"Invalid Component definition: \".concat(String(Ctor)), context);\n        }\n        return;\n    }\n    // async component\n    var asyncFactory;\n    // @ts-expect-error\n    if (isUndef(Ctor.cid)) {\n        asyncFactory = Ctor;\n        Ctor = resolveAsyncComponent(asyncFactory, baseCtor);\n        if (Ctor === undefined) {\n            // return a placeholder node for async component, which is rendered\n            // as a comment node but preserves all the raw information for the node.\n            // the information will be used for async server-rendering and hydration.\n            return createAsyncPlaceholder(asyncFactory, data, context, children, tag);\n        }\n    }\n    data = data || {};\n    // resolve constructor options in case global mixins are applied after\n    // component constructor creation\n    resolveConstructorOptions(Ctor);\n    // transform component v-model data into props & events\n    if (isDef(data.model)) {\n        // @ts-expect-error\n        transformModel(Ctor.options, data);\n    }\n    // extract props\n    // @ts-expect-error\n    var propsData = extractPropsFromVNodeData(data, Ctor, tag);\n    // functional component\n    // @ts-expect-error\n    if (isTrue(Ctor.options.functional)) {\n        return createFunctionalComponent(Ctor, propsData, data, context, children);\n    }\n    // extract listeners, since these needs to be treated as\n    // child component listeners instead of DOM listeners\n    var listeners = data.on;\n    // replace with listeners with .native modifier\n    // so it gets processed during parent component patch.\n    data.on = data.nativeOn;\n    // @ts-expect-error\n    if (isTrue(Ctor.options.abstract)) {\n        // abstract components do not keep anything\n        // other than props & listeners & slot\n        // work around flow\n        var slot = data.slot;\n        data = {};\n        if (slot) {\n            data.slot = slot;\n        }\n    }\n    // install component management hooks onto the placeholder node\n    installComponentHooks(data);\n    // return a placeholder vnode\n    // @ts-expect-error\n    var name = getComponentName(Ctor.options) || tag;\n    var vnode = new VNode(\n    // @ts-expect-error\n    \"vue-component-\".concat(Ctor.cid).concat(name ? \"-\".concat(name) : ''), data, undefined, undefined, undefined, context, \n    // @ts-expect-error\n    { Ctor: Ctor, propsData: propsData, listeners: listeners, tag: tag, children: children }, asyncFactory);\n    return vnode;\n}\nfunction createComponentInstanceForVnode(\n// we know it's MountedComponentVNode but flow doesn't\nvnode, \n// activeInstance in lifecycle state\nparent) {\n    var options = {\n        _isComponent: true,\n        _parentVnode: vnode,\n        parent: parent\n    };\n    // check inline-template render functions\n    var inlineTemplate = vnode.data.inlineTemplate;\n    if (isDef(inlineTemplate)) {\n        options.render = inlineTemplate.render;\n        options.staticRenderFns = inlineTemplate.staticRenderFns;\n    }\n    return new vnode.componentOptions.Ctor(options);\n}\nfunction installComponentHooks(data) {\n    var hooks = data.hook || (data.hook = {});\n    for (var i = 0; i < hooksToMerge.length; i++) {\n        var key = hooksToMerge[i];\n        var existing = hooks[key];\n        var toMerge = componentVNodeHooks[key];\n        // @ts-expect-error\n        if (existing !== toMerge && !(existing && existing._merged)) {\n            hooks[key] = existing ? mergeHook(toMerge, existing) : toMerge;\n        }\n    }\n}\nfunction mergeHook(f1, f2) {\n    var merged = function (a, b) {\n        // flow complains about extra args which is why we use any\n        f1(a, b);\n        f2(a, b);\n    };\n    merged._merged = true;\n    return merged;\n}\n// transform component v-model info (value and callback) into\n// prop and event handler respectively.\nfunction transformModel(options, data) {\n    var prop = (options.model && options.model.prop) || 'value';\n    var event = (options.model && options.model.event) || 'input';\n    (data.attrs || (data.attrs = {}))[prop] = data.model.value;\n    var on = data.on || (data.on = {});\n    var existing = on[event];\n    var callback = data.model.callback;\n    if (isDef(existing)) {\n        if (isArray(existing)\n            ? existing.indexOf(callback) === -1\n            : existing !== callback) {\n            on[event] = [callback].concat(existing);\n        }\n    }\n    else {\n        on[event] = callback;\n    }\n}\n\nvar warn = noop;\nvar tip = noop;\nvar generateComponentTrace; // work around flow check\nvar formatComponentName;\nif (process.env.NODE_ENV !== 'production') {\n    var hasConsole_1 = typeof console !== 'undefined';\n    var classifyRE_1 = /(?:^|[-_])(\\w)/g;\n    var classify_1 = function (str) {\n        return str.replace(classifyRE_1, function (c) { return c.toUpperCase(); }).replace(/[-_]/g, '');\n    };\n    warn = function (msg, vm) {\n        if (vm === void 0) { vm = currentInstance; }\n        var trace = vm ? generateComponentTrace(vm) : '';\n        if (config.warnHandler) {\n            config.warnHandler.call(null, msg, vm, trace);\n        }\n        else if (hasConsole_1 && !config.silent) {\n            console.error(\"[Vue warn]: \".concat(msg).concat(trace));\n        }\n    };\n    tip = function (msg, vm) {\n        if (hasConsole_1 && !config.silent) {\n            console.warn(\"[Vue tip]: \".concat(msg) + (vm ? generateComponentTrace(vm) : ''));\n        }\n    };\n    formatComponentName = function (vm, includeFile) {\n        if (vm.$root === vm) {\n            return '<Root>';\n        }\n        var options = isFunction(vm) && vm.cid != null\n            ? vm.options\n            : vm._isVue\n                ? vm.$options || vm.constructor.options\n                : vm;\n        var name = getComponentName(options);\n        var file = options.__file;\n        if (!name && file) {\n            var match = file.match(/([^/\\\\]+)\\.vue$/);\n            name = match && match[1];\n        }\n        return ((name ? \"<\".concat(classify_1(name), \">\") : \"<Anonymous>\") +\n            (file && includeFile !== false ? \" at \".concat(file) : ''));\n    };\n    var repeat_1 = function (str, n) {\n        var res = '';\n        while (n) {\n            if (n % 2 === 1)\n                res += str;\n            if (n > 1)\n                str += str;\n            n >>= 1;\n        }\n        return res;\n    };\n    generateComponentTrace = function (vm) {\n        if (vm._isVue && vm.$parent) {\n            var tree = [];\n            var currentRecursiveSequence = 0;\n            while (vm) {\n                if (tree.length > 0) {\n                    var last = tree[tree.length - 1];\n                    if (last.constructor === vm.constructor) {\n                        currentRecursiveSequence++;\n                        vm = vm.$parent;\n                        continue;\n                    }\n                    else if (currentRecursiveSequence > 0) {\n                        tree[tree.length - 1] = [last, currentRecursiveSequence];\n                        currentRecursiveSequence = 0;\n                    }\n                }\n                tree.push(vm);\n                vm = vm.$parent;\n            }\n            return ('\\n\\nfound in\\n\\n' +\n                tree\n                    .map(function (vm, i) {\n                    return \"\".concat(i === 0 ? '---> ' : repeat_1(' ', 5 + i * 2)).concat(isArray(vm)\n                        ? \"\".concat(formatComponentName(vm[0]), \"... (\").concat(vm[1], \" recursive calls)\")\n                        : formatComponentName(vm));\n                })\n                    .join('\\n'));\n        }\n        else {\n            return \"\\n\\n(found in \".concat(formatComponentName(vm), \")\");\n        }\n    };\n}\n\n/**\n * Option overwriting strategies are functions that handle\n * how to merge a parent option value and a child option\n * value into the final value.\n */\nvar strats = config.optionMergeStrategies;\n/**\n * Options with restrictions\n */\nif (process.env.NODE_ENV !== 'production') {\n    strats.el = strats.propsData = function (parent, child, vm, key) {\n        if (!vm) {\n            warn(\"option \\\"\".concat(key, \"\\\" can only be used during instance \") +\n                'creation with the `new` keyword.');\n        }\n        return defaultStrat(parent, child);\n    };\n}\n/**\n * Helper that recursively merges two data objects together.\n */\nfunction mergeData(to, from, recursive) {\n    if (recursive === void 0) { recursive = true; }\n    if (!from)\n        return to;\n    var key, toVal, fromVal;\n    var keys = hasSymbol\n        ? Reflect.ownKeys(from)\n        : Object.keys(from);\n    for (var i = 0; i < keys.length; i++) {\n        key = keys[i];\n        // in case the object is already observed...\n        if (key === '__ob__')\n            continue;\n        toVal = to[key];\n        fromVal = from[key];\n        if (!recursive || !hasOwn(to, key)) {\n            set(to, key, fromVal);\n        }\n        else if (toVal !== fromVal &&\n            isPlainObject(toVal) &&\n            isPlainObject(fromVal)) {\n            mergeData(toVal, fromVal);\n        }\n    }\n    return to;\n}\n/**\n * Data\n */\nfunction mergeDataOrFn(parentVal, childVal, vm) {\n    if (!vm) {\n        // in a Vue.extend merge, both should be functions\n        if (!childVal) {\n            return parentVal;\n        }\n        if (!parentVal) {\n            return childVal;\n        }\n        // when parentVal & childVal are both present,\n        // we need to return a function that returns the\n        // merged result of both functions... no need to\n        // check if parentVal is a function here because\n        // it has to be a function to pass previous merges.\n        return function mergedDataFn() {\n            return mergeData(isFunction(childVal) ? childVal.call(this, this) : childVal, isFunction(parentVal) ? parentVal.call(this, this) : parentVal);\n        };\n    }\n    else {\n        return function mergedInstanceDataFn() {\n            // instance merge\n            var instanceData = isFunction(childVal)\n                ? childVal.call(vm, vm)\n                : childVal;\n            var defaultData = isFunction(parentVal)\n                ? parentVal.call(vm, vm)\n                : parentVal;\n            if (instanceData) {\n                return mergeData(instanceData, defaultData);\n            }\n            else {\n                return defaultData;\n            }\n        };\n    }\n}\nstrats.data = function (parentVal, childVal, vm) {\n    if (!vm) {\n        if (childVal && typeof childVal !== 'function') {\n            process.env.NODE_ENV !== 'production' &&\n                warn('The \"data\" option should be a function ' +\n                    'that returns a per-instance value in component ' +\n                    'definitions.', vm);\n            return parentVal;\n        }\n        return mergeDataOrFn(parentVal, childVal);\n    }\n    return mergeDataOrFn(parentVal, childVal, vm);\n};\n/**\n * Hooks and props are merged as arrays.\n */\nfunction mergeLifecycleHook(parentVal, childVal) {\n    var res = childVal\n        ? parentVal\n            ? parentVal.concat(childVal)\n            : isArray(childVal)\n                ? childVal\n                : [childVal]\n        : parentVal;\n    return res ? dedupeHooks(res) : res;\n}\nfunction dedupeHooks(hooks) {\n    var res = [];\n    for (var i = 0; i < hooks.length; i++) {\n        if (res.indexOf(hooks[i]) === -1) {\n            res.push(hooks[i]);\n        }\n    }\n    return res;\n}\nLIFECYCLE_HOOKS.forEach(function (hook) {\n    strats[hook] = mergeLifecycleHook;\n});\n/**\n * Assets\n *\n * When a vm is present (instance creation), we need to do\n * a three-way merge between constructor options, instance\n * options and parent options.\n */\nfunction mergeAssets(parentVal, childVal, vm, key) {\n    var res = Object.create(parentVal || null);\n    if (childVal) {\n        process.env.NODE_ENV !== 'production' && assertObjectType(key, childVal, vm);\n        return extend(res, childVal);\n    }\n    else {\n        return res;\n    }\n}\nASSET_TYPES.forEach(function (type) {\n    strats[type + 's'] = mergeAssets;\n});\n/**\n * Watchers.\n *\n * Watchers hashes should not overwrite one\n * another, so we merge them as arrays.\n */\nstrats.watch = function (parentVal, childVal, vm, key) {\n    // work around Firefox's Object.prototype.watch...\n    //@ts-expect-error work around\n    if (parentVal === nativeWatch)\n        parentVal = undefined;\n    //@ts-expect-error work around\n    if (childVal === nativeWatch)\n        childVal = undefined;\n    /* istanbul ignore if */\n    if (!childVal)\n        return Object.create(parentVal || null);\n    if (process.env.NODE_ENV !== 'production') {\n        assertObjectType(key, childVal, vm);\n    }\n    if (!parentVal)\n        return childVal;\n    var ret = {};\n    extend(ret, parentVal);\n    for (var key_1 in childVal) {\n        var parent_1 = ret[key_1];\n        var child = childVal[key_1];\n        if (parent_1 && !isArray(parent_1)) {\n            parent_1 = [parent_1];\n        }\n        ret[key_1] = parent_1 ? parent_1.concat(child) : isArray(child) ? child : [child];\n    }\n    return ret;\n};\n/**\n * Other object hashes.\n */\nstrats.props =\n    strats.methods =\n        strats.inject =\n            strats.computed =\n                function (parentVal, childVal, vm, key) {\n                    if (childVal && process.env.NODE_ENV !== 'production') {\n                        assertObjectType(key, childVal, vm);\n                    }\n                    if (!parentVal)\n                        return childVal;\n                    var ret = Object.create(null);\n                    extend(ret, parentVal);\n                    if (childVal)\n                        extend(ret, childVal);\n                    return ret;\n                };\nstrats.provide = function (parentVal, childVal) {\n    if (!parentVal)\n        return childVal;\n    return function () {\n        var ret = Object.create(null);\n        mergeData(ret, isFunction(parentVal) ? parentVal.call(this) : parentVal);\n        if (childVal) {\n            mergeData(ret, isFunction(childVal) ? childVal.call(this) : childVal, false // non-recursive\n            );\n        }\n        return ret;\n    };\n};\n/**\n * Default strategy.\n */\nvar defaultStrat = function (parentVal, childVal) {\n    return childVal === undefined ? parentVal : childVal;\n};\n/**\n * Validate component names\n */\nfunction checkComponents(options) {\n    for (var key in options.components) {\n        validateComponentName(key);\n    }\n}\nfunction validateComponentName(name) {\n    if (!new RegExp(\"^[a-zA-Z][\\\\-\\\\.0-9_\".concat(unicodeRegExp.source, \"]*$\")).test(name)) {\n        warn('Invalid component name: \"' +\n            name +\n            '\". Component names ' +\n            'should conform to valid custom element name in html5 specification.');\n    }\n    if (isBuiltInTag(name) || config.isReservedTag(name)) {\n        warn('Do not use built-in or reserved HTML elements as component ' +\n            'id: ' +\n            name);\n    }\n}\n/**\n * Ensure all props option syntax are normalized into the\n * Object-based format.\n */\nfunction normalizeProps(options, vm) {\n    var props = options.props;\n    if (!props)\n        return;\n    var res = {};\n    var i, val, name;\n    if (isArray(props)) {\n        i = props.length;\n        while (i--) {\n            val = props[i];\n            if (typeof val === 'string') {\n                name = camelize(val);\n                res[name] = { type: null };\n            }\n            else if (process.env.NODE_ENV !== 'production') {\n                warn('props must be strings when using array syntax.');\n            }\n        }\n    }\n    else if (isPlainObject(props)) {\n        for (var key in props) {\n            val = props[key];\n            name = camelize(key);\n            res[name] = isPlainObject(val) ? val : { type: val };\n        }\n    }\n    else if (process.env.NODE_ENV !== 'production') {\n        warn(\"Invalid value for option \\\"props\\\": expected an Array or an Object, \" +\n            \"but got \".concat(toRawType(props), \".\"), vm);\n    }\n    options.props = res;\n}\n/**\n * Normalize all injections into Object-based format\n */\nfunction normalizeInject(options, vm) {\n    var inject = options.inject;\n    if (!inject)\n        return;\n    var normalized = (options.inject = {});\n    if (isArray(inject)) {\n        for (var i = 0; i < inject.length; i++) {\n            normalized[inject[i]] = { from: inject[i] };\n        }\n    }\n    else if (isPlainObject(inject)) {\n        for (var key in inject) {\n            var val = inject[key];\n            normalized[key] = isPlainObject(val)\n                ? extend({ from: key }, val)\n                : { from: val };\n        }\n    }\n    else if (process.env.NODE_ENV !== 'production') {\n        warn(\"Invalid value for option \\\"inject\\\": expected an Array or an Object, \" +\n            \"but got \".concat(toRawType(inject), \".\"), vm);\n    }\n}\n/**\n * Normalize raw function directives into object format.\n */\nfunction normalizeDirectives$1(options) {\n    var dirs = options.directives;\n    if (dirs) {\n        for (var key in dirs) {\n            var def = dirs[key];\n            if (isFunction(def)) {\n                dirs[key] = { bind: def, update: def };\n            }\n        }\n    }\n}\nfunction assertObjectType(name, value, vm) {\n    if (!isPlainObject(value)) {\n        warn(\"Invalid value for option \\\"\".concat(name, \"\\\": expected an Object, \") +\n            \"but got \".concat(toRawType(value), \".\"), vm);\n    }\n}\n/**\n * Merge two option objects into a new one.\n * Core utility used in both instantiation and inheritance.\n */\nfunction mergeOptions(parent, child, vm) {\n    if (process.env.NODE_ENV !== 'production') {\n        checkComponents(child);\n    }\n    if (isFunction(child)) {\n        // @ts-expect-error\n        child = child.options;\n    }\n    normalizeProps(child, vm);\n    normalizeInject(child, vm);\n    normalizeDirectives$1(child);\n    // Apply extends and mixins on the child options,\n    // but only if it is a raw options object that isn't\n    // the result of another mergeOptions call.\n    // Only merged options has the _base property.\n    if (!child._base) {\n        if (child.extends) {\n            parent = mergeOptions(parent, child.extends, vm);\n        }\n        if (child.mixins) {\n            for (var i = 0, l = child.mixins.length; i < l; i++) {\n                parent = mergeOptions(parent, child.mixins[i], vm);\n            }\n        }\n    }\n    var options = {};\n    var key;\n    for (key in parent) {\n        mergeField(key);\n    }\n    for (key in child) {\n        if (!hasOwn(parent, key)) {\n            mergeField(key);\n        }\n    }\n    function mergeField(key) {\n        var strat = strats[key] || defaultStrat;\n        options[key] = strat(parent[key], child[key], vm, key);\n    }\n    return options;\n}\n/**\n * Resolve an asset.\n * This function is used because child instances need access\n * to assets defined in its ancestor chain.\n */\nfunction resolveAsset(options, type, id, warnMissing) {\n    /* istanbul ignore if */\n    if (typeof id !== 'string') {\n        return;\n    }\n    var assets = options[type];\n    // check local registration variations first\n    if (hasOwn(assets, id))\n        return assets[id];\n    var camelizedId = camelize(id);\n    if (hasOwn(assets, camelizedId))\n        return assets[camelizedId];\n    var PascalCaseId = capitalize(camelizedId);\n    if (hasOwn(assets, PascalCaseId))\n        return assets[PascalCaseId];\n    // fallback to prototype chain\n    var res = assets[id] || assets[camelizedId] || assets[PascalCaseId];\n    if (process.env.NODE_ENV !== 'production' && warnMissing && !res) {\n        warn('Failed to resolve ' + type.slice(0, -1) + ': ' + id);\n    }\n    return res;\n}\n\nfunction validateProp(key, propOptions, propsData, vm) {\n    var prop = propOptions[key];\n    var absent = !hasOwn(propsData, key);\n    var value = propsData[key];\n    // boolean casting\n    var booleanIndex = getTypeIndex(Boolean, prop.type);\n    if (booleanIndex > -1) {\n        if (absent && !hasOwn(prop, 'default')) {\n            value = false;\n        }\n        else if (value === '' || value === hyphenate(key)) {\n            // only cast empty string / same name to boolean if\n            // boolean has higher priority\n            var stringIndex = getTypeIndex(String, prop.type);\n            if (stringIndex < 0 || booleanIndex < stringIndex) {\n                value = true;\n            }\n        }\n    }\n    // check default value\n    if (value === undefined) {\n        value = getPropDefaultValue(vm, prop, key);\n        // since the default value is a fresh copy,\n        // make sure to observe it.\n        var prevShouldObserve = shouldObserve;\n        toggleObserving(true);\n        observe(value);\n        toggleObserving(prevShouldObserve);\n    }\n    if (process.env.NODE_ENV !== 'production') {\n        assertProp(prop, key, value, vm, absent);\n    }\n    return value;\n}\n/**\n * Get the default value of a prop.\n */\nfunction getPropDefaultValue(vm, prop, key) {\n    // no default, return undefined\n    if (!hasOwn(prop, 'default')) {\n        return undefined;\n    }\n    var def = prop.default;\n    // warn against non-factory defaults for Object & Array\n    if (process.env.NODE_ENV !== 'production' && isObject(def)) {\n        warn('Invalid default value for prop \"' +\n            key +\n            '\": ' +\n            'Props with type Object/Array must use a factory function ' +\n            'to return the default value.', vm);\n    }\n    // the raw prop value was also undefined from previous render,\n    // return previous default value to avoid unnecessary watcher trigger\n    if (vm &&\n        vm.$options.propsData &&\n        vm.$options.propsData[key] === undefined &&\n        vm._props[key] !== undefined) {\n        return vm._props[key];\n    }\n    // call factory function for non-Function types\n    // a value is Function if its prototype is function even across different execution context\n    return isFunction(def) && getType(prop.type) !== 'Function'\n        ? def.call(vm)\n        : def;\n}\n/**\n * Assert whether a prop is valid.\n */\nfunction assertProp(prop, name, value, vm, absent) {\n    if (prop.required && absent) {\n        warn('Missing required prop: \"' + name + '\"', vm);\n        return;\n    }\n    if (value == null && !prop.required) {\n        return;\n    }\n    var type = prop.type;\n    var valid = !type || type === true;\n    var expectedTypes = [];\n    if (type) {\n        if (!isArray(type)) {\n            type = [type];\n        }\n        for (var i = 0; i < type.length && !valid; i++) {\n            var assertedType = assertType(value, type[i], vm);\n            expectedTypes.push(assertedType.expectedType || '');\n            valid = assertedType.valid;\n        }\n    }\n    var haveExpectedTypes = expectedTypes.some(function (t) { return t; });\n    if (!valid && haveExpectedTypes) {\n        warn(getInvalidTypeMessage(name, value, expectedTypes), vm);\n        return;\n    }\n    var validator = prop.validator;\n    if (validator) {\n        if (!validator(value)) {\n            warn('Invalid prop: custom validator check failed for prop \"' + name + '\".', vm);\n        }\n    }\n}\nvar simpleCheckRE = /^(String|Number|Boolean|Function|Symbol|BigInt)$/;\nfunction assertType(value, type, vm) {\n    var valid;\n    var expectedType = getType(type);\n    if (simpleCheckRE.test(expectedType)) {\n        var t = typeof value;\n        valid = t === expectedType.toLowerCase();\n        // for primitive wrapper objects\n        if (!valid && t === 'object') {\n            valid = value instanceof type;\n        }\n    }\n    else if (expectedType === 'Object') {\n        valid = isPlainObject(value);\n    }\n    else if (expectedType === 'Array') {\n        valid = isArray(value);\n    }\n    else {\n        try {\n            valid = value instanceof type;\n        }\n        catch (e) {\n            warn('Invalid prop type: \"' + String(type) + '\" is not a constructor', vm);\n            valid = false;\n        }\n    }\n    return {\n        valid: valid,\n        expectedType: expectedType\n    };\n}\nvar functionTypeCheckRE = /^\\s*function (\\w+)/;\n/**\n * Use function string name to check built-in types,\n * because a simple equality check will fail when running\n * across different vms / iframes.\n */\nfunction getType(fn) {\n    var match = fn && fn.toString().match(functionTypeCheckRE);\n    return match ? match[1] : '';\n}\nfunction isSameType(a, b) {\n    return getType(a) === getType(b);\n}\nfunction getTypeIndex(type, expectedTypes) {\n    if (!isArray(expectedTypes)) {\n        return isSameType(expectedTypes, type) ? 0 : -1;\n    }\n    for (var i = 0, len = expectedTypes.length; i < len; i++) {\n        if (isSameType(expectedTypes[i], type)) {\n            return i;\n        }\n    }\n    return -1;\n}\nfunction getInvalidTypeMessage(name, value, expectedTypes) {\n    var message = \"Invalid prop: type check failed for prop \\\"\".concat(name, \"\\\".\") +\n        \" Expected \".concat(expectedTypes.map(capitalize).join(', '));\n    var expectedType = expectedTypes[0];\n    var receivedType = toRawType(value);\n    // check if we need to specify expected value\n    if (expectedTypes.length === 1 &&\n        isExplicable(expectedType) &&\n        isExplicable(typeof value) &&\n        !isBoolean(expectedType, receivedType)) {\n        message += \" with value \".concat(styleValue(value, expectedType));\n    }\n    message += \", got \".concat(receivedType, \" \");\n    // check if we need to specify received value\n    if (isExplicable(receivedType)) {\n        message += \"with value \".concat(styleValue(value, receivedType), \".\");\n    }\n    return message;\n}\nfunction styleValue(value, type) {\n    if (type === 'String') {\n        return \"\\\"\".concat(value, \"\\\"\");\n    }\n    else if (type === 'Number') {\n        return \"\".concat(Number(value));\n    }\n    else {\n        return \"\".concat(value);\n    }\n}\nvar EXPLICABLE_TYPES = ['string', 'number', 'boolean'];\nfunction isExplicable(value) {\n    return EXPLICABLE_TYPES.some(function (elem) { return value.toLowerCase() === elem; });\n}\nfunction isBoolean() {\n    var args = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n    }\n    return args.some(function (elem) { return elem.toLowerCase() === 'boolean'; });\n}\n\n/* not type checking this file because flow doesn't play well with Proxy */\nvar initProxy;\nif (process.env.NODE_ENV !== 'production') {\n    var allowedGlobals_1 = makeMap('Infinity,undefined,NaN,isFinite,isNaN,' +\n        'parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,' +\n        'Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,' +\n        'require' // for Webpack/Browserify\n    );\n    var warnNonPresent_1 = function (target, key) {\n        warn(\"Property or method \\\"\".concat(key, \"\\\" is not defined on the instance but \") +\n            'referenced during render. Make sure that this property is reactive, ' +\n            'either in the data option, or for class-based components, by ' +\n            'initializing the property. ' +\n            'See: https://v2.vuejs.org/v2/guide/reactivity.html#Declaring-Reactive-Properties.', target);\n    };\n    var warnReservedPrefix_1 = function (target, key) {\n        warn(\"Property \\\"\".concat(key, \"\\\" must be accessed with \\\"$data.\").concat(key, \"\\\" because \") +\n            'properties starting with \"$\" or \"_\" are not proxied in the Vue instance to ' +\n            'prevent conflicts with Vue internals. ' +\n            'See: https://v2.vuejs.org/v2/api/#data', target);\n    };\n    var hasProxy_1 = typeof Proxy !== 'undefined' && isNative(Proxy);\n    if (hasProxy_1) {\n        var isBuiltInModifier_1 = makeMap('stop,prevent,self,ctrl,shift,alt,meta,exact');\n        config.keyCodes = new Proxy(config.keyCodes, {\n            set: function (target, key, value) {\n                if (isBuiltInModifier_1(key)) {\n                    warn(\"Avoid overwriting built-in modifier in config.keyCodes: .\".concat(key));\n                    return false;\n                }\n                else {\n                    target[key] = value;\n                    return true;\n                }\n            }\n        });\n    }\n    var hasHandler_1 = {\n        has: function (target, key) {\n            var has = key in target;\n            var isAllowed = allowedGlobals_1(key) ||\n                (typeof key === 'string' &&\n                    key.charAt(0) === '_' &&\n                    !(key in target.$data));\n            if (!has && !isAllowed) {\n                if (key in target.$data)\n                    warnReservedPrefix_1(target, key);\n                else\n                    warnNonPresent_1(target, key);\n            }\n            return has || !isAllowed;\n        }\n    };\n    var getHandler_1 = {\n        get: function (target, key) {\n            if (typeof key === 'string' && !(key in target)) {\n                if (key in target.$data)\n                    warnReservedPrefix_1(target, key);\n                else\n                    warnNonPresent_1(target, key);\n            }\n            return target[key];\n        }\n    };\n    initProxy = function initProxy(vm) {\n        if (hasProxy_1) {\n            // determine which proxy handler to use\n            var options = vm.$options;\n            var handlers = options.render && options.render._withStripped ? getHandler_1 : hasHandler_1;\n            vm._renderProxy = new Proxy(vm, handlers);\n        }\n        else {\n            vm._renderProxy = vm;\n        }\n    };\n}\n\nvar sharedPropertyDefinition = {\n    enumerable: true,\n    configurable: true,\n    get: noop,\n    set: noop\n};\nfunction proxy(target, sourceKey, key) {\n    sharedPropertyDefinition.get = function proxyGetter() {\n        return this[sourceKey][key];\n    };\n    sharedPropertyDefinition.set = function proxySetter(val) {\n        this[sourceKey][key] = val;\n    };\n    Object.defineProperty(target, key, sharedPropertyDefinition);\n}\nfunction initState(vm) {\n    var opts = vm.$options;\n    if (opts.props)\n        initProps$1(vm, opts.props);\n    // Composition API\n    initSetup(vm);\n    if (opts.methods)\n        initMethods(vm, opts.methods);\n    if (opts.data) {\n        initData(vm);\n    }\n    else {\n        var ob = observe((vm._data = {}));\n        ob && ob.vmCount++;\n    }\n    if (opts.computed)\n        initComputed$1(vm, opts.computed);\n    if (opts.watch && opts.watch !== nativeWatch) {\n        initWatch(vm, opts.watch);\n    }\n}\nfunction initProps$1(vm, propsOptions) {\n    var propsData = vm.$options.propsData || {};\n    var props = (vm._props = shallowReactive({}));\n    // cache prop keys so that future props updates can iterate using Array\n    // instead of dynamic object key enumeration.\n    var keys = (vm.$options._propKeys = []);\n    var isRoot = !vm.$parent;\n    // root instance props should be converted\n    if (!isRoot) {\n        toggleObserving(false);\n    }\n    var _loop_1 = function (key) {\n        keys.push(key);\n        var value = validateProp(key, propsOptions, propsData, vm);\n        /* istanbul ignore else */\n        if (process.env.NODE_ENV !== 'production') {\n            var hyphenatedKey = hyphenate(key);\n            if (isReservedAttribute(hyphenatedKey) ||\n                config.isReservedAttr(hyphenatedKey)) {\n                warn(\"\\\"\".concat(hyphenatedKey, \"\\\" is a reserved attribute and cannot be used as component prop.\"), vm);\n            }\n            defineReactive(props, key, value, function () {\n                if (!isRoot && !isUpdatingChildComponent) {\n                    warn(\"Avoid mutating a prop directly since the value will be \" +\n                        \"overwritten whenever the parent component re-renders. \" +\n                        \"Instead, use a data or computed property based on the prop's \" +\n                        \"value. Prop being mutated: \\\"\".concat(key, \"\\\"\"), vm);\n                }\n            }, true /* shallow */);\n        }\n        else {\n            defineReactive(props, key, value, undefined, true /* shallow */);\n        }\n        // static props are already proxied on the component's prototype\n        // during Vue.extend(). We only need to proxy props defined at\n        // instantiation here.\n        if (!(key in vm)) {\n            proxy(vm, \"_props\", key);\n        }\n    };\n    for (var key in propsOptions) {\n        _loop_1(key);\n    }\n    toggleObserving(true);\n}\nfunction initData(vm) {\n    var data = vm.$options.data;\n    data = vm._data = isFunction(data) ? getData(data, vm) : data || {};\n    if (!isPlainObject(data)) {\n        data = {};\n        process.env.NODE_ENV !== 'production' &&\n            warn('data functions should return an object:\\n' +\n                'https://v2.vuejs.org/v2/guide/components.html#data-Must-Be-a-Function', vm);\n    }\n    // proxy data on instance\n    var keys = Object.keys(data);\n    var props = vm.$options.props;\n    var methods = vm.$options.methods;\n    var i = keys.length;\n    while (i--) {\n        var key = keys[i];\n        if (process.env.NODE_ENV !== 'production') {\n            if (methods && hasOwn(methods, key)) {\n                warn(\"Method \\\"\".concat(key, \"\\\" has already been defined as a data property.\"), vm);\n            }\n        }\n        if (props && hasOwn(props, key)) {\n            process.env.NODE_ENV !== 'production' &&\n                warn(\"The data property \\\"\".concat(key, \"\\\" is already declared as a prop. \") +\n                    \"Use prop default value instead.\", vm);\n        }\n        else if (!isReserved(key)) {\n            proxy(vm, \"_data\", key);\n        }\n    }\n    // observe data\n    var ob = observe(data);\n    ob && ob.vmCount++;\n}\nfunction getData(data, vm) {\n    // #7573 disable dep collection when invoking data getters\n    pushTarget();\n    try {\n        return data.call(vm, vm);\n    }\n    catch (e) {\n        handleError(e, vm, \"data()\");\n        return {};\n    }\n    finally {\n        popTarget();\n    }\n}\nvar computedWatcherOptions = { lazy: true };\nfunction initComputed$1(vm, computed) {\n    // $flow-disable-line\n    var watchers = (vm._computedWatchers = Object.create(null));\n    // computed properties are just getters during SSR\n    var isSSR = isServerRendering();\n    for (var key in computed) {\n        var userDef = computed[key];\n        var getter = isFunction(userDef) ? userDef : userDef.get;\n        if (process.env.NODE_ENV !== 'production' && getter == null) {\n            warn(\"Getter is missing for computed property \\\"\".concat(key, \"\\\".\"), vm);\n        }\n        if (!isSSR) {\n            // create internal watcher for the computed property.\n            watchers[key] = new Watcher(vm, getter || noop, noop, computedWatcherOptions);\n        }\n        // component-defined computed properties are already defined on the\n        // component prototype. We only need to define computed properties defined\n        // at instantiation here.\n        if (!(key in vm)) {\n            defineComputed(vm, key, userDef);\n        }\n        else if (process.env.NODE_ENV !== 'production') {\n            if (key in vm.$data) {\n                warn(\"The computed property \\\"\".concat(key, \"\\\" is already defined in data.\"), vm);\n            }\n            else if (vm.$options.props && key in vm.$options.props) {\n                warn(\"The computed property \\\"\".concat(key, \"\\\" is already defined as a prop.\"), vm);\n            }\n            else if (vm.$options.methods && key in vm.$options.methods) {\n                warn(\"The computed property \\\"\".concat(key, \"\\\" is already defined as a method.\"), vm);\n            }\n        }\n    }\n}\nfunction defineComputed(target, key, userDef) {\n    var shouldCache = !isServerRendering();\n    if (isFunction(userDef)) {\n        sharedPropertyDefinition.get = shouldCache\n            ? createComputedGetter(key)\n            : createGetterInvoker(userDef);\n        sharedPropertyDefinition.set = noop;\n    }\n    else {\n        sharedPropertyDefinition.get = userDef.get\n            ? shouldCache && userDef.cache !== false\n                ? createComputedGetter(key)\n                : createGetterInvoker(userDef.get)\n            : noop;\n        sharedPropertyDefinition.set = userDef.set || noop;\n    }\n    if (process.env.NODE_ENV !== 'production' && sharedPropertyDefinition.set === noop) {\n        sharedPropertyDefinition.set = function () {\n            warn(\"Computed property \\\"\".concat(key, \"\\\" was assigned to but it has no setter.\"), this);\n        };\n    }\n    Object.defineProperty(target, key, sharedPropertyDefinition);\n}\nfunction createComputedGetter(key) {\n    return function computedGetter() {\n        var watcher = this._computedWatchers && this._computedWatchers[key];\n        if (watcher) {\n            if (watcher.dirty) {\n                watcher.evaluate();\n            }\n            if (Dep.target) {\n                if (process.env.NODE_ENV !== 'production' && Dep.target.onTrack) {\n                    Dep.target.onTrack({\n                        effect: Dep.target,\n                        target: this,\n                        type: \"get\" /* TrackOpTypes.GET */,\n                        key: key\n                    });\n                }\n                watcher.depend();\n            }\n            return watcher.value;\n        }\n    };\n}\nfunction createGetterInvoker(fn) {\n    return function computedGetter() {\n        return fn.call(this, this);\n    };\n}\nfunction initMethods(vm, methods) {\n    var props = vm.$options.props;\n    for (var key in methods) {\n        if (process.env.NODE_ENV !== 'production') {\n            if (typeof methods[key] !== 'function') {\n                warn(\"Method \\\"\".concat(key, \"\\\" has type \\\"\").concat(typeof methods[key], \"\\\" in the component definition. \") +\n                    \"Did you reference the function correctly?\", vm);\n            }\n            if (props && hasOwn(props, key)) {\n                warn(\"Method \\\"\".concat(key, \"\\\" has already been defined as a prop.\"), vm);\n            }\n            if (key in vm && isReserved(key)) {\n                warn(\"Method \\\"\".concat(key, \"\\\" conflicts with an existing Vue instance method. \") +\n                    \"Avoid defining component methods that start with _ or $.\");\n            }\n        }\n        vm[key] = typeof methods[key] !== 'function' ? noop : bind(methods[key], vm);\n    }\n}\nfunction initWatch(vm, watch) {\n    for (var key in watch) {\n        var handler = watch[key];\n        if (isArray(handler)) {\n            for (var i = 0; i < handler.length; i++) {\n                createWatcher(vm, key, handler[i]);\n            }\n        }\n        else {\n            createWatcher(vm, key, handler);\n        }\n    }\n}\nfunction createWatcher(vm, expOrFn, handler, options) {\n    if (isPlainObject(handler)) {\n        options = handler;\n        handler = handler.handler;\n    }\n    if (typeof handler === 'string') {\n        handler = vm[handler];\n    }\n    return vm.$watch(expOrFn, handler, options);\n}\nfunction stateMixin(Vue) {\n    // flow somehow has problems with directly declared definition object\n    // when using Object.defineProperty, so we have to procedurally build up\n    // the object here.\n    var dataDef = {};\n    dataDef.get = function () {\n        return this._data;\n    };\n    var propsDef = {};\n    propsDef.get = function () {\n        return this._props;\n    };\n    if (process.env.NODE_ENV !== 'production') {\n        dataDef.set = function () {\n            warn('Avoid replacing instance root $data. ' +\n                'Use nested data properties instead.', this);\n        };\n        propsDef.set = function () {\n            warn(\"$props is readonly.\", this);\n        };\n    }\n    Object.defineProperty(Vue.prototype, '$data', dataDef);\n    Object.defineProperty(Vue.prototype, '$props', propsDef);\n    Vue.prototype.$set = set;\n    Vue.prototype.$delete = del;\n    Vue.prototype.$watch = function (expOrFn, cb, options) {\n        var vm = this;\n        if (isPlainObject(cb)) {\n            return createWatcher(vm, expOrFn, cb, options);\n        }\n        options = options || {};\n        options.user = true;\n        var watcher = new Watcher(vm, expOrFn, cb, options);\n        if (options.immediate) {\n            var info = \"callback for immediate watcher \\\"\".concat(watcher.expression, \"\\\"\");\n            pushTarget();\n            invokeWithErrorHandling(cb, vm, [watcher.value], vm, info);\n            popTarget();\n        }\n        return function unwatchFn() {\n            watcher.teardown();\n        };\n    };\n}\n\nvar uid = 0;\nfunction initMixin$1(Vue) {\n    Vue.prototype._init = function (options) {\n        var vm = this;\n        // a uid\n        vm._uid = uid++;\n        var startTag, endTag;\n        /* istanbul ignore if */\n        if (process.env.NODE_ENV !== 'production' && config.performance && mark) {\n            startTag = \"vue-perf-start:\".concat(vm._uid);\n            endTag = \"vue-perf-end:\".concat(vm._uid);\n            mark(startTag);\n        }\n        // a flag to mark this as a Vue instance without having to do instanceof\n        // check\n        vm._isVue = true;\n        // avoid instances from being observed\n        vm.__v_skip = true;\n        // effect scope\n        vm._scope = new EffectScope(true /* detached */);\n        // #13134 edge case where a child component is manually created during the\n        // render of a parent component\n        vm._scope.parent = undefined;\n        vm._scope._vm = true;\n        // merge options\n        if (options && options._isComponent) {\n            // optimize internal component instantiation\n            // since dynamic options merging is pretty slow, and none of the\n            // internal component options needs special treatment.\n            initInternalComponent(vm, options);\n        }\n        else {\n            vm.$options = mergeOptions(resolveConstructorOptions(vm.constructor), options || {}, vm);\n        }\n        /* istanbul ignore else */\n        if (process.env.NODE_ENV !== 'production') {\n            initProxy(vm);\n        }\n        else {\n            vm._renderProxy = vm;\n        }\n        // expose real self\n        vm._self = vm;\n        initLifecycle(vm);\n        initEvents(vm);\n        initRender(vm);\n        callHook$1(vm, 'beforeCreate', undefined, false /* setContext */);\n        initInjections(vm); // resolve injections before data/props\n        initState(vm);\n        initProvide(vm); // resolve provide after data/props\n        callHook$1(vm, 'created');\n        /* istanbul ignore if */\n        if (process.env.NODE_ENV !== 'production' && config.performance && mark) {\n            vm._name = formatComponentName(vm, false);\n            mark(endTag);\n            measure(\"vue \".concat(vm._name, \" init\"), startTag, endTag);\n        }\n        if (vm.$options.el) {\n            vm.$mount(vm.$options.el);\n        }\n    };\n}\nfunction initInternalComponent(vm, options) {\n    var opts = (vm.$options = Object.create(vm.constructor.options));\n    // doing this because it's faster than dynamic enumeration.\n    var parentVnode = options._parentVnode;\n    opts.parent = options.parent;\n    opts._parentVnode = parentVnode;\n    var vnodeComponentOptions = parentVnode.componentOptions;\n    opts.propsData = vnodeComponentOptions.propsData;\n    opts._parentListeners = vnodeComponentOptions.listeners;\n    opts._renderChildren = vnodeComponentOptions.children;\n    opts._componentTag = vnodeComponentOptions.tag;\n    if (options.render) {\n        opts.render = options.render;\n        opts.staticRenderFns = options.staticRenderFns;\n    }\n}\nfunction resolveConstructorOptions(Ctor) {\n    var options = Ctor.options;\n    if (Ctor.super) {\n        var superOptions = resolveConstructorOptions(Ctor.super);\n        var cachedSuperOptions = Ctor.superOptions;\n        if (superOptions !== cachedSuperOptions) {\n            // super option changed,\n            // need to resolve new options.\n            Ctor.superOptions = superOptions;\n            // check if there are any late-modified/attached options (#4976)\n            var modifiedOptions = resolveModifiedOptions(Ctor);\n            // update base extend options\n            if (modifiedOptions) {\n                extend(Ctor.extendOptions, modifiedOptions);\n            }\n            options = Ctor.options = mergeOptions(superOptions, Ctor.extendOptions);\n            if (options.name) {\n                options.components[options.name] = Ctor;\n            }\n        }\n    }\n    return options;\n}\nfunction resolveModifiedOptions(Ctor) {\n    var modified;\n    var latest = Ctor.options;\n    var sealed = Ctor.sealedOptions;\n    for (var key in latest) {\n        if (latest[key] !== sealed[key]) {\n            if (!modified)\n                modified = {};\n            modified[key] = latest[key];\n        }\n    }\n    return modified;\n}\n\nfunction Vue(options) {\n    if (process.env.NODE_ENV !== 'production' && !(this instanceof Vue)) {\n        warn('Vue is a constructor and should be called with the `new` keyword');\n    }\n    this._init(options);\n}\n//@ts-expect-error Vue has function type\ninitMixin$1(Vue);\n//@ts-expect-error Vue has function type\nstateMixin(Vue);\n//@ts-expect-error Vue has function type\neventsMixin(Vue);\n//@ts-expect-error Vue has function type\nlifecycleMixin(Vue);\n//@ts-expect-error Vue has function type\nrenderMixin(Vue);\n\nfunction initUse(Vue) {\n    Vue.use = function (plugin) {\n        var installedPlugins = this._installedPlugins || (this._installedPlugins = []);\n        if (installedPlugins.indexOf(plugin) > -1) {\n            return this;\n        }\n        // additional parameters\n        var args = toArray(arguments, 1);\n        args.unshift(this);\n        if (isFunction(plugin.install)) {\n            plugin.install.apply(plugin, args);\n        }\n        else if (isFunction(plugin)) {\n            plugin.apply(null, args);\n        }\n        installedPlugins.push(plugin);\n        return this;\n    };\n}\n\nfunction initMixin(Vue) {\n    Vue.mixin = function (mixin) {\n        this.options = mergeOptions(this.options, mixin);\n        return this;\n    };\n}\n\nfunction initExtend(Vue) {\n    /**\n     * Each instance constructor, including Vue, has a unique\n     * cid. This enables us to create wrapped \"child\n     * constructors\" for prototypal inheritance and cache them.\n     */\n    Vue.cid = 0;\n    var cid = 1;\n    /**\n     * Class inheritance\n     */\n    Vue.extend = function (extendOptions) {\n        extendOptions = extendOptions || {};\n        var Super = this;\n        var SuperId = Super.cid;\n        var cachedCtors = extendOptions._Ctor || (extendOptions._Ctor = {});\n        if (cachedCtors[SuperId]) {\n            return cachedCtors[SuperId];\n        }\n        var name = getComponentName(extendOptions) || getComponentName(Super.options);\n        if (process.env.NODE_ENV !== 'production' && name) {\n            validateComponentName(name);\n        }\n        var Sub = function VueComponent(options) {\n            this._init(options);\n        };\n        Sub.prototype = Object.create(Super.prototype);\n        Sub.prototype.constructor = Sub;\n        Sub.cid = cid++;\n        Sub.options = mergeOptions(Super.options, extendOptions);\n        Sub['super'] = Super;\n        // For props and computed properties, we define the proxy getters on\n        // the Vue instances at extension time, on the extended prototype. This\n        // avoids Object.defineProperty calls for each instance created.\n        if (Sub.options.props) {\n            initProps(Sub);\n        }\n        if (Sub.options.computed) {\n            initComputed(Sub);\n        }\n        // allow further extension/mixin/plugin usage\n        Sub.extend = Super.extend;\n        Sub.mixin = Super.mixin;\n        Sub.use = Super.use;\n        // create asset registers, so extended classes\n        // can have their private assets too.\n        ASSET_TYPES.forEach(function (type) {\n            Sub[type] = Super[type];\n        });\n        // enable recursive self-lookup\n        if (name) {\n            Sub.options.components[name] = Sub;\n        }\n        // keep a reference to the super options at extension time.\n        // later at instantiation we can check if Super's options have\n        // been updated.\n        Sub.superOptions = Super.options;\n        Sub.extendOptions = extendOptions;\n        Sub.sealedOptions = extend({}, Sub.options);\n        // cache constructor\n        cachedCtors[SuperId] = Sub;\n        return Sub;\n    };\n}\nfunction initProps(Comp) {\n    var props = Comp.options.props;\n    for (var key in props) {\n        proxy(Comp.prototype, \"_props\", key);\n    }\n}\nfunction initComputed(Comp) {\n    var computed = Comp.options.computed;\n    for (var key in computed) {\n        defineComputed(Comp.prototype, key, computed[key]);\n    }\n}\n\nfunction initAssetRegisters(Vue) {\n    /**\n     * Create asset registration methods.\n     */\n    ASSET_TYPES.forEach(function (type) {\n        // @ts-expect-error function is not exact same type\n        Vue[type] = function (id, definition) {\n            if (!definition) {\n                return this.options[type + 's'][id];\n            }\n            else {\n                /* istanbul ignore if */\n                if (process.env.NODE_ENV !== 'production' && type === 'component') {\n                    validateComponentName(id);\n                }\n                if (type === 'component' && isPlainObject(definition)) {\n                    // @ts-expect-error\n                    definition.name = definition.name || id;\n                    definition = this.options._base.extend(definition);\n                }\n                if (type === 'directive' && isFunction(definition)) {\n                    definition = { bind: definition, update: definition };\n                }\n                this.options[type + 's'][id] = definition;\n                return definition;\n            }\n        };\n    });\n}\n\nfunction _getComponentName(opts) {\n    return opts && (getComponentName(opts.Ctor.options) || opts.tag);\n}\nfunction matches(pattern, name) {\n    if (isArray(pattern)) {\n        return pattern.indexOf(name) > -1;\n    }\n    else if (typeof pattern === 'string') {\n        return pattern.split(',').indexOf(name) > -1;\n    }\n    else if (isRegExp(pattern)) {\n        return pattern.test(name);\n    }\n    /* istanbul ignore next */\n    return false;\n}\nfunction pruneCache(keepAliveInstance, filter) {\n    var cache = keepAliveInstance.cache, keys = keepAliveInstance.keys, _vnode = keepAliveInstance._vnode, $vnode = keepAliveInstance.$vnode;\n    for (var key in cache) {\n        var entry = cache[key];\n        if (entry) {\n            var name_1 = entry.name;\n            if (name_1 && !filter(name_1)) {\n                pruneCacheEntry(cache, key, keys, _vnode);\n            }\n        }\n    }\n    $vnode.componentOptions.children = undefined;\n}\nfunction pruneCacheEntry(cache, key, keys, current) {\n    var entry = cache[key];\n    if (entry && (!current || entry.tag !== current.tag)) {\n        // @ts-expect-error can be undefined\n        entry.componentInstance.$destroy();\n    }\n    cache[key] = null;\n    remove$2(keys, key);\n}\nvar patternTypes = [String, RegExp, Array];\n// TODO defineComponent\nvar KeepAlive = {\n    name: 'keep-alive',\n    abstract: true,\n    props: {\n        include: patternTypes,\n        exclude: patternTypes,\n        max: [String, Number]\n    },\n    methods: {\n        cacheVNode: function () {\n            var _a = this, cache = _a.cache, keys = _a.keys, vnodeToCache = _a.vnodeToCache, keyToCache = _a.keyToCache;\n            if (vnodeToCache) {\n                var tag = vnodeToCache.tag, componentInstance = vnodeToCache.componentInstance, componentOptions = vnodeToCache.componentOptions;\n                cache[keyToCache] = {\n                    name: _getComponentName(componentOptions),\n                    tag: tag,\n                    componentInstance: componentInstance\n                };\n                keys.push(keyToCache);\n                // prune oldest entry\n                if (this.max && keys.length > parseInt(this.max)) {\n                    pruneCacheEntry(cache, keys[0], keys, this._vnode);\n                }\n                this.vnodeToCache = null;\n            }\n        }\n    },\n    created: function () {\n        this.cache = Object.create(null);\n        this.keys = [];\n    },\n    destroyed: function () {\n        for (var key in this.cache) {\n            pruneCacheEntry(this.cache, key, this.keys);\n        }\n    },\n    mounted: function () {\n        var _this = this;\n        this.cacheVNode();\n        this.$watch('include', function (val) {\n            pruneCache(_this, function (name) { return matches(val, name); });\n        });\n        this.$watch('exclude', function (val) {\n            pruneCache(_this, function (name) { return !matches(val, name); });\n        });\n    },\n    updated: function () {\n        this.cacheVNode();\n    },\n    render: function () {\n        var slot = this.$slots.default;\n        var vnode = getFirstComponentChild(slot);\n        var componentOptions = vnode && vnode.componentOptions;\n        if (componentOptions) {\n            // check pattern\n            var name_2 = _getComponentName(componentOptions);\n            var _a = this, include = _a.include, exclude = _a.exclude;\n            if (\n            // not included\n            (include && (!name_2 || !matches(include, name_2))) ||\n                // excluded\n                (exclude && name_2 && matches(exclude, name_2))) {\n                return vnode;\n            }\n            var _b = this, cache = _b.cache, keys = _b.keys;\n            var key = vnode.key == null\n                ? // same constructor may get registered as different local components\n                    // so cid alone is not enough (#3269)\n                    componentOptions.Ctor.cid +\n                        (componentOptions.tag ? \"::\".concat(componentOptions.tag) : '')\n                : vnode.key;\n            if (cache[key]) {\n                vnode.componentInstance = cache[key].componentInstance;\n                // make current key freshest\n                remove$2(keys, key);\n                keys.push(key);\n            }\n            else {\n                // delay setting the cache until update\n                this.vnodeToCache = vnode;\n                this.keyToCache = key;\n            }\n            // @ts-expect-error can vnode.data can be undefined\n            vnode.data.keepAlive = true;\n        }\n        return vnode || (slot && slot[0]);\n    }\n};\n\nvar builtInComponents = {\n    KeepAlive: KeepAlive\n};\n\nfunction initGlobalAPI(Vue) {\n    // config\n    var configDef = {};\n    configDef.get = function () { return config; };\n    if (process.env.NODE_ENV !== 'production') {\n        configDef.set = function () {\n            warn('Do not replace the Vue.config object, set individual fields instead.');\n        };\n    }\n    Object.defineProperty(Vue, 'config', configDef);\n    // exposed util methods.\n    // NOTE: these are not considered part of the public API - avoid relying on\n    // them unless you are aware of the risk.\n    Vue.util = {\n        warn: warn,\n        extend: extend,\n        mergeOptions: mergeOptions,\n        defineReactive: defineReactive\n    };\n    Vue.set = set;\n    Vue.delete = del;\n    Vue.nextTick = nextTick;\n    // 2.6 explicit observable API\n    Vue.observable = function (obj) {\n        observe(obj);\n        return obj;\n    };\n    Vue.options = Object.create(null);\n    ASSET_TYPES.forEach(function (type) {\n        Vue.options[type + 's'] = Object.create(null);\n    });\n    // this is used to identify the \"base\" constructor to extend all plain-object\n    // components with in Weex's multi-instance scenarios.\n    Vue.options._base = Vue;\n    extend(Vue.options.components, builtInComponents);\n    initUse(Vue);\n    initMixin(Vue);\n    initExtend(Vue);\n    initAssetRegisters(Vue);\n}\n\ninitGlobalAPI(Vue);\nObject.defineProperty(Vue.prototype, '$isServer', {\n    get: isServerRendering\n});\nObject.defineProperty(Vue.prototype, '$ssrContext', {\n    get: function () {\n        /* istanbul ignore next */\n        return this.$vnode && this.$vnode.ssrContext;\n    }\n});\n// expose FunctionalRenderContext for ssr runtime helper installation\nObject.defineProperty(Vue, 'FunctionalRenderContext', {\n    value: FunctionalRenderContext\n});\nVue.version = version;\n\n// these are reserved for web because they are directly compiled away\n// during template compilation\nvar isReservedAttr = makeMap('style,class');\n// attributes that should be using props for binding\nvar acceptValue = makeMap('input,textarea,option,select,progress');\nvar mustUseProp = function (tag, type, attr) {\n    return ((attr === 'value' && acceptValue(tag) && type !== 'button') ||\n        (attr === 'selected' && tag === 'option') ||\n        (attr === 'checked' && tag === 'input') ||\n        (attr === 'muted' && tag === 'video'));\n};\nvar isEnumeratedAttr = makeMap('contenteditable,draggable,spellcheck');\nvar isValidContentEditableValue = makeMap('events,caret,typing,plaintext-only');\nvar convertEnumeratedValue = function (key, value) {\n    return isFalsyAttrValue(value) || value === 'false'\n        ? 'false'\n        : // allow arbitrary string value for contenteditable\n            key === 'contenteditable' && isValidContentEditableValue(value)\n                ? value\n                : 'true';\n};\nvar isBooleanAttr = makeMap('allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,' +\n    'default,defaultchecked,defaultmuted,defaultselected,defer,disabled,' +\n    'enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,' +\n    'muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,' +\n    'required,reversed,scoped,seamless,selected,sortable,' +\n    'truespeed,typemustmatch,visible');\nvar xlinkNS = 'http://www.w3.org/1999/xlink';\nvar isXlink = function (name) {\n    return name.charAt(5) === ':' && name.slice(0, 5) === 'xlink';\n};\nvar getXlinkProp = function (name) {\n    return isXlink(name) ? name.slice(6, name.length) : '';\n};\nvar isFalsyAttrValue = function (val) {\n    return val == null || val === false;\n};\n\nfunction genClassForVnode(vnode) {\n    var data = vnode.data;\n    var parentNode = vnode;\n    var childNode = vnode;\n    while (isDef(childNode.componentInstance)) {\n        childNode = childNode.componentInstance._vnode;\n        if (childNode && childNode.data) {\n            data = mergeClassData(childNode.data, data);\n        }\n    }\n    // @ts-expect-error parentNode.parent not VNodeWithData\n    while (isDef((parentNode = parentNode.parent))) {\n        if (parentNode && parentNode.data) {\n            data = mergeClassData(data, parentNode.data);\n        }\n    }\n    return renderClass(data.staticClass, data.class);\n}\nfunction mergeClassData(child, parent) {\n    return {\n        staticClass: concat(child.staticClass, parent.staticClass),\n        class: isDef(child.class) ? [child.class, parent.class] : parent.class\n    };\n}\nfunction renderClass(staticClass, dynamicClass) {\n    if (isDef(staticClass) || isDef(dynamicClass)) {\n        return concat(staticClass, stringifyClass(dynamicClass));\n    }\n    /* istanbul ignore next */\n    return '';\n}\nfunction concat(a, b) {\n    return a ? (b ? a + ' ' + b : a) : b || '';\n}\nfunction stringifyClass(value) {\n    if (Array.isArray(value)) {\n        return stringifyArray(value);\n    }\n    if (isObject(value)) {\n        return stringifyObject(value);\n    }\n    if (typeof value === 'string') {\n        return value;\n    }\n    /* istanbul ignore next */\n    return '';\n}\nfunction stringifyArray(value) {\n    var res = '';\n    var stringified;\n    for (var i = 0, l = value.length; i < l; i++) {\n        if (isDef((stringified = stringifyClass(value[i]))) && stringified !== '') {\n            if (res)\n                res += ' ';\n            res += stringified;\n        }\n    }\n    return res;\n}\nfunction stringifyObject(value) {\n    var res = '';\n    for (var key in value) {\n        if (value[key]) {\n            if (res)\n                res += ' ';\n            res += key;\n        }\n    }\n    return res;\n}\n\nvar namespaceMap = {\n    svg: 'http://www.w3.org/2000/svg',\n    math: 'http://www.w3.org/1998/Math/MathML'\n};\nvar isHTMLTag = makeMap('html,body,base,head,link,meta,style,title,' +\n    'address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,' +\n    'div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,' +\n    'a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,' +\n    's,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,' +\n    'embed,object,param,source,canvas,script,noscript,del,ins,' +\n    'caption,col,colgroup,table,thead,tbody,td,th,tr,' +\n    'button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,' +\n    'output,progress,select,textarea,' +\n    'details,dialog,menu,menuitem,summary,' +\n    'content,element,shadow,template,blockquote,iframe,tfoot');\n// this map is intentionally selective, only covering SVG elements that may\n// contain child elements.\nvar isSVG = makeMap('svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,' +\n    'foreignobject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,' +\n    'polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view', true);\nvar isReservedTag = function (tag) {\n    return isHTMLTag(tag) || isSVG(tag);\n};\nfunction getTagNamespace(tag) {\n    if (isSVG(tag)) {\n        return 'svg';\n    }\n    // basic support for MathML\n    // note it doesn't support other MathML elements being component roots\n    if (tag === 'math') {\n        return 'math';\n    }\n}\nvar unknownElementCache = Object.create(null);\nfunction isUnknownElement(tag) {\n    /* istanbul ignore if */\n    if (!inBrowser) {\n        return true;\n    }\n    if (isReservedTag(tag)) {\n        return false;\n    }\n    tag = tag.toLowerCase();\n    /* istanbul ignore if */\n    if (unknownElementCache[tag] != null) {\n        return unknownElementCache[tag];\n    }\n    var el = document.createElement(tag);\n    if (tag.indexOf('-') > -1) {\n        // https://stackoverflow.com/a/28210364/1070244\n        return (unknownElementCache[tag] =\n            el.constructor === window.HTMLUnknownElement ||\n                el.constructor === window.HTMLElement);\n    }\n    else {\n        return (unknownElementCache[tag] = /HTMLUnknownElement/.test(el.toString()));\n    }\n}\nvar isTextInputType = makeMap('text,number,password,search,email,tel,url');\n\n/**\n * Query an element selector if it's not an element already.\n */\nfunction query(el) {\n    if (typeof el === 'string') {\n        var selected = document.querySelector(el);\n        if (!selected) {\n            process.env.NODE_ENV !== 'production' && warn('Cannot find element: ' + el);\n            return document.createElement('div');\n        }\n        return selected;\n    }\n    else {\n        return el;\n    }\n}\n\nfunction createElement(tagName, vnode) {\n    var elm = document.createElement(tagName);\n    if (tagName !== 'select') {\n        return elm;\n    }\n    // false or null will remove the attribute but undefined will not\n    if (vnode.data &&\n        vnode.data.attrs &&\n        vnode.data.attrs.multiple !== undefined) {\n        elm.setAttribute('multiple', 'multiple');\n    }\n    return elm;\n}\nfunction createElementNS(namespace, tagName) {\n    return document.createElementNS(namespaceMap[namespace], tagName);\n}\nfunction createTextNode(text) {\n    return document.createTextNode(text);\n}\nfunction createComment(text) {\n    return document.createComment(text);\n}\nfunction insertBefore(parentNode, newNode, referenceNode) {\n    parentNode.insertBefore(newNode, referenceNode);\n}\nfunction removeChild(node, child) {\n    node.removeChild(child);\n}\nfunction appendChild(node, child) {\n    node.appendChild(child);\n}\nfunction parentNode(node) {\n    return node.parentNode;\n}\nfunction nextSibling(node) {\n    return node.nextSibling;\n}\nfunction tagName(node) {\n    return node.tagName;\n}\nfunction setTextContent(node, text) {\n    node.textContent = text;\n}\nfunction setStyleScope(node, scopeId) {\n    node.setAttribute(scopeId, '');\n}\n\nvar nodeOps = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  createElement: createElement,\n  createElementNS: createElementNS,\n  createTextNode: createTextNode,\n  createComment: createComment,\n  insertBefore: insertBefore,\n  removeChild: removeChild,\n  appendChild: appendChild,\n  parentNode: parentNode,\n  nextSibling: nextSibling,\n  tagName: tagName,\n  setTextContent: setTextContent,\n  setStyleScope: setStyleScope\n});\n\nvar ref = {\n    create: function (_, vnode) {\n        registerRef(vnode);\n    },\n    update: function (oldVnode, vnode) {\n        if (oldVnode.data.ref !== vnode.data.ref) {\n            registerRef(oldVnode, true);\n            registerRef(vnode);\n        }\n    },\n    destroy: function (vnode) {\n        registerRef(vnode, true);\n    }\n};\nfunction registerRef(vnode, isRemoval) {\n    var ref = vnode.data.ref;\n    if (!isDef(ref))\n        return;\n    var vm = vnode.context;\n    var refValue = vnode.componentInstance || vnode.elm;\n    var value = isRemoval ? null : refValue;\n    var $refsValue = isRemoval ? undefined : refValue;\n    if (isFunction(ref)) {\n        invokeWithErrorHandling(ref, vm, [value], vm, \"template ref function\");\n        return;\n    }\n    var isFor = vnode.data.refInFor;\n    var _isString = typeof ref === 'string' || typeof ref === 'number';\n    var _isRef = isRef(ref);\n    var refs = vm.$refs;\n    if (_isString || _isRef) {\n        if (isFor) {\n            var existing = _isString ? refs[ref] : ref.value;\n            if (isRemoval) {\n                isArray(existing) && remove$2(existing, refValue);\n            }\n            else {\n                if (!isArray(existing)) {\n                    if (_isString) {\n                        refs[ref] = [refValue];\n                        setSetupRef(vm, ref, refs[ref]);\n                    }\n                    else {\n                        ref.value = [refValue];\n                    }\n                }\n                else if (!existing.includes(refValue)) {\n                    existing.push(refValue);\n                }\n            }\n        }\n        else if (_isString) {\n            if (isRemoval && refs[ref] !== refValue) {\n                return;\n            }\n            refs[ref] = $refsValue;\n            setSetupRef(vm, ref, value);\n        }\n        else if (_isRef) {\n            if (isRemoval && ref.value !== refValue) {\n                return;\n            }\n            ref.value = value;\n        }\n        else if (process.env.NODE_ENV !== 'production') {\n            warn(\"Invalid template ref type: \".concat(typeof ref));\n        }\n    }\n}\nfunction setSetupRef(_a, key, val) {\n    var _setupState = _a._setupState;\n    if (_setupState && hasOwn(_setupState, key)) {\n        if (isRef(_setupState[key])) {\n            _setupState[key].value = val;\n        }\n        else {\n            _setupState[key] = val;\n        }\n    }\n}\n\n/**\n * Virtual DOM patching algorithm based on Snabbdom by\n * Simon Friis Vindum (@paldepind)\n * Licensed under the MIT License\n * https://github.com/paldepind/snabbdom/blob/master/LICENSE\n *\n * modified by Evan You (@yyx990803)\n *\n * Not type-checking this because this file is perf-critical and the cost\n * of making flow understand it is not worth it.\n */\nvar emptyNode = new VNode('', {}, []);\nvar hooks = ['create', 'activate', 'update', 'remove', 'destroy'];\nfunction sameVnode(a, b) {\n    return (a.key === b.key &&\n        a.asyncFactory === b.asyncFactory &&\n        ((a.tag === b.tag &&\n            a.isComment === b.isComment &&\n            isDef(a.data) === isDef(b.data) &&\n            sameInputType(a, b)) ||\n            (isTrue(a.isAsyncPlaceholder) && isUndef(b.asyncFactory.error))));\n}\nfunction sameInputType(a, b) {\n    if (a.tag !== 'input')\n        return true;\n    var i;\n    var typeA = isDef((i = a.data)) && isDef((i = i.attrs)) && i.type;\n    var typeB = isDef((i = b.data)) && isDef((i = i.attrs)) && i.type;\n    return typeA === typeB || (isTextInputType(typeA) && isTextInputType(typeB));\n}\nfunction createKeyToOldIdx(children, beginIdx, endIdx) {\n    var i, key;\n    var map = {};\n    for (i = beginIdx; i <= endIdx; ++i) {\n        key = children[i].key;\n        if (isDef(key))\n            map[key] = i;\n    }\n    return map;\n}\nfunction createPatchFunction(backend) {\n    var i, j;\n    var cbs = {};\n    var modules = backend.modules, nodeOps = backend.nodeOps;\n    for (i = 0; i < hooks.length; ++i) {\n        cbs[hooks[i]] = [];\n        for (j = 0; j < modules.length; ++j) {\n            if (isDef(modules[j][hooks[i]])) {\n                cbs[hooks[i]].push(modules[j][hooks[i]]);\n            }\n        }\n    }\n    function emptyNodeAt(elm) {\n        return new VNode(nodeOps.tagName(elm).toLowerCase(), {}, [], undefined, elm);\n    }\n    function createRmCb(childElm, listeners) {\n        function remove() {\n            if (--remove.listeners === 0) {\n                removeNode(childElm);\n            }\n        }\n        remove.listeners = listeners;\n        return remove;\n    }\n    function removeNode(el) {\n        var parent = nodeOps.parentNode(el);\n        // element may have already been removed due to v-html / v-text\n        if (isDef(parent)) {\n            nodeOps.removeChild(parent, el);\n        }\n    }\n    function isUnknownElement(vnode, inVPre) {\n        return (!inVPre &&\n            !vnode.ns &&\n            !(config.ignoredElements.length &&\n                config.ignoredElements.some(function (ignore) {\n                    return isRegExp(ignore)\n                        ? ignore.test(vnode.tag)\n                        : ignore === vnode.tag;\n                })) &&\n            config.isUnknownElement(vnode.tag));\n    }\n    var creatingElmInVPre = 0;\n    function createElm(vnode, insertedVnodeQueue, parentElm, refElm, nested, ownerArray, index) {\n        if (isDef(vnode.elm) && isDef(ownerArray)) {\n            // This vnode was used in a previous render!\n            // now it's used as a new node, overwriting its elm would cause\n            // potential patch errors down the road when it's used as an insertion\n            // reference node. Instead, we clone the node on-demand before creating\n            // associated DOM element for it.\n            vnode = ownerArray[index] = cloneVNode(vnode);\n        }\n        vnode.isRootInsert = !nested; // for transition enter check\n        if (createComponent(vnode, insertedVnodeQueue, parentElm, refElm)) {\n            return;\n        }\n        var data = vnode.data;\n        var children = vnode.children;\n        var tag = vnode.tag;\n        if (isDef(tag)) {\n            if (process.env.NODE_ENV !== 'production') {\n                if (data && data.pre) {\n                    creatingElmInVPre++;\n                }\n                if (isUnknownElement(vnode, creatingElmInVPre)) {\n                    warn('Unknown custom element: <' +\n                        tag +\n                        '> - did you ' +\n                        'register the component correctly? For recursive components, ' +\n                        'make sure to provide the \"name\" option.', vnode.context);\n                }\n            }\n            vnode.elm = vnode.ns\n                ? nodeOps.createElementNS(vnode.ns, tag)\n                : nodeOps.createElement(tag, vnode);\n            setScope(vnode);\n            createChildren(vnode, children, insertedVnodeQueue);\n            if (isDef(data)) {\n                invokeCreateHooks(vnode, insertedVnodeQueue);\n            }\n            insert(parentElm, vnode.elm, refElm);\n            if (process.env.NODE_ENV !== 'production' && data && data.pre) {\n                creatingElmInVPre--;\n            }\n        }\n        else if (isTrue(vnode.isComment)) {\n            vnode.elm = nodeOps.createComment(vnode.text);\n            insert(parentElm, vnode.elm, refElm);\n        }\n        else {\n            vnode.elm = nodeOps.createTextNode(vnode.text);\n            insert(parentElm, vnode.elm, refElm);\n        }\n    }\n    function createComponent(vnode, insertedVnodeQueue, parentElm, refElm) {\n        var i = vnode.data;\n        if (isDef(i)) {\n            var isReactivated = isDef(vnode.componentInstance) && i.keepAlive;\n            if (isDef((i = i.hook)) && isDef((i = i.init))) {\n                i(vnode, false /* hydrating */);\n            }\n            // after calling the init hook, if the vnode is a child component\n            // it should've created a child instance and mounted it. the child\n            // component also has set the placeholder vnode's elm.\n            // in that case we can just return the element and be done.\n            if (isDef(vnode.componentInstance)) {\n                initComponent(vnode, insertedVnodeQueue);\n                insert(parentElm, vnode.elm, refElm);\n                if (isTrue(isReactivated)) {\n                    reactivateComponent(vnode, insertedVnodeQueue, parentElm, refElm);\n                }\n                return true;\n            }\n        }\n    }\n    function initComponent(vnode, insertedVnodeQueue) {\n        if (isDef(vnode.data.pendingInsert)) {\n            insertedVnodeQueue.push.apply(insertedVnodeQueue, vnode.data.pendingInsert);\n            vnode.data.pendingInsert = null;\n        }\n        vnode.elm = vnode.componentInstance.$el;\n        if (isPatchable(vnode)) {\n            invokeCreateHooks(vnode, insertedVnodeQueue);\n            setScope(vnode);\n        }\n        else {\n            // empty component root.\n            // skip all element-related modules except for ref (#3455)\n            registerRef(vnode);\n            // make sure to invoke the insert hook\n            insertedVnodeQueue.push(vnode);\n        }\n    }\n    function reactivateComponent(vnode, insertedVnodeQueue, parentElm, refElm) {\n        var i;\n        // hack for #4339: a reactivated component with inner transition\n        // does not trigger because the inner node's created hooks are not called\n        // again. It's not ideal to involve module-specific logic in here but\n        // there doesn't seem to be a better way to do it.\n        var innerNode = vnode;\n        while (innerNode.componentInstance) {\n            innerNode = innerNode.componentInstance._vnode;\n            if (isDef((i = innerNode.data)) && isDef((i = i.transition))) {\n                for (i = 0; i < cbs.activate.length; ++i) {\n                    cbs.activate[i](emptyNode, innerNode);\n                }\n                insertedVnodeQueue.push(innerNode);\n                break;\n            }\n        }\n        // unlike a newly created component,\n        // a reactivated keep-alive component doesn't insert itself\n        insert(parentElm, vnode.elm, refElm);\n    }\n    function insert(parent, elm, ref) {\n        if (isDef(parent)) {\n            if (isDef(ref)) {\n                if (nodeOps.parentNode(ref) === parent) {\n                    nodeOps.insertBefore(parent, elm, ref);\n                }\n            }\n            else {\n                nodeOps.appendChild(parent, elm);\n            }\n        }\n    }\n    function createChildren(vnode, children, insertedVnodeQueue) {\n        if (isArray(children)) {\n            if (process.env.NODE_ENV !== 'production') {\n                checkDuplicateKeys(children);\n            }\n            for (var i_1 = 0; i_1 < children.length; ++i_1) {\n                createElm(children[i_1], insertedVnodeQueue, vnode.elm, null, true, children, i_1);\n            }\n        }\n        else if (isPrimitive(vnode.text)) {\n            nodeOps.appendChild(vnode.elm, nodeOps.createTextNode(String(vnode.text)));\n        }\n    }\n    function isPatchable(vnode) {\n        while (vnode.componentInstance) {\n            vnode = vnode.componentInstance._vnode;\n        }\n        return isDef(vnode.tag);\n    }\n    function invokeCreateHooks(vnode, insertedVnodeQueue) {\n        for (var i_2 = 0; i_2 < cbs.create.length; ++i_2) {\n            cbs.create[i_2](emptyNode, vnode);\n        }\n        i = vnode.data.hook; // Reuse variable\n        if (isDef(i)) {\n            if (isDef(i.create))\n                i.create(emptyNode, vnode);\n            if (isDef(i.insert))\n                insertedVnodeQueue.push(vnode);\n        }\n    }\n    // set scope id attribute for scoped CSS.\n    // this is implemented as a special case to avoid the overhead\n    // of going through the normal attribute patching process.\n    function setScope(vnode) {\n        var i;\n        if (isDef((i = vnode.fnScopeId))) {\n            nodeOps.setStyleScope(vnode.elm, i);\n        }\n        else {\n            var ancestor = vnode;\n            while (ancestor) {\n                if (isDef((i = ancestor.context)) && isDef((i = i.$options._scopeId))) {\n                    nodeOps.setStyleScope(vnode.elm, i);\n                }\n                ancestor = ancestor.parent;\n            }\n        }\n        // for slot content they should also get the scopeId from the host instance.\n        if (isDef((i = activeInstance)) &&\n            i !== vnode.context &&\n            i !== vnode.fnContext &&\n            isDef((i = i.$options._scopeId))) {\n            nodeOps.setStyleScope(vnode.elm, i);\n        }\n    }\n    function addVnodes(parentElm, refElm, vnodes, startIdx, endIdx, insertedVnodeQueue) {\n        for (; startIdx <= endIdx; ++startIdx) {\n            createElm(vnodes[startIdx], insertedVnodeQueue, parentElm, refElm, false, vnodes, startIdx);\n        }\n    }\n    function invokeDestroyHook(vnode) {\n        var i, j;\n        var data = vnode.data;\n        if (isDef(data)) {\n            if (isDef((i = data.hook)) && isDef((i = i.destroy)))\n                i(vnode);\n            for (i = 0; i < cbs.destroy.length; ++i)\n                cbs.destroy[i](vnode);\n        }\n        if (isDef((i = vnode.children))) {\n            for (j = 0; j < vnode.children.length; ++j) {\n                invokeDestroyHook(vnode.children[j]);\n            }\n        }\n    }\n    function removeVnodes(vnodes, startIdx, endIdx) {\n        for (; startIdx <= endIdx; ++startIdx) {\n            var ch = vnodes[startIdx];\n            if (isDef(ch)) {\n                if (isDef(ch.tag)) {\n                    removeAndInvokeRemoveHook(ch);\n                    invokeDestroyHook(ch);\n                }\n                else {\n                    // Text node\n                    removeNode(ch.elm);\n                }\n            }\n        }\n    }\n    function removeAndInvokeRemoveHook(vnode, rm) {\n        if (isDef(rm) || isDef(vnode.data)) {\n            var i_3;\n            var listeners = cbs.remove.length + 1;\n            if (isDef(rm)) {\n                // we have a recursively passed down rm callback\n                // increase the listeners count\n                rm.listeners += listeners;\n            }\n            else {\n                // directly removing\n                rm = createRmCb(vnode.elm, listeners);\n            }\n            // recursively invoke hooks on child component root node\n            if (isDef((i_3 = vnode.componentInstance)) &&\n                isDef((i_3 = i_3._vnode)) &&\n                isDef(i_3.data)) {\n                removeAndInvokeRemoveHook(i_3, rm);\n            }\n            for (i_3 = 0; i_3 < cbs.remove.length; ++i_3) {\n                cbs.remove[i_3](vnode, rm);\n            }\n            if (isDef((i_3 = vnode.data.hook)) && isDef((i_3 = i_3.remove))) {\n                i_3(vnode, rm);\n            }\n            else {\n                rm();\n            }\n        }\n        else {\n            removeNode(vnode.elm);\n        }\n    }\n    function updateChildren(parentElm, oldCh, newCh, insertedVnodeQueue, removeOnly) {\n        var oldStartIdx = 0;\n        var newStartIdx = 0;\n        var oldEndIdx = oldCh.length - 1;\n        var oldStartVnode = oldCh[0];\n        var oldEndVnode = oldCh[oldEndIdx];\n        var newEndIdx = newCh.length - 1;\n        var newStartVnode = newCh[0];\n        var newEndVnode = newCh[newEndIdx];\n        var oldKeyToIdx, idxInOld, vnodeToMove, refElm;\n        // removeOnly is a special flag used only by <transition-group>\n        // to ensure removed elements stay in correct relative positions\n        // during leaving transitions\n        var canMove = !removeOnly;\n        if (process.env.NODE_ENV !== 'production') {\n            checkDuplicateKeys(newCh);\n        }\n        while (oldStartIdx <= oldEndIdx && newStartIdx <= newEndIdx) {\n            if (isUndef(oldStartVnode)) {\n                oldStartVnode = oldCh[++oldStartIdx]; // Vnode has been moved left\n            }\n            else if (isUndef(oldEndVnode)) {\n                oldEndVnode = oldCh[--oldEndIdx];\n            }\n            else if (sameVnode(oldStartVnode, newStartVnode)) {\n                patchVnode(oldStartVnode, newStartVnode, insertedVnodeQueue, newCh, newStartIdx);\n                oldStartVnode = oldCh[++oldStartIdx];\n                newStartVnode = newCh[++newStartIdx];\n            }\n            else if (sameVnode(oldEndVnode, newEndVnode)) {\n                patchVnode(oldEndVnode, newEndVnode, insertedVnodeQueue, newCh, newEndIdx);\n                oldEndVnode = oldCh[--oldEndIdx];\n                newEndVnode = newCh[--newEndIdx];\n            }\n            else if (sameVnode(oldStartVnode, newEndVnode)) {\n                // Vnode moved right\n                patchVnode(oldStartVnode, newEndVnode, insertedVnodeQueue, newCh, newEndIdx);\n                canMove &&\n                    nodeOps.insertBefore(parentElm, oldStartVnode.elm, nodeOps.nextSibling(oldEndVnode.elm));\n                oldStartVnode = oldCh[++oldStartIdx];\n                newEndVnode = newCh[--newEndIdx];\n            }\n            else if (sameVnode(oldEndVnode, newStartVnode)) {\n                // Vnode moved left\n                patchVnode(oldEndVnode, newStartVnode, insertedVnodeQueue, newCh, newStartIdx);\n                canMove &&\n                    nodeOps.insertBefore(parentElm, oldEndVnode.elm, oldStartVnode.elm);\n                oldEndVnode = oldCh[--oldEndIdx];\n                newStartVnode = newCh[++newStartIdx];\n            }\n            else {\n                if (isUndef(oldKeyToIdx))\n                    oldKeyToIdx = createKeyToOldIdx(oldCh, oldStartIdx, oldEndIdx);\n                idxInOld = isDef(newStartVnode.key)\n                    ? oldKeyToIdx[newStartVnode.key]\n                    : findIdxInOld(newStartVnode, oldCh, oldStartIdx, oldEndIdx);\n                if (isUndef(idxInOld)) {\n                    // New element\n                    createElm(newStartVnode, insertedVnodeQueue, parentElm, oldStartVnode.elm, false, newCh, newStartIdx);\n                }\n                else {\n                    vnodeToMove = oldCh[idxInOld];\n                    if (sameVnode(vnodeToMove, newStartVnode)) {\n                        patchVnode(vnodeToMove, newStartVnode, insertedVnodeQueue, newCh, newStartIdx);\n                        oldCh[idxInOld] = undefined;\n                        canMove &&\n                            nodeOps.insertBefore(parentElm, vnodeToMove.elm, oldStartVnode.elm);\n                    }\n                    else {\n                        // same key but different element. treat as new element\n                        createElm(newStartVnode, insertedVnodeQueue, parentElm, oldStartVnode.elm, false, newCh, newStartIdx);\n                    }\n                }\n                newStartVnode = newCh[++newStartIdx];\n            }\n        }\n        if (oldStartIdx > oldEndIdx) {\n            refElm = isUndef(newCh[newEndIdx + 1]) ? null : newCh[newEndIdx + 1].elm;\n            addVnodes(parentElm, refElm, newCh, newStartIdx, newEndIdx, insertedVnodeQueue);\n        }\n        else if (newStartIdx > newEndIdx) {\n            removeVnodes(oldCh, oldStartIdx, oldEndIdx);\n        }\n    }\n    function checkDuplicateKeys(children) {\n        var seenKeys = {};\n        for (var i_4 = 0; i_4 < children.length; i_4++) {\n            var vnode = children[i_4];\n            var key = vnode.key;\n            if (isDef(key)) {\n                if (seenKeys[key]) {\n                    warn(\"Duplicate keys detected: '\".concat(key, \"'. This may cause an update error.\"), vnode.context);\n                }\n                else {\n                    seenKeys[key] = true;\n                }\n            }\n        }\n    }\n    function findIdxInOld(node, oldCh, start, end) {\n        for (var i_5 = start; i_5 < end; i_5++) {\n            var c = oldCh[i_5];\n            if (isDef(c) && sameVnode(node, c))\n                return i_5;\n        }\n    }\n    function patchVnode(oldVnode, vnode, insertedVnodeQueue, ownerArray, index, removeOnly) {\n        if (oldVnode === vnode) {\n            return;\n        }\n        if (isDef(vnode.elm) && isDef(ownerArray)) {\n            // clone reused vnode\n            vnode = ownerArray[index] = cloneVNode(vnode);\n        }\n        var elm = (vnode.elm = oldVnode.elm);\n        if (isTrue(oldVnode.isAsyncPlaceholder)) {\n            if (isDef(vnode.asyncFactory.resolved)) {\n                hydrate(oldVnode.elm, vnode, insertedVnodeQueue);\n            }\n            else {\n                vnode.isAsyncPlaceholder = true;\n            }\n            return;\n        }\n        // reuse element for static trees.\n        // note we only do this if the vnode is cloned -\n        // if the new node is not cloned it means the render functions have been\n        // reset by the hot-reload-api and we need to do a proper re-render.\n        if (isTrue(vnode.isStatic) &&\n            isTrue(oldVnode.isStatic) &&\n            vnode.key === oldVnode.key &&\n            (isTrue(vnode.isCloned) || isTrue(vnode.isOnce))) {\n            vnode.componentInstance = oldVnode.componentInstance;\n            return;\n        }\n        var i;\n        var data = vnode.data;\n        if (isDef(data) && isDef((i = data.hook)) && isDef((i = i.prepatch))) {\n            i(oldVnode, vnode);\n        }\n        var oldCh = oldVnode.children;\n        var ch = vnode.children;\n        if (isDef(data) && isPatchable(vnode)) {\n            for (i = 0; i < cbs.update.length; ++i)\n                cbs.update[i](oldVnode, vnode);\n            if (isDef((i = data.hook)) && isDef((i = i.update)))\n                i(oldVnode, vnode);\n        }\n        if (isUndef(vnode.text)) {\n            if (isDef(oldCh) && isDef(ch)) {\n                if (oldCh !== ch)\n                    updateChildren(elm, oldCh, ch, insertedVnodeQueue, removeOnly);\n            }\n            else if (isDef(ch)) {\n                if (process.env.NODE_ENV !== 'production') {\n                    checkDuplicateKeys(ch);\n                }\n                if (isDef(oldVnode.text))\n                    nodeOps.setTextContent(elm, '');\n                addVnodes(elm, null, ch, 0, ch.length - 1, insertedVnodeQueue);\n            }\n            else if (isDef(oldCh)) {\n                removeVnodes(oldCh, 0, oldCh.length - 1);\n            }\n            else if (isDef(oldVnode.text)) {\n                nodeOps.setTextContent(elm, '');\n            }\n        }\n        else if (oldVnode.text !== vnode.text) {\n            nodeOps.setTextContent(elm, vnode.text);\n        }\n        if (isDef(data)) {\n            if (isDef((i = data.hook)) && isDef((i = i.postpatch)))\n                i(oldVnode, vnode);\n        }\n    }\n    function invokeInsertHook(vnode, queue, initial) {\n        // delay insert hooks for component root nodes, invoke them after the\n        // element is really inserted\n        if (isTrue(initial) && isDef(vnode.parent)) {\n            vnode.parent.data.pendingInsert = queue;\n        }\n        else {\n            for (var i_6 = 0; i_6 < queue.length; ++i_6) {\n                queue[i_6].data.hook.insert(queue[i_6]);\n            }\n        }\n    }\n    var hydrationBailed = false;\n    // list of modules that can skip create hook during hydration because they\n    // are already rendered on the client or has no need for initialization\n    // Note: style is excluded because it relies on initial clone for future\n    // deep updates (#7063).\n    var isRenderedModule = makeMap('attrs,class,staticClass,staticStyle,key');\n    // Note: this is a browser-only function so we can assume elms are DOM nodes.\n    function hydrate(elm, vnode, insertedVnodeQueue, inVPre) {\n        var i;\n        var tag = vnode.tag, data = vnode.data, children = vnode.children;\n        inVPre = inVPre || (data && data.pre);\n        vnode.elm = elm;\n        if (isTrue(vnode.isComment) && isDef(vnode.asyncFactory)) {\n            vnode.isAsyncPlaceholder = true;\n            return true;\n        }\n        // assert node match\n        if (process.env.NODE_ENV !== 'production') {\n            if (!assertNodeMatch(elm, vnode, inVPre)) {\n                return false;\n            }\n        }\n        if (isDef(data)) {\n            if (isDef((i = data.hook)) && isDef((i = i.init)))\n                i(vnode, true /* hydrating */);\n            if (isDef((i = vnode.componentInstance))) {\n                // child component. it should have hydrated its own tree.\n                initComponent(vnode, insertedVnodeQueue);\n                return true;\n            }\n        }\n        if (isDef(tag)) {\n            if (isDef(children)) {\n                // empty element, allow client to pick up and populate children\n                if (!elm.hasChildNodes()) {\n                    createChildren(vnode, children, insertedVnodeQueue);\n                }\n                else {\n                    // v-html and domProps: innerHTML\n                    if (isDef((i = data)) &&\n                        isDef((i = i.domProps)) &&\n                        isDef((i = i.innerHTML))) {\n                        if (i !== elm.innerHTML) {\n                            /* istanbul ignore if */\n                            if (process.env.NODE_ENV !== 'production' &&\n                                typeof console !== 'undefined' &&\n                                !hydrationBailed) {\n                                hydrationBailed = true;\n                                console.warn('Parent: ', elm);\n                                console.warn('server innerHTML: ', i);\n                                console.warn('client innerHTML: ', elm.innerHTML);\n                            }\n                            return false;\n                        }\n                    }\n                    else {\n                        // iterate and compare children lists\n                        var childrenMatch = true;\n                        var childNode = elm.firstChild;\n                        for (var i_7 = 0; i_7 < children.length; i_7++) {\n                            if (!childNode ||\n                                !hydrate(childNode, children[i_7], insertedVnodeQueue, inVPre)) {\n                                childrenMatch = false;\n                                break;\n                            }\n                            childNode = childNode.nextSibling;\n                        }\n                        // if childNode is not null, it means the actual childNodes list is\n                        // longer than the virtual children list.\n                        if (!childrenMatch || childNode) {\n                            /* istanbul ignore if */\n                            if (process.env.NODE_ENV !== 'production' &&\n                                typeof console !== 'undefined' &&\n                                !hydrationBailed) {\n                                hydrationBailed = true;\n                                console.warn('Parent: ', elm);\n                                console.warn('Mismatching childNodes vs. VNodes: ', elm.childNodes, children);\n                            }\n                            return false;\n                        }\n                    }\n                }\n            }\n            if (isDef(data)) {\n                var fullInvoke = false;\n                for (var key in data) {\n                    if (!isRenderedModule(key)) {\n                        fullInvoke = true;\n                        invokeCreateHooks(vnode, insertedVnodeQueue);\n                        break;\n                    }\n                }\n                if (!fullInvoke && data['class']) {\n                    // ensure collecting deps for deep class bindings for future updates\n                    traverse(data['class']);\n                }\n            }\n        }\n        else if (elm.data !== vnode.text) {\n            elm.data = vnode.text;\n        }\n        return true;\n    }\n    function assertNodeMatch(node, vnode, inVPre) {\n        if (isDef(vnode.tag)) {\n            return (vnode.tag.indexOf('vue-component') === 0 ||\n                (!isUnknownElement(vnode, inVPre) &&\n                    vnode.tag.toLowerCase() ===\n                        (node.tagName && node.tagName.toLowerCase())));\n        }\n        else {\n            return node.nodeType === (vnode.isComment ? 8 : 3);\n        }\n    }\n    return function patch(oldVnode, vnode, hydrating, removeOnly) {\n        if (isUndef(vnode)) {\n            if (isDef(oldVnode))\n                invokeDestroyHook(oldVnode);\n            return;\n        }\n        var isInitialPatch = false;\n        var insertedVnodeQueue = [];\n        if (isUndef(oldVnode)) {\n            // empty mount (likely as component), create new root element\n            isInitialPatch = true;\n            createElm(vnode, insertedVnodeQueue);\n        }\n        else {\n            var isRealElement = isDef(oldVnode.nodeType);\n            if (!isRealElement && sameVnode(oldVnode, vnode)) {\n                // patch existing root node\n                patchVnode(oldVnode, vnode, insertedVnodeQueue, null, null, removeOnly);\n            }\n            else {\n                if (isRealElement) {\n                    // mounting to a real element\n                    // check if this is server-rendered content and if we can perform\n                    // a successful hydration.\n                    if (oldVnode.nodeType === 1 && oldVnode.hasAttribute(SSR_ATTR)) {\n                        oldVnode.removeAttribute(SSR_ATTR);\n                        hydrating = true;\n                    }\n                    if (isTrue(hydrating)) {\n                        if (hydrate(oldVnode, vnode, insertedVnodeQueue)) {\n                            invokeInsertHook(vnode, insertedVnodeQueue, true);\n                            return oldVnode;\n                        }\n                        else if (process.env.NODE_ENV !== 'production') {\n                            warn('The client-side rendered virtual DOM tree is not matching ' +\n                                'server-rendered content. This is likely caused by incorrect ' +\n                                'HTML markup, for example nesting block-level elements inside ' +\n                                '<p>, or missing <tbody>. Bailing hydration and performing ' +\n                                'full client-side render.');\n                        }\n                    }\n                    // either not server-rendered, or hydration failed.\n                    // create an empty node and replace it\n                    oldVnode = emptyNodeAt(oldVnode);\n                }\n                // replacing existing element\n                var oldElm = oldVnode.elm;\n                var parentElm = nodeOps.parentNode(oldElm);\n                // create new node\n                createElm(vnode, insertedVnodeQueue, \n                // extremely rare edge case: do not insert if old element is in a\n                // leaving transition. Only happens when combining transition +\n                // keep-alive + HOCs. (#4590)\n                oldElm._leaveCb ? null : parentElm, nodeOps.nextSibling(oldElm));\n                // update parent placeholder node element, recursively\n                if (isDef(vnode.parent)) {\n                    var ancestor = vnode.parent;\n                    var patchable = isPatchable(vnode);\n                    while (ancestor) {\n                        for (var i_8 = 0; i_8 < cbs.destroy.length; ++i_8) {\n                            cbs.destroy[i_8](ancestor);\n                        }\n                        ancestor.elm = vnode.elm;\n                        if (patchable) {\n                            for (var i_9 = 0; i_9 < cbs.create.length; ++i_9) {\n                                cbs.create[i_9](emptyNode, ancestor);\n                            }\n                            // #6513\n                            // invoke insert hooks that may have been merged by create hooks.\n                            // e.g. for directives that uses the \"inserted\" hook.\n                            var insert_1 = ancestor.data.hook.insert;\n                            if (insert_1.merged) {\n                                // start at index 1 to avoid re-invoking component mounted hook\n                                // clone insert hooks to avoid being mutated during iteration.\n                                // e.g. for customed directives under transition group.\n                                var cloned = insert_1.fns.slice(1);\n                                for (var i_10 = 0; i_10 < cloned.length; i_10++) {\n                                    cloned[i_10]();\n                                }\n                            }\n                        }\n                        else {\n                            registerRef(ancestor);\n                        }\n                        ancestor = ancestor.parent;\n                    }\n                }\n                // destroy old node\n                if (isDef(parentElm)) {\n                    removeVnodes([oldVnode], 0, 0);\n                }\n                else if (isDef(oldVnode.tag)) {\n                    invokeDestroyHook(oldVnode);\n                }\n            }\n        }\n        invokeInsertHook(vnode, insertedVnodeQueue, isInitialPatch);\n        return vnode.elm;\n    };\n}\n\nvar directives = {\n    create: updateDirectives,\n    update: updateDirectives,\n    destroy: function unbindDirectives(vnode) {\n        // @ts-expect-error emptyNode is not VNodeWithData\n        updateDirectives(vnode, emptyNode);\n    }\n};\nfunction updateDirectives(oldVnode, vnode) {\n    if (oldVnode.data.directives || vnode.data.directives) {\n        _update(oldVnode, vnode);\n    }\n}\nfunction _update(oldVnode, vnode) {\n    var isCreate = oldVnode === emptyNode;\n    var isDestroy = vnode === emptyNode;\n    var oldDirs = normalizeDirectives(oldVnode.data.directives, oldVnode.context);\n    var newDirs = normalizeDirectives(vnode.data.directives, vnode.context);\n    var dirsWithInsert = [];\n    var dirsWithPostpatch = [];\n    var key, oldDir, dir;\n    for (key in newDirs) {\n        oldDir = oldDirs[key];\n        dir = newDirs[key];\n        if (!oldDir) {\n            // new directive, bind\n            callHook(dir, 'bind', vnode, oldVnode);\n            if (dir.def && dir.def.inserted) {\n                dirsWithInsert.push(dir);\n            }\n        }\n        else {\n            // existing directive, update\n            dir.oldValue = oldDir.value;\n            dir.oldArg = oldDir.arg;\n            callHook(dir, 'update', vnode, oldVnode);\n            if (dir.def && dir.def.componentUpdated) {\n                dirsWithPostpatch.push(dir);\n            }\n        }\n    }\n    if (dirsWithInsert.length) {\n        var callInsert = function () {\n            for (var i = 0; i < dirsWithInsert.length; i++) {\n                callHook(dirsWithInsert[i], 'inserted', vnode, oldVnode);\n            }\n        };\n        if (isCreate) {\n            mergeVNodeHook(vnode, 'insert', callInsert);\n        }\n        else {\n            callInsert();\n        }\n    }\n    if (dirsWithPostpatch.length) {\n        mergeVNodeHook(vnode, 'postpatch', function () {\n            for (var i = 0; i < dirsWithPostpatch.length; i++) {\n                callHook(dirsWithPostpatch[i], 'componentUpdated', vnode, oldVnode);\n            }\n        });\n    }\n    if (!isCreate) {\n        for (key in oldDirs) {\n            if (!newDirs[key]) {\n                // no longer present, unbind\n                callHook(oldDirs[key], 'unbind', oldVnode, oldVnode, isDestroy);\n            }\n        }\n    }\n}\nvar emptyModifiers = Object.create(null);\nfunction normalizeDirectives(dirs, vm) {\n    var res = Object.create(null);\n    if (!dirs) {\n        // $flow-disable-line\n        return res;\n    }\n    var i, dir;\n    for (i = 0; i < dirs.length; i++) {\n        dir = dirs[i];\n        if (!dir.modifiers) {\n            // $flow-disable-line\n            dir.modifiers = emptyModifiers;\n        }\n        res[getRawDirName(dir)] = dir;\n        if (vm._setupState && vm._setupState.__sfc) {\n            var setupDef = dir.def || resolveAsset(vm, '_setupState', 'v-' + dir.name);\n            if (typeof setupDef === 'function') {\n                dir.def = {\n                    bind: setupDef,\n                    update: setupDef,\n                };\n            }\n            else {\n                dir.def = setupDef;\n            }\n        }\n        dir.def = dir.def || resolveAsset(vm.$options, 'directives', dir.name, true);\n    }\n    // $flow-disable-line\n    return res;\n}\nfunction getRawDirName(dir) {\n    return (dir.rawName || \"\".concat(dir.name, \".\").concat(Object.keys(dir.modifiers || {}).join('.')));\n}\nfunction callHook(dir, hook, vnode, oldVnode, isDestroy) {\n    var fn = dir.def && dir.def[hook];\n    if (fn) {\n        try {\n            fn(vnode.elm, dir, vnode, oldVnode, isDestroy);\n        }\n        catch (e) {\n            handleError(e, vnode.context, \"directive \".concat(dir.name, \" \").concat(hook, \" hook\"));\n        }\n    }\n}\n\nvar baseModules = [ref, directives];\n\nfunction updateAttrs(oldVnode, vnode) {\n    var opts = vnode.componentOptions;\n    if (isDef(opts) && opts.Ctor.options.inheritAttrs === false) {\n        return;\n    }\n    if (isUndef(oldVnode.data.attrs) && isUndef(vnode.data.attrs)) {\n        return;\n    }\n    var key, cur, old;\n    var elm = vnode.elm;\n    var oldAttrs = oldVnode.data.attrs || {};\n    var attrs = vnode.data.attrs || {};\n    // clone observed objects, as the user probably wants to mutate it\n    if (isDef(attrs.__ob__) || isTrue(attrs._v_attr_proxy)) {\n        attrs = vnode.data.attrs = extend({}, attrs);\n    }\n    for (key in attrs) {\n        cur = attrs[key];\n        old = oldAttrs[key];\n        if (old !== cur) {\n            setAttr(elm, key, cur, vnode.data.pre);\n        }\n    }\n    // #4391: in IE9, setting type can reset value for input[type=radio]\n    // #6666: IE/Edge forces progress value down to 1 before setting a max\n    /* istanbul ignore if */\n    if ((isIE || isEdge) && attrs.value !== oldAttrs.value) {\n        setAttr(elm, 'value', attrs.value);\n    }\n    for (key in oldAttrs) {\n        if (isUndef(attrs[key])) {\n            if (isXlink(key)) {\n                elm.removeAttributeNS(xlinkNS, getXlinkProp(key));\n            }\n            else if (!isEnumeratedAttr(key)) {\n                elm.removeAttribute(key);\n            }\n        }\n    }\n}\nfunction setAttr(el, key, value, isInPre) {\n    if (isInPre || el.tagName.indexOf('-') > -1) {\n        baseSetAttr(el, key, value);\n    }\n    else if (isBooleanAttr(key)) {\n        // set attribute for blank value\n        // e.g. <option disabled>Select one</option>\n        if (isFalsyAttrValue(value)) {\n            el.removeAttribute(key);\n        }\n        else {\n            // technically allowfullscreen is a boolean attribute for <iframe>,\n            // but Flash expects a value of \"true\" when used on <embed> tag\n            value = key === 'allowfullscreen' && el.tagName === 'EMBED' ? 'true' : key;\n            el.setAttribute(key, value);\n        }\n    }\n    else if (isEnumeratedAttr(key)) {\n        el.setAttribute(key, convertEnumeratedValue(key, value));\n    }\n    else if (isXlink(key)) {\n        if (isFalsyAttrValue(value)) {\n            el.removeAttributeNS(xlinkNS, getXlinkProp(key));\n        }\n        else {\n            el.setAttributeNS(xlinkNS, key, value);\n        }\n    }\n    else {\n        baseSetAttr(el, key, value);\n    }\n}\nfunction baseSetAttr(el, key, value) {\n    if (isFalsyAttrValue(value)) {\n        el.removeAttribute(key);\n    }\n    else {\n        // #7138: IE10 & 11 fires input event when setting placeholder on\n        // <textarea>... block the first input event and remove the blocker\n        // immediately.\n        /* istanbul ignore if */\n        if (isIE &&\n            !isIE9 &&\n            el.tagName === 'TEXTAREA' &&\n            key === 'placeholder' &&\n            value !== '' &&\n            !el.__ieph) {\n            var blocker_1 = function (e) {\n                e.stopImmediatePropagation();\n                el.removeEventListener('input', blocker_1);\n            };\n            el.addEventListener('input', blocker_1);\n            // $flow-disable-line\n            el.__ieph = true; /* IE placeholder patched */\n        }\n        el.setAttribute(key, value);\n    }\n}\nvar attrs = {\n    create: updateAttrs,\n    update: updateAttrs\n};\n\nfunction updateClass(oldVnode, vnode) {\n    var el = vnode.elm;\n    var data = vnode.data;\n    var oldData = oldVnode.data;\n    if (isUndef(data.staticClass) &&\n        isUndef(data.class) &&\n        (isUndef(oldData) ||\n            (isUndef(oldData.staticClass) && isUndef(oldData.class)))) {\n        return;\n    }\n    var cls = genClassForVnode(vnode);\n    // handle transition classes\n    var transitionClass = el._transitionClasses;\n    if (isDef(transitionClass)) {\n        cls = concat(cls, stringifyClass(transitionClass));\n    }\n    // set the class\n    if (cls !== el._prevClass) {\n        el.setAttribute('class', cls);\n        el._prevClass = cls;\n    }\n}\nvar klass = {\n    create: updateClass,\n    update: updateClass\n};\n\n// in some cases, the event used has to be determined at runtime\n// so we used some reserved tokens during compile.\nvar RANGE_TOKEN = '__r';\nvar CHECKBOX_RADIO_TOKEN = '__c';\n\n// normalize v-model event tokens that can only be determined at runtime.\n// it's important to place the event as the first in the array because\n// the whole point is ensuring the v-model callback gets called before\n// user-attached handlers.\nfunction normalizeEvents(on) {\n    /* istanbul ignore if */\n    if (isDef(on[RANGE_TOKEN])) {\n        // IE input[type=range] only supports `change` event\n        var event_1 = isIE ? 'change' : 'input';\n        on[event_1] = [].concat(on[RANGE_TOKEN], on[event_1] || []);\n        delete on[RANGE_TOKEN];\n    }\n    // This was originally intended to fix #4521 but no longer necessary\n    // after 2.5. Keeping it for backwards compat with generated code from < 2.4\n    /* istanbul ignore if */\n    if (isDef(on[CHECKBOX_RADIO_TOKEN])) {\n        on.change = [].concat(on[CHECKBOX_RADIO_TOKEN], on.change || []);\n        delete on[CHECKBOX_RADIO_TOKEN];\n    }\n}\nvar target;\nfunction createOnceHandler(event, handler, capture) {\n    var _target = target; // save current target element in closure\n    return function onceHandler() {\n        var res = handler.apply(null, arguments);\n        if (res !== null) {\n            remove(event, onceHandler, capture, _target);\n        }\n    };\n}\n// #9446: Firefox <= 53 (in particular, ESR 52) has incorrect Event.timeStamp\n// implementation and does not fire microtasks in between event propagation, so\n// safe to exclude.\nvar useMicrotaskFix = isUsingMicroTask && !(isFF && Number(isFF[1]) <= 53);\nfunction add(name, handler, capture, passive) {\n    // async edge case #6566: inner click event triggers patch, event handler\n    // attached to outer element during patch, and triggered again. This\n    // happens because browsers fire microtask ticks between event propagation.\n    // the solution is simple: we save the timestamp when a handler is attached,\n    // and the handler would only fire if the event passed to it was fired\n    // AFTER it was attached.\n    if (useMicrotaskFix) {\n        var attachedTimestamp_1 = currentFlushTimestamp;\n        var original_1 = handler;\n        //@ts-expect-error\n        handler = original_1._wrapper = function (e) {\n            if (\n            // no bubbling, should always fire.\n            // this is just a safety net in case event.timeStamp is unreliable in\n            // certain weird environments...\n            e.target === e.currentTarget ||\n                // event is fired after handler attachment\n                e.timeStamp >= attachedTimestamp_1 ||\n                // bail for environments that have buggy event.timeStamp implementations\n                // #9462 iOS 9 bug: event.timeStamp is 0 after history.pushState\n                // #9681 QtWebEngine event.timeStamp is negative value\n                e.timeStamp <= 0 ||\n                // #9448 bail if event is fired in another document in a multi-page\n                // electron/nw.js app, since event.timeStamp will be using a different\n                // starting reference\n                e.target.ownerDocument !== document) {\n                return original_1.apply(this, arguments);\n            }\n        };\n    }\n    target.addEventListener(name, handler, supportsPassive ? { capture: capture, passive: passive } : capture);\n}\nfunction remove(name, handler, capture, _target) {\n    (_target || target).removeEventListener(name, \n    //@ts-expect-error\n    handler._wrapper || handler, capture);\n}\nfunction updateDOMListeners(oldVnode, vnode) {\n    if (isUndef(oldVnode.data.on) && isUndef(vnode.data.on)) {\n        return;\n    }\n    var on = vnode.data.on || {};\n    var oldOn = oldVnode.data.on || {};\n    // vnode is empty when removing all listeners,\n    // and use old vnode dom element\n    target = vnode.elm || oldVnode.elm;\n    normalizeEvents(on);\n    updateListeners(on, oldOn, add, remove, createOnceHandler, vnode.context);\n    target = undefined;\n}\nvar events = {\n    create: updateDOMListeners,\n    update: updateDOMListeners,\n    // @ts-expect-error emptyNode has actually data\n    destroy: function (vnode) { return updateDOMListeners(vnode, emptyNode); }\n};\n\nvar svgContainer;\nfunction updateDOMProps(oldVnode, vnode) {\n    if (isUndef(oldVnode.data.domProps) && isUndef(vnode.data.domProps)) {\n        return;\n    }\n    var key, cur;\n    var elm = vnode.elm;\n    var oldProps = oldVnode.data.domProps || {};\n    var props = vnode.data.domProps || {};\n    // clone observed objects, as the user probably wants to mutate it\n    if (isDef(props.__ob__) || isTrue(props._v_attr_proxy)) {\n        props = vnode.data.domProps = extend({}, props);\n    }\n    for (key in oldProps) {\n        if (!(key in props)) {\n            elm[key] = '';\n        }\n    }\n    for (key in props) {\n        cur = props[key];\n        // ignore children if the node has textContent or innerHTML,\n        // as these will throw away existing DOM nodes and cause removal errors\n        // on subsequent patches (#3360)\n        if (key === 'textContent' || key === 'innerHTML') {\n            if (vnode.children)\n                vnode.children.length = 0;\n            if (cur === oldProps[key])\n                continue;\n            // #6601 work around Chrome version <= 55 bug where single textNode\n            // replaced by innerHTML/textContent retains its parentNode property\n            if (elm.childNodes.length === 1) {\n                elm.removeChild(elm.childNodes[0]);\n            }\n        }\n        if (key === 'value' && elm.tagName !== 'PROGRESS') {\n            // store value as _value as well since\n            // non-string values will be stringified\n            elm._value = cur;\n            // avoid resetting cursor position when value is the same\n            var strCur = isUndef(cur) ? '' : String(cur);\n            if (shouldUpdateValue(elm, strCur)) {\n                elm.value = strCur;\n            }\n        }\n        else if (key === 'innerHTML' &&\n            isSVG(elm.tagName) &&\n            isUndef(elm.innerHTML)) {\n            // IE doesn't support innerHTML for SVG elements\n            svgContainer = svgContainer || document.createElement('div');\n            svgContainer.innerHTML = \"<svg>\".concat(cur, \"</svg>\");\n            var svg = svgContainer.firstChild;\n            while (elm.firstChild) {\n                elm.removeChild(elm.firstChild);\n            }\n            while (svg.firstChild) {\n                elm.appendChild(svg.firstChild);\n            }\n        }\n        else if (\n        // skip the update if old and new VDOM state is the same.\n        // `value` is handled separately because the DOM value may be temporarily\n        // out of sync with VDOM state due to focus, composition and modifiers.\n        // This  #4521 by skipping the unnecessary `checked` update.\n        cur !== oldProps[key]) {\n            // some property updates can throw\n            // e.g. `value` on <progress> w/ non-finite value\n            try {\n                elm[key] = cur;\n            }\n            catch (e) { }\n        }\n    }\n}\nfunction shouldUpdateValue(elm, checkVal) {\n    return (\n    //@ts-expect-error\n    !elm.composing &&\n        (elm.tagName === 'OPTION' ||\n            isNotInFocusAndDirty(elm, checkVal) ||\n            isDirtyWithModifiers(elm, checkVal)));\n}\nfunction isNotInFocusAndDirty(elm, checkVal) {\n    // return true when textbox (.number and .trim) loses focus and its value is\n    // not equal to the updated value\n    var notInFocus = true;\n    // #6157\n    // work around IE bug when accessing document.activeElement in an iframe\n    try {\n        notInFocus = document.activeElement !== elm;\n    }\n    catch (e) { }\n    return notInFocus && elm.value !== checkVal;\n}\nfunction isDirtyWithModifiers(elm, newVal) {\n    var value = elm.value;\n    var modifiers = elm._vModifiers; // injected by v-model runtime\n    if (isDef(modifiers)) {\n        if (modifiers.number) {\n            return toNumber(value) !== toNumber(newVal);\n        }\n        if (modifiers.trim) {\n            return value.trim() !== newVal.trim();\n        }\n    }\n    return value !== newVal;\n}\nvar domProps = {\n    create: updateDOMProps,\n    update: updateDOMProps\n};\n\nvar parseStyleText = cached(function (cssText) {\n    var res = {};\n    var listDelimiter = /;(?![^(]*\\))/g;\n    var propertyDelimiter = /:(.+)/;\n    cssText.split(listDelimiter).forEach(function (item) {\n        if (item) {\n            var tmp = item.split(propertyDelimiter);\n            tmp.length > 1 && (res[tmp[0].trim()] = tmp[1].trim());\n        }\n    });\n    return res;\n});\n// merge static and dynamic style data on the same vnode\nfunction normalizeStyleData(data) {\n    var style = normalizeStyleBinding(data.style);\n    // static style is pre-processed into an object during compilation\n    // and is always a fresh object, so it's safe to merge into it\n    return data.staticStyle ? extend(data.staticStyle, style) : style;\n}\n// normalize possible array / string values into Object\nfunction normalizeStyleBinding(bindingStyle) {\n    if (Array.isArray(bindingStyle)) {\n        return toObject(bindingStyle);\n    }\n    if (typeof bindingStyle === 'string') {\n        return parseStyleText(bindingStyle);\n    }\n    return bindingStyle;\n}\n/**\n * parent component style should be after child's\n * so that parent component's style could override it\n */\nfunction getStyle(vnode, checkChild) {\n    var res = {};\n    var styleData;\n    if (checkChild) {\n        var childNode = vnode;\n        while (childNode.componentInstance) {\n            childNode = childNode.componentInstance._vnode;\n            if (childNode &&\n                childNode.data &&\n                (styleData = normalizeStyleData(childNode.data))) {\n                extend(res, styleData);\n            }\n        }\n    }\n    if ((styleData = normalizeStyleData(vnode.data))) {\n        extend(res, styleData);\n    }\n    var parentNode = vnode;\n    // @ts-expect-error parentNode.parent not VNodeWithData\n    while ((parentNode = parentNode.parent)) {\n        if (parentNode.data && (styleData = normalizeStyleData(parentNode.data))) {\n            extend(res, styleData);\n        }\n    }\n    return res;\n}\n\nvar cssVarRE = /^--/;\nvar importantRE = /\\s*!important$/;\nvar setProp = function (el, name, val) {\n    /* istanbul ignore if */\n    if (cssVarRE.test(name)) {\n        el.style.setProperty(name, val);\n    }\n    else if (importantRE.test(val)) {\n        el.style.setProperty(hyphenate(name), val.replace(importantRE, ''), 'important');\n    }\n    else {\n        var normalizedName = normalize(name);\n        if (Array.isArray(val)) {\n            // Support values array created by autoprefixer, e.g.\n            // {display: [\"-webkit-box\", \"-ms-flexbox\", \"flex\"]}\n            // Set them one by one, and the browser will only set those it can recognize\n            for (var i = 0, len = val.length; i < len; i++) {\n                el.style[normalizedName] = val[i];\n            }\n        }\n        else {\n            el.style[normalizedName] = val;\n        }\n    }\n};\nvar vendorNames = ['Webkit', 'Moz', 'ms'];\nvar emptyStyle;\nvar normalize = cached(function (prop) {\n    emptyStyle = emptyStyle || document.createElement('div').style;\n    prop = camelize(prop);\n    if (prop !== 'filter' && prop in emptyStyle) {\n        return prop;\n    }\n    var capName = prop.charAt(0).toUpperCase() + prop.slice(1);\n    for (var i = 0; i < vendorNames.length; i++) {\n        var name_1 = vendorNames[i] + capName;\n        if (name_1 in emptyStyle) {\n            return name_1;\n        }\n    }\n});\nfunction updateStyle(oldVnode, vnode) {\n    var data = vnode.data;\n    var oldData = oldVnode.data;\n    if (isUndef(data.staticStyle) &&\n        isUndef(data.style) &&\n        isUndef(oldData.staticStyle) &&\n        isUndef(oldData.style)) {\n        return;\n    }\n    var cur, name;\n    var el = vnode.elm;\n    var oldStaticStyle = oldData.staticStyle;\n    var oldStyleBinding = oldData.normalizedStyle || oldData.style || {};\n    // if static style exists, stylebinding already merged into it when doing normalizeStyleData\n    var oldStyle = oldStaticStyle || oldStyleBinding;\n    var style = normalizeStyleBinding(vnode.data.style) || {};\n    // store normalized style under a different key for next diff\n    // make sure to clone it if it's reactive, since the user likely wants\n    // to mutate it.\n    vnode.data.normalizedStyle = isDef(style.__ob__) ? extend({}, style) : style;\n    var newStyle = getStyle(vnode, true);\n    for (name in oldStyle) {\n        if (isUndef(newStyle[name])) {\n            setProp(el, name, '');\n        }\n    }\n    for (name in newStyle) {\n        cur = newStyle[name];\n        // ie9 setting to null has no effect, must use empty string\n        setProp(el, name, cur == null ? '' : cur);\n    }\n}\nvar style = {\n    create: updateStyle,\n    update: updateStyle\n};\n\nvar whitespaceRE = /\\s+/;\n/**\n * Add class with compatibility for SVG since classList is not supported on\n * SVG elements in IE\n */\nfunction addClass(el, cls) {\n    /* istanbul ignore if */\n    if (!cls || !(cls = cls.trim())) {\n        return;\n    }\n    /* istanbul ignore else */\n    if (el.classList) {\n        if (cls.indexOf(' ') > -1) {\n            cls.split(whitespaceRE).forEach(function (c) { return el.classList.add(c); });\n        }\n        else {\n            el.classList.add(cls);\n        }\n    }\n    else {\n        var cur = \" \".concat(el.getAttribute('class') || '', \" \");\n        if (cur.indexOf(' ' + cls + ' ') < 0) {\n            el.setAttribute('class', (cur + cls).trim());\n        }\n    }\n}\n/**\n * Remove class with compatibility for SVG since classList is not supported on\n * SVG elements in IE\n */\nfunction removeClass(el, cls) {\n    /* istanbul ignore if */\n    if (!cls || !(cls = cls.trim())) {\n        return;\n    }\n    /* istanbul ignore else */\n    if (el.classList) {\n        if (cls.indexOf(' ') > -1) {\n            cls.split(whitespaceRE).forEach(function (c) { return el.classList.remove(c); });\n        }\n        else {\n            el.classList.remove(cls);\n        }\n        if (!el.classList.length) {\n            el.removeAttribute('class');\n        }\n    }\n    else {\n        var cur = \" \".concat(el.getAttribute('class') || '', \" \");\n        var tar = ' ' + cls + ' ';\n        while (cur.indexOf(tar) >= 0) {\n            cur = cur.replace(tar, ' ');\n        }\n        cur = cur.trim();\n        if (cur) {\n            el.setAttribute('class', cur);\n        }\n        else {\n            el.removeAttribute('class');\n        }\n    }\n}\n\nfunction resolveTransition(def) {\n    if (!def) {\n        return;\n    }\n    /* istanbul ignore else */\n    if (typeof def === 'object') {\n        var res = {};\n        if (def.css !== false) {\n            extend(res, autoCssTransition(def.name || 'v'));\n        }\n        extend(res, def);\n        return res;\n    }\n    else if (typeof def === 'string') {\n        return autoCssTransition(def);\n    }\n}\nvar autoCssTransition = cached(function (name) {\n    return {\n        enterClass: \"\".concat(name, \"-enter\"),\n        enterToClass: \"\".concat(name, \"-enter-to\"),\n        enterActiveClass: \"\".concat(name, \"-enter-active\"),\n        leaveClass: \"\".concat(name, \"-leave\"),\n        leaveToClass: \"\".concat(name, \"-leave-to\"),\n        leaveActiveClass: \"\".concat(name, \"-leave-active\")\n    };\n});\nvar hasTransition = inBrowser && !isIE9;\nvar TRANSITION = 'transition';\nvar ANIMATION = 'animation';\n// Transition property/event sniffing\nvar transitionProp = 'transition';\nvar transitionEndEvent = 'transitionend';\nvar animationProp = 'animation';\nvar animationEndEvent = 'animationend';\nif (hasTransition) {\n    /* istanbul ignore if */\n    if (window.ontransitionend === undefined &&\n        window.onwebkittransitionend !== undefined) {\n        transitionProp = 'WebkitTransition';\n        transitionEndEvent = 'webkitTransitionEnd';\n    }\n    if (window.onanimationend === undefined &&\n        window.onwebkitanimationend !== undefined) {\n        animationProp = 'WebkitAnimation';\n        animationEndEvent = 'webkitAnimationEnd';\n    }\n}\n// binding to window is necessary to make hot reload work in IE in strict mode\nvar raf = inBrowser\n    ? window.requestAnimationFrame\n        ? window.requestAnimationFrame.bind(window)\n        : setTimeout\n    : /* istanbul ignore next */ function (/* istanbul ignore next */ fn) { return fn(); };\nfunction nextFrame(fn) {\n    raf(function () {\n        // @ts-expect-error\n        raf(fn);\n    });\n}\nfunction addTransitionClass(el, cls) {\n    var transitionClasses = el._transitionClasses || (el._transitionClasses = []);\n    if (transitionClasses.indexOf(cls) < 0) {\n        transitionClasses.push(cls);\n        addClass(el, cls);\n    }\n}\nfunction removeTransitionClass(el, cls) {\n    if (el._transitionClasses) {\n        remove$2(el._transitionClasses, cls);\n    }\n    removeClass(el, cls);\n}\nfunction whenTransitionEnds(el, expectedType, cb) {\n    var _a = getTransitionInfo(el, expectedType), type = _a.type, timeout = _a.timeout, propCount = _a.propCount;\n    if (!type)\n        return cb();\n    var event = type === TRANSITION ? transitionEndEvent : animationEndEvent;\n    var ended = 0;\n    var end = function () {\n        el.removeEventListener(event, onEnd);\n        cb();\n    };\n    var onEnd = function (e) {\n        if (e.target === el) {\n            if (++ended >= propCount) {\n                end();\n            }\n        }\n    };\n    setTimeout(function () {\n        if (ended < propCount) {\n            end();\n        }\n    }, timeout + 1);\n    el.addEventListener(event, onEnd);\n}\nvar transformRE = /\\b(transform|all)(,|$)/;\nfunction getTransitionInfo(el, expectedType) {\n    var styles = window.getComputedStyle(el);\n    // JSDOM may return undefined for transition properties\n    var transitionDelays = (styles[transitionProp + 'Delay'] || '').split(', ');\n    var transitionDurations = (styles[transitionProp + 'Duration'] || '').split(', ');\n    var transitionTimeout = getTimeout(transitionDelays, transitionDurations);\n    var animationDelays = (styles[animationProp + 'Delay'] || '').split(', ');\n    var animationDurations = (styles[animationProp + 'Duration'] || '').split(', ');\n    var animationTimeout = getTimeout(animationDelays, animationDurations);\n    var type;\n    var timeout = 0;\n    var propCount = 0;\n    /* istanbul ignore if */\n    if (expectedType === TRANSITION) {\n        if (transitionTimeout > 0) {\n            type = TRANSITION;\n            timeout = transitionTimeout;\n            propCount = transitionDurations.length;\n        }\n    }\n    else if (expectedType === ANIMATION) {\n        if (animationTimeout > 0) {\n            type = ANIMATION;\n            timeout = animationTimeout;\n            propCount = animationDurations.length;\n        }\n    }\n    else {\n        timeout = Math.max(transitionTimeout, animationTimeout);\n        type =\n            timeout > 0\n                ? transitionTimeout > animationTimeout\n                    ? TRANSITION\n                    : ANIMATION\n                : null;\n        propCount = type\n            ? type === TRANSITION\n                ? transitionDurations.length\n                : animationDurations.length\n            : 0;\n    }\n    var hasTransform = type === TRANSITION && transformRE.test(styles[transitionProp + 'Property']);\n    return {\n        type: type,\n        timeout: timeout,\n        propCount: propCount,\n        hasTransform: hasTransform\n    };\n}\nfunction getTimeout(delays, durations) {\n    /* istanbul ignore next */\n    while (delays.length < durations.length) {\n        delays = delays.concat(delays);\n    }\n    return Math.max.apply(null, durations.map(function (d, i) {\n        return toMs(d) + toMs(delays[i]);\n    }));\n}\n// Old versions of Chromium (below 61.0.3163.100) formats floating pointer numbers\n// in a locale-dependent way, using a comma instead of a dot.\n// If comma is not replaced with a dot, the input will be rounded down (i.e. acting\n// as a floor function) causing unexpected behaviors\nfunction toMs(s) {\n    return Number(s.slice(0, -1).replace(',', '.')) * 1000;\n}\n\nfunction enter(vnode, toggleDisplay) {\n    var el = vnode.elm;\n    // call leave callback now\n    if (isDef(el._leaveCb)) {\n        el._leaveCb.cancelled = true;\n        el._leaveCb();\n    }\n    var data = resolveTransition(vnode.data.transition);\n    if (isUndef(data)) {\n        return;\n    }\n    /* istanbul ignore if */\n    if (isDef(el._enterCb) || el.nodeType !== 1) {\n        return;\n    }\n    var css = data.css, type = data.type, enterClass = data.enterClass, enterToClass = data.enterToClass, enterActiveClass = data.enterActiveClass, appearClass = data.appearClass, appearToClass = data.appearToClass, appearActiveClass = data.appearActiveClass, beforeEnter = data.beforeEnter, enter = data.enter, afterEnter = data.afterEnter, enterCancelled = data.enterCancelled, beforeAppear = data.beforeAppear, appear = data.appear, afterAppear = data.afterAppear, appearCancelled = data.appearCancelled, duration = data.duration;\n    // activeInstance will always be the <transition> component managing this\n    // transition. One edge case to check is when the <transition> is placed\n    // as the root node of a child component. In that case we need to check\n    // <transition>'s parent for appear check.\n    var context = activeInstance;\n    var transitionNode = activeInstance.$vnode;\n    while (transitionNode && transitionNode.parent) {\n        context = transitionNode.context;\n        transitionNode = transitionNode.parent;\n    }\n    var isAppear = !context._isMounted || !vnode.isRootInsert;\n    if (isAppear && !appear && appear !== '') {\n        return;\n    }\n    var startClass = isAppear && appearClass ? appearClass : enterClass;\n    var activeClass = isAppear && appearActiveClass ? appearActiveClass : enterActiveClass;\n    var toClass = isAppear && appearToClass ? appearToClass : enterToClass;\n    var beforeEnterHook = isAppear ? beforeAppear || beforeEnter : beforeEnter;\n    var enterHook = isAppear ? (isFunction(appear) ? appear : enter) : enter;\n    var afterEnterHook = isAppear ? afterAppear || afterEnter : afterEnter;\n    var enterCancelledHook = isAppear\n        ? appearCancelled || enterCancelled\n        : enterCancelled;\n    var explicitEnterDuration = toNumber(isObject(duration) ? duration.enter : duration);\n    if (process.env.NODE_ENV !== 'production' && explicitEnterDuration != null) {\n        checkDuration(explicitEnterDuration, 'enter', vnode);\n    }\n    var expectsCSS = css !== false && !isIE9;\n    var userWantsControl = getHookArgumentsLength(enterHook);\n    var cb = (el._enterCb = once(function () {\n        if (expectsCSS) {\n            removeTransitionClass(el, toClass);\n            removeTransitionClass(el, activeClass);\n        }\n        // @ts-expect-error\n        if (cb.cancelled) {\n            if (expectsCSS) {\n                removeTransitionClass(el, startClass);\n            }\n            enterCancelledHook && enterCancelledHook(el);\n        }\n        else {\n            afterEnterHook && afterEnterHook(el);\n        }\n        el._enterCb = null;\n    }));\n    if (!vnode.data.show) {\n        // remove pending leave element on enter by injecting an insert hook\n        mergeVNodeHook(vnode, 'insert', function () {\n            var parent = el.parentNode;\n            var pendingNode = parent && parent._pending && parent._pending[vnode.key];\n            if (pendingNode &&\n                pendingNode.tag === vnode.tag &&\n                pendingNode.elm._leaveCb) {\n                pendingNode.elm._leaveCb();\n            }\n            enterHook && enterHook(el, cb);\n        });\n    }\n    // start enter transition\n    beforeEnterHook && beforeEnterHook(el);\n    if (expectsCSS) {\n        addTransitionClass(el, startClass);\n        addTransitionClass(el, activeClass);\n        nextFrame(function () {\n            removeTransitionClass(el, startClass);\n            // @ts-expect-error\n            if (!cb.cancelled) {\n                addTransitionClass(el, toClass);\n                if (!userWantsControl) {\n                    if (isValidDuration(explicitEnterDuration)) {\n                        setTimeout(cb, explicitEnterDuration);\n                    }\n                    else {\n                        whenTransitionEnds(el, type, cb);\n                    }\n                }\n            }\n        });\n    }\n    if (vnode.data.show) {\n        toggleDisplay && toggleDisplay();\n        enterHook && enterHook(el, cb);\n    }\n    if (!expectsCSS && !userWantsControl) {\n        cb();\n    }\n}\nfunction leave(vnode, rm) {\n    var el = vnode.elm;\n    // call enter callback now\n    if (isDef(el._enterCb)) {\n        el._enterCb.cancelled = true;\n        el._enterCb();\n    }\n    var data = resolveTransition(vnode.data.transition);\n    if (isUndef(data) || el.nodeType !== 1) {\n        return rm();\n    }\n    /* istanbul ignore if */\n    if (isDef(el._leaveCb)) {\n        return;\n    }\n    var css = data.css, type = data.type, leaveClass = data.leaveClass, leaveToClass = data.leaveToClass, leaveActiveClass = data.leaveActiveClass, beforeLeave = data.beforeLeave, leave = data.leave, afterLeave = data.afterLeave, leaveCancelled = data.leaveCancelled, delayLeave = data.delayLeave, duration = data.duration;\n    var expectsCSS = css !== false && !isIE9;\n    var userWantsControl = getHookArgumentsLength(leave);\n    var explicitLeaveDuration = toNumber(isObject(duration) ? duration.leave : duration);\n    if (process.env.NODE_ENV !== 'production' && isDef(explicitLeaveDuration)) {\n        checkDuration(explicitLeaveDuration, 'leave', vnode);\n    }\n    var cb = (el._leaveCb = once(function () {\n        if (el.parentNode && el.parentNode._pending) {\n            el.parentNode._pending[vnode.key] = null;\n        }\n        if (expectsCSS) {\n            removeTransitionClass(el, leaveToClass);\n            removeTransitionClass(el, leaveActiveClass);\n        }\n        // @ts-expect-error\n        if (cb.cancelled) {\n            if (expectsCSS) {\n                removeTransitionClass(el, leaveClass);\n            }\n            leaveCancelled && leaveCancelled(el);\n        }\n        else {\n            rm();\n            afterLeave && afterLeave(el);\n        }\n        el._leaveCb = null;\n    }));\n    if (delayLeave) {\n        delayLeave(performLeave);\n    }\n    else {\n        performLeave();\n    }\n    function performLeave() {\n        // the delayed leave may have already been cancelled\n        // @ts-expect-error\n        if (cb.cancelled) {\n            return;\n        }\n        // record leaving element\n        if (!vnode.data.show && el.parentNode) {\n            (el.parentNode._pending || (el.parentNode._pending = {}))[vnode.key] =\n                vnode;\n        }\n        beforeLeave && beforeLeave(el);\n        if (expectsCSS) {\n            addTransitionClass(el, leaveClass);\n            addTransitionClass(el, leaveActiveClass);\n            nextFrame(function () {\n                removeTransitionClass(el, leaveClass);\n                // @ts-expect-error\n                if (!cb.cancelled) {\n                    addTransitionClass(el, leaveToClass);\n                    if (!userWantsControl) {\n                        if (isValidDuration(explicitLeaveDuration)) {\n                            setTimeout(cb, explicitLeaveDuration);\n                        }\n                        else {\n                            whenTransitionEnds(el, type, cb);\n                        }\n                    }\n                }\n            });\n        }\n        leave && leave(el, cb);\n        if (!expectsCSS && !userWantsControl) {\n            cb();\n        }\n    }\n}\n// only used in dev mode\nfunction checkDuration(val, name, vnode) {\n    if (typeof val !== 'number') {\n        warn(\"<transition> explicit \".concat(name, \" duration is not a valid number - \") +\n            \"got \".concat(JSON.stringify(val), \".\"), vnode.context);\n    }\n    else if (isNaN(val)) {\n        warn(\"<transition> explicit \".concat(name, \" duration is NaN - \") +\n            'the duration expression might be incorrect.', vnode.context);\n    }\n}\nfunction isValidDuration(val) {\n    return typeof val === 'number' && !isNaN(val);\n}\n/**\n * Normalize a transition hook's argument length. The hook may be:\n * - a merged hook (invoker) with the original in .fns\n * - a wrapped component method (check ._length)\n * - a plain function (.length)\n */\nfunction getHookArgumentsLength(fn) {\n    if (isUndef(fn)) {\n        return false;\n    }\n    // @ts-expect-error\n    var invokerFns = fn.fns;\n    if (isDef(invokerFns)) {\n        // invoker\n        return getHookArgumentsLength(Array.isArray(invokerFns) ? invokerFns[0] : invokerFns);\n    }\n    else {\n        // @ts-expect-error\n        return (fn._length || fn.length) > 1;\n    }\n}\nfunction _enter(_, vnode) {\n    if (vnode.data.show !== true) {\n        enter(vnode);\n    }\n}\nvar transition = inBrowser\n    ? {\n        create: _enter,\n        activate: _enter,\n        remove: function (vnode, rm) {\n            /* istanbul ignore else */\n            if (vnode.data.show !== true) {\n                // @ts-expect-error\n                leave(vnode, rm);\n            }\n            else {\n                rm();\n            }\n        }\n    }\n    : {};\n\nvar platformModules = [attrs, klass, events, domProps, style, transition];\n\n// the directive module should be applied last, after all\n// built-in modules have been applied.\nvar modules = platformModules.concat(baseModules);\nvar patch = createPatchFunction({ nodeOps: nodeOps, modules: modules });\n\n/**\n * Not type checking this file because flow doesn't like attaching\n * properties to Elements.\n */\n/* istanbul ignore if */\nif (isIE9) {\n    // http://www.matts411.com/post/internet-explorer-9-oninput/\n    document.addEventListener('selectionchange', function () {\n        var el = document.activeElement;\n        // @ts-expect-error\n        if (el && el.vmodel) {\n            trigger(el, 'input');\n        }\n    });\n}\nvar directive = {\n    inserted: function (el, binding, vnode, oldVnode) {\n        if (vnode.tag === 'select') {\n            // #6903\n            if (oldVnode.elm && !oldVnode.elm._vOptions) {\n                mergeVNodeHook(vnode, 'postpatch', function () {\n                    directive.componentUpdated(el, binding, vnode);\n                });\n            }\n            else {\n                setSelected(el, binding, vnode.context);\n            }\n            el._vOptions = [].map.call(el.options, getValue);\n        }\n        else if (vnode.tag === 'textarea' || isTextInputType(el.type)) {\n            el._vModifiers = binding.modifiers;\n            if (!binding.modifiers.lazy) {\n                el.addEventListener('compositionstart', onCompositionStart);\n                el.addEventListener('compositionend', onCompositionEnd);\n                // Safari < 10.2 & UIWebView doesn't fire compositionend when\n                // switching focus before confirming composition choice\n                // this also fixes the issue where some browsers e.g. iOS Chrome\n                // fires \"change\" instead of \"input\" on autocomplete.\n                el.addEventListener('change', onCompositionEnd);\n                /* istanbul ignore if */\n                if (isIE9) {\n                    el.vmodel = true;\n                }\n            }\n        }\n    },\n    componentUpdated: function (el, binding, vnode) {\n        if (vnode.tag === 'select') {\n            setSelected(el, binding, vnode.context);\n            // in case the options rendered by v-for have changed,\n            // it's possible that the value is out-of-sync with the rendered options.\n            // detect such cases and filter out values that no longer has a matching\n            // option in the DOM.\n            var prevOptions_1 = el._vOptions;\n            var curOptions_1 = (el._vOptions = [].map.call(el.options, getValue));\n            if (curOptions_1.some(function (o, i) { return !looseEqual(o, prevOptions_1[i]); })) {\n                // trigger change event if\n                // no matching option found for at least one value\n                var needReset = el.multiple\n                    ? binding.value.some(function (v) { return hasNoMatchingOption(v, curOptions_1); })\n                    : binding.value !== binding.oldValue &&\n                        hasNoMatchingOption(binding.value, curOptions_1);\n                if (needReset) {\n                    trigger(el, 'change');\n                }\n            }\n        }\n    }\n};\nfunction setSelected(el, binding, vm) {\n    actuallySetSelected(el, binding, vm);\n    /* istanbul ignore if */\n    if (isIE || isEdge) {\n        setTimeout(function () {\n            actuallySetSelected(el, binding, vm);\n        }, 0);\n    }\n}\nfunction actuallySetSelected(el, binding, vm) {\n    var value = binding.value;\n    var isMultiple = el.multiple;\n    if (isMultiple && !Array.isArray(value)) {\n        process.env.NODE_ENV !== 'production' &&\n            warn(\"<select multiple v-model=\\\"\".concat(binding.expression, \"\\\"> \") +\n                \"expects an Array value for its binding, but got \".concat(Object.prototype.toString\n                    .call(value)\n                    .slice(8, -1)), vm);\n        return;\n    }\n    var selected, option;\n    for (var i = 0, l = el.options.length; i < l; i++) {\n        option = el.options[i];\n        if (isMultiple) {\n            selected = looseIndexOf(value, getValue(option)) > -1;\n            if (option.selected !== selected) {\n                option.selected = selected;\n            }\n        }\n        else {\n            if (looseEqual(getValue(option), value)) {\n                if (el.selectedIndex !== i) {\n                    el.selectedIndex = i;\n                }\n                return;\n            }\n        }\n    }\n    if (!isMultiple) {\n        el.selectedIndex = -1;\n    }\n}\nfunction hasNoMatchingOption(value, options) {\n    return options.every(function (o) { return !looseEqual(o, value); });\n}\nfunction getValue(option) {\n    return '_value' in option ? option._value : option.value;\n}\nfunction onCompositionStart(e) {\n    e.target.composing = true;\n}\nfunction onCompositionEnd(e) {\n    // prevent triggering an input event for no reason\n    if (!e.target.composing)\n        return;\n    e.target.composing = false;\n    trigger(e.target, 'input');\n}\nfunction trigger(el, type) {\n    var e = document.createEvent('HTMLEvents');\n    e.initEvent(type, true, true);\n    el.dispatchEvent(e);\n}\n\n// recursively search for possible transition defined inside the component root\nfunction locateNode(vnode) {\n    // @ts-expect-error\n    return vnode.componentInstance && (!vnode.data || !vnode.data.transition)\n        ? locateNode(vnode.componentInstance._vnode)\n        : vnode;\n}\nvar show = {\n    bind: function (el, _a, vnode) {\n        var value = _a.value;\n        vnode = locateNode(vnode);\n        var transition = vnode.data && vnode.data.transition;\n        var originalDisplay = (el.__vOriginalDisplay =\n            el.style.display === 'none' ? '' : el.style.display);\n        if (value && transition) {\n            vnode.data.show = true;\n            enter(vnode, function () {\n                el.style.display = originalDisplay;\n            });\n        }\n        else {\n            el.style.display = value ? originalDisplay : 'none';\n        }\n    },\n    update: function (el, _a, vnode) {\n        var value = _a.value, oldValue = _a.oldValue;\n        /* istanbul ignore if */\n        if (!value === !oldValue)\n            return;\n        vnode = locateNode(vnode);\n        var transition = vnode.data && vnode.data.transition;\n        if (transition) {\n            vnode.data.show = true;\n            if (value) {\n                enter(vnode, function () {\n                    el.style.display = el.__vOriginalDisplay;\n                });\n            }\n            else {\n                leave(vnode, function () {\n                    el.style.display = 'none';\n                });\n            }\n        }\n        else {\n            el.style.display = value ? el.__vOriginalDisplay : 'none';\n        }\n    },\n    unbind: function (el, binding, vnode, oldVnode, isDestroy) {\n        if (!isDestroy) {\n            el.style.display = el.__vOriginalDisplay;\n        }\n    }\n};\n\nvar platformDirectives = {\n    model: directive,\n    show: show\n};\n\n// Provides transition support for a single element/component.\nvar transitionProps = {\n    name: String,\n    appear: Boolean,\n    css: Boolean,\n    mode: String,\n    type: String,\n    enterClass: String,\n    leaveClass: String,\n    enterToClass: String,\n    leaveToClass: String,\n    enterActiveClass: String,\n    leaveActiveClass: String,\n    appearClass: String,\n    appearActiveClass: String,\n    appearToClass: String,\n    duration: [Number, String, Object]\n};\n// in case the child is also an abstract component, e.g. <keep-alive>\n// we want to recursively retrieve the real component to be rendered\nfunction getRealChild(vnode) {\n    var compOptions = vnode && vnode.componentOptions;\n    if (compOptions && compOptions.Ctor.options.abstract) {\n        return getRealChild(getFirstComponentChild(compOptions.children));\n    }\n    else {\n        return vnode;\n    }\n}\nfunction extractTransitionData(comp) {\n    var data = {};\n    var options = comp.$options;\n    // props\n    for (var key in options.propsData) {\n        data[key] = comp[key];\n    }\n    // events.\n    // extract listeners and pass them directly to the transition methods\n    var listeners = options._parentListeners;\n    for (var key in listeners) {\n        data[camelize(key)] = listeners[key];\n    }\n    return data;\n}\nfunction placeholder(h, rawChild) {\n    // @ts-expect-error\n    if (/\\d-keep-alive$/.test(rawChild.tag)) {\n        return h('keep-alive', {\n            props: rawChild.componentOptions.propsData\n        });\n    }\n}\nfunction hasParentTransition(vnode) {\n    while ((vnode = vnode.parent)) {\n        if (vnode.data.transition) {\n            return true;\n        }\n    }\n}\nfunction isSameChild(child, oldChild) {\n    return oldChild.key === child.key && oldChild.tag === child.tag;\n}\nvar isNotTextNode = function (c) { return c.tag || isAsyncPlaceholder(c); };\nvar isVShowDirective = function (d) { return d.name === 'show'; };\nvar Transition = {\n    name: 'transition',\n    props: transitionProps,\n    abstract: true,\n    render: function (h) {\n        var _this = this;\n        var children = this.$slots.default;\n        if (!children) {\n            return;\n        }\n        // filter out text nodes (possible whitespaces)\n        children = children.filter(isNotTextNode);\n        /* istanbul ignore if */\n        if (!children.length) {\n            return;\n        }\n        // warn multiple elements\n        if (process.env.NODE_ENV !== 'production' && children.length > 1) {\n            warn('<transition> can only be used on a single element. Use ' +\n                '<transition-group> for lists.', this.$parent);\n        }\n        var mode = this.mode;\n        // warn invalid mode\n        if (process.env.NODE_ENV !== 'production' && mode && mode !== 'in-out' && mode !== 'out-in') {\n            warn('invalid <transition> mode: ' + mode, this.$parent);\n        }\n        var rawChild = children[0];\n        // if this is a component root node and the component's\n        // parent container node also has transition, skip.\n        if (hasParentTransition(this.$vnode)) {\n            return rawChild;\n        }\n        // apply transition data to child\n        // use getRealChild() to ignore abstract components e.g. keep-alive\n        var child = getRealChild(rawChild);\n        /* istanbul ignore if */\n        if (!child) {\n            return rawChild;\n        }\n        if (this._leaving) {\n            return placeholder(h, rawChild);\n        }\n        // ensure a key that is unique to the vnode type and to this transition\n        // component instance. This key will be used to remove pending leaving nodes\n        // during entering.\n        var id = \"__transition-\".concat(this._uid, \"-\");\n        child.key =\n            child.key == null\n                ? child.isComment\n                    ? id + 'comment'\n                    : id + child.tag\n                : isPrimitive(child.key)\n                    ? String(child.key).indexOf(id) === 0\n                        ? child.key\n                        : id + child.key\n                    : child.key;\n        var data = ((child.data || (child.data = {})).transition =\n            extractTransitionData(this));\n        var oldRawChild = this._vnode;\n        var oldChild = getRealChild(oldRawChild);\n        // mark v-show\n        // so that the transition module can hand over the control to the directive\n        if (child.data.directives && child.data.directives.some(isVShowDirective)) {\n            child.data.show = true;\n        }\n        if (oldChild &&\n            oldChild.data &&\n            !isSameChild(child, oldChild) &&\n            !isAsyncPlaceholder(oldChild) &&\n            // #6687 component root is a comment node\n            !(oldChild.componentInstance &&\n                oldChild.componentInstance._vnode.isComment)) {\n            // replace old child transition data with fresh one\n            // important for dynamic transitions!\n            var oldData = (oldChild.data.transition = extend({}, data));\n            // handle transition mode\n            if (mode === 'out-in') {\n                // return placeholder node and queue update when leave finishes\n                this._leaving = true;\n                mergeVNodeHook(oldData, 'afterLeave', function () {\n                    _this._leaving = false;\n                    _this.$forceUpdate();\n                });\n                return placeholder(h, rawChild);\n            }\n            else if (mode === 'in-out') {\n                if (isAsyncPlaceholder(child)) {\n                    return oldRawChild;\n                }\n                var delayedLeave_1;\n                var performLeave = function () {\n                    delayedLeave_1();\n                };\n                mergeVNodeHook(data, 'afterEnter', performLeave);\n                mergeVNodeHook(data, 'enterCancelled', performLeave);\n                mergeVNodeHook(oldData, 'delayLeave', function (leave) {\n                    delayedLeave_1 = leave;\n                });\n            }\n        }\n        return rawChild;\n    }\n};\n\n// Provides transition support for list items.\nvar props = extend({\n    tag: String,\n    moveClass: String\n}, transitionProps);\ndelete props.mode;\nvar TransitionGroup = {\n    props: props,\n    beforeMount: function () {\n        var _this = this;\n        var update = this._update;\n        this._update = function (vnode, hydrating) {\n            var restoreActiveInstance = setActiveInstance(_this);\n            // force removing pass\n            _this.__patch__(_this._vnode, _this.kept, false, // hydrating\n            true // removeOnly (!important, avoids unnecessary moves)\n            );\n            _this._vnode = _this.kept;\n            restoreActiveInstance();\n            update.call(_this, vnode, hydrating);\n        };\n    },\n    render: function (h) {\n        var tag = this.tag || this.$vnode.data.tag || 'span';\n        var map = Object.create(null);\n        var prevChildren = (this.prevChildren = this.children);\n        var rawChildren = this.$slots.default || [];\n        var children = (this.children = []);\n        var transitionData = extractTransitionData(this);\n        for (var i = 0; i < rawChildren.length; i++) {\n            var c = rawChildren[i];\n            if (c.tag) {\n                if (c.key != null && String(c.key).indexOf('__vlist') !== 0) {\n                    children.push(c);\n                    map[c.key] = c;\n                    (c.data || (c.data = {})).transition = transitionData;\n                }\n                else if (process.env.NODE_ENV !== 'production') {\n                    var opts = c.componentOptions;\n                    var name_1 = opts\n                        ? getComponentName(opts.Ctor.options) || opts.tag || ''\n                        : c.tag;\n                    warn(\"<transition-group> children must be keyed: <\".concat(name_1, \">\"));\n                }\n            }\n        }\n        if (prevChildren) {\n            var kept = [];\n            var removed = [];\n            for (var i = 0; i < prevChildren.length; i++) {\n                var c = prevChildren[i];\n                c.data.transition = transitionData;\n                // @ts-expect-error .getBoundingClientRect is not typed in Node\n                c.data.pos = c.elm.getBoundingClientRect();\n                if (map[c.key]) {\n                    kept.push(c);\n                }\n                else {\n                    removed.push(c);\n                }\n            }\n            this.kept = h(tag, null, kept);\n            this.removed = removed;\n        }\n        return h(tag, null, children);\n    },\n    updated: function () {\n        var children = this.prevChildren;\n        var moveClass = this.moveClass || (this.name || 'v') + '-move';\n        if (!children.length || !this.hasMove(children[0].elm, moveClass)) {\n            return;\n        }\n        // we divide the work into three loops to avoid mixing DOM reads and writes\n        // in each iteration - which helps prevent layout thrashing.\n        children.forEach(callPendingCbs);\n        children.forEach(recordPosition);\n        children.forEach(applyTranslation);\n        // force reflow to put everything in position\n        // assign to this to avoid being removed in tree-shaking\n        // $flow-disable-line\n        this._reflow = document.body.offsetHeight;\n        children.forEach(function (c) {\n            if (c.data.moved) {\n                var el_1 = c.elm;\n                var s = el_1.style;\n                addTransitionClass(el_1, moveClass);\n                s.transform = s.WebkitTransform = s.transitionDuration = '';\n                el_1.addEventListener(transitionEndEvent, (el_1._moveCb = function cb(e) {\n                    if (e && e.target !== el_1) {\n                        return;\n                    }\n                    if (!e || /transform$/.test(e.propertyName)) {\n                        el_1.removeEventListener(transitionEndEvent, cb);\n                        el_1._moveCb = null;\n                        removeTransitionClass(el_1, moveClass);\n                    }\n                }));\n            }\n        });\n    },\n    methods: {\n        hasMove: function (el, moveClass) {\n            /* istanbul ignore if */\n            if (!hasTransition) {\n                return false;\n            }\n            /* istanbul ignore if */\n            if (this._hasMove) {\n                return this._hasMove;\n            }\n            // Detect whether an element with the move class applied has\n            // CSS transitions. Since the element may be inside an entering\n            // transition at this very moment, we make a clone of it and remove\n            // all other transition classes applied to ensure only the move class\n            // is applied.\n            var clone = el.cloneNode();\n            if (el._transitionClasses) {\n                el._transitionClasses.forEach(function (cls) {\n                    removeClass(clone, cls);\n                });\n            }\n            addClass(clone, moveClass);\n            clone.style.display = 'none';\n            this.$el.appendChild(clone);\n            var info = getTransitionInfo(clone);\n            this.$el.removeChild(clone);\n            return (this._hasMove = info.hasTransform);\n        }\n    }\n};\nfunction callPendingCbs(c) {\n    /* istanbul ignore if */\n    if (c.elm._moveCb) {\n        c.elm._moveCb();\n    }\n    /* istanbul ignore if */\n    if (c.elm._enterCb) {\n        c.elm._enterCb();\n    }\n}\nfunction recordPosition(c) {\n    c.data.newPos = c.elm.getBoundingClientRect();\n}\nfunction applyTranslation(c) {\n    var oldPos = c.data.pos;\n    var newPos = c.data.newPos;\n    var dx = oldPos.left - newPos.left;\n    var dy = oldPos.top - newPos.top;\n    if (dx || dy) {\n        c.data.moved = true;\n        var s = c.elm.style;\n        s.transform = s.WebkitTransform = \"translate(\".concat(dx, \"px,\").concat(dy, \"px)\");\n        s.transitionDuration = '0s';\n    }\n}\n\nvar platformComponents = {\n    Transition: Transition,\n    TransitionGroup: TransitionGroup\n};\n\n// install platform specific utils\nVue.config.mustUseProp = mustUseProp;\nVue.config.isReservedTag = isReservedTag;\nVue.config.isReservedAttr = isReservedAttr;\nVue.config.getTagNamespace = getTagNamespace;\nVue.config.isUnknownElement = isUnknownElement;\n// install platform runtime directives & components\nextend(Vue.options.directives, platformDirectives);\nextend(Vue.options.components, platformComponents);\n// install platform patch function\nVue.prototype.__patch__ = inBrowser ? patch : noop;\n// public mount method\nVue.prototype.$mount = function (el, hydrating) {\n    el = el && inBrowser ? query(el) : undefined;\n    return mountComponent(this, el, hydrating);\n};\n// devtools global hook\n/* istanbul ignore next */\nif (inBrowser) {\n    setTimeout(function () {\n        if (config.devtools) {\n            if (devtools) {\n                devtools.emit('init', Vue);\n            }\n            else if (process.env.NODE_ENV !== 'production' && process.env.NODE_ENV !== 'test') {\n                // @ts-expect-error\n                console[console.info ? 'info' : 'log']('Download the Vue Devtools extension for a better development experience:\\n' +\n                    'https://github.com/vuejs/vue-devtools');\n            }\n        }\n        if (process.env.NODE_ENV !== 'production' &&\n            process.env.NODE_ENV !== 'test' &&\n            config.productionTip !== false &&\n            typeof console !== 'undefined') {\n            // @ts-expect-error\n            console[console.info ? 'info' : 'log'](\"You are running Vue in development mode.\\n\" +\n                \"Make sure to turn on production mode when deploying for production.\\n\" +\n                \"See more tips at https://vuejs.org/guide/deployment.html\");\n        }\n    }, 0);\n}\n\nexport { EffectScope, computed, customRef, Vue as default, defineAsyncComponent, defineComponent, del, effectScope, getCurrentInstance, getCurrentScope, h, inject, isProxy, isReactive, isReadonly, isRef, isShallow, markRaw, mergeDefaults, nextTick, onActivated, onBeforeMount, onBeforeUnmount, onBeforeUpdate, onDeactivated, onErrorCaptured, onMounted, onRenderTracked, onRenderTriggered, onScopeDispose, onServerPrefetch, onUnmounted, onUpdated, provide, proxyRefs, reactive, readonly, ref$1 as ref, set, shallowReactive, shallowReadonly, shallowRef, toRaw, toRef, toRefs, triggerRef, unref, useAttrs, useCssModule, useCssVars, useListeners, useSlots, version, watch, watchEffect, watchPostEffect, watchSyncEffect };\n","'use strict';\nvar toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\n\nvar max = Math.max;\nvar min = Math.min;\n\n// Helper for a popular repeating case of the spec:\n// Let integer be ? ToInteger(index).\n// If integer < 0, let result be max((length + integer), 0); else let result be min(integer, length).\nmodule.exports = function (index, length) {\n  var integer = toIntegerOrInfinity(index);\n  return integer < 0 ? max(integer + length, 0) : min(integer, length);\n};\n","'use strict';\nvar store = require('../internals/shared-store');\n\nmodule.exports = function (key, value) {\n  return store[key] || (store[key] = value || {});\n};\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\nvar createElement = require('../internals/document-create-element');\n\n// Thanks to IE8 for its funny defineProperty\nmodule.exports = !DESCRIPTORS && !fails(function () {\n  // eslint-disable-next-line es/no-object-defineproperty -- required for testing\n  return Object.defineProperty(createElement('div'), 'a', {\n    get: function () { return 7; }\n  }).a !== 7;\n});\n","'use strict';\nvar aCallable = require('../internals/a-callable');\nvar isNullOrUndefined = require('../internals/is-null-or-undefined');\n\n// `GetMethod` abstract operation\n// https://tc39.es/ecma262/#sec-getmethod\nmodule.exports = function (V, P) {\n  var func = V[P];\n  return isNullOrUndefined(func) ? undefined : aCallable(func);\n};\n","'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this-clause');\nvar aCallable = require('../internals/a-callable');\nvar NATIVE_BIND = require('../internals/function-bind-native');\n\nvar bind = uncurryThis(uncurryThis.bind);\n\n// optional / simple context binding\nmodule.exports = function (fn, that) {\n  aCallable(fn);\n  return that === undefined ? fn : NATIVE_BIND ? bind(fn, that) : function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n","'use strict';\nvar shared = require('../internals/shared');\nvar uid = require('../internals/uid');\n\nvar keys = shared('keys');\n\nmodule.exports = function (key) {\n  return keys[key] || (keys[key] = uid(key));\n};\n","'use strict';\nvar toLength = require('../internals/to-length');\n\n// `LengthOfArrayLike` abstract operation\n// https://tc39.es/ecma262/#sec-lengthofarraylike\nmodule.exports = function (obj) {\n  return toLength(obj.length);\n};\n","'use strict';\nmodule.exports = {};\n","'use strict';\nvar defineBuiltIn = require('../internals/define-built-in');\n\nmodule.exports = function (target, src, options) {\n  for (var key in src) defineBuiltIn(target, key, src[key], options);\n  return target;\n};\n","'use strict';\nvar anObject = require('../internals/an-object');\nvar iteratorClose = require('../internals/iterator-close');\n\n// call something on iterator step with safe closing on error\nmodule.exports = function (iterator, fn, value, ENTRIES) {\n  try {\n    return ENTRIES ? fn(anObject(value)[0], value[1]) : fn(value);\n  } catch (error) {\n    iteratorClose(iterator, 'throw', error);\n  }\n};\n","'use strict';\nmodule.exports = false;\n","'use strict';\nvar globalThis = require('../internals/global-this');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar defineBuiltIn = require('../internals/define-built-in');\nvar defineGlobalProperty = require('../internals/define-global-property');\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\nvar isForced = require('../internals/is-forced');\n\n/*\n  options.target         - name of the target object\n  options.global         - target is the global object\n  options.stat           - export as static methods of target\n  options.proto          - export as prototype methods of target\n  options.real           - real prototype method for the `pure` version\n  options.forced         - export even if the native feature is available\n  options.bind           - bind methods to the target, required for the `pure` version\n  options.wrap           - wrap constructors to preventing global pollution, required for the `pure` version\n  options.unsafe         - use the simple assignment of property instead of delete + defineProperty\n  options.sham           - add a flag to not completely full polyfills\n  options.enumerable     - export as enumerable property\n  options.dontCallGetSet - prevent calling a getter on target\n  options.name           - the .name of the function if it does not match the key\n*/\nmodule.exports = function (options, source) {\n  var TARGET = options.target;\n  var GLOBAL = options.global;\n  var STATIC = options.stat;\n  var FORCED, target, key, targetProperty, sourceProperty, descriptor;\n  if (GLOBAL) {\n    target = globalThis;\n  } else if (STATIC) {\n    target = globalThis[TARGET] || defineGlobalProperty(TARGET, {});\n  } else {\n    target = globalThis[TARGET] && globalThis[TARGET].prototype;\n  }\n  if (target) for (key in source) {\n    sourceProperty = source[key];\n    if (options.dontCallGetSet) {\n      descriptor = getOwnPropertyDescriptor(target, key);\n      targetProperty = descriptor && descriptor.value;\n    } else targetProperty = target[key];\n    FORCED = isForced(GLOBAL ? key : TARGET + (STATIC ? '.' : '#') + key, options.forced);\n    // contained in target\n    if (!FORCED && targetProperty !== undefined) {\n      if (typeof sourceProperty == typeof targetProperty) continue;\n      copyConstructorProperties(sourceProperty, targetProperty);\n    }\n    // add a flag to not completely full polyfills\n    if (options.sham || (targetProperty && targetProperty.sham)) {\n      createNonEnumerableProperty(sourceProperty, 'sham', true);\n    }\n    defineBuiltIn(target, key, sourceProperty, options);\n  }\n};\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar definePropertyModule = require('../internals/object-define-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = DESCRIPTORS ? function (object, key, value) {\n  return definePropertyModule.f(object, key, createPropertyDescriptor(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar V8_PROTOTYPE_DEFINE_BUG = require('../internals/v8-prototype-define-bug');\nvar definePropertyModule = require('../internals/object-define-property');\nvar anObject = require('../internals/an-object');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar objectKeys = require('../internals/object-keys');\n\n// `Object.defineProperties` method\n// https://tc39.es/ecma262/#sec-object.defineproperties\n// eslint-disable-next-line es/no-object-defineproperties -- safe\nexports.f = DESCRIPTORS && !V8_PROTOTYPE_DEFINE_BUG ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var props = toIndexedObject(Properties);\n  var keys = objectKeys(Properties);\n  var length = keys.length;\n  var index = 0;\n  var key;\n  while (length > index) definePropertyModule.f(O, key = keys[index++], props[key]);\n  return O;\n};\n","'use strict';\nvar $String = String;\n\nmodule.exports = function (argument) {\n  try {\n    return $String(argument);\n  } catch (error) {\n    return 'Object';\n  }\n};\n","'use strict';\nvar $TypeError = TypeError;\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF; // 2 ** 53 - 1 == 9007199254740991\n\nmodule.exports = function (it) {\n  if (it > MAX_SAFE_INTEGER) throw $TypeError('Maximum allowed index exceeded');\n  return it;\n};\n","'use strict';\nvar isCallable = require('../internals/is-callable');\nvar definePropertyModule = require('../internals/object-define-property');\nvar makeBuiltIn = require('../internals/make-built-in');\nvar defineGlobalProperty = require('../internals/define-global-property');\n\nmodule.exports = function (O, key, value, options) {\n  if (!options) options = {};\n  var simple = options.enumerable;\n  var name = options.name !== undefined ? options.name : key;\n  if (isCallable(value)) makeBuiltIn(value, name, options);\n  if (options.global) {\n    if (simple) O[key] = value;\n    else defineGlobalProperty(key, value);\n  } else {\n    try {\n      if (!options.unsafe) delete O[key];\n      else if (O[key]) simple = true;\n    } catch (error) { /* empty */ }\n    if (simple) O[key] = value;\n    else definePropertyModule.f(O, key, {\n      value: value,\n      enumerable: false,\n      configurable: !options.nonConfigurable,\n      writable: !options.nonWritable\n    });\n  } return O;\n};\n","export default function debounce(function_, wait = 100, options = {}) {\n\tif (typeof function_ !== 'function') {\n\t\tthrow new TypeError(`Expected the first parameter to be a function, got \\`${typeof function_}\\`.`);\n\t}\n\n\tif (wait < 0) {\n\t\tthrow new RangeError('`wait` must not be negative.');\n\t}\n\n\tif (typeof options === 'boolean') {\n\t\tthrow new TypeError('The `options` parameter must be an object, not a boolean. Use `{immediate: true}` instead.');\n\t}\n\n\tconst {immediate} = options;\n\n\tlet storedContext;\n\tlet storedArguments;\n\tlet timeoutId;\n\tlet timestamp;\n\tlet result;\n\n\tfunction run() {\n\t\tconst callContext = storedContext;\n\t\tconst callArguments = storedArguments;\n\t\tstoredContext = undefined;\n\t\tstoredArguments = undefined;\n\t\tresult = function_.apply(callContext, callArguments);\n\t\treturn result;\n\t}\n\n\tfunction later() {\n\t\tconst last = Date.now() - timestamp;\n\n\t\tif (last < wait && last >= 0) {\n\t\t\ttimeoutId = setTimeout(later, wait - last);\n\t\t} else {\n\t\t\ttimeoutId = undefined;\n\n\t\t\tif (!immediate) {\n\t\t\t\tresult = run();\n\t\t\t}\n\t\t}\n\t}\n\n\tconst debounced = function (...arguments_) {\n\t\tif (\n\t\t\tstoredContext\n\t\t\t&& this !== storedContext\n\t\t\t&& Object.getPrototypeOf(this) === Object.getPrototypeOf(storedContext)\n\t\t) {\n\t\t\tthrow new Error('Debounced method called with different contexts of the same prototype.');\n\t\t}\n\n\t\tstoredContext = this; // eslint-disable-line unicorn/no-this-assignment\n\t\tstoredArguments = arguments_;\n\t\ttimestamp = Date.now();\n\n\t\tconst callNow = immediate && !timeoutId;\n\n\t\tif (!timeoutId) {\n\t\t\ttimeoutId = setTimeout(later, wait);\n\t\t}\n\n\t\tif (callNow) {\n\t\t\tresult = run();\n\t\t\treturn result;\n\t\t}\n\n\t\treturn undefined;\n\t};\n\n\tObject.defineProperty(debounced, 'isPending', {\n\t\tget() {\n\t\t\treturn timeoutId !== undefined;\n\t\t},\n\t});\n\n\tdebounced.clear = () => {\n\t\tif (!timeoutId) {\n\t\t\treturn;\n\t\t}\n\n\t\tclearTimeout(timeoutId);\n\t\ttimeoutId = undefined;\n\t\tstoredContext = undefined;\n\t\tstoredArguments = undefined;\n\t};\n\n\tdebounced.flush = () => {\n\t\tif (!timeoutId) {\n\t\t\treturn;\n\t\t}\n\n\t\tdebounced.trigger();\n\t};\n\n\tdebounced.trigger = () => {\n\t\tresult = run();\n\n\t\tdebounced.clear();\n\t};\n\n\treturn debounced;\n}\n","'use strict';\nvar TO_STRING_TAG_SUPPORT = require('../internals/to-string-tag-support');\nvar isCallable = require('../internals/is-callable');\nvar classofRaw = require('../internals/classof-raw');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar $Object = Object;\n\n// ES3 wrong here\nvar CORRECT_ARGUMENTS = classofRaw(function () { return arguments; }()) === 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function (it, key) {\n  try {\n    return it[key];\n  } catch (error) { /* empty */ }\n};\n\n// getting tag from ES6+ `Object.prototype.toString`\nmodule.exports = TO_STRING_TAG_SUPPORT ? classofRaw : function (it) {\n  var O, tag, result;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (tag = tryGet(O = $Object(it), TO_STRING_TAG)) == 'string' ? tag\n    // builtinTag case\n    : CORRECT_ARGUMENTS ? classofRaw(O)\n    // ES3 arguments fallback\n    : (result = classofRaw(O)) === 'Object' && isCallable(O.callee) ? 'Arguments' : result;\n};\n","'use strict';\nvar toPrimitive = require('../internals/to-primitive');\nvar isSymbol = require('../internals/is-symbol');\n\n// `ToPropertyKey` abstract operation\n// https://tc39.es/ecma262/#sec-topropertykey\nmodule.exports = function (argument) {\n  var key = toPrimitive(argument, 'string');\n  return isSymbol(key) ? key : key + '';\n};\n","'use strict';\nmodule.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n","'use strict';\n/* eslint-disable es/no-symbol -- required for testing */\nvar NATIVE_SYMBOL = require('../internals/symbol-constructor-detection');\n\nmodule.exports = NATIVE_SYMBOL &&\n  !Symbol.sham &&\n  typeof Symbol.iterator == 'symbol';\n","'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar fails = require('../internals/fails');\nvar classof = require('../internals/classof-raw');\n\nvar $Object = Object;\nvar split = uncurryThis(''.split);\n\n// fallback for non-array-like ES3 and non-enumerable old V8 strings\nmodule.exports = fails(function () {\n  // throws an error in rhino, see https://github.com/mozilla/rhino/issues/346\n  // eslint-disable-next-line no-prototype-builtins -- safe\n  return !$Object('z').propertyIsEnumerable(0);\n}) ? function (it) {\n  return classof(it) === 'String' ? split(it, '') : $Object(it);\n} : $Object;\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar call = require('../internals/function-call');\nvar propertyIsEnumerableModule = require('../internals/object-property-is-enumerable');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar toPropertyKey = require('../internals/to-property-key');\nvar hasOwn = require('../internals/has-own-property');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\n\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar $getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// `Object.getOwnPropertyDescriptor` method\n// https://tc39.es/ecma262/#sec-object.getownpropertydescriptor\nexports.f = DESCRIPTORS ? $getOwnPropertyDescriptor : function getOwnPropertyDescriptor(O, P) {\n  O = toIndexedObject(O);\n  P = toPropertyKey(P);\n  if (IE8_DOM_DEFINE) try {\n    return $getOwnPropertyDescriptor(O, P);\n  } catch (error) { /* empty */ }\n  if (hasOwn(O, P)) return createPropertyDescriptor(!call(propertyIsEnumerableModule.f, O, P), O[P]);\n};\n","'use strict';\nvar classofRaw = require('../internals/classof-raw');\nvar uncurryThis = require('../internals/function-uncurry-this');\n\nmodule.exports = function (fn) {\n  // Nashorn bug:\n  //   https://github.com/zloirock/core-js/issues/1128\n  //   https://github.com/zloirock/core-js/issues/1130\n  if (classofRaw(fn) === 'Function') return uncurryThis(fn);\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar call = require('../internals/function-call');\nvar iterate = require('../internals/iterate');\nvar aCallable = require('../internals/a-callable');\nvar anObject = require('../internals/an-object');\nvar getIteratorDirect = require('../internals/get-iterator-direct');\nvar iteratorClose = require('../internals/iterator-close');\nvar iteratorHelperWithoutClosingOnEarlyError = require('../internals/iterator-helper-without-closing-on-early-error');\n\nvar forEachWithoutClosingOnEarlyError = iteratorHelperWithoutClosingOnEarlyError('forEach', TypeError);\n\n// `Iterator.prototype.forEach` method\n// https://tc39.es/ecma262/#sec-iterator.prototype.foreach\n$({ target: 'Iterator', proto: true, real: true, forced: forEachWithoutClosingOnEarlyError }, {\n  forEach: function forEach(fn) {\n    anObject(this);\n    try {\n      aCallable(fn);\n    } catch (error) {\n      iteratorClose(this, 'throw', error);\n    }\n\n    if (forEachWithoutClosingOnEarlyError) return call(forEachWithoutClosingOnEarlyError, this, fn);\n\n    var record = getIteratorDirect(this);\n    var counter = 0;\n    iterate(record, function (value) {\n      fn(value, counter++);\n    }, { IS_RECORD: true });\n  }\n});\n","'use strict';\nvar IS_PURE = require('../internals/is-pure');\nvar globalThis = require('../internals/global-this');\nvar defineGlobalProperty = require('../internals/define-global-property');\n\nvar SHARED = '__core-js_shared__';\nvar store = module.exports = globalThis[SHARED] || defineGlobalProperty(SHARED, {});\n\n(store.versions || (store.versions = [])).push({\n  version: '3.47.0',\n  mode: IS_PURE ? 'pure' : 'global',\n  copyright: ' 2014-2025 Denis Pushkarev (zloirock.ru), 2025 CoreJS Company (core-js.io)',\n  license: 'https://github.com/zloirock/core-js/blob/v3.47.0/LICENSE',\n  source: 'https://github.com/zloirock/core-js'\n});\n","'use strict';\nvar fails = require('../internals/fails');\nvar isCallable = require('../internals/is-callable');\nvar isObject = require('../internals/is-object');\nvar create = require('../internals/object-create');\nvar getPrototypeOf = require('../internals/object-get-prototype-of');\nvar defineBuiltIn = require('../internals/define-built-in');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar IS_PURE = require('../internals/is-pure');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar BUGGY_SAFARI_ITERATORS = false;\n\n// `%IteratorPrototype%` object\n// https://tc39.es/ecma262/#sec-%iteratorprototype%-object\nvar IteratorPrototype, PrototypeOfArrayIteratorPrototype, arrayIterator;\n\n/* eslint-disable es/no-array-prototype-keys -- safe */\nif ([].keys) {\n  arrayIterator = [].keys();\n  // Safari 8 has buggy iterators w/o `next`\n  if (!('next' in arrayIterator)) BUGGY_SAFARI_ITERATORS = true;\n  else {\n    PrototypeOfArrayIteratorPrototype = getPrototypeOf(getPrototypeOf(arrayIterator));\n    if (PrototypeOfArrayIteratorPrototype !== Object.prototype) IteratorPrototype = PrototypeOfArrayIteratorPrototype;\n  }\n}\n\nvar NEW_ITERATOR_PROTOTYPE = !isObject(IteratorPrototype) || fails(function () {\n  var test = {};\n  // FF44- legacy iterators case\n  return IteratorPrototype[ITERATOR].call(test) !== test;\n});\n\nif (NEW_ITERATOR_PROTOTYPE) IteratorPrototype = {};\nelse if (IS_PURE) IteratorPrototype = create(IteratorPrototype);\n\n// `%IteratorPrototype%[@@iterator]()` method\n// https://tc39.es/ecma262/#sec-%iteratorprototype%-@@iterator\nif (!isCallable(IteratorPrototype[ITERATOR])) {\n  defineBuiltIn(IteratorPrototype, ITERATOR, function () {\n    return this;\n  });\n}\n\nmodule.exports = {\n  IteratorPrototype: IteratorPrototype,\n  BUGGY_SAFARI_ITERATORS: BUGGY_SAFARI_ITERATORS\n};\n","'use strict';\nvar hasOwn = require('../internals/has-own-property');\nvar ownKeys = require('../internals/own-keys');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar definePropertyModule = require('../internals/object-define-property');\n\nmodule.exports = function (target, source, exceptions) {\n  var keys = ownKeys(source);\n  var defineProperty = definePropertyModule.f;\n  var getOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    if (!hasOwn(target, key) && !(exceptions && hasOwn(exceptions, key))) {\n      defineProperty(target, key, getOwnPropertyDescriptor(source, key));\n    }\n  }\n};\n","'use strict';\nvar isNullOrUndefined = require('../internals/is-null-or-undefined');\n\nvar $TypeError = TypeError;\n\n// `RequireObjectCoercible` abstract operation\n// https://tc39.es/ecma262/#sec-requireobjectcoercible\nmodule.exports = function (it) {\n  if (isNullOrUndefined(it)) throw new $TypeError(\"Can't call method on \" + it);\n  return it;\n};\n","'use strict';\nvar globalThis = require('../internals/global-this');\nvar isCallable = require('../internals/is-callable');\n\nvar aFunction = function (argument) {\n  return isCallable(argument) ? argument : undefined;\n};\n\nmodule.exports = function (namespace, method) {\n  return arguments.length < 2 ? aFunction(globalThis[namespace]) : globalThis[namespace] && globalThis[namespace][method];\n};\n","'use strict';\nvar toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\n\nvar min = Math.min;\n\n// `ToLength` abstract operation\n// https://tc39.es/ecma262/#sec-tolength\nmodule.exports = function (argument) {\n  var len = toIntegerOrInfinity(argument);\n  return len > 0 ? min(len, 0x1FFFFFFFFFFFFF) : 0; // 2 ** 53 - 1 == 9007199254740991\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar globalThis = require('../internals/global-this');\nvar anInstance = require('../internals/an-instance');\nvar anObject = require('../internals/an-object');\nvar isCallable = require('../internals/is-callable');\nvar getPrototypeOf = require('../internals/object-get-prototype-of');\nvar defineBuiltInAccessor = require('../internals/define-built-in-accessor');\nvar createProperty = require('../internals/create-property');\nvar fails = require('../internals/fails');\nvar hasOwn = require('../internals/has-own-property');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar IteratorPrototype = require('../internals/iterators-core').IteratorPrototype;\nvar DESCRIPTORS = require('../internals/descriptors');\nvar IS_PURE = require('../internals/is-pure');\n\nvar CONSTRUCTOR = 'constructor';\nvar ITERATOR = 'Iterator';\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\n\nvar $TypeError = TypeError;\nvar NativeIterator = globalThis[ITERATOR];\n\n// FF56- have non-standard global helper `Iterator`\nvar FORCED = IS_PURE\n  || !isCallable(NativeIterator)\n  || NativeIterator.prototype !== IteratorPrototype\n  // FF44- non-standard `Iterator` passes previous tests\n  || !fails(function () { NativeIterator({}); });\n\nvar IteratorConstructor = function Iterator() {\n  anInstance(this, IteratorPrototype);\n  if (getPrototypeOf(this) === IteratorPrototype) throw new $TypeError('Abstract class Iterator not directly constructable');\n};\n\nvar defineIteratorPrototypeAccessor = function (key, value) {\n  if (DESCRIPTORS) {\n    defineBuiltInAccessor(IteratorPrototype, key, {\n      configurable: true,\n      get: function () {\n        return value;\n      },\n      set: function (replacement) {\n        anObject(this);\n        if (this === IteratorPrototype) throw new $TypeError(\"You can't redefine this property\");\n        if (hasOwn(this, key)) this[key] = replacement;\n        else createProperty(this, key, replacement);\n      }\n    });\n  } else IteratorPrototype[key] = value;\n};\n\nif (!hasOwn(IteratorPrototype, TO_STRING_TAG)) defineIteratorPrototypeAccessor(TO_STRING_TAG, ITERATOR);\n\nif (FORCED || !hasOwn(IteratorPrototype, CONSTRUCTOR) || IteratorPrototype[CONSTRUCTOR] === Object) {\n  defineIteratorPrototypeAccessor(CONSTRUCTOR, IteratorConstructor);\n}\n\nIteratorConstructor.prototype = IteratorPrototype;\n\n// `Iterator` constructor\n// https://tc39.es/ecma262/#sec-iterator\n$({ global: true, constructor: true, forced: FORCED }, {\n  Iterator: IteratorConstructor\n});\n","'use strict';\nvar globalThis = require('../internals/global-this');\nvar shared = require('../internals/shared');\nvar hasOwn = require('../internals/has-own-property');\nvar uid = require('../internals/uid');\nvar NATIVE_SYMBOL = require('../internals/symbol-constructor-detection');\nvar USE_SYMBOL_AS_UID = require('../internals/use-symbol-as-uid');\n\nvar Symbol = globalThis.Symbol;\nvar WellKnownSymbolsStore = shared('wks');\nvar createWellKnownSymbol = USE_SYMBOL_AS_UID ? Symbol['for'] || Symbol : Symbol && Symbol.withoutSetter || uid;\n\nmodule.exports = function (name) {\n  if (!hasOwn(WellKnownSymbolsStore, name)) {\n    WellKnownSymbolsStore[name] = NATIVE_SYMBOL && hasOwn(Symbol, name)\n      ? Symbol[name]\n      : createWellKnownSymbol('Symbol.' + name);\n  } return WellKnownSymbolsStore[name];\n};\n","'use strict';\nvar internalObjectKeys = require('../internals/object-keys-internal');\nvar enumBugKeys = require('../internals/enum-bug-keys');\n\nvar hiddenKeys = enumBugKeys.concat('length', 'prototype');\n\n// `Object.getOwnPropertyNames` method\n// https://tc39.es/ecma262/#sec-object.getownpropertynames\n// eslint-disable-next-line es/no-object-getownpropertynames -- safe\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return internalObjectKeys(O, hiddenKeys);\n};\n","'use strict';\nvar isObject = require('../internals/is-object');\n\nvar $String = String;\nvar $TypeError = TypeError;\n\n// `Assert: Type(argument) is Object`\nmodule.exports = function (argument) {\n  if (isObject(argument)) return argument;\n  throw new $TypeError($String(argument) + ' is not an object');\n};\n","'use strict';\nvar globalThis = require('../internals/global-this');\nvar isCallable = require('../internals/is-callable');\n\nvar WeakMap = globalThis.WeakMap;\n\nmodule.exports = isCallable(WeakMap) && /native code/.test(String(WeakMap));\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\n\n// V8 ~ Chrome 36-\n// https://bugs.chromium.org/p/v8/issues/detail?id=3334\nmodule.exports = DESCRIPTORS && fails(function () {\n  // eslint-disable-next-line es/no-object-defineproperty -- required for testing\n  return Object.defineProperty(function () { /* empty */ }, 'prototype', {\n    value: 42,\n    writable: false\n  }).prototype !== 42;\n});\n","'use strict';\n// IE8- don't enum bug keys\nmodule.exports = [\n  'constructor',\n  'hasOwnProperty',\n  'isPrototypeOf',\n  'propertyIsEnumerable',\n  'toLocaleString',\n  'toString',\n  'valueOf'\n];\n","'use strict';\nvar $propertyIsEnumerable = {}.propertyIsEnumerable;\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// Nashorn ~ JDK8 bug\nvar NASHORN_BUG = getOwnPropertyDescriptor && !$propertyIsEnumerable.call({ 1: 2 }, 1);\n\n// `Object.prototype.propertyIsEnumerable` method implementation\n// https://tc39.es/ecma262/#sec-object.prototype.propertyisenumerable\nexports.f = NASHORN_BUG ? function propertyIsEnumerable(V) {\n  var descriptor = getOwnPropertyDescriptor(this, V);\n  return !!descriptor && descriptor.enumerable;\n} : $propertyIsEnumerable;\n","'use strict';\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\nvar $Object = Object;\n\n// `ToObject` abstract operation\n// https://tc39.es/ecma262/#sec-toobject\nmodule.exports = function (argument) {\n  return $Object(requireObjectCoercible(argument));\n};\n","'use strict';\nmodule.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (error) {\n    return true;\n  }\n};\n","'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar toObject = require('../internals/to-object');\n\nvar hasOwnProperty = uncurryThis({}.hasOwnProperty);\n\n// `HasOwnProperty` abstract operation\n// https://tc39.es/ecma262/#sec-hasownproperty\n// eslint-disable-next-line es/no-object-hasown -- safe\nmodule.exports = Object.hasOwn || function hasOwn(it, key) {\n  return hasOwnProperty(toObject(it), key);\n};\n","'use strict';\nvar isCallable = require('../internals/is-callable');\nvar tryToString = require('../internals/try-to-string');\n\nvar $TypeError = TypeError;\n\n// `Assert: IsCallable(argument) is true`\nmodule.exports = function (argument) {\n  if (isCallable(argument)) return argument;\n  throw new $TypeError(tryToString(argument) + ' is not a function');\n};\n","'use strict';\nvar globalThis = require('../internals/global-this');\n\n// eslint-disable-next-line es/no-object-defineproperty -- safe\nvar defineProperty = Object.defineProperty;\n\nmodule.exports = function (key, value) {\n  try {\n    defineProperty(globalThis, key, { value: value, configurable: true, writable: true });\n  } catch (error) {\n    globalThis[key] = value;\n  } return value;\n};\n","'use strict';\nvar call = require('../internals/function-call');\nvar create = require('../internals/object-create');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar defineBuiltIns = require('../internals/define-built-ins');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar InternalStateModule = require('../internals/internal-state');\nvar getMethod = require('../internals/get-method');\nvar IteratorPrototype = require('../internals/iterators-core').IteratorPrototype;\nvar createIterResultObject = require('../internals/create-iter-result-object');\nvar iteratorClose = require('../internals/iterator-close');\nvar iteratorCloseAll = require('../internals/iterator-close-all');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar ITERATOR_HELPER = 'IteratorHelper';\nvar WRAP_FOR_VALID_ITERATOR = 'WrapForValidIterator';\nvar NORMAL = 'normal';\nvar THROW = 'throw';\nvar setInternalState = InternalStateModule.set;\n\nvar createIteratorProxyPrototype = function (IS_ITERATOR) {\n  var getInternalState = InternalStateModule.getterFor(IS_ITERATOR ? WRAP_FOR_VALID_ITERATOR : ITERATOR_HELPER);\n\n  return defineBuiltIns(create(IteratorPrototype), {\n    next: function next() {\n      var state = getInternalState(this);\n      // for simplification:\n      //   for `%WrapForValidIteratorPrototype%.next` or with `state.returnHandlerResult` our `nextHandler` returns `IterResultObject`\n      //   for `%IteratorHelperPrototype%.next` - just a value\n      if (IS_ITERATOR) return state.nextHandler();\n      if (state.done) return createIterResultObject(undefined, true);\n      try {\n        var result = state.nextHandler();\n        return state.returnHandlerResult ? result : createIterResultObject(result, state.done);\n      } catch (error) {\n        state.done = true;\n        throw error;\n      }\n    },\n    'return': function () {\n      var state = getInternalState(this);\n      var iterator = state.iterator;\n      state.done = true;\n      if (IS_ITERATOR) {\n        var returnMethod = getMethod(iterator, 'return');\n        return returnMethod ? call(returnMethod, iterator) : createIterResultObject(undefined, true);\n      }\n      if (state.inner) try {\n        iteratorClose(state.inner.iterator, NORMAL);\n      } catch (error) {\n        return iteratorClose(iterator, THROW, error);\n      }\n      if (state.openIters) try {\n        iteratorCloseAll(state.openIters, NORMAL);\n      } catch (error) {\n        return iteratorClose(iterator, THROW, error);\n      }\n      if (iterator) iteratorClose(iterator, NORMAL);\n      return createIterResultObject(undefined, true);\n    }\n  });\n};\n\nvar WrapForValidIteratorPrototype = createIteratorProxyPrototype(true);\nvar IteratorHelperPrototype = createIteratorProxyPrototype(false);\n\ncreateNonEnumerableProperty(IteratorHelperPrototype, TO_STRING_TAG, 'Iterator Helper');\n\nmodule.exports = function (nextHandler, IS_ITERATOR, RETURN_HANDLER_RESULT) {\n  var IteratorProxy = function Iterator(record, state) {\n    if (state) {\n      state.iterator = record.iterator;\n      state.next = record.next;\n    } else state = record;\n    state.type = IS_ITERATOR ? WRAP_FOR_VALID_ITERATOR : ITERATOR_HELPER;\n    state.returnHandlerResult = !!RETURN_HANDLER_RESULT;\n    state.nextHandler = nextHandler;\n    state.counter = 0;\n    state.done = false;\n    setInternalState(this, state);\n  };\n\n  IteratorProxy.prototype = IS_ITERATOR ? WrapForValidIteratorPrototype : IteratorHelperPrototype;\n\n  return IteratorProxy;\n};\n","'use strict';\nvar NATIVE_BIND = require('../internals/function-bind-native');\n\nvar FunctionPrototype = Function.prototype;\nvar call = FunctionPrototype.call;\n// eslint-disable-next-line es/no-function-prototype-bind -- safe\nvar uncurryThisWithBind = NATIVE_BIND && FunctionPrototype.bind.bind(call, call);\n\nmodule.exports = NATIVE_BIND ? uncurryThisWithBind : function (fn) {\n  return function () {\n    return call.apply(fn, arguments);\n  };\n};\n","'use strict';\nvar globalThis = require('../internals/global-this');\nvar userAgent = require('../internals/environment-user-agent');\n\nvar process = globalThis.process;\nvar Deno = globalThis.Deno;\nvar versions = process && process.versions || Deno && Deno.version;\nvar v8 = versions && versions.v8;\nvar match, version;\n\nif (v8) {\n  match = v8.split('.');\n  // in old Chrome, versions of V8 isn't V8 = Chrome / 10\n  // but their correct versions are not interesting for us\n  version = match[0] > 0 && match[0] < 4 ? 1 : +(match[0] + match[1]);\n}\n\n// BrowserFS NodeJS `process` polyfill incorrectly set `.v8` to `0.0`\n// so check `userAgent` even if `.v8` exists, but 0\nif (!version && userAgent) {\n  match = userAgent.match(/Edge\\/(\\d+)/);\n  if (!match || match[1] >= 74) {\n    match = userAgent.match(/Chrome\\/(\\d+)/);\n    if (match) version = +match[1];\n  }\n}\n\nmodule.exports = version;\n","'use strict';\nvar call = require('../internals/function-call');\nvar anObject = require('../internals/an-object');\nvar getMethod = require('../internals/get-method');\n\nmodule.exports = function (iterator, kind, value) {\n  var innerResult, innerError;\n  anObject(iterator);\n  try {\n    innerResult = getMethod(iterator, 'return');\n    if (!innerResult) {\n      if (kind === 'throw') throw value;\n      return value;\n    }\n    innerResult = call(innerResult, iterator);\n  } catch (error) {\n    innerError = true;\n    innerResult = error;\n  }\n  if (kind === 'throw') throw value;\n  if (innerError) throw innerResult;\n  anObject(innerResult);\n  return value;\n};\n","'use strict';\nvar NATIVE_BIND = require('../internals/function-bind-native');\n\nvar call = Function.prototype.call;\n// eslint-disable-next-line es/no-function-prototype-bind -- safe\nmodule.exports = NATIVE_BIND ? call.bind(call) : function () {\n  return call.apply(call, arguments);\n};\n","'use strict';\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\n\n// `Array.prototype.{ indexOf, includes }` methods implementation\nvar createMethod = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIndexedObject($this);\n    var length = lengthOfArrayLike(O);\n    if (length === 0) return !IS_INCLUDES && -1;\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare -- NaN check\n    if (IS_INCLUDES && el !== el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare -- NaN check\n      if (value !== value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) {\n      if ((IS_INCLUDES || index in O) && O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.includes` method\n  // https://tc39.es/ecma262/#sec-array.prototype.includes\n  includes: createMethod(true),\n  // `Array.prototype.indexOf` method\n  // https://tc39.es/ecma262/#sec-array.prototype.indexof\n  indexOf: createMethod(false)\n};\n"],"names":["isCallable","module","exports","it","call","aCallable","anObject","tryToString","getIteratorMethod","$TypeError","TypeError","argument","usingIterator","iteratorMethod","arguments","length","$","iterate","getIteratorDirect","iteratorClose","iteratorHelperWithoutClosingOnEarlyError","findWithoutClosingOnEarlyError","target","proto","real","forced","find","predicate","this","error","record","counter","value","stop","IS_RECORD","INTERRUPTED","result","uncurryThis","fails","hasOwn","DESCRIPTORS","CONFIGURABLE_FUNCTION_NAME","inspectSource","InternalStateModule","enforceInternalState","enforce","getInternalState","get","$String","String","defineProperty","Object","stringSlice","slice","replace","join","CONFIGURABLE_LENGTH","TEMPLATE","split","makeBuiltIn","name","options","getter","setter","configurable","arity","constructor","writable","prototype","undefined","state","source","Function","toString","FunctionPrototype","getDescriptor","getOwnPropertyDescriptor","EXISTS","PROPER","CONFIGURABLE","getBuiltIn","test","bind","hasOwnProperty","isPrototypeOf","Prototype","methodName","method","Iterator","next","ceil","Math","floor","trunc","x","n","USE_SYMBOL_AS_UID","$Object","$Symbol","classof","getMethod","isNullOrUndefined","Iterators","wellKnownSymbol","ITERATOR","internalObjectKeys","enumBugKeys","keys","O","d","definition","key","o","enumerable","obj","prop","isNodeJS","process","versions","nw","electron","type","FONT_IDENTITY_MATRIX","LINE_FACTOR","RenderingIntentFlag","ANY","DISPLAY","PRINT","SAVE","ANNOTATIONS_FORMS","ANNOTATIONS_STORAGE","ANNOTATIONS_DISABLE","IS_EDITING","OPLIST","AnnotationMode","DISABLE","ENABLE","ENABLE_FORMS","ENABLE_STORAGE","AnnotationEditorPrefix","AnnotationEditorType","NONE","FREETEXT","HIGHLIGHT","STAMP","INK","POPUP","SIGNATURE","COMMENT","AnnotationEditorParamsType","RESIZE","CREATE","FREETEXT_SIZE","FREETEXT_COLOR","FREETEXT_OPACITY","INK_COLOR","INK_THICKNESS","INK_OPACITY","HIGHLIGHT_COLOR","HIGHLIGHT_THICKNESS","HIGHLIGHT_FREE","HIGHLIGHT_SHOW_ALL","DRAW_STEP","PermissionFlag","MODIFY_CONTENTS","COPY","MODIFY_ANNOTATIONS","FILL_INTERACTIVE_FORMS","COPY_FOR_ACCESSIBILITY","ASSEMBLE","PRINT_HIGH_QUALITY","MeshFigureType","TRIANGLES","LATTICE","PATCH","TextRenderingMode","FILL","STROKE","FILL_STROKE","INVISIBLE","FILL_ADD_TO_PATH","STROKE_ADD_TO_PATH","FILL_STROKE_ADD_TO_PATH","ADD_TO_PATH","FILL_STROKE_MASK","ADD_TO_PATH_FLAG","util_ImageKind","GRAYSCALE_1BPP","RGB_24BPP","RGBA_32BPP","AnnotationType","TEXT","LINK","LINE","SQUARE","CIRCLE","POLYGON","POLYLINE","UNDERLINE","SQUIGGLY","STRIKEOUT","CARET","FILEATTACHMENT","SOUND","MOVIE","WIDGET","SCREEN","PRINTERMARK","TRAPNET","WATERMARK","THREED","REDACT","AnnotationBorderStyleType","SOLID","DASHED","BEVELED","INSET","VerbosityLevel","ERRORS","WARNINGS","INFOS","OPS","dependency","setLineWidth","setLineCap","setLineJoin","setMiterLimit","setDash","setRenderingIntent","setFlatness","setGState","save","restore","transform","moveTo","lineTo","curveTo","curveTo2","curveTo3","closePath","rectangle","stroke","closeStroke","fill","eoFill","fillStroke","eoFillStroke","closeFillStroke","closeEOFillStroke","endPath","clip","eoClip","beginText","endText","setCharSpacing","setWordSpacing","setHScale","setLeading","setFont","setTextRenderingMode","setTextRise","moveText","setLeadingMoveText","setTextMatrix","nextLine","showText","showSpacedText","nextLineShowText","nextLineSetSpacingShowText","setCharWidth","setCharWidthAndBounds","setStrokeColorSpace","setFillColorSpace","setStrokeColor","setStrokeColorN","setFillColor","setFillColorN","setStrokeGray","setFillGray","setStrokeRGBColor","setFillRGBColor","setStrokeCMYKColor","setFillCMYKColor","shadingFill","beginInlineImage","beginImageData","endInlineImage","paintXObject","markPoint","markPointProps","beginMarkedContent","beginMarkedContentProps","endMarkedContent","beginCompat","endCompat","paintFormXObjectBegin","paintFormXObjectEnd","beginGroup","endGroup","beginAnnotation","endAnnotation","paintImageMaskXObject","paintImageMaskXObjectGroup","paintImageXObject","paintInlineImageXObject","paintInlineImageXObjectGroup","paintImageXObjectRepeat","paintImageMaskXObjectRepeat","paintSolidColorImageMask","constructPath","setStrokeTransparent","setFillTransparent","rawFillPath","DrawOPS","quadraticCurveTo","PasswordResponses","NEED_PASSWORD","INCORRECT_PASSWORD","verbosity","setVerbosityLevel","level","Number","isInteger","getVerbosityLevel","info","msg","console","warn","unreachable","Error","assert","cond","_isValidProtocol","url","protocol","createValidAbsoluteUrl","baseUrl","addDefaultProtocol","startsWith","dots","match","tryConvertEncoding","stringToUTF8String","absoluteUrl","URL","parse","updateUrlHash","hash","allowRel","res","href","shadow","nonSerializable","BaseException","message","PasswordException","code","super","UnknownErrorException","details","InvalidPDFException","ResponseException","status","missing","FormatError","AbortException","bytesToString","bytes","MAX_ARGUMENT_COUNT","fromCharCode","apply","strBuf","i","chunkEnd","min","chunk","subarray","push","stringToBytes","str","Uint8Array","charCodeAt","string32","isLittleEndian","buffer8","view32","Uint32Array","buffer","isEvalSupported","util_FeatureTest","isOffscreenCanvasSupported","OffscreenCanvas","isImageDecoderSupported","ImageDecoder","isFloat16ArraySupported","Float16Array","isSanitizerSupported","Sanitizer","platform","userAgent","navigator","isAndroid","includes","isLinux","isMac","isWindows","isFirefox","isCSSRoundSupported","globalThis","CSS","supports","hexNumbers","Array","from","padStart","Util","makeHexColor","r","g","b","domMatrixToTransform","dm","a","c","e","f","scaleMinMax","minMax","temp","m1","m2","multiplyByDOMMatrix","m","md","applyTransform","p","pos","p0","p1","applyTransformToBezier","m0","m3","m4","m5","pI","pI1","applyInverseTransform","axialAlignedBoundingBox","rect","output","r0","r1","r2","r3","a0","a2","a1","a3","b0","b2","b1","b3","m1r0","m1r2","m2r1","m2r3","max","inverseTransform","singularValueDecompose2dScale","matrix","first","second","sqrt","normalizeRect","intersect","rect1","rect2","xLow","xHigh","yLow","yHigh","pointBoundingBox","y","rectBoundingBox","x0","y0","x1","y1","x2","x3","y2","y3","t","mt","tt","ttt","abs","delta","sqrtDelta","bezierBoundingBox","decodeURIComponent","escape","NormalizeRegex","NormalizationMap","normalizeUnicode","Map","replaceAll","_","p2","normalize","getUuid","crypto","randomUUID","buf","getRandomValues","AnnotationPrefix","_isValidExplicitDest","validRef","validName","dest","isArray","page","zoom","args","argsLen","allowNull","arg","MathClamp","v","toBase64Util","arr","toBase64","btoa","fromBase64Util","fromBase64","atob","Promise","try","fn","resolve","sumPrecise","numbers","reduce","XfaText","textContent","xfa","items","styles","create","walk","node","shouldBuildText","attributes","children","child","XfaLayer","setupStorage","html","id","element","storage","intent","storedData","getValue","addEventListener","event","setValue","xfaOn","setAttribute","xfaOff","removeAttribute","checked","getAttribute","option","selected","selectedIndex","setAttributes","linkService","isHTMLAnchorElement","HTMLAnchorElement","entries","assign","style","addLinkAttributes","newWindow","dataId","render","parameters","annotationStorage","root","xfaHtml","rootHtml","document","createElement","isNotForRichText","rootDiv","div","append","viewport","textDivs","createTextNode","stack","parent","at","pop","childHtml","xmlns","createElementNS","el","querySelectorAll","update","hidden","SVG_NS","PixelsPerInch","static","PDF","async","fetchData","isValidFetchUrl","baseURI","response","fetch","ok","statusText","arrayBuffer","blob","json","text","reject","request","XMLHttpRequest","open","responseType","onreadystatechange","readyState","DONE","responseText","send","PageViewport","viewBox","userUnit","scale","rotation","offsetX","offsetY","dontFlip","centerX","centerY","rotateA","rotateB","rotateC","rotateD","offsetCanvasX","offsetCanvasY","width","height","rawDims","dims","pageWidth","pageHeight","pageX","pageY","clone","convertToViewportPoint","convertToViewportRectangle","topLeft","bottomRight","convertToPdfPoint","RenderingCancelledException","extraDelay","isDataScheme","ii","trim","substring","toLowerCase","isPdfFile","filename","getFilenameFromUrl","lastIndexOf","getPdfFilenameFromUrl","defaultFilename","getURL","urlString","newURL","decode","decoded","pdfRegex","pathname","searchParams","size","values","reverse","reFilename","hashFilename","exec","StatTimer","started","times","time","Date","now","timeEnd","start","end","outBuf","longest","padEnd","noContextMenu","preventDefault","stopEvent","stopPropagation","deprecated","log","PDFDateString","toDateObject","input","RegExp","matches","year","parseInt","month","day","hour","minute","universalTimeRelation","offsetHour","offsetMinute","UTC","getXfaPageViewport","xfaPage","getRGB","color","colorRGB","map","getColorValues","colors","span","visibility","colorScheme","body","computedColor","window","getComputedStyle","set","remove","getCurrentTransform","ctx","getTransform","getCurrentTransformInverse","invertSelf","setLayerDimensions","mustFlip","mustRotate","useRound","w","h","widthStr","heightStr","OutputScale","pixelRatio","sx","sy","scaled","symmetric","limitCanvas","maxPixels","maxDim","capAreaFactor","maxAreaScale","Infinity","maxWidthScale","maxHeightScale","capPixels","maxScale","devicePixelRatio","winPixels","screen","availWidth","availHeight","SupportedImageMimeTypes","ColorScheme","isDarkMode","matchMedia","CSSConstants","commentForegroundColor","classList","add","display","applyOpacity","opacity","white","round","RGBToHSL","rgb","l","HSLToRGB","hsl","s","computeLuminance","contrastRatio","hsl1","hsl2","lum1","lum2","contrastCache","findContrastColor","baseColor","fixedColor","cachedValue","array","Float32Array","baseHSL","fixedHSL","isFixedColorDark","minContrast","PRECISION","mid","renderRichText","dir","className","container","fragment","createDocumentFragment","lines","line","firstElementChild","makePathFromDrawOPS","data","path","Path2D","bezierCurveTo","EditorToolbar","editor","freeze","freetext","highlight","ink","stamp","signature","editToolbar","signal","_uiManager","_signal","AbortSignal","aborted","buttons","position","toolbarPosition","direction","insetInlineEnd","top","_focusEventsAllowed","capture","hide","hideDropdown","show","shown","addDeleteButton","editorType","button","tabIndex","delete","divider","addAltText","altText","addComment","comment","beforeElement","renderForToolbar","insertBefore","toolbar","addColorPicker","colorPicker","renderButton","addEditSignatureButton","signatureManager","renderEditButton","removeButton","removeToolbarCommentButton","addButton","tool","addButtonBefore","beforeSelector","querySelector","updateEditSignatureButton","description","title","destroy","FloatingToolbar","uiManager","hasCommentManager","commentSelection","highlightSelection","boxes","isLTR","lastY","lastX","box","buttonClass","l10nId","labelL10nId","clickHandler","bindEvents","names","CurrentPointers","NaN","initializeAndAddPointerId","pointerId","Set","setPointer","pointerType","setTimeStamp","timeStamp","isSamePointerId","isSamePointerIdOrRemove","isSamePointerType","isInitializedAndDifferentPointerType","isSameTimeStamp","isUsingMultiplePointers","clearPointerType","clearPointerIds","clearTimeStamp","IdManager","ImageManager","_isSVGFittingCanvas","svg","canvas","getContext","willReadFrequently","image","Image","src","promise","then","drawImage","getImageData","rawData","bitmap","refCounter","isSvg","File","file","Blob","mustRemoveAspectRatioPromise","fileReader","FileReader","imageElement","imagePromise","onload","svgUrl","onerror","readAsDataURL","createImageBitmap","getFromFile","lastModified","getFromUrl","getFromBlob","blobPromise","getFromId","getFromCanvas","offscreen","transferToImageBitmap","getSvgUrl","deleteId","transferFromImageBitmap","convertToBlob","close","isValidId","CommandManager","maxSize","cmd","undo","post","mustExec","overwriteIfSameType","keepUndo","splice","redo","hasSomethingToUndo","hasSomethingToRedo","cleanType","KeyboardManager","callbacks","allKeys","callback","isMacKey","altKey","ctrlKey","metaKey","shiftKey","self","has","bubbles","checker","ColorManager","_colors","convert","RGB","every","_colorsMapping","getHexCode","AnnotationEditorUIManager","AbortController","_editorUndoBar","isEditing","isEmpty","hasSelectedEditor","hasSelectedText","_keyboardManager","arrowChecker","contains","activeElement","tagName","hasSomethingToControl","textInputChecker","_self","HTMLInputElement","small","TRANSLATE_SMALL","big","TRANSLATE_BIG","selectAll","addNewEditorFromKeyboard","HTMLButtonElement","isEnterHandled","unselectAll","translateSelectedEditors","viewer","viewerAlert","altTextManager","commentManager","eventBus","pdfDocument","pageColors","highlightColors","enableHighlightFloatingButton","enableUpdatedAddImage","enableNewAltTextWhenAddingImage","mlManager","editorUndoBar","supportsPinchToZoom","_eventBus","_on","onEditingAction","onPageChanging","onScaleChanging","onRotationChanging","onSetPreference","evt","updateParams","filterFactory","viewParameters","realScale","PDF_TO_CSS_UNITS","isShiftKeyDown","_supportsPinchToZoom","setSidebarUiManager","abort","layer","clear","clearTimeout","combinedSignal","ac","any","useNewAltTextFlow","useNewAltTextWhenAddingImage","hcmFilter","addHCMFilter","foreground","background","_highlightColors","pair","toUpperCase","hasHCM","isNameForHCM","endsWith","highlightColorNames","getNonHCMColor","colorName","getNonHCMColorName","setCurrentDrawingSession","disableUserSelect","setMainHighlightColorPicker","editAltText","firstTime","editComment","posX","posY","showDialog","selectComment","pageIndex","uid","getEditorByUID","toggleComment","updateComment","getData","updatePopupColor","removeComment","removeComments","isSelected","toggleCommentPopup","makeCommentColor","getCommentDialogElement","dialogElement","waitForEditorsRendered","pageNumber","withResolvers","onEditorsRendered","_off","on","getSignature","switchToMode","mode","once","dispatch","setPreference","focusMainContainer","focus","findParent","layerX","layerY","getBoundingClientRect","toggle","addShouldRescale","removeShouldRescale","commitOrRemove","pagesRotation","anchorNode","nodeType","Node","TEXT_NODE","parentElement","textLayer","currentLayer","hasTextLayer","methodOfCreation","selection","getSelection","isCollapsed","anchorOffset","focusNode","focusOffset","anchorElement","closest","getSelectionBoxes","empty","isNoneMode","createAndAddNewEditor","showAllEditors","getAndRemoveDataFromAnnotationStorage","annotationId","storedValue","getRawValue","addToAnnotationStorage","a11yAlert","messageId","JSON","stringify","activeLayer","toggleDrawing","pointerup","blur","hasSelection","lastEditor","lastActiveElement","keydown","keyup","copy","cut","paste","dragOver","drop","addEditListeners","setEditingState","removeEditListeners","dataTransfer","isHandlingMimeForPasting","dropEffect","item","editors","serialized","serialize","clipboardData","setData","ex","newEditors","deserializedEditor","deserialize","addCommands","isEditorHandlingKeyboard","hasChanged","some","registerEditorTypes","types","defaultPropertiesToUpdate","getId","getLayer","currentPageIndex","addLayer","enable","disable","removeLayer","updateMode","editId","isFromUser","isFromKeyboard","mustEnterInEditMode","hideSidebar","destroyPopup","hideStandaloneCommentButton","addStandaloneCommentButton","loadSignatures","getAnnotationsByType","editorClass","_editorType","elementIds","allComments","annotationElementId","hasComment","deleted","annotation","popupRef","contentsObj","showSidebar","setSelected","enterInEditMode","unselect","canCreateNewEmptyEditor","addNewEditor","updateToolbar","action","updateDefaultParams","visible","updateButton","enableWaiting","mustWait","disableClick","enableClick","promises","all","getEditors","getEditor","addEditor","removeEditor","setTimeout","addDeletedAnnotationElement","addChangedExistingAnnotation","isDeletedAnnotationElement","removeDeletedAnnotationElement","removeChangedExistingAnnotation","addOrRebuild","setActiveEditor","propertiesToUpdate","ed","updateUI","updateUIForDefaultProperties","toggleSelected","select","firstSelectedEditor","params","cleanUndoStack","drawingEditor","endDrawingSession","commit","noCommit","totalX","totalY","TIME_TO_WAIT","translateInPage","translationDone","setUpDragSession","savedX","savedY","savedPageIndex","newX","newY","newPageIndex","endDragSession","mustBeAddedInUndoStack","move","_setParentAndPosition","dragSelectedEditors","tx","ty","drag","rebuild","changeParent","getActive","shouldGetKeyboardEvents","isActive","getMode","isEditingMode","imageManager","rangeCount","getRangeAt","commonAncestorContainer","parentWidth","parentHeight","rotator","range","collapsed","getClientRects","renderAnnotationElement","editorId","hasBeenModified","setMissingCanvas","setCanvas","addMissingCanvas","AltText","added","review","initialize","l10n","_l10n","label","onClick","_reportTelemetry","guessedText","finish","focusVisible","hasData","setGuessedText","generatedAltText","toggleAltTextBadge","badge","isForCopying","decorative","textWithDisclaimer","cancel","enabled","disabled","tooltip","DELAY_TO_SHOW_TOOLTIP","parentNode","getElementForAltText","Comment","renderForStandalone","commentButtonPosition","commentButtonColor","backgroundColor","focusButton","onUpdatedColor","commentButtonWidth","boundingClientRect","commentPopupPositionInLayer","parentX","parentY","hasDefaultPopupPosition","removeStandaloneCommentButton","setCommentButtonStates","hasPopup","ariaExpanded","isStandalone","ariaHasPopup","ariaControls","ariaControlsElements","edit","parentDimensions","isDeleted","hasBeenEdited","richText","date","setInitialText","TouchManager","isPinchingDisabled","isPinchingStopped","onPinchStart","onPinching","onPinchEnd","passive","MIN_TOUCH_DISTANCE_TO_PINCH","touches","pointerDownAC","opts","cancelPointerDown","opt","onTouchEnd","touch0","touch1","identifier","touch0X","screenX","touch0Y","screenY","touch1X","touch1Y","screen0X","screen0Y","screen1X","screen1Y","touchInfo","pTouch0X","pTouch0Y","pTouch1X","pTouch1Y","prevGapX","prevGapY","currGapX","currGapY","distance","hypot","pDistance","origin","AnnotationEditor","_isCopy","_editToolbar","_initialOptions","_initialData","_isVisible","_zIndex","_resizerKeyboardManager","resize","_resizeWithKeyboard","_stopResizingWithKeyboard","_willKeepAspectRatio","isCentered","_structTreeParentId","creationDate","modificationDate","canAddComment","pageRotation","pageDimensions","pageTranslation","isAttachedToDOM","getPrototypeOf","_type","isDrawer","_defaultLineColor","_colorManager","deleteAnnotationElement","fakeEditor","FakeEditor","getNextId","_l10nResizer","topMiddle","topRight","middleRight","bottomMiddle","bottomLeft","middleLeft","_borderLineWidth","documentElement","parseFloat","getPropertyValue","_value","mime","_isDraggable","center","parentRotation","fixAndSetPosition","setInBackground","zIndex","setInForeground","setParent","focusin","focusout","relatedTarget","isMultipleSelection","isInEditMode","setAt","screenToPageTranslation","_moveAfterPaste","baseX","baseY","_onTranslated","_onTranslating","translate","scrollIntoView","block","findNewParent","bx","by","getBaseTranslation","left","toFixed","_hasBeenMoved","_hasBeenResized","_mustFixPosition","moveInDOM","angle","pageTranslationToScreen","parentScale","setDims","getInitialTranslation","classes","prepend","savedDraggable","togglePointerEvents","savedWidth","savedHeight","savedParentCursor","cursor","savedCursor","pointerUpCallback","_onResized","newWidth","newHeight","_round","minWidth","MIN_SIZE","minHeight","rotationMatrix","transf","invRotationMatrix","invTransf","getPoint","getOpposite","isDiagonal","isHorizontal","point","oppositePoint","transfOppositePoint","oppositeX","oppositeY","deltaX","deltaY","ratioX","ratioY","fromKeyboard","lastScreenX","lastScreenY","oldDiag","_onResizing","altTextFinish","toolbarButtons","addEditToolbar","addCommentButton","addCommentButtonInToolbar","removeCommentButtonFromToolbar","removeEditToolbar","addContainer","editToolbarDiv","before","getClientDimensions","createAltText","altTextData","guessedAltText","setGuessedAltText","serializeAltText","hasAltText","hasAltTextData","focusCommentButton","setCommentData","updateFromAnnotationLayer","hasEditedComment","hasDeletedComment","setSelectedCommentButton","setSelectedButton","DEFAULT_POPUP_WIDTH","DEFAULT_POPUP_HEIGHT","trY","blX","blY","trX","popup","contents","parentBoundingClientRect","defaultL10nId","maxWidth","maxHeight","isResizable","_origin","prevDistance","slowDownFactor","factor","transfCenterPoint","newTransfCenterPoint","pointerdown","hasDraggingStarted","cancelDrag","_onStopDragging","clientX","clientY","_onStartDragging","isPrimary","moveEditorInDOM","getRect","shiftX","shiftY","getRectInCurrentCoords","getPDFRect","onceAdded","enableEditMode","disableEditMode","needsToBeRebuilt","isOnScreen","bottom","right","innerHeight","innerWidth","rotate","_angle","serializeDeleted","context","annotationType","structTreeParentId","accessibilityData","isCopy","hideCommentPopup","timeout","makeResizable","commentButtonPositionInPage","commentPopupPosition","elementBeforePopup","boundResizerKeydown","boundResizerBlur","firstPosition","nextFirstPosition","lastElementChild","stopImmediatePropagation","preventScroll","disableEditing","enableEditing","canChangeContent","dblclick","nodeName","contentDiv","telemetryInitialData","telemetryFinalData","_telemetryTimeout","updateFakeAnnotationElement","annotationLayer","updateEdited","addFakeAnnotation","content","resetAnnotationElement","SEED","MASK_HIGH","MASK_LOW","MurmurHash3_64","seed","h1","h2","ArrayBuffer","isView","byteLength","blockCounts","tailLength","dataUint32","k1","k2","C1","C2","C1_LOW","C2_LOW","hexdigest","SerializableEmpty","transfer","AnnotationStorage","onSetModified","onResetModified","onAnnotationEditor","defaultValue","resetModified","modified","entry","val","print","PrintAnnotationStorage","serializable","hasBitmap","editorStats","stats","typeToEditor","numberOfEditedComments","numberOfDeletedComments","isCommentDeleted","counters","count","comments","edited","computeTelemetryFinalData","resetModifiedIds","updateEditor","modifiedIds","ids","Symbol","iterator","structuredClone","FontLoader","ownerDocument","styleElement","_document","nativeFontFaces","loadingRequests","loadTestFontId","addNativeFontFace","nativeFontFace","fonts","removeNativeFontFace","insertRule","rule","getElementsByTagName","styleSheet","sheet","cssRules","loadSystemFont","systemFontInfo","disableFontFace","_inspectFont","loadedName","isFontLoadingAPISupported","fontFace","FontFace","load","baseFontName","font","attached","missingFile","createNativeFontFace","loaded","family","createFontFaceRule","isSyncFontLoadingSupported","_queueLoadingCallback","_prepareFontLoadEvent","hasFonts","completeRequest","done","otherRequest","shift","complete","_loadTestFont","testFont","int32","offset","spliceString","insert","chunk1","chunk2","called","isFontReady","fillText","imageData","COMMENT_OFFSET","CFF_CHECKSUM_OFFSET","XXXX_VALUE","checksum","fontFamily","FontFaceObject","translatedData","inspectFont","extra","charProcOperatorList","compiledGlyphs","cssFontInfo","css","weight","fontWeight","italicAngle","mimetype","getPathGenerator","objs","character","objId","cmds","fontExtraProperties","black","bold","isInvalidPDFjsFont","isType3Font","italic","remeasure","vertical","ascent","defaultWidth","descent","bbox","fontMatrix","fallbackName","clearData","defaultVMetrics","CssFontInfo","write","encoder","TextEncoder","encodedStrings","stringsLength","strings","encoded","encode","view","DataView","setUint32","TextDecoder","index","getUint32","SystemFontInfo","encodedStyleStyle","encodedStyleWeight","lengthEstimate","setUint8","guessFallback","transferToFixedLength","getUint8","styleLength","weightLength","FontInfo","bools","byteOffset","bitOffset","getFloat64","numCoords","getInt16","numPoints","numMetrics","stringData","systemFontInfoLength","cssFontInfoLength","cssFontInfoData","systemFontInfoData","systemFontInfoBuffer","cssFontInfoBuffer","numBools","boolByte","boolBit","bits","setFloat64","coord","setInt16","metric","PatternInfo","ir","kind","coords","colorStops","figures","shadingType","nCoord","nColor","nStop","nFigures","figuresSize","figure","verticesPerRow","byteLen","dataView","u8data","coordsView","hex","setFloat32","figureCoordsView","Int32Array","colorsView","getIR","hasBBox","hasBackground","stops","getFloat32","coordsLength","figureCoords","colorsLength","figureColors","bounds","minX","maxX","minY","maxY","FontPathInfo","getUrlProp","location","getDataProp","Buffer","isNaN","getFactoryUrlProp","isRefProxy","num","gen","isNameProxy","isValidExplicitDest","LoopbackPort","postMessage","listener","rmAbort","onAbort","removeEventListener","terminate","CallbackKind","DATA","ERROR","StreamKind","CANCEL","CANCEL_COMPLETE","CLOSE","ENQUEUE","PULL","PULL_COMPLETE","START_COMPLETE","onFn","wrapReason","MessageHandler","sourceName","targetName","comObj","callbackId","streamId","streamSinks","streamControllers","callbackCapabilities","actionHandler","stream","capability","reason","actionName","handler","ah","transfers","sendWithPromise","sendWithStream","queueingStrategy","ReadableStream","controller","startCapability","startCall","pullCall","cancelCall","isClosed","desiredSize","pull","pullCapability","cancelCapability","streamSink","enqueue","isCancelled","lastDesiredSize","sinkCapability","ready","onPull","onCancel","success","streamController","dataReason","allSettled","BaseCanvasFactory","enableHWA","_createCanvas","reset","canvasAndContext","DOMCanvasFactory","BaseCMapReaderFactory","isCompressed","_fetch","cMapData","catch","DOMCMapReaderFactory","BaseFilterFactory","addFilter","maps","fgColor","bgColor","addAlphaFilter","addLuminosityFilter","addHighlightHCMFilter","filterName","newFgColor","newBgColor","keepHCM","DOMFilterFactory","docId","contain","mapR","table","mapG","mapB","bufferR","bufferG","bufferB","tableR","tableG","tableB","filter","fgRGB","bgRGB","getSteps","tableA","fgGray","bgGray","newFgRGB","newBgRGB","fg","bg","step","newStart","newStep","prev","k","j","feColorMatrix","feComponentTransfer","func","feFunc","rTable","gTable","bTable","aTable","BaseStandardFontDataFactory","DOMStandardFontDataFactory","BaseWasmFactory","DOMWasmFactory","node_utils_fetchData","fs","getBuiltinModule","readFile","NodeFilterFactory","NodeCanvasFactory","require","createRequire","createCanvas","NodeCMapReaderFactory","NodeStandardFontDataFactory","NodeWasmFactory","FORCED_DEPENDENCY_LABEL","expandBBox","EMPTY_BBOX","BBoxReader","bboxes","ensureDebugMetadata","dependencies","isRenderingOperation","CanvasDependencyTracker","__proto__","sameLineText","Float64Array","operationsCount","recordDebugMetadata","growOperationsCount","oldBBoxes","Uint8ClampedArray","opIdx","previous","lastSave","recordOpenMarker","idx","getOpenMarker","recordCloseMarker","pushBaseTransform","popBaseTransform","recordSimpleData","recordIncrementalData","resetIncrementalData","recordNamedData","recordSimpleDataFromNamed","depName","fallbackIdx","recordFutureForcedDependency","inheritSimpleDataAsFutureForcedDependencies","inheritPendingDependenciesAsFutureForcedDependencies","dep","resetBBox","recordClipBox","clipBox","intersection","recordBBox","recordCharacterBBox","getMeasure","fontBBox","isBBoxTrustworthy","computedBBox","recordFullPageBBox","measure","actualBoundingBoxLeft","actualBoundingBoxRight","actualBoundingBoxAscent","actualBoundingBoxDescent","getSimpleIndex","dependencyName","recordDependencies","dependencyNames","pendingDependencies","simple","incremental","forEach","recordNamedDependency","recordOperation","preserve","metadata","depIdx","saveIdx","recordShowTextOperation","deps","bboxToClipBoxDropOperation","_takePendingDependencies","_extractOperation","operation","_pushPendingDependencies","take","takeDebugMetadata","CanvasNestedDependencyTracker","dependencyTracker","ignoreBBoxes","Dependencies","imageXObject","transformAndFill","PathType","SHADING","applyBoundingBox","region","BaseShadingPattern","isModifyingCurrentTransform","getPattern","RadialAxialShadingPattern","IR","_bbox","_colorStops","_p0","_p1","_r0","_r1","isOriginBased","isRadial","_createGradient","grad","firstPoint","secondPoint","createLinearGradient","createRadialGradient","colorStop","addColorStop","owner","inverse","pathType","pattern","baseTransform","precision","n1","n2","ps","ownerBBox","current","getClippedPathBoundingBox","tmpCanvas","cachedCanvases","getCanvas","tmpCtx","clearRect","beginPath","fillStyle","createPattern","domMatrix","DOMMatrix","setTransform","drawTriangle","p3","c1","c2","c3","rowSize","tmp","scaleX","scaleY","c1r","c1g","c1b","c2r","c2g","c2b","c3r","c3g","c3b","xa","car","cag","cab","xb","cbr","cbg","cbb","x1_","x2_","drawFigure","cs","rows","cols","q","MeshShadingPattern","_coords","_figures","_bounds","_background","_createMeshCanvas","combinedScale","EXPECTED_SCALE","MAX_PATTERN_SIZE","BORDER_SIZE","boundsWidth","boundsHeight","paddedWidth","paddedHeight","createImageData","putImageData","matrixScaleX","matrixScaleY","temporaryPatternCanvas","DummyShadingPattern","getShadingPattern","PaintType","COLORED","UNCOLORED","TilingPattern","canvasGraphicsFactory","operatorList","xstep","ystep","paintType","tilingType","createPatternCanvas","combinedScaleX","combinedScaleY","canvasWidth","canvasHeight","redrawHorizontally","redrawVertically","xScaledStep","yScaledStep","xScaledWidth","yScaledHeight","dimx","getSizeAndScale","dimy","graphics","createCanvasGraphics","groupLevel","setFillAndStrokeStyleToContext","clipBbox","executeOperatorList","endDrawing","dimx2","dimy2","xSize","ySize","tmpCanvas2","tmpCtx2","jj","realOutputSize","bboxWidth","bboxHeight","strokeStyle","fillColor","strokeColor","convertBlackAndWhiteToRGBA","srcPos","nonBlackColor","inverseDecode","zeroMapping","oneMapping","widthInSource","widthRemainder","srcLength","destPos","elem","MIN_FONT_SIZE","MAX_FONT_SIZE","EXECUTION_TIME","EXECUTION_STEPS","FULL_CHUNK_HEIGHT","SCALE_MATRIX","XY","MIN_MAX_INIT","mirrorContextOperations","destCtx","_removeMirroring","__originalSave","__originalRestore","__originalRotate","__originalScale","__originalTranslate","__originalTransform","__originalSetTransform","__originalResetTransform","resetTransform","__originalClip","__originalMoveTo","__originalLineTo","__originalBezierCurveTo","__originalRect","__originalClosePath","__originalBeginPath","cp1x","cp1y","cp2x","cp2y","CachedCanvases","canvasFactory","cache","canvasEntry","drawImageAtIntegerCoords","srcImg","srcX","srcY","srcW","srcH","destX","destY","destW","destH","tlX","rTlX","tlY","rTlY","brX","rWidth","brY","rHeight","sign","CanvasExtraState","alphaIsShape","fontSize","fontSizeScale","textMatrix","textMatrixScale","leading","lineX","lineY","charSpacing","wordSpacing","textHScale","textRenderingMode","textRise","patternFill","patternStroke","fillAlpha","strokeAlpha","lineWidth","activeSMask","transferMaps","preInit","getPathBoundingBox","xStrokePad","yStrokePad","updateClipFromPath","startNewPathAndClipBox","isEmptyClip","putBinaryImageData","imgData","ImageData","partialChunkHeight","fullChunks","totalChunks","chunkImgData","thisChunkHeight","elemsInThisChunk","dest32","dest32DataLength","fullSrcDiff","srcDiff","kEnd","kEndUnrolled","mask","srcByte","putBinaryImageMask","copyCtxState","sourceCtx","properties","property","setLineDash","getLineDash","lineDashOffset","resetCtxToDefault","fillRule","globalAlpha","lineCap","lineJoin","miterLimit","globalCompositeOperation","getImageSmoothingEnabled","interpolate","actualScale","fround","LINE_CAP_STYLES","LINE_JOIN_STYLES","NORMAL_CLIP","EO_CLIP","CanvasGraphics","canvasCtx","commonObjs","optionalContentConfig","markedContentStack","annotationCanvasMap","stateStack","pendingClip","pendingEOFill","xobjs","groupStack","baseTransformStack","smaskStack","smaskCounter","tempSMask","suspendedCtx","contentVisible","cachedPatterns","viewportScale","outputScaleX","outputScaleY","_cachedScaleForStroking","_cachedGetSinglePixelWidth","_cachedBitmapsMap","getObject","fallback","beginDrawing","transparency","savedFillStyle","fillRect","transparentCanvas","compositeCtx","executionStartIdx","continueCallback","stepper","operationsFilter","argsArray","fnArray","argsArrayLen","chunkOperations","endTime","steps","fnId","fnArgs","nextBreakPoint","breakIt","depObjId","objsPool","inSMaskMode","HTMLCanvasElement","hcmFilterId","savedFilter","_scaleImage","img","displayWidth","displayHeight","widthScale","heightScale","paintWidth","paintHeight","tmpCanvasId","_createMaskCanvas","isPatternFill","currentTransform","cacheKey","maskCanvas","mainKey","cachedImage","maskToCanvas","drawnWidth","drawnHeight","fillCanvas","fillCtx","imageSmoothingEnabled","limit","dashArray","dashPhase","flatness","states","checkSMaskState","beginSMaskMode","endSMaskMode","cacheId","scratchCanvas","compose","dirtyBox","smask","composeSMask","layerCtx","layerBox","layerOffsetX","layerOffsetY","layerWidth","layerHeight","genericComposeSMask","subtype","backdrop","transferMap","maskCtx","maskOffsetX","maskOffsetY","maskX","maskY","old","op","outerExtraSize","_pathStartIdx","consumePath","newPath","addPath","multiplySelf","rescaleAndStroke","needRestore","paths","pendingTextPaths","preMultiplySelf","spacing","fontRefName","fontObj","fontDirection","typeface","browserFontSize","rise","paintChar","patternFillTransform","patternStrokeTransform","fillStrokeMode","isAddToPathSet","scaledPath","invPatternTransform","measureText","strokeText","isFontSubpixelAAEnabled","glyphs","showType3Text","glyphsLength","spacingDir","widthAdvanceScale","simpleFillText","needsFill","needsStroke","getSinglePixelWidth","chars","glyph","unicode","joinedChars","restoreNeeded","isSpace","fontChar","accent","scaledX","scaledY","vmetric","vx","vy","measuredWidth","characterScaleX","isInFont","scaledAccentX","scaledAccentY","charWidth","isTextInvisible","spacingLength","operatorListId","xWidth","yWidth","llx","lly","urx","ury","getColorN_Pattern","renderingOpIdx","_getPattern","inv","group","currentCtx","isolated","knockout","canvasBounds","groupCtx","startTransformInverse","currentMtx","hasOwnCanvas","annotationCanvas","savedCtx","skewX","skewY","positions","trans","images","applyTransferMapsToCanvas","applyTransferMapsToBitmap","imgToPaint","HTMLElement","tag","isVisible","isContentVisible","absDet","normX","normY","getScaleForStroking","scaledLineWidth","scaledXLineWidth","scaledYLineWidth","baseArea","saveRestore","dashes","GlobalWorkerOptions","workerPort","Worker","workerSrc","Metadata","parsedData","getRaw","INTERNAL","OptionalContentGroup","renderingIntent","usage","rbGroups","viewState","printState","_setVisible","internal","userSet","OptionalContentConfig","creator","order","groups","baseState","off","getHash","operator","expression","policy","setVisibility","preserveRB","rbGroup","otherId","setOCGState","hasInitialVisibility","getOrder","getGroup","PDFDataTransportStream","pdfDataRangeTransport","disableRange","disableStream","initialData","progressiveDone","contentDispositionFilename","_queuedChunks","_progressiveDone","_contentDispositionFilename","_pdfDataRangeTransport","_isStreamingSupported","_isRangeSupported","_contentLength","_fullRequestReader","_rangeReaders","addRangeListener","begin","_onReceiveData","addProgressListener","total","_onProgress","addProgressiveReadListener","addProgressiveDoneListener","_onProgressiveDone","transportReady","_enqueue","found","rangeReader","_begin","_progressiveDataLength","_loaded","onProgress","_removeRangeReader","reader","indexOf","getFullReader","queuedChunks","PDFDataTransportStreamReader","getRangeReader","PDFDataTransportStreamRangeReader","requestDataRange","cancelAllRequests","_stream","_done","_filename","_requests","_headersReady","requestCapability","headersReady","isRangeSupported","isStreamingSupported","contentLength","read","_end","_queuedChunk","requestsCapability","getFilenameFromContentDispositionHeader","contentDisposition","needsEncodingFixup","toParamRegExp","rfc2616unquote","unescape","rfc5987decode","rfc2047decode","fixupEncoding","rfc2231getparam","attributePattern","flags","textdecode","encoding","decoder","fatal","contentDispositionStr","iter","quot","part","parts","quotindex","extvalue","encodingend","langvalue","charset","createHeaders","isHttp","httpHeaders","headers","Headers","getResponseOrigin","validateRangeRequestCapabilities","responseHeaders","rangeChunkSize","returnValues","allowRangeRequests","suggestedLength","contentEncoding","extractFilenameFromHeader","createResponseError","validateResponseStatus","createFetchOptions","withCredentials","abortController","credentials","redirect","getArrayBuffer","PDFFetchStream","_responseOrigin","_rangeRequestReaders","PDFFetchStreamReader","PDFFetchStreamRangeReader","_reader","_withCredentials","_headersCapability","_disableRange","_rangeChunkSize","_abortController","getReader","_readCapability","responseOrigin","OK_RESPONSE","PARTIAL_CONTENT_RESPONSE","network_getArrayBuffer","xhr","NetworkManager","currXhrId","pendingRequests","xhrId","pendingRequest","setRequestHeader","expectedStatus","onError","onStateChange","onprogress","onHeadersReceived","onDone","xhrStatus","ok_response_on_range_request","rangeHeader","getResponseHeader","getRequestXhr","isPendingRequest","abortRequest","PDFNetworkStream","_source","_manager","_onRangeRequestReaderClosed","PDFNetworkStreamFullRequestReader","PDFNetworkStreamRangeRequestReader","onClosed","manager","_url","_fullRequestId","_onHeadersReceived","_onDone","_onError","_cachedChunks","_storedError","fullRequestXhrId","fullRequestXhr","responseURL","rawResponseHeaders","getAllResponseHeaders","trimStart","lengthComputable","_requestId","_close","urlRegex","parseUrlOrPath","sourceUrl","pathToFileURL","PDFNodeStream","PDFNodeStreamFsFullReader","PDFNodeStreamFsRangeReader","_readableStream","lstat","stat","_setReadableStream","createReadStream","_error","readableStream","INITIAL_DATA","PDFObjects","MAX_TEXT_DIVS_TO_RENDER","DEFAULT_FONT_SIZE","TextLayer","FontInspector","WeakMap","textContentSource","setProperty","finally","fontFamilyMap","pump","lang","onBefore","abortEx","textContentItemsStr","geom","textDiv","textDivProperties","hasText","hasEOL","atan2","fontName","PI","fontSubstitution","fontHeight","fontAscent","sin","cos","divStyle","dataset","fontSubstitutionLoadedName","shouldScaleText","absScaleX","absScaleY","br","cleanup","alpha","cached","lineHeight","cachedAscent","metrics","fontBoundingBoxAscent","fontBoundingBoxDescent","ratio","RENDERING_CANCELLED_TIMEOUT","getDocument","task","PDFDocumentLoadingTask","password","rangeTransport","PDFDataRangeTransport","worker","PDFWorker","docBaseUrl","cMapUrl","cMapPacked","CMapReaderFactory","iccUrl","standardFontDataUrl","StandardFontDataFactory","wasmUrl","WasmFactory","ignoreErrors","stopAtErrors","maxImageSize","chrome","canvasMaxAreaInBytes","enableXfa","disableAutoFetch","pdfBug","CanvasFactory","FilterFactory","useWasm","useSystemFonts","useWorkerFetch","transportFactory","cMapReaderFactory","standardFontDataFactory","wasmFactory","port","_worker","docParams","apiVersion","evaluatorOptions","transportParams","loadingParams","destroyed","workerIdPromise","messageHandler","networkStream","NetworkStream","workerId","transport","WorkerTransport","_transport","_capability","onPassword","_pendingDestroy","onDataRange","onDataProgress","onDataProgressiveRead","onDataProgressiveDone","PDFDocumentProxy","pdfInfo","_pdfInfo","numPages","fingerprints","isPureXfa","_htmlForXfa","allXfaHtml","getPage","getPageIndex","ref","getDestinations","getDestination","getPageLabels","getPageLayout","getPageMode","getViewerPreferences","getOpenAction","getAttachments","pageIndexesToSkip","getJSActions","getDocJSActions","getOutline","getOptionalContentConfig","getRenderingIntent","getPermissions","getMetadata","getMarkInfo","saveDocument","extractPages","pageInfos","getDownloadInfo","downloadInfoCapability","keepLoadedFonts","startCleanup","loadingTask","cachedPageNumber","getFieldObjects","hasJSActions","getCalculationOrderIds","PDFPageProxy","pageInfo","_pageIndex","_pageInfo","_stats","_pdfBug","_intentStates","recordedBBoxes","getViewport","getAnnotations","getPageJSActions","getXfa","canvasContext","annotationMode","optionalContentConfigPromise","printAnnotationStorage","recordOperations","intentArgs","intentState","streamReaderCancelTimeout","intentPrint","displayReadyCapability","lastChunk","separateAnnots","_pumpOperatorList","recordForDebugger","Boolean","StepperManager","shouldRecordOperations","renderTasks","internalRenderTask","gfx","setOperatorBBoxes","_abortOperatorList","Stats","InternalRenderTask","useRequestAnimationFrame","renderTask","initializeGraphics","operatorListChanged","getOperatorList","opListReadCapability","opListTask","streamTextContent","includeMarkedContent","disableNormalization","TEXT_CONTENT_CHUNK_SIZE","highWaterMark","getTextContent","getStructTree","_destroy","waitOn","force","completed","resetStats","_startRenderPage","_renderPageChunk","operatorListChunk","annotationStorageSerializable","streamReader","delay","curCacheKey","curIntentState","_isSameOrigin","otherUrl","base","other","_createCDNWrapper","wrapper","createObjectURL","fromPort","terminateEarly","sendTest","testObj","_setupFakeWorkerGlobal","WorkerMessageHandler","workerHandler","setup","cachedPort","pdfjsWorker","loader","import","factory","fontLoader","_params","destroyCapability","_networkStream","_fullReader","_lastProgress","setupMessageHandler","cachedPromise","isOpList","modifiedIdsHash","cacheKeyBuf","terminated","sink","readyReason","_numPages","htmlForXfa","updatePassword","err","exportedData","exportedError","fontData","fontAdded","imageRef","pageProxy","dataLen","refStr","results","hasStructTree","cleanupSuccessful","RenderTask","onContinue","form","WeakSet","operatorListIdx","running","graphicsReadyCallback","graphicsReady","_useRequestAnimationFrame","cancelled","_cancelBound","_continueBound","_continue","_scheduleNextBound","_scheduleNext","_nextBound","_next","_canvas","_canvasContext","_enableHWA","_dependencyTracker","_operationsFilter","init","getNextBreakPoint","cancelAnimationFrame","updateOperatorList","requestAnimationFrame","version","build","ColorPicker","_hideDropdownFromKeyboard","_colorSelectFromKeyboard","_moveToNext","_moveToPrevious","_moveToBeginning","_moveToEnd","blue","green","pink","red","yellow","swatch","ariaHidden","renderMainDropdown","dropdown","ariaOrientation","ariaLabelledBy","role","ariaMultiSelectable","ariaSelected","updateColor","nextSibling","previousSibling","detail","BasicColorPicker","colorType","makeColorComp","scaleAndClamp","ColorConverters","CMYK_G","G_CMYK","G_RGB","G_rgb","G_HTML","G","RGB_G","RGB_rgb","RGB_HTML","T_HTML","T_rgb","CMYK_RGB","CMYK_rgb","CMYK_HTML","components","RGB_CMYK","BaseSVGFactory","skipDimensions","_createSVG","DOMSVGFactory","annotation_layer_DEFAULT_FONT_SIZE","GetElementsByNameSet","TIMEZONE_OFFSET","getTimezoneOffset","AnnotationElementFactory","LinkAnnotationElement","TextAnnotationElement","fieldType","TextWidgetAnnotationElement","radioButton","RadioButtonWidgetAnnotationElement","checkBox","CheckboxWidgetAnnotationElement","PushButtonWidgetAnnotationElement","ChoiceWidgetAnnotationElement","SignatureWidgetAnnotationElement","WidgetAnnotationElement","PopupAnnotationElement","FreeTextAnnotationElement","LineAnnotationElement","SquareAnnotationElement","CircleAnnotationElement","PolylineAnnotationElement","CaretAnnotationElement","InkAnnotationElement","PolygonAnnotationElement","HighlightAnnotationElement","UnderlineAnnotationElement","SquigglyAnnotationElement","StrikeOutAnnotationElement","StampAnnotationElement","FileAttachmentAnnotationElement","AnnotationElement","isRenderable","ignoreBorder","createQuadrilaterals","downloadManager","imageResourcesPath","renderForms","svgFactory","enableComment","enableScripting","_fieldObjects","fieldObjects","hasOwnCommentButton","contentElement","_createContainer","_createQuadrilaterals","_hasPopupData","_isEditable","isEditable","hasPopupData","commentText","commentData","hasCommentButton","hasPopupElement","quadPoints","inkLists","inkList","_normalizePoint","removePopup","newPopup","_createPopup","resetEdited","currentRect","setRotation","alternativeText","noRotate","borderStyle","borderWidth","horizontalRadius","horizontalCornerRadius","verticalRadius","verticalCornerRadius","radius","borderRadius","borderBottomStyle","borderColor","_commonActions","setColor","jsName","styleName","colorArray","noView","noPrint","userName","readonly","required","_setRequired","textColor","_dispatchEventFromSandbox","actions","jsEvent","commonActions","_setDefaultPropertiesFromJS","eventProxy","rectBlX","rectBlY","rectTrX","rectTrY","svgBuffer","defs","clipPath","rectWidth","rectHeight","backgroundImage","popupData","titleObj","parentRect","elements","extraPopupElement","_getElementsByName","skipId","fields","fieldObj","exportValues","exportValue","domElement","getElementsByName","maybeShow","forceHide","getElementsToTriggerPopup","addHighlightArea","triggers","_editOnDoubleClick","annotationEditorType","EditorAnnotationElement","createOrUpdatePopup","removeAnnotation","isTooltipOnly","link","isBound","_bindNamedAction","overlaidText","attachment","attachmentDest","_bindLink","Action","_bindJSAction","resetForm","_bindResetFormAction","destination","getDestinationHash","onclick","goToDestination","getAnchorUrl","executeNamedAction","openOrDownloadData","executeSetOCGState","otherClickAction","resetFormFields","refs","resetFormRefs","include","allFields","fieldIds","fieldName","field","allIds","dispatchEvent","Event","showElementAndHideCanvas","_getKeyModifier","_setEventListener","elementData","baseName","eventName","valueGetter","modifier","focused","_setEventListeners","Blur","Focus","_setBackgroundColor","_setTextStyle","TEXT_ALIGNMENT","fontColor","defaultAppearanceData","computedFontSize","roundToOneDecimal","multiLine","numberOfLines","textAlignment","textAlign","isRequired","hasAppearance","fieldValue","setPropertyOnSiblings","keyInStorage","maxLen","charLimit","fieldFormattedValues","formattedValue","comb","userValue","lastCommittedValue","commitKey","doNotScroll","overflowY","overflowX","readOnly","datetimeFormat","datetimeType","timeStep","hasDateOrTime","maxLength","defaultFieldValue","blurListener","scrollLeft","getHours","getMinutes","getSeconds","toISOString","selRange","setSelectionRange","willCommit","selStart","selectionStart","selEnd","selectionEnd","_blurListener","valueOf","Keystroke","inputType","change","fieldWidth","combWidth","letterSpacing","verticalAlign","checkbox","curChecked","buttonValue","radio","pdfButtonValue","linkElement","lastChild","selectElement","addAnEmptyEntry","combo","multiSelect","multiple","optionElement","displayValue","removeEmptyEntry","noneOptionElement","isExport","selectedValues","getItems","multipleSelection","findIndex","selectChild","indices","editable","changeEx","keyDown","_commentManager","PopupElement","trigger","flatMap","renderCommentButton","after","hasOwnButton","togglePopup","showPopup","hidePopup","parentContainer","outlineColor","header","dateObj","dateTime","popupLines","popupContent","lineAttributes","useParentRect","normalizedRect","HORIZONTAL_SPACE_AFTER_ANNOTATION","popupLeft","popupTop","textPosition","lineSpan","lineCoordinates","square","circle","containerClassName","svgElementName","vertices","points","polyline","thickness","mark","underline","strikeout","AnnotationLayer","accessibilityManager","annotationEditorUIManager","structTreeLayer","_annotationEditorUIManager","hasEditableAnnotations","annotations","popupToElements","popupAnnotations","elementParams","noHTML","isPopupAnnotation","rendered","replaceChildren","getAriaAttributes","ariaAttributes","sort","top1","bot1","mid1","top2","bot2","mid2","centerX1","centerX2","addPointerInTextLayer","addLinkAnnotations","_defaultBorderStyle","firstChild","replaceWith","editableAnnotation","_hasNoCanvas","getEditableAnnotations","getEditableAnnotation","removePointerInTextLayer","updateFakeAnnotations","rawWidth","EOL_PATTERN","FreeTextEditor","_colorPicker","_translateEmpty","_defaultColor","_defaultFontSize","_internalPadding","setFontsize","editorDiv","savedFontsize","col","savedColor","overlayDiv","contentEditable","editorDivKeydown","editorDivFocus","editorDivBlur","editorDivInput","editorDivPaste","innerText","prevChild","childNodes","savedDisplay","savedVisibility","savedText","newText","trimEnd","setText","nodeValue","deleteFromDocument","insertNode","collapseToStart","startContainer","startOffset","bufferBefore","bufferAfter","newRange","Range","beforeLength","setStart","setEnd","removeAllRanges","addRange","padding","Outline","toSVGPath","_rotation","_rescale","_rescaleAndSwap","_translate","svgRound","_normalizePagePoint","createBezierPoints","FreeDrawOutliner","scaleFactor","innerMargin","lastTop","lastBottom","diffX","diffY","diffD","K","nX","nY","thX","thY","lastTopX","lastTopY","lastBottomX","lastBottomY","newFreeDrawOutline","outline","FreeDrawOutline","getOutlines","last","N","lastPoint","firstPointX","firstPointY","lastPointX","lastPointY","ltrCallback","bezierBbox","newOutliner","getNewOutline","outliner","HighlightOutliner","NUMBER_OF_DIGITS","EPSILON","shiftedMinX","shiftedMinY","lastEdge","edge","outlineVerticalEdges","edges","allEdges","edge1","edge2","outlines","HighlightOutline","middle","y4","polygon","prevX","prevY","classNamesForOutlining","FreeHighlightOutliner","FreeHighlightOutline","HighlightEditor","_moveCaret","_defaultThickness","_defaultOpacity","highlightId","numberOfColors","outlinerForOutline","highlightOutlines","clipPathId","extraThickness","drawLayer","finalizeDraw","drawOutline","rootClass","highlightOutline","free","updateProperties","setColorAndOpacity","opa","savedOpacity","savedThickness","setThickness","th","addUndoableEditor","mustBeSelected","draw","highlightDiv","pointerover","hovered","pointerleave","setPosition","startHighlighting","_freeHighlight","_freeHighlightId","_freeHighlightClipId","DrawingOptions","updateProperty","updateSVGProperty","toSVGProperties","updateAll","DrawingEditor","_drawId","mustBeCommitted","_addOutlines","drawOutlines","drawId","drawingOptions","_drawingOptions","defaultProperties","_mergeSVGProperties","defaultSVGProperties","p1Keys","getDefaultDrawingOptions","_options","typesMap","supportMultipleDrawings","propertyName","_defaultDrawingOptions","_currentParent","_currentDrawId","_updateProperty","savedValue","getPathResizingSVGProperties","getPathResizedSVGProperties","_x","_y","getPathTranslatedSVGProperties","moving","updateParent","pW","pH","updateRotation","updateParentDimensions","onScaleChangingWhenDrawing","drawDiv","createDrawerInstance","_parentWidth","_parentHeight","startDrawing","_isLTR","_endDraw","isCancellable","removeLastElement","_drawMove","startNew","_cleanup","lastElement","getLastElement","setLastElement","isAborted","_INNER_MARGIN","createDrawingOptions","_data","deserializeDraw","_pageX","_pageY","_pageWidth","_pageHeight","_innerWidth","serializeDraw","InkDrawOutliner","InkDrawOutline","firstX","firstY","secondX","secondY","c1x","c1y","c2x","c2y","serializedLines","serializedPoints","rescaleFn","newLines","len","margin","marginX","marginY","oldMarginX","oldMarginY","newMarginX","newMarginY","diffMarginX","diffMarginY","rotationTransform","s1x","s1y","s2x","s2y","newParentWidth","newParentHeight","InkDrawingOptions","viewerParameters","_viewParameters","InkEditor","ContourDrawOutline","BASE_HEADER_LENGTH","POINTS_PROPERTIES_NUMBER","SignatureExtractor","sigmaSFactor","sigmaR","kernelSize","i0","j0","kk","shiftI","shiftJ","threshold","lnbd","nbd","contours","ij","pix","i2","j2","isHole","contour","contour0","i1","j1","i3","j3","i4","j4","ij3","ax","ay","abx","aby","dist","nabx","naby","aa","invS","phi","atan","cosPhi","sinPhi","tmax","poly","partialPhi","dmax","sigmaS","kernel","sigmaS2","halfSize","exp","rangeValues","sigmaR2","out","histogram","sum","norm","neighbour","M","L","spos","originalBitmap","prevWidth","prevHeight","log2","isteps","grayImage","uint8Buf","extractContoursFromText","fontStyle","SCALE","contourList","processDrawnLines","curves","mustSmooth","areContours","linesAndPoints","xScale","yScale","newCurves","reducedPoints","newPoints","compressSignature","bufferType","minDiff","maxDiff","outlinesLength","dx","Int8Array","Int16Array","headerLength","BYTES_PER_ELEMENT","CompressionStream","writer","getWriter","BufferCtor","diffs","Response","readable","decompressSignature","signatureData","DecompressionStream","numberOfDrawings","diffsOffset","SignatureOptions","DrawnSignatureOptions","SignatureEditor","_defaultDrawnSignatureOptions","hasDescription","hasDescriptionStats","hasNoAltText","uuid","heightInPage","addSignature","setUuid","getSignaturePreview","outlineData","hasBeenSaved","getFromImage","getFromText","fontInfo","getDrawnSignature","isSignature","alt","StampEditor","bitmapUrl","bitmapFile","pasteEditor","getAsFile","hasAltTextStats","fromId","alt_text_modal","alt_text_type","mlGuessAltText","updateAltTextData","isEnabledFor","copyCanvas","guess","channels","accept","files","click","bitmapId","MAX_RATIO","maxDataDimension","maxPreviewDimension","bitmapWidth","bitmapHeight","outputScale","scaledWidth","scaledHeight","boxDim","boxDimWidth","boxDimHeight","patternCtx","dataWidth","dataHeight","offscreenCtx","toUrl","toDataURL","missingCanvas","structParent","_structTree","changes","isSame","isSameAltText","stamps","area","prevData","isSamePageIndex","AnnotationEditorLayer","editorTypes","_initialized","isInvisible","disableTextSelection","toggleAnnotationLayerPointerEvents","enableTextSelection","annotationElementIds","DBL_CLICK_THRESHOLD","lastPointerDownTimestamp","elementsFromPoint","regex","needFakeAnnotation","changedAnnotations","resetAnnotations","editables","currentActive","attach","detach","moveElementInDOM","currentMode","startDrawingSession","pause","oldRotation","DrawLayer","_svgFactory","pathId","clipPathUse","isPathUpdatable","hasClip","use","mustRemoveSelfIntersections","maskId","use1","use2","cloneNode","elementOrId","pathElement","_pdfjsTestingUtils","pdfjsLib","FeatureTest","ImageKind","NATIVE_WEAK_MAP","isObject","createNonEnumerableProperty","shared","sharedKey","hiddenKeys","OBJECT_ALREADY_INITIALIZED","getterFor","TYPE","store","facade","STATE","number","iters","normalizeComponent","scriptExports","staticRenderFns","functionalTemplate","injectStyles","scopeId","moduleIdentifier","shadowMode","hook","_compiled","functional","_scopeId","$vnode","ssrContext","__VUE_SSR_CONTEXT__","_registeredComponents","_ssrRegister","$root","$options","shadowRoot","_injectStyles","originalRender","existing","beforeCreate","concat","createIteratorProxy","callWithSafeIterationClosing","iteratorHelperThrowsOnInvalidIterator","IS_PURE","MAP_WITHOUT_THROWING_ON_INVALID_ITERATOR","mapWithoutClosingOnEarlyError","FORCED","IteratorProxy","mapper","toIndexedObject","object","descriptor","TO_STRING_TAG","F","activeXDocument","definePropertiesModule","documentCreateElement","GT","LT","PROTOTYPE","SCRIPT","IE_PROTO","EmptyConstructor","scriptTag","NullProtoObjectViaActiveX","parentWindow","NullProtoObjectViaIFrame","iframeDocument","iframe","JS","appendChild","contentWindow","NullProtoObject","ActiveXObject","domain","Properties","FILTER_WITHOUT_THROWING_ON_INVALID_ITERATOR","filterWithoutClosingOnEarlyError","isArrayIteratorMethod","lengthOfArrayLike","getIterator","Result","stopped","ResultPrototype","iterable","unboundFunction","iterFn","that","AS_ENTRIES","IS_ITERATOR","condition","callFn","isSymbol","ordinaryToPrimitive","TO_PRIMITIVE","pref","exoticToPrim","toObject","CORRECT_PROTOTYPE_GETTER","ObjectPrototype","replacement","isForced","feature","detection","POLYFILL","NATIVE","string","postfix","random","functionToString","getOwnPropertySymbols","setArrayLength","doesNotExceedSafeInteger","INCORRECT_TO_LENGTH","properErrorOnNonWritableLength","argCount","ArrayPrototype","V8_VERSION","symbol","sham","SILENT_ON_NON_WRITABLE_LENGTH_SET","METHOD_NAME","ExpectedError","IteratorPrototype","CLOSED","check","definePropertyModule","createPropertyDescriptor","documentAll","IE8_DOM_DEFINE","V8_PROTOTYPE_DEFINE_BUG","toPropertyKey","$defineProperty","$getOwnPropertyDescriptor","ENUMERABLE","WRITABLE","P","Attributes","getOwnPropertyNamesModule","getOwnPropertySymbolsModule","IndexedObject","requireObjectCoercible","emptyObject","isUndef","isDef","isTrue","isFalse","isPrimitive","isFunction","_toString","isPlainObject","isRegExp","isValidArrayIndex","isFinite","isPromise","replacer","_key","__v_isRef","toNumber","makeMap","expectsLowerCase","list","isReservedAttribute","remove$2","hit","camelizeRE","camelize","capitalize","charAt","hyphenateRE","hyphenate","polyfillBind","boundFn","_length","nativeBind","toArray","ret","extend","to","_from","noop","no","identity","looseEqual","isObjectA","isObjectB","isArrayA","isArrayB","getTime","keysA","keysB","looseIndexOf","SSR_ATTR","ASSET_TYPES","LIFECYCLE_HOOKS","config","optionMergeStrategies","silent","productionTip","devtools","performance","errorHandler","warnHandler","ignoredElements","keyCodes","isReservedTag","isReservedAttr","isUnknownElement","getTagNamespace","parsePlatformTagName","mustUseProp","_lifecycleHooks","unicodeRegExp","isReserved","def","bailRE","parsePath","segments","hasProto","inBrowser","UA","isIE","isIE9","isEdge","isIOS","_isServer","isFF","nativeWatch","watch","supportsPassive","isServerRendering","env","VUE_ENV","__VUE_DEVTOOLS_GLOBAL_HOOK__","isNative","Ctor","_Set","hasSymbol","Reflect","ownKeys","currentInstance","setCurrentInstance","vm","_scope","VNode","elm","componentOptions","asyncFactory","ns","fnContext","fnOptions","fnScopeId","componentInstance","raw","isStatic","isRootInsert","isComment","isCloned","isOnce","asyncMeta","isAsyncPlaceholder","createEmptyVNode","createTextVNode","cloneVNode","vnode","cloned","SuppressedError","uid$2","pendingCleanupDeps","cleanupDeps","subs","_pending","Dep","addSub","sub","removeSub","depend","addDep","notify","targetStack","pushTarget","popTarget","arrayProto","arrayMethods","methodsToPatch","original","_i","inserted","ob","__ob__","observeArray","arrayKeys","getOwnPropertyNames","NO_INITIAL_VALUE","shouldObserve","toggleObserving","mockDep","Observer","shallow","mock","vmCount","defineReactive","observe","ssrMockReactivity","isExtensible","__v_skip","isRef","customSetter","observeEvenIfShallow","childOb","dependArray","newVal","isReadonly","_isVue","del","shallowReactive","makeReactive","__v_isReadonly","proxyWithRefUnwrap","oldValue","WATCHER","activeEffectScope","EffectScope","detached","active","effects","cleanups","scopes","run","currentEffectScope","fromParent","teardown","recordEffectScope","effect","scope","getCurrentScope","resolveProvided","_provided","parentProvides","$parent","normalizeEvent","createFnInvoker","fns","invoker","invokeWithErrorHandling","updateListeners","oldOn","createOnceHandler","cur","mergeVNodeHook","hookKey","oldHook","wrappedHook","merged","extractPropsFromVNodeData","propOptions","props","attrs","checkProp","simpleNormalizeChildren","normalizeChildren","normalizeArrayChildren","isTextNode","nestedIndex","lastIndex","_isVList","renderList","renderSlot","fallbackRender","bindObject","nodes","scopedSlotFn","$scopedSlots","$slots","slot","$createElement","resolveFilter","resolveAsset","isKeyNotMatch","expect","actual","checkKeyCodes","eventKeyCode","builtInKeyCode","eventKeyName","builtInKeyName","mappedKeyCode","bindObjectProps","asProp","isSync","_loop_1","domProps","camelizedKey","hyphenatedKey","$event","renderStatic","isInFor","_staticTrees","tree","_renderProxy","_c","markStatic","markOnce","markStaticNode","bindObjectListeners","ours","resolveScopedSlots","hasDynamicKeys","contentHashKey","$stable","proxy","$key","bindDynamicKeys","baseObj","prependModifier","installRenderHelpers","_o","_n","_s","_l","_t","_q","_m","_f","_k","_b","_v","_e","_u","_g","_d","_p","resolveSlots","slots","default","name_1","name_2","isWhitespace","normalizeScopedSlots","ownerVm","scopedSlots","normalSlots","prevScopedSlots","hasNormalSlots","isStable","_normalized","$hasNormal","key_1","normalizeScopedSlot","key_2","proxyNormalSlot","normalized","initSetup","_setupContext","createSetupContext","setupResult","_props","_setupState","__sfc","_setupProxy","_attrsProxy","syncSetupProxy","$attrs","listeners","_listenersProxy","$listeners","initSlotsProxy","emit","$emit","expose","exposed","instance","changed","defineProxyAttr","_slotsProxy","syncSetupSlots","initRender","_vnode","parentVnode","_parentVnode","renderContext","_renderChildren","createElement$1","parentData","_parentListeners","currentRenderingInstance","renderMixin","Vue","$nextTick","nextTick","_render","_a","_isMounted","prevInst","prevRenderInst","handleError","ensureCtor","comp","__esModule","toStringTag","createAsyncPlaceholder","resolveAsyncComponent","baseCtor","errorComp","resolved","owners","loading","loadingComp","owners_1","sync_1","timerLoading_1","timerTimeout_1","$on","forceRender_1","renderCompleted","$forceUpdate","reject_1","res_1","component","getFirstComponentChild","SIMPLE_NORMALIZE","ALWAYS_NORMALIZE","normalizationType","alwaysNormalize","_createElement","is","pre","createComponent","applyNS","registerDeepBindings","traverse","class","hooks","errorCaptured","globalHandleError","_handled","logError","timerFunc","isUsingMicroTask","pending","flushCallbacks","copies","p_1","MutationObserver","setImmediate","counter_1","observer","textNode_1","characterData","cb","_resolve","createLifeCycle","hookName","injectHook","mergeLifecycleHook","seenObjects","_traverse","seen","isA","isFrozen","depId","target$1","uid$1","Watcher","expOrFn","isRenderWatcher","_vm","_watcher","deep","user","lazy","sync","dirty","newDeps","depIds","newDepIds","queueWatcher","evaluate","_isBeingDestroyed","onStop","initEvents","_events","_hasHookEvent","updateComponentListeners","add$1","remove$1","$off","createOnceHandler$1","_target","onceHandler","oldListeners","eventsMixin","hookRE","$once","i_1","cbs","activeInstance","setActiveInstance","prevActiveInstance","initLifecycle","abstract","$children","$refs","_inactive","_directInactive","_isDestroyed","lifecycleMixin","_update","hydrating","prevEl","$el","prevVnode","restoreActiveInstance","__patch__","__vue__","$destroy","callHook$1","mountComponent","updateComponent","watcherOptions","preWatchers","_preWatchers","updateChildComponent","propsData","renderChildren","newScopedSlots","oldScopedSlots","hasDynamicScopedSlot","needsForceUpdate","prevVNode","prevListeners","propKeys","_propKeys","validateProp","isInInactiveTree","activateChildComponent","direct","deactivateChildComponent","setContext","prevScope","handlers","queue","activatedChildren","waiting","flushing","resetSchedulerState","currentFlushTimestamp","getNow","performance_1","createEvent","sortCompareFn","flushSchedulerQueue","watcher","activatedQueue","updatedQueue","callActivatedHooks","callUpdatedHooks","queueActivatedComponent","noRecurse","initProvide","provideOption","provide","provided","initInjections","resolveInject","inject","provideKey","provideDefault","FunctionalRenderContext","contextVm","_this","_original","isCompiled","needNormalization","injections","createFunctionalComponent","mergeProps","cloneAndMarkFunctionalResult","vnodes","getComponentName","__name","_componentTag","componentVNodeHooks","keepAlive","mountedNode","prepatch","createComponentInstanceForVnode","$mount","oldVnode","hooksToMerge","_base","cid","resolveConstructorOptions","model","transformModel","nativeOn","installComponentHooks","_isComponent","inlineTemplate","toMerge","_merged","mergeHook","f1","f2","strats","mergeData","recursive","toVal","fromVal","mergeDataOrFn","parentVal","childVal","instanceData","defaultData","dedupeHooks","mergeAssets","parent_1","methods","computed","defaultStrat","normalizeProps","normalizeInject","normalizeDirectives$1","dirs","directives","mergeOptions","extends","mixins","mergeField","strat","warnMissing","assets","camelizedId","PascalCaseId","absent","booleanIndex","getTypeIndex","stringIndex","getPropDefaultValue","prevShouldObserve","getType","functionTypeCheckRE","isSameType","expectedTypes","sharedPropertyDefinition","sourceKey","initState","initProps$1","initMethods","initData","initComputed$1","initWatch","propsOptions","isRoot","computedWatcherOptions","watchers","_computedWatchers","isSSR","userDef","defineComputed","shouldCache","createComputedGetter","createGetterInvoker","createWatcher","$watch","stateMixin","dataDef","propsDef","$set","$delete","immediate","initMixin$1","_init","_uid","initInternalComponent","vnodeComponentOptions","superOptions","cachedSuperOptions","modifiedOptions","resolveModifiedOptions","extendOptions","latest","sealed","sealedOptions","initUse","plugin","installedPlugins","_installedPlugins","unshift","install","initMixin","mixin","initExtend","Super","SuperId","cachedCtors","_Ctor","Sub","initProps","initComputed","Comp","initAssetRegisters","_getComponentName","pruneCache","keepAliveInstance","pruneCacheEntry","patternTypes","KeepAlive","exclude","cacheVNode","vnodeToCache","keyToCache","created","mounted","updated","builtInComponents","initGlobalAPI","configDef","util","observable","acceptValue","attr","isEnumeratedAttr","isValidContentEditableValue","convertEnumeratedValue","isFalsyAttrValue","isBooleanAttr","xlinkNS","isXlink","getXlinkProp","genClassForVnode","childNode","mergeClassData","renderClass","staticClass","dynamicClass","stringifyClass","stringifyArray","stringifyObject","stringified","namespaceMap","math","isHTMLTag","isSVG","unknownElementCache","HTMLUnknownElement","isTextInputType","query","namespace","createComment","newNode","referenceNode","removeChild","setTextContent","setStyleScope","nodeOps","registerRef","isRemoval","refValue","$refsValue","isFor","refInFor","_isString","_isRef","setSetupRef","emptyNode","sameVnode","sameInputType","typeA","typeB","createKeyToOldIdx","beginIdx","endIdx","createPatchFunction","backend","modules","emptyNodeAt","createRmCb","childElm","removeNode","createElm","insertedVnodeQueue","parentElm","refElm","nested","ownerArray","setScope","createChildren","invokeCreateHooks","isReactivated","initComponent","reactivateComponent","pendingInsert","isPatchable","innerNode","transition","activate","i_2","ancestor","addVnodes","startIdx","invokeDestroyHook","removeVnodes","ch","removeAndInvokeRemoveHook","rm","i_3","updateChildren","oldCh","newCh","removeOnly","oldKeyToIdx","idxInOld","vnodeToMove","oldStartIdx","newStartIdx","oldEndIdx","oldStartVnode","oldEndVnode","newEndIdx","newStartVnode","newEndVnode","canMove","patchVnode","findIdxInOld","i_5","hydrate","postpatch","invokeInsertHook","initial","i_6","isRenderedModule","inVPre","hasChildNodes","innerHTML","childrenMatch","i_7","fullInvoke","isInitialPatch","isRealElement","hasAttribute","oldElm","_leaveCb","patchable","i_8","i_9","insert_1","i_10","updateDirectives","oldDir","isCreate","isDestroy","oldDirs","normalizeDirectives","newDirs","dirsWithInsert","dirsWithPostpatch","oldArg","callHook","componentUpdated","callInsert","emptyModifiers","modifiers","getRawDirName","setupDef","rawName","baseModules","updateAttrs","inheritAttrs","oldAttrs","_v_attr_proxy","setAttr","removeAttributeNS","isInPre","baseSetAttr","setAttributeNS","__ieph","blocker_1","updateClass","oldData","cls","transitionClass","_transitionClasses","_prevClass","klass","RANGE_TOKEN","CHECKBOX_RADIO_TOKEN","normalizeEvents","event_1","useMicrotaskFix","attachedTimestamp_1","original_1","_wrapper","currentTarget","updateDOMListeners","svgContainer","events","updateDOMProps","oldProps","strCur","shouldUpdateValue","checkVal","composing","isNotInFocusAndDirty","isDirtyWithModifiers","notInFocus","_vModifiers","parseStyleText","cssText","listDelimiter","propertyDelimiter","normalizeStyleData","normalizeStyleBinding","staticStyle","bindingStyle","getStyle","checkChild","styleData","emptyStyle","cssVarRE","importantRE","setProp","normalizedName","vendorNames","capName","updateStyle","oldStaticStyle","oldStyleBinding","normalizedStyle","oldStyle","newStyle","whitespaceRE","addClass","removeClass","tar","resolveTransition","autoCssTransition","enterClass","enterToClass","enterActiveClass","leaveClass","leaveToClass","leaveActiveClass","hasTransition","TRANSITION","ANIMATION","transitionProp","transitionEndEvent","animationProp","animationEndEvent","ontransitionend","onwebkittransitionend","onanimationend","onwebkitanimationend","raf","nextFrame","addTransitionClass","transitionClasses","removeTransitionClass","whenTransitionEnds","expectedType","getTransitionInfo","propCount","ended","onEnd","transformRE","transitionDelays","transitionDurations","transitionTimeout","getTimeout","animationDelays","animationDurations","animationTimeout","hasTransform","delays","durations","toMs","enter","toggleDisplay","_enterCb","appearClass","appearToClass","appearActiveClass","beforeEnter","afterEnter","enterCancelled","beforeAppear","appear","afterAppear","appearCancelled","duration","transitionNode","isAppear","startClass","activeClass","toClass","beforeEnterHook","enterHook","afterEnterHook","enterCancelledHook","explicitEnterDuration","expectsCSS","userWantsControl","getHookArgumentsLength","pendingNode","isValidDuration","leave","beforeLeave","afterLeave","leaveCancelled","delayLeave","explicitLeaveDuration","performLeave","invokerFns","_enter","platformModules","patch","vmodel","directive","binding","_vOptions","onCompositionStart","onCompositionEnd","prevOptions_1","curOptions_1","needReset","hasNoMatchingOption","actuallySetSelected","isMultiple","initEvent","locateNode","originalDisplay","__vOriginalDisplay","unbind","platformDirectives","transitionProps","getRealChild","compOptions","extractTransitionData","placeholder","rawChild","hasParentTransition","isSameChild","oldChild","isNotTextNode","isVShowDirective","Transition","_leaving","oldRawChild","delayedLeave_1","moveClass","TransitionGroup","beforeMount","kept","prevChildren","rawChildren","transitionData","removed","hasMove","callPendingCbs","recordPosition","applyTranslation","_reflow","offsetHeight","moved","el_1","WebkitTransform","transitionDuration","_moveCb","_hasMove","newPos","oldPos","dy","platformComponents","toIntegerOrInfinity","integer","V","NATIVE_BIND","toLength","defineBuiltIn","ENTRIES","defineGlobalProperty","copyConstructorProperties","targetProperty","sourceProperty","TARGET","GLOBAL","global","STATIC","dontCallGetSet","objectKeys","defineProperties","MAX_SAFE_INTEGER","unsafe","nonConfigurable","nonWritable","debounce","function_","wait","RangeError","storedContext","storedArguments","timeoutId","timestamp","callContext","callArguments","later","debounced","arguments_","callNow","flush","TO_STRING_TAG_SUPPORT","classofRaw","CORRECT_ARGUMENTS","tryGet","callee","toPrimitive","NATIVE_SYMBOL","propertyIsEnumerable","propertyIsEnumerableModule","forEachWithoutClosingOnEarlyError","SHARED","copyright","license","PrototypeOfArrayIteratorPrototype","arrayIterator","BUGGY_SAFARI_ITERATORS","NEW_ITERATOR_PROTOTYPE","getOwnPropertyDescriptorModule","exceptions","aFunction","anInstance","defineBuiltInAccessor","createProperty","CONSTRUCTOR","NativeIterator","IteratorConstructor","defineIteratorPrototypeAccessor","WellKnownSymbolsStore","createWellKnownSymbol","withoutSetter","$propertyIsEnumerable","NASHORN_BUG","defineBuiltIns","createIterResultObject","iteratorCloseAll","ITERATOR_HELPER","WRAP_FOR_VALID_ITERATOR","NORMAL","THROW","setInternalState","createIteratorProxyPrototype","nextHandler","returnHandlerResult","returnMethod","inner","openIters","WrapForValidIteratorPrototype","IteratorHelperPrototype","RETURN_HANDLER_RESULT","uncurryThisWithBind","Deno","v8","innerResult","innerError","toAbsoluteIndex","createMethod","IS_INCLUDES","$this","fromIndex"],"ignoreList":[],"sourceRoot":""}